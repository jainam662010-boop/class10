<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Class 10 Science — All Chapters</title>
  <meta name="author" content="jainamkarnawat" />
  <!-- Created by jainamkarnawat -->
  <style>
    :root {
      --bg0: #050816;
      --bg1: #0b1223;
      --card: rgba(15,23,42,0.92);
      --line: rgba(226,232,240,0.14);
      --text: #e2e8f0;
      --muted: #94a3b8;
      --blue: #60a5fa;
      --vio: #a78bfa;
      --green: #34d399;
      --amber: #fbbf24;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      min-height: 100vh;
      background:
        radial-gradient(1100px 680px at 18% 10%, rgba(59,130,246,.16), transparent 55%),
        radial-gradient(900px 620px at 82% 16%, rgba(139,92,246,.16), transparent 60%),
        radial-gradient(900px 600px at 55% 100%, rgba(245,158,11,.12), transparent 55%),
        linear-gradient(135deg, var(--bg0) 0%, #1e1b4b 100%);
    }
    header {
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 16px 5vw;
      background: rgba(15,23,42,0.92);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255,255,255,0.10);
    }
    header h1 {
      margin: 0 0 6px;
      font-size: clamp(1.15rem, 3.5vw, 1.85rem);
      background: linear-gradient(135deg, #3b82f6, #8b5cf6, #22c55e, #f59e0b);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    header .sub { color: var(--muted); font-size: .92rem; display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
    .chip {
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(59,130,246,0.35);
      background: rgba(15,23,42,0.55);
      color: var(--text);
      font-size: .86rem;
    }
    .layout {
      display: grid;
      grid-template-columns: 330px 1fr;
      gap: 16px;
      padding: 16px 5vw 48px;
      max-width: 1900px;
      margin: 0 auto;
    }
    @media (max-width: 1100px) {
      .layout { grid-template-columns: 1fr; }
    }
    nav {
      background: var(--card);
      border: 1px solid rgba(59,130,246,0.22);
      border-radius: 18px;
      padding: 14px;
      max-height: calc(100vh - 130px);
      overflow: auto;
      backdrop-filter: blur(14px);
      box-shadow: 0 18px 60px rgba(0,0,0,.42);
    }
    nav h2 {
      margin: 0 0 12px;
      font-size: .95rem;
      color: #93c5fd;
      text-transform: uppercase;
      letter-spacing: .06em;
    }
    .nav-search {
      width: 100%;
      padding: 9px 14px;
      border-radius: 999px;
      border: 1px solid rgba(59,130,246,0.38);
      background: rgba(15,23,42,0.65);
      color: var(--text);
      outline: none;
      margin-bottom: 10px;
    }
    .nav-item {
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid transparent;
      cursor: pointer;
      user-select: none;
      transition: .18s ease;
      margin: 6px 0;
    }
    .nav-item:hover {
      background: rgba(59,130,246,0.12);
      border-color: rgba(59,130,246,0.40);
      transform: translateX(3px);
    }
    .nav-item.active {
      background: linear-gradient(135deg, #3b82f6, #60a5fa);
      color: #0f172a;
      border-color: transparent;
      box-shadow: 0 8px 18px rgba(59,130,246,0.22);
      font-weight: 700;
    }
    .tag {
      display:inline-block;
      margin-left: 8px;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: .72rem;
      background: rgba(0,0,0,0.35);
      color: var(--text);
    }
    main {
      background: var(--card);
      border: 1px solid rgba(59,130,246,0.22);
      border-radius: 18px;
      padding: 14px;
      backdrop-filter: blur(14px);
      box-shadow: 0 18px 60px rgba(0,0,0,.42);
      min-height: 68vh;
    }
    .topbar {
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content: space-between;
      padding: 8px 8px 12px;
      border-bottom: 1px solid rgba(226,232,240,0.12);
      margin-bottom: 12px;
    }
    .btn {
      background: rgba(139,92,246,0.16);
      border: 1px solid rgba(139,92,246,0.55);
      color: var(--text);
      border-radius: 999px;
      padding: 8px 14px;
      cursor: pointer;
      transition: .18s ease;
      font-size: .86rem;
    }
    .btn:hover { background: rgba(139,92,246,0.28); }
    .btn.alt { background: rgba(34,197,94,0.10); border-color: rgba(34,197,94,0.45); }
    .btn.alt:hover { background: rgba(34,197,94,0.18); }

    .frame-wrap {
      border: 1px solid rgba(59,130,246,0.30);
      border-radius: 14px;
      overflow: hidden;
      background: #0f172a;
      height: min(78vh, 860px);
    }
    iframe { width: 100%; height: 100%; border: 0; background: #0f172a; }

    .home { padding: 12px 6px; }
    .home h2 { margin: 4px 0 8px; font-size: 1.35rem; color: #e0e7ff; }
    .home p { margin: 6px 0; line-height: 1.65; color: var(--text); }
    .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; margin-top: 12px; }
    .card {
      border: 1px solid rgba(139,92,246,0.35);
      background: linear-gradient(135deg, rgba(30,41,59,.70), rgba(15,23,42,.86));
      border-radius: 14px;
      padding: 12px;
    }
    .card h3 { margin: 0 0 8px; font-size: 1.02rem; color: #c4b5fd; }
    .muted { color: var(--muted); }

    textarea {
      width: 100%;
      min-height: 220px;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid rgba(148,163,184,0.25);
      background: rgba(15,23,42,0.55);
      color: var(--text);
      outline: none;
      resize: vertical;
      line-height: 1.55;
    }

    footer {
      padding: 16px 5vw 22px;
      color: var(--muted);
      font-size: .88rem;
    }
    a { color: var(--blue); text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>Class 10 Science — All Chapters</h1>
    <div class="sub">
      <span class="chip"><strong>Created by</strong> jainamkarnawat</span>
      <span class="chip">Single dashboard • chapters + personal notes</span>
    </div>
  </header>

  <div class="layout">
    <nav>
      <h2>Navigation</h2>
      <input class="nav-search" id="navSearch" type="search" placeholder="Filter chapters..." />
      <div id="navList"></div>
      <div style="height:10px"></div>
      <div class="muted" style="font-size:.86rem; line-height:1.5;">
        Tip: Use the Notes page to keep your own extra notes for revision.
      </div>
    </nav>

    <main>
      <div class="topbar">
        <div class="muted" id="nowTitle">Home</div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn alt" id="btnHome" type="button">Home</button>
          <button class="btn" id="btnNotes" type="button">Notes</button>
          <button class="btn" id="btnOpenPdf" type="button" title="Open activity booklet in a new tab">Activity Booklet (PDF)</button>
        </div>
      </div>

      <div id="view"></div>
    </main>
  </div>

  <footer>
    Created by jainamkarnawat. If a chapter doesn’t load, re-open it from the left menu.
  </footer>

  <script>
    // ------------------- Embedded chapters -------------------
    const CHAPTERS = [{"id": "ch1", "file": "ch1.html", "title": "Class 10 Science \u2013 Chemical Reactions and Equations", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIOKAkyBDaGVtaWNhbCBSZWFjdGlvbnMgYW5kIEVxdWF0aW9uczwvdGl0bGU+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4NCiAgPHN0eWxlPg0KICAgIGJvZHkgew0KICAgICAgbWFyZ2luOiAwOw0KICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBzYW5zLXNlcmlmOw0KICAgICAgYmFja2dyb3VuZDogIzA1MDgxNjsNCiAgICAgIGNvbG9yOiAjZjVmNWY1Ow0KICAgIH0NCiAgICBoZWFkZXIgew0KICAgICAgcGFkZGluZzogMThweCA1dnc7DQogICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IHRvcCBsZWZ0LCAjM2I4MmY2LCAjMDUwODE2IDU1JSk7DQogICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjA4KTsNCiAgICAgIHBvc2l0aW9uOiBzdGlja3k7DQogICAgICB0b3A6IDA7DQogICAgICB6LWluZGV4OiA1MDsNCiAgICB9DQogICAgaGVhZGVyIGgxIHsNCiAgICAgIG1hcmdpbjogMDsNCiAgICAgIGZvbnQtc2l6ZTogMS42cmVtOw0KICAgIH0NCiAgICBoZWFkZXIgcCB7DQogICAgICBtYXJnaW46IDRweCAwIDA7DQogICAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICAgIG9wYWNpdHk6IDAuOTsNCiAgICB9DQogICAgLmxheW91dCB7DQogICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyNzBweCAxZnI7DQogICAgICBnYXA6IDE2cHg7DQogICAgICBwYWRkaW5nOiAxNnB4IDV2dyA0MHB4Ow0KICAgIH0NCiAgICBAbWVkaWEgKG1heC13aWR0aDogOTAwcHgpIHsNCiAgICAgIC5sYXlvdXQgew0KICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsNCiAgICAgIH0NCiAgICB9DQogICAgbmF2IHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBwYWRkaW5nOiAxMnB4IDEwcHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuNCk7DQogICAgICBtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTIwcHgpOw0KICAgICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICB9DQogICAgbmF2IGgyIHsNCiAgICAgIGZvbnQtc2l6ZTogMXJlbTsNCiAgICAgIG1hcmdpbjogNHB4IDhweCA4cHg7DQogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDZlbTsNCiAgICAgIGNvbG9yOiAjYTViNGZjOw0KICAgIH0NCiAgICAudG9waWMtbGluayB7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgIHBhZGRpbmc6IDhweCAxMHB4Ow0KICAgICAgbWFyZ2luOiAzcHggMDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7DQogICAgICBjb2xvcjogI2U1ZTdlYjsNCiAgICB9DQogICAgLnRvcGljLWxpbms6aG92ZXIgew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwxMTgsMTEwLDAuMTUpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDQ1LDIxMiwxOTEsMC42KTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsuYWN0aXZlIHsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIzIyYzU1ZSwjNGFkZTgwKTsNCiAgICAgIGNvbG9yOiAjMDIwNjE3Ow0KICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICB9DQogICAgbWFpbiB7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOSk7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgcGFkZGluZzogMThweCAxNnB4IDI4cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuNCk7DQogICAgICBib3gtc2hhZG93OiAwIDE4cHggNDBweCByZ2JhKDE1LDIzLDQyLDAuOCk7DQogICAgfQ0KICAgIG1haW4gaDIgew0KICAgICAgbWFyZ2luLXRvcDogMDsNCiAgICAgIGZvbnQtc2l6ZTogMS4zcmVtOw0KICAgICAgY29sb3I6ICM3ZGQzZmM7DQogICAgfQ0KICAgIC5iYWRnZSB7DQogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICBwYWRkaW5nOiAycHggN3B4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBmb250LXNpemU6IDAuN3JlbTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC43KTsNCiAgICAgIGNvbG9yOiAjZTVlN2ViOw0KICAgICAgbWFyZ2luLXJpZ2h0OiA2cHg7DQogICAgfQ0KICAgIC5zZWN0aW9uLXRpdGxlIHsNCiAgICAgIG1hcmdpbjogMTZweCAwIDZweDsNCiAgICAgIGZvbnQtc2l6ZTogMXJlbTsNCiAgICAgIGNvbG9yOiAjYzRiNWZkOw0KICAgIH0NCiAgICBwLCBsaSB7DQogICAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7DQogICAgICBjb2xvcjogI2U1ZTdlYjsNCiAgICB9DQogICAgdWwgew0KICAgICAgcGFkZGluZy1sZWZ0OiAxLjFyZW07DQogICAgICBtYXJnaW4tdG9wOiA0cHg7DQogICAgfQ0KICAgIC5jYXJkIHsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuMzUpOw0KICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCB0b3AsIHJnYmEoNTYsMTg5LDI0OCwwLjA4KSwgcmdiYSgxNSwyMyw0MiwwLjk1KSk7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgIH0NCiAgICAudmlkZW8tZnJhbWUgew0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuNSk7DQogICAgICBtYXJnaW4tdG9wOiA4cHg7DQogICAgICBiYWNrZ3JvdW5kOiAjMDIwNjE3Ow0KICAgICAgYXNwZWN0LXJhdGlvOiAxNiAvIDk7DQogICAgfQ0KICAgIGlmcmFtZSB7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgIGJvcmRlcjogbm9uZTsNCiAgICB9DQogICAgLmFuaW0tY2FudmFzLXdyYXBwZXIgew0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IHRvcCwgIzBmMTcyYSwgIzAyMDYxNyk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU2LDE4OSwyNDgsMC42KTsNCiAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgfQ0KICAgIC5hbmltLWhlYWRlciB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTsNCiAgICAgIGNvbG9yOiAjYTViNGZjOw0KICAgICAgbWFyZ2luLWJvdHRvbTogNnB4Ow0KICAgIH0NCiAgICAuYW5pbS1oZWFkZXIgc3BhbiB7DQogICAgICBvcGFjaXR5OiAwLjk7DQogICAgfQ0KICAgIC5hbmltLWhlYWRlciBidXR0b24gew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkpOw0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBwYWRkaW5nOiA0cHggMTBweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTYsMTg5LDI0OCwwLjkpOw0KICAgICAgZm9udC1zaXplOiAwLjdyZW07DQogICAgICBjb2xvcjogI2U1ZTdlYjsNCiAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICB9DQogICAgLmFuaW0taGVhZGVyIGJ1dHRvbjpob3ZlciB7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU2LDE4OSwyNDgsMC4yKTsNCiAgICB9DQogICAgY2FudmFzIHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgaGVpZ2h0OiAyMjBweDsNCiAgICAgIG1heC1oZWlnaHQ6IDI2MHB4Ow0KICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDIwJSAwJSwgIzBmMTcyYSAwLCAjMDIwNjE3IDQwJSwgIzAyMDYxNyAxMDAlKTsNCiAgICB9DQogICAgLm1pbmRtYXAgew0KICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LG1pbm1heCgxNzBweCwxZnIpKTsNCiAgICAgIGdhcDogMTBweDsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgfQ0KICAgIC5tbS1ub2RlIHsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICBib3JkZXI6IDFweCBkYXNoZWQgcmdiYSgxMjksMTQwLDI0OCwwLjgpOw0KICAgICAgcGFkZGluZzogOHB4IDEwcHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOSk7DQogICAgICBmb250LXNpemU6IDAuODVyZW07DQogICAgfQ0KICAgIC5tbS1ub2RlIHN0cm9uZyB7DQogICAgICBjb2xvcjogI2E1YjRmYzsNCiAgICB9DQogICAgLnl0LXNtYWxsIHsNCiAgICAgIGZvbnQtc2l6ZTogMC44cmVtOw0KICAgICAgbWFyZ2luLXRvcDogNHB4Ow0KICAgICAgY29sb3I6ICM5M2M1ZmQ7DQogICAgfQ0KICAgIGEgew0KICAgICAgY29sb3I6ICMzOGJkZjg7DQogICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgfQ0KICAgIGE6aG92ZXIgew0KICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQogICAgfQ0KICAgIC5uY2VydC10YWcgew0KICAgICAgZm9udC1zaXplOiAwLjc1cmVtOw0KICAgICAgY29sb3I6ICM5Y2EzYWY7DQogICAgICBtYXJnaW4tdG9wOiA0cHg7DQogICAgfQ0KICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8aGVhZGVyPg0KICA8aDE+Q2hlbWljYWwgUmVhY3Rpb25zIGFuZCBFcXVhdGlvbnMg4oCTIENsYXNzIDEwPC9oMT4NCiAgPHA+SW50ZXJhY3RpdmUgbm90ZXMgd2l0aCB0b3BpY+KAkXdpc2UgYW5pbWF0aW9ucywgTkNFUlTigJFhbGlnbmVkIGV4cGxhbmF0aW9ucyBhbmQgbWluZCBtYXAgZm9yIHF1aWNrIHJldmlzaW9uLlt3ZWI6MjldW3dlYjoyNl08L3A+DQo8L2hlYWRlcj4NCg0KPGRpdiBjbGFzcz0ibGF5b3V0Ij4NCiAgPCEtLSBMRUZUOiBUT1BJQyBOQVYgLS0+DQogIDxuYXY+DQogICAgPGgyPkNoYXB0ZXIgMSBUb3BpY3M8L2gyPg0KICAgIDxkaXYgaWQ9InRvcGljTGlzdCI+DQogICAgICA8IS0tIGZpbGxlZCBieSBKUyAtLT4NCiAgICA8L2Rpdj4NCiAgPC9uYXY+DQoNCiAgPCEtLSBSSUdIVDogQ09OVEVOVCBBUkVBIC0tPg0KICA8bWFpbj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0NvbnRlbnQiPg0KICAgICAgPCEtLSBmaWxsZWQgYnkgSlMgLS0+DQogICAgPC9kaXY+DQogIDwvbWFpbj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KLyoNCiAgREFUQSBNT0RFTCBGT1IgQ0hBUFRFUiAxIOKAkyBlYWNoIHRvcGljOg0KICBpZCwgdGl0bGUsIHR5cGUsIGNvcmVOb3RlcywgcG9pbnRzLCBuY2VydEhpbnQsIHZpZGVvVGltZSwgYW5pbWF0aW9uVHlwZQ0KICBBbmltYXRpb24gdHlwZXM6DQogIC0gdGVzdFR1YmVHYXMsIHRlbXBDaGFuZ2UsIGNvbG9yQ2hhbmdlLCBwcmVjaXBpdGF0ZSwgZXF1YXRpb25CYWxhbmNlLCByZWRveEZsb3csIGNvcnJvc2lvbiwgcmFuY2lkaXR5DQoqLw0KDQpjb25zdCBjaDFWaWRlbyA9IHsNCiAgLy8gU3VubGlrZSBTdHVkeSByZWZlcmVuY2UgdmlkZW8gKHlvdXIgYXR0YWNoZWQgbGluaykNCiAgdXJsOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvd0lWRnFBN1JKdlkiLA0KICBsYWJlbDogIlN1bmxpa2UgU3R1ZHkg4oCTIEZ1bGwgQ2hhcHRlciBBbmltYXRpb24iDQp9Ow0KDQpjb25zdCB0b3BpY3MgPSBbDQogIHsNCiAgICBpZDogImludHJvIiwNCiAgICB0aXRsZTogIlBoeXNpY2FsIHZzIENoZW1pY2FsIENoYW5nZSIsDQogICAgdHlwZTogIkNvbmNlcHQiLA0KICAgIHZpZGVvVGltZTogIjAwOjA04oCTMDE6MzAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJjb2xvckNoYW5nZSIsDQogICAgY29yZU5vdGVzOiAiQ2hhbmdlcyBpbiBtYXR0ZXIgY2FuIGJlIGNsYXNzaWZpZWQgYXMgcGh5c2ljYWwgb3IgY2hlbWljYWwgYmFzZWQgb24gd2hldGhlciBhIG5ldyBzdWJzdGFuY2UgaXMgZm9ybWVkLlt3ZWI6MzNdW3dlYjoyOV0iLA0KICAgIHBvaW50czogWw0KICAgICAgIlBoeXNpY2FsIGNoYW5nZTogTm8gbmV3IHN1YnN0YW5jZTsgY2hhbmdlcyBhcmUgdXN1YWxseSByZXZlcnNpYmxlLCBzdWNoIGFzIG1lbHRpbmcgaWNlIG9yIGJvaWxpbmcgd2F0ZXIuW3dlYjoyNl1bd2ViOjI5XSIsDQogICAgICAiQ2hlbWljYWwgY2hhbmdlOiBOZXcgc3Vic3RhbmNlIGZvcm1lZCB3aXRoIGRpZmZlcmVudCBwcm9wZXJ0aWVzLCBzdWNoIGFzIHJ1c3RpbmcgaXJvbiBvciBzb3VyaW5nIG1pbGsuW3dlYjoyNl1bd2ViOjI5XSIsDQogICAgICAiQ2hlbWljYWwgY2hhbmdlcyBhcmUgY2FsbGVkIGNoZW1pY2FsIHJlYWN0aW9ucyBhbmQgb2Z0ZW4gc2hvdyBpbmRpY2F0b3JzIGxpa2UgY29sb3VyIGNoYW5nZSBvciBnYXMgZXZvbHV0aW9uLlt3ZWI6MjZdW3dlYjoyOF0iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJFeGFtIHF1ZXN0aW9ucyBvZnRlbiBhc2sgZm9yIDIgZXhhbXBsZXMgZWFjaCBvZiBwaHlzaWNhbCBhbmQgY2hlbWljYWwgY2hhbmdlcyB3aXRoIHJlYXNvbnMuW3dlYjoyNl0iDQogIH0sDQogIHsNCiAgICBpZDogInJlYWN0aW9uLWRlZiIsDQogICAgdGl0bGU6ICJDaGVtaWNhbCBSZWFjdGlvbiAmIEVxdWF0aW9uIiwNCiAgICB0eXBlOiAiRGVmaW5pdGlvbiIsDQogICAgdmlkZW9UaW1lOiAiMDM6MDDigJMwNDozMCIsDQogICAgYW5pbWF0aW9uVHlwZTogInRlc3RUdWJlR2FzIiwNCiAgICBjb3JlTm90ZXM6ICJBIGNoZW1pY2FsIHJlYWN0aW9uIGlzIGEgcHJvY2VzcyBpbiB3aGljaCBvbmUgb3IgbW9yZSBzdWJzdGFuY2VzIChyZWFjdGFudHMpIGNoYW5nZSB0byBmb3JtIG5ldyBzdWJzdGFuY2VzIChwcm9kdWN0cykuW3dlYjoyOV1bd2ViOjMyXSIsDQogICAgcG9pbnRzOiBbDQogICAgICAiUmVhY3RhbnRzOiBTdWJzdGFuY2VzIHRoYXQgdGFrZSBwYXJ0IGluIHRoZSByZWFjdGlvbjsgd3JpdHRlbiBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBlcXVhdGlvbi5bd2ViOjI5XSIsDQogICAgICAiUHJvZHVjdHM6IE5ldyBzdWJzdGFuY2VzIGZvcm1lZDsgd3JpdHRlbiBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgYXJyb3cuW3dlYjoyOV0iLA0KICAgICAgIldvcmQgZXF1YXRpb25zIHNob3cgbmFtZXMsIHdoaWxlIGNoZW1pY2FsIGVxdWF0aW9ucyB1c2Ugc3ltYm9scyBhbmQgZm9ybXVsYWUsIGZvciBleGFtcGxlOiBcXChcXHRleHR7TWd9ICsgXFx0ZXh0e099XzIgXFxyaWdodGFycm93IFxcdGV4dHtNZ099XFwpLlt3ZWI6MjldW3dlYjozMl0iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJQcmFjdGljZSBjb252ZXJ0aW5nIHdvcmQgZXF1YXRpb25zIGZyb20gdGhlIHRleHRib29rIGludG8gY2hlbWljYWwgZXF1YXRpb25zIHdpdGggY29ycmVjdCBzeW1ib2xzIGFuZCB2YWxlbmNpZXMuW3dlYjoyOV0iDQogIH0sDQogIHsNCiAgICBpZDogImJhbGFuY2VkIiwNCiAgICB0aXRsZTogIkJhbGFuY2VkIENoZW1pY2FsIEVxdWF0aW9ucyIsDQogICAgdHlwZTogIlNraWxsIiwNCiAgICB2aWRlb1RpbWU6ICIwMzo0MuKAkzA5OjEwIiwNCiAgICBhbmltYXRpb25UeXBlOiAiZXF1YXRpb25CYWxhbmNlIiwNCiAgICBjb3JlTm90ZXM6ICJBIGJhbGFuY2VkIGVxdWF0aW9uIGhhcyBlcXVhbCBudW1iZXJzIG9mIGVhY2ggdHlwZSBvZiBhdG9tIG9uIGJvdGggc2lkZXMsIHNhdGlzZnlpbmcgdGhlIGxhdyBvZiBjb25zZXJ2YXRpb24gb2YgbWFzcy5bd2ViOjMyXVt3ZWI6MjZdIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJMYXcgb2YgY29uc2VydmF0aW9uIG9mIG1hc3M6IFRvdGFsIG1hc3Mgb2YgcmVhY3RhbnRzIGVxdWFscyB0b3RhbCBtYXNzIG9mIHByb2R1Y3RzIGluIGEgY2hlbWljYWwgcmVhY3Rpb24uW3dlYjozMl0iLA0KICAgICAgIkJhbGFuY2luZyBpcyBkb25lIGJ5IGFkanVzdGluZyBjb2VmZmljaWVudHMsIG5vdCBieSBjaGFuZ2luZyBjaGVtaWNhbCBmb3JtdWxhZS5bd2ViOjMyXSIsDQogICAgICAiVHlwaWNhbCBhcHByb2FjaDogTGlzdCBlbGVtZW50cywgY29tcGFyZSBhdG9tcyBvbiBib3RoIHNpZGVzLCBhbmQgYWRqdXN0IGNvZWZmaWNpZW50cyBzdGVwd2lzZSB1bnRpbCBiYWxhbmNlZC5bd2ViOjI2XVt3ZWI6MzJdIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiQm9hcmQgcXVlc3Rpb25zIG9mdGVuIGFzayB0byBiYWxhbmNlIDPigJM0IGdpdmVuIGVxdWF0aW9ucyBpbiB0d28gb3IgdGhyZWUgbWFya3MuW3dlYjozNV0iDQogIH0sDQogIHsNCiAgICBpZDogInR5cGVzIiwNCiAgICB0aXRsZTogIlR5cGVzIG9mIENoZW1pY2FsIFJlYWN0aW9ucyIsDQogICAgdHlwZTogIkNsYXNzaWZpY2F0aW9uIiwNCiAgICB2aWRlb1RpbWU6ICIwOToxMeKAkzE3OjI1IiwNCiAgICBhbmltYXRpb25UeXBlOiAicHJlY2lwaXRhdGUiLA0KICAgIGNvcmVOb3RlczogIk5DRVJUIGZvY3VzZXMgb24gY29tYmluYXRpb24sIGRlY29tcG9zaXRpb24sIGRpc3BsYWNlbWVudCwgZG91YmxlIGRpc3BsYWNlbWVudCwgYW5kIHJlZG94IHJlYWN0aW9ucy5bd2ViOjMyXVt3ZWI6MjZdIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJDb21iaW5hdGlvbjogVHdvIG9yIG1vcmUgc3Vic3RhbmNlcyBjb21iaW5lIHRvIGZvcm0gYSBzaW5nbGUgcHJvZHVjdCwgZm9yIGV4YW1wbGUgXFwoXFx0ZXh0e0NhT30gKyBcXHRleHR7SH1fMlxcdGV4dHtPfSBcXHJpZ2h0YXJyb3cgXFx0ZXh0e0NhKE9IKX1fMlxcKS5bd2ViOjMyXSIsDQogICAgICAiRGVjb21wb3NpdGlvbjogQSBjb21wb3VuZCBicmVha3MgaW50byB0d28gb3IgbW9yZSBzaW1wbGVyIHN1YnN0YW5jZXM7IG1heSBiZSB0aGVybWFsLCBlbGVjdHJvbHl0aWMsIG9yIHBob3RvbHl0aWMuW3dlYjozMl1bd2ViOjMzXSIsDQogICAgICAiRGlzcGxhY2VtZW50IGFuZCBkb3VibGUgZGlzcGxhY2VtZW50IGludm9sdmUgcmVwbGFjZW1lbnQgb3IgZXhjaGFuZ2Ugb2YgaW9ucyBiZXR3ZWVuIHJlYWN0aW5nIHNwZWNpZXMuW3dlYjozMl1bd2ViOjI2XSINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkxlYXJuIG9uZSBleGFtcGxlIHdpdGggYmFsYW5jZWQgZXF1YXRpb24gZm9yIGVhY2ggcmVhY3Rpb24gdHlwZTsgb2Z0ZW4gYXNrZWQgZm9yIDPigJM0IG1hcmtzLlt3ZWI6MjZdW3dlYjozNV0iDQogIH0sDQogIHsNCiAgICBpZDogInJlZG94IiwNCiAgICB0aXRsZTogIk94aWRhdGlvbiwgUmVkdWN0aW9uIGFuZCBSZWRveCIsDQogICAgdHlwZTogIkNvbmNlcHQiLA0KICAgIHZpZGVvVGltZTogIjE1OjMx4oCTMTc6MTUgJiAzNzozMCsiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJyZWRveEZsb3ciLA0KICAgIGNvcmVOb3RlczogIk94aWRhdGlvbiBpbnZvbHZlcyBhZGRpdGlvbiBvZiBveHlnZW4gLyByZW1vdmFsIG9mIGh5ZHJvZ2VuIC8gbG9zcyBvZiBlbGVjdHJvbnMsIHdoZXJlYXMgcmVkdWN0aW9uIGlzIHRoZSByZXZlcnNlIHByb2Nlc3MuW3dlYjozMl1bd2ViOjI2XSIsDQogICAgcG9pbnRzOiBbDQogICAgICAiT3hpZGF0aW9uIGV4YW1wbGU6IFxcKDJcXHRleHR7Q3V9ICsgXFx0ZXh0e099XzIgXFxyaWdodGFycm93IDJcXHRleHR7Q3VPfVxcKSAoY29wcGVyIGdhaW5zIG94eWdlbikuW3dlYjozMl0iLA0KICAgICAgIlJlZHVjdGlvbiBleGFtcGxlOiBcXChcXHRleHR7Q3VPfSArIFxcdGV4dHtIfV8yIFxccmlnaHRhcnJvdyBcXHRleHR7Q3V9ICsgXFx0ZXh0e0h9XzJcXHRleHR7T31cXCkgKGNvcHBlcihJSSkgb3hpZGUgbG9zZXMgb3h5Z2VuKS5bd2ViOjMyXSIsDQogICAgICAiQSByZWRveCByZWFjdGlvbiBzaG93cyBveGlkYXRpb24gYW5kIHJlZHVjdGlvbiBvY2N1cnJpbmcgc2ltdWx0YW5lb3VzbHkgaW4gdGhlIHNhbWUgcmVhY3Rpb24uW3dlYjozMl1bd2ViOjI2XSINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIklkZW50aWZ5IG94aWRpc2VkIGFuZCByZWR1Y2VkIHNwZWNpZXMgYXMgd2VsbCBhcyBveGlkaXNpbmcgYW5kIHJlZHVjaW5nIGFnZW50cyBpbiBnaXZlbiBlcXVhdGlvbnMuW3dlYjoyNl0iDQogIH0sDQogIHsNCiAgICBpZDogImVmZmVjdHMiLA0KICAgIHRpdGxlOiAiRWZmZWN0cyBvZiBPeGlkYXRpb246IENvcnJvc2lvbiAmIFJhbmNpZGl0eSIsDQogICAgdHlwZTogIkFwcGxpY2F0aW9uIiwNCiAgICB2aWRlb1RpbWU6ICIxNzoxNeKAk2VuZCIsDQogICAgYW5pbWF0aW9uVHlwZTogImNvcnJvc2lvbiIsDQogICAgY29yZU5vdGVzOiAiU2xvdyBveGlkYXRpb24gcHJvY2Vzc2VzIGxpa2UgY29ycm9zaW9uIG9mIG1ldGFscyBhbmQgcmFuY2lkaXR5IG9mIGZvb2QgaGF2ZSBzaWduaWZpY2FudCByZWFs4oCRbGlmZSBjb25zZXF1ZW5jZXMuW3dlYjozMl1bd2ViOjI2XSIsDQogICAgcG9pbnRzOiBbDQogICAgICAiQ29ycm9zaW9uOiBTbG93IGRhbWFnZSBvZiBtZXRhbHMgZHVlIHRvIHJlYWN0aW9uIHdpdGggYWlyLCBtb2lzdHVyZSBhbmQgb3RoZXIgY2hlbWljYWxzLCBzdWNoIGFzIHJ1c3Rpbmcgb2YgaXJvbi5bd2ViOjMyXSIsDQogICAgICAiUmFuY2lkaXR5OiBPeGlkYXRpb24gb2Ygb2lscy9mYXRzIGluIGZvb2QgcHJvZHVjaW5nIHVucGxlYXNhbnQgc21lbGwgYW5kIHRhc3RlOyBwcmV2ZW50ZWQgYnkgYW50aW94aWRhbnRzIGFuZCBhaXJ0aWdodCBwYWNraW5nLlt3ZWI6MjZdW3dlYjoyOF0iLA0KICAgICAgIlByZXZlbnRpdmUgbWVhc3VyZXMgaW5jbHVkZSBwYWludGluZywgZ2FsdmFuaXNhdGlvbiwgc3RvcmluZyBmb29kIGluIG5pdHJvZ2VuIGFuZCByZWZyaWdlcmF0aW9uLlt3ZWI6MjZdW3dlYjozMl0iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJDb21tb24gMuKAkW1hcmsgcXVlc3Rpb25zIGFzayBkZWZpbml0aW9uIHBsdXMgb25lIG1ldGhvZCB0byBwcmV2ZW50IGNvcnJvc2lvbiBvciByYW5jaWRpdHkuW3dlYjoyNl0iDQogIH0NCl07DQoNCi8vIC0tLSBET00gaGVscGVycyAtLS0NCmNvbnN0IHRvcGljTGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljTGlzdCIpOw0KY29uc3QgdG9waWNDb250ZW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNDb250ZW50Iik7DQoNCmZ1bmN0aW9uIHJlbmRlck5hdigpIHsNCiAgdG9waWNMaXN0RWwuaW5uZXJIVE1MID0gIiI7DQogIHRvcGljcy5mb3JFYWNoKCh0LCBpZHgpID0+IHsNCiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsNCiAgICBidG4uY2xhc3NOYW1lID0gInRvcGljLWxpbmsiICsgKGlkeCA9PT0gMCA/ICIgYWN0aXZlIiA6ICIiKTsNCiAgICBidG4udGV4dENvbnRlbnQgPSAoaWR4KzEpICsgIi4gIiArIHQudGl0bGU7DQogICAgYnRuLmRhdGFzZXQuaWQgPSB0LmlkOw0KICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHNlbGVjdFRvcGljKHQuaWQpKTsNCiAgICB0b3BpY0xpc3RFbC5hcHBlbmRDaGlsZChidG4pOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gc2VsZWN0VG9waWMoaWQpIHsNCiAgY29uc3QgdG9waWMgPSB0b3BpY3MuZmluZCh0ID0+IHQuaWQgPT09IGlkKSB8fCB0b3BpY3NbMF07DQogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi50b3BpYy1saW5rIikuZm9yRWFjaChiID0+IHsNCiAgICBiLmNsYXNzTGlzdC50b2dnbGUoImFjdGl2ZSIsIGIuZGF0YXNldC5pZCA9PT0gdG9waWMuaWQpOw0KICB9KTsNCiAgcmVuZGVyVG9waWModG9waWMpOw0KfQ0KDQpmdW5jdGlvbiByZW5kZXJUb3BpYyh0b3BpYykgew0KICB0b3BpY0NvbnRlbnRFbC5pbm5lckhUTUwgPSBgDQogICAgPGRpdj4NCiAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj4ke3RvcGljLnR5cGV9PC9kaXY+DQogICAgICA8ZGl2IGNsYXNzPSJiYWRnZSI+Q2ggMSDigJMgTkNFUlQgYWxpZ25lZDwvZGl2Pg0KICAgICAgPGgyPiR7dG9waWMudGl0bGV9PC9oMj4NCg0KICAgICAgPGgzIGNsYXNzPSJzZWN0aW9uLXRpdGxlIj5Db25jZXB0ICYgTkNFUlQgTm90ZXM8L2gzPg0KICAgICAgPHA+JHt0b3BpYy5jb3JlTm90ZXN9PC9wPg0KICAgICAgPHVsPg0KICAgICAgICAke3RvcGljLnBvaW50cy5tYXAocCA9PiBgPGxpPiR7cH08L2xpPmApLmpvaW4oIiIpfQ0KICAgICAgPC91bD4NCiAgICAgIDxwIGNsYXNzPSJuY2VydC10YWciPkJhc2VkIG9uIE5DRVJUIENsYXNzIDEwIFNjaWVuY2UgQ2hhcHRlciAxOiDigJxDaGVtaWNhbCBSZWFjdGlvbnMgYW5kIEVxdWF0aW9uc+KAnS5bd2ViOjI5XVt3ZWI6MzJdPC9wPg0KDQogICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4NCiAgICAgICAgPGgzIGNsYXNzPSJzZWN0aW9uLXRpdGxlIj5BbmltYXRlZCBFeHBsYW5hdGlvbjwvaDM+DQogICAgICAgIDxwIHN0eWxlPSJtYXJnaW4tdG9wOjRweDsiPg0KICAgICAgICAgIFRoZSBjYW52YXMgYmVsb3cgc2hvd3MgYSBzaW1wbGlmaWVkIGFuaW1hdGlvbiBtYXRjaGluZyB0aGlzIHRvcGljIHVzaW5nIHB1cmUgSFRNTDUvSlMuDQogICAgICAgIDwvcD4NCiAgICAgICAgPGRpdiBjbGFzcz0iYW5pbS1jYW52YXMtd3JhcHBlciI+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYW5pbS1oZWFkZXIiPg0KICAgICAgICAgICAgPHNwYW4+TW9kZTogPHN0cm9uZz4ke3RvcGljLmFuaW1hdGlvblR5cGV9PC9zdHJvbmc+IOKAoiBUaW1lIGluIFN1bmxpa2UgdmlkZW86ICR7dG9waWMudmlkZW9UaW1lfTwvc3Bhbj4NCiAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJyZXN0YXJ0QW5pbWF0aW9uKCkiPlJlcGxheSBhbmltYXRpb248L2J1dHRvbj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8Y2FudmFzIGlkPSJhbmltQ2FudmFzIj48L2NhbnZhcz4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9Inl0LXNtYWxsIj4NCiAgICAgICAgICBSZWZlcmVuY2U6IDxhIGhyZWY9IiR7Y2gxVmlkZW8udXJsfSIgdGFyZ2V0PSJfYmxhbmsiPiR7Y2gxVmlkZW8ubGFiZWx9PC9hPiAob3BlbnMgaW4gWW91VHViZSkuW3dlYjozM10NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+DQogICAgICAgIDxoMyBjbGFzcz0ic2VjdGlvbi10aXRsZSI+TkNFUlQgSGludCArIEJvYXJkIEZvY3VzPC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5uY2VydEhpbnR9PC9wPg0KICAgICAgICA8dWw+DQogICAgICAgICAgPGxpPlJldmlzZSBpbi10ZXh0IGV4YW1wbGVzIGFuZCBhY3Rpdml0aWVzIGRpcmVjdGx5IGZyb20gTkNFUlQgdGV4dGJvb2sgZm9yIHRoaXMgc3Vi4oCRdG9waWMuW3dlYjoyOV08L2xpPg0KICAgICAgICAgIDxsaT5QcmFjdGljZSAz4oCTNSBleHRyYSBxdWVzdGlvbnMgZnJvbSBzYW1wbGUgcGFwZXJzIG9uIHRoaXMgZXhhY3QgY29uY2VwdC5bd2ViOjI2XVt3ZWI6MzVdPC9saT4NCiAgICAgICAgPC91bD4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4NCiAgICAgICAgPGgzIGNsYXNzPSJzZWN0aW9uLXRpdGxlIj5NaW5kIE1hcCBWaWV3IChNaW5pKTwvaDM+DQogICAgICAgIDxwPlVzZSB0aGlzIG1pbmnigJFtYXAgYXMgYSB2aXN1YWwgYW5jaG9yIHdoZW4gcmV2aXNpbmc7IGV4cGFuZCBvbiBwYXBlciBmb3IgZnVsbCBkZXRhaWwgYmVmb3JlIGV4YW1zLlt3ZWI6MjhdW3dlYjo0MF08L3A+DQogICAgICAgIDxkaXYgY2xhc3M9Im1pbmRtYXAiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+Q2VudHJhbCBJZGVhPC9zdHJvbmc+PGJyLz5DaGVtaWNhbCByZWFjdGlvbnMg4oaSIE5ldyBzdWJzdGFuY2VzIHdpdGggZGlmZmVyZW50IHByb3BlcnRpZXMuPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibW0tbm9kZSI+PHN0cm9uZz5LZXl3b3Jkczwvc3Ryb25nPjxici8+UmVhY3RhbnQsIHByb2R1Y3QsIGVxdWF0aW9uLCBiYWxhbmNlLCBveGlkYXRpb24sIHJlZHVjdGlvbi5bd2ViOjMyXTwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+VGhpcyBUb3BpYzwvc3Ryb25nPjxici8+JHt0b3BpYy50aXRsZX08L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPkV4YW0gQW5nbGVzPC9zdHJvbmc+PGJyLz5EZWZpbml0aW9ucywgZXhhbXBsZXMsIDLigJMzIG1hcmsgcmVhc29uaW5nIGJhc2VkIG9uIHRoaXMgaWRlYS5bd2ViOjI2XVt3ZWI6MzVdPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogIGA7DQoNCiAgc2V0dXBBbmltYXRpb24odG9waWMuYW5pbWF0aW9uVHlwZSk7DQp9DQoNCi8vIC0tLSBBTklNQVRJT04gRU5HSU5FIC0tLQ0KbGV0IGFuaW1DdHgsIGFuaW1DYW52YXMsIGFuaW1GcmFtZUlkLCB0MDsNCg0KZnVuY3Rpb24gc2V0dXBBbmltYXRpb24odHlwZSkgew0KICBpZiAoYW5pbUZyYW1lSWQpIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1GcmFtZUlkKTsNCiAgYW5pbUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbmltQ2FudmFzIik7DQogIGlmICghYW5pbUNhbnZhcykgcmV0dXJuOw0KICBjb25zdCByZWN0ID0gYW5pbUNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgYW5pbUNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzsNCiAgYW5pbUNhbnZhcy5oZWlnaHQgPSByZWN0LmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOw0KICBhbmltQ3R4ID0gYW5pbUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KICBhbmltQ3R4LnNjYWxlKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7DQogIHQwID0gcGVyZm9ybWFuY2Uubm93KCk7DQogIGZ1bmN0aW9uIGxvb3Aobm93KSB7DQogICAgY29uc3QgdCA9IChub3cgLSB0MCkgLyAxMDAwOw0KICAgIGRyYXdTY2VuZSh0eXBlLCB0KTsNCiAgICBhbmltRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsNCiAgfQ0KICBhbmltRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsNCn0NCg0KZnVuY3Rpb24gcmVzdGFydEFuaW1hdGlvbigpIHsNCiAgY29uc3QgYWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnRvcGljLWxpbmsuYWN0aXZlIik7DQogIGlmICghYWN0aXZlKSByZXR1cm47DQogIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQodCA9PiB0LmlkID09PSBhY3RpdmUuZGF0YXNldC5pZCk7DQogIGlmICh0b3BpYykgc2V0dXBBbmltYXRpb24odG9waWMuYW5pbWF0aW9uVHlwZSk7DQp9DQoNCmZ1bmN0aW9uIGRyYXdTY2VuZSh0eXBlLCB0KSB7DQogIGNvbnN0IGMgPSBhbmltQ3R4LCB3ID0gYW5pbUNhbnZhcy5jbGllbnRXaWR0aCwgaCA9IGFuaW1DYW52YXMuY2xpZW50SGVpZ2h0Ow0KICBpZiAoIWMpIHJldHVybjsNCiAgYy5jbGVhclJlY3QoMCwgMCwgdywgaCk7DQogIC8vIGxhYiB0YWJsZQ0KICBjLmZpbGxTdHlsZSA9ICIjMDIwNjE3IjsNCiAgYy5maWxsUmVjdCgwLCAwLCB3LCBoKTsNCiAgYy5maWxsU3R5bGUgPSAiIzBmMTcyYSI7DQogIGMuZmlsbFJlY3QoMCwgaCAqIDAuNywgdywgaCAqIDAuMyk7DQoNCiAgaWYgKHR5cGUgPT09ICJ0ZXN0VHViZUdhcyIpIHsNCiAgICBkcmF3VGVzdFR1YmVHYXMoYywgdywgaCwgdCk7DQogIH0gZWxzZSBpZiAodHlwZSA9PT0gInRlbXBDaGFuZ2UiKSB7DQogICAgZHJhd1RlbXBDaGFuZ2UoYywgdywgaCwgdCk7DQogIH0gZWxzZSBpZiAodHlwZSA9PT0gImNvbG9yQ2hhbmdlIikgew0KICAgIGRyYXdDb2xvckNoYW5nZShjLCB3LCBoLCB0KTsNCiAgfSBlbHNlIGlmICh0eXBlID09PSAicHJlY2lwaXRhdGUiKSB7DQogICAgZHJhd1ByZWNpcGl0YXRlKGMsIHcsIGgsIHQpOw0KICB9IGVsc2UgaWYgKHR5cGUgPT09ICJlcXVhdGlvbkJhbGFuY2UiKSB7DQogICAgZHJhd0VxdWF0aW9uQmFsYW5jZShjLCB3LCBoLCB0KTsNCiAgfSBlbHNlIGlmICh0eXBlID09PSAicmVkb3hGbG93Iikgew0KICAgIGRyYXdSZWRveEZsb3coYywgdywgaCwgdCk7DQogIH0gZWxzZSBpZiAodHlwZSA9PT0gImNvcnJvc2lvbiIpIHsNCiAgICBkcmF3Q29ycm9zaW9uKGMsIHcsIGgsIHQpOw0KICB9IGVsc2UgaWYgKHR5cGUgPT09ICJyYW5jaWRpdHkiKSB7DQogICAgZHJhd1JhbmNpZGl0eShjLCB3LCBoLCB0KTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBkcmF3VGVzdFR1YmVHYXMoYywgdywgaCwgdCkgew0KICBjb25zdCB4ID0gdyAqIDAuMzUsIHkgPSBoICogMC4xNSwgdHViZVcgPSA0MCwgdHViZUggPSBoICogMC40NTsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGUgPSAiI2U1ZTdlYiI7DQogIGMubGluZVdpZHRoID0gMjsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5tb3ZlVG8oeCwgeSk7DQogIGMubGluZVRvKHgsIHkgKyB0dWJlSCk7DQogIGMucXVhZHJhdGljQ3VydmVUbyh4ICsgdHViZVcvMiwgeSArIHR1YmVIICsgMTYsIHggKyB0dWJlVywgeSArIHR1YmVIKTsNCiAgYy5saW5lVG8oeCArIHR1YmVXLCB5KTsNCiAgYy5zdHJva2UoKTsNCiAgLy8gbGlxdWlkDQogIGNvbnN0IGxldmVsID0geSArIHR1YmVIIC0gNDA7DQogIGNvbnN0IGdyYWQgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGxldmVsLCAwLCB5ICsgdHViZUggKyAxNik7DQogIGdyYWQuYWRkQ29sb3JTdG9wKDAsICJyZ2JhKDU2LDE4OSwyNDgsMC43KSIpOw0KICBncmFkLmFkZENvbG9yU3RvcCgxLCAicmdiYSgyMiwxNjMsNzQsMC44KSIpOw0KICBjLmZpbGxTdHlsZSA9IGdyYWQ7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgrMSwgbGV2ZWwpOw0KICBjLmxpbmVUbyh4KzEsIHkgKyB0dWJlSCk7DQogIGMucXVhZHJhdGljQ3VydmVUbyh4ICsgdHViZVcvMiwgeSArIHR1YmVIICsgMTQsIHggKyB0dWJlVy0xLCB5ICsgdHViZUgpOw0KICBjLmxpbmVUbyh4ICsgdHViZVctMSwgbGV2ZWwpOw0KICBjLmNsb3NlUGF0aCgpOw0KICBjLmZpbGwoKTsNCiAgLy8gWm4gZ3JhbnVsZXMNCiAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsNCiAgICBjLmZpbGxTdHlsZSA9ICIjOWNhM2FmIjsNCiAgICBjb25zdCBneCA9IHggKyA4ICsgaSo2Ow0KICAgIGNvbnN0IGd5ID0geSArIHR1YmVIIC0gMTAgKyBNYXRoLnNpbih0KjIgKyBpKSoyOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5hcmMoZ3gsIGd5LCAzLCAwLCBNYXRoLlBJKjIpOw0KICAgIGMuZmlsbCgpOw0KICB9DQogIC8vIGJ1YmJsZXMNCiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNDsgaSsrKSB7DQogICAgY29uc3QgcGhhc2UgPSAodCAqIDAuOCArIGkgKiAwLjMpICUgMTsNCiAgICBjb25zdCBieCA9IHggKyB0dWJlVy8yICsgTWF0aC5zaW4oaSoxMy43ICsgdCozKSo4Ow0KICAgIGNvbnN0IGJ5ID0gbGV2ZWwgLSBwaGFzZSAqICh0dWJlSCAtIDQwKTsNCiAgICBjb25zdCByID0gMyArIChpICUgMyk7DQogICAgYy5zdHJva2VTdHlsZSA9ICJyZ2JhKDI0OCwyNTAsMjUyLDAuOCkiOw0KICAgIGMubGluZVdpZHRoID0gMTsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMuYXJjKGJ4LCBieSwgciwgMCwgTWF0aC5QSSoyKTsNCiAgICBjLnN0cm9rZSgpOw0KICB9DQogIC8vIGxhYmVsDQogIGMuZmlsbFN0eWxlID0gIiNhNWI0ZmMiOw0KICBjLmZvbnQgPSAiMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KCJabiArIERpbC4gSOKCglNP4oKEIOKGkiBI4oKCKGcpIiwgeCAtIDEwLCB5ICsgdHViZUggKyA0MCk7DQogIGMucmVzdG9yZSgpOw0KfQ0KDQpmdW5jdGlvbiBkcmF3VGVtcENoYW5nZShjLCB3LCBoLCB0KSB7DQogIGNvbnN0IHggPSB3ICogMC4zNSwgeSA9IGgqMC4yLCBidyA9IDEyMCwgYmggPSA4MDsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlID0gIiMwZjE3MmEiOw0KICBjLmZpbGxSZWN0KHgsIHksIGJ3LCBiaCk7DQogIGNvbnN0IHB1bHNlID0gMC41ICsgMC41Kk1hdGguc2luKHQqMyk7DQogIGNvbnN0IGdyYWQgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIHkrYmgsIDAsIHkpOw0KICBncmFkLmFkZENvbG9yU3RvcCgwLCAicmdiYSg3NCwyMjIsMTI4LDAuOSkiKTsNCiAgZ3JhZC5hZGRDb2xvclN0b3AoMSwgYHJnYmEoMjQ4LDExMywxMTMsJHswLjMgKyAwLjUqcHVsc2V9KWApOw0KICBjLmZpbGxTdHlsZSA9IGdyYWQ7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMucmVjdCh4KzYsIHkrNiwgYnctMTIsIGJoLTEyKTsNCiAgYy5maWxsKCk7DQogIC8vIHN0ZWFtDQogIGZvciAobGV0IGk9MDtpPDY7aSsrKXsNCiAgICBjb25zdCBweCA9IHgrMjAraSoxNDsNCiAgICBjb25zdCBweSA9IHkrNjsNCiAgICBjb25zdCBvZmYgPSAodCoxLjUgKyBpKjAuNCklMTsNCiAgICBjLnN0cm9rZVN0eWxlID0gYHJnYmEoMjUyLDI1MiwyNTMsJHswLjIrMC41KigxLW9mZil9KWA7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhweCwgcHkpOw0KICAgIGMucXVhZHJhdGljQ3VydmVUbyhweCs2LCBweS0yMC00MCpvZmYsIHB4LTQsIHB5LTQwLTYwKm9mZik7DQogICAgYy5zdHJva2UoKTsNCiAgfQ0KICAvLyB0aGVybW9tZXRlcg0KICBjb25zdCB0eCA9IHgrYncrMzAsIHR5ID0geSs1Ow0KICBjLnN0cm9rZVN0eWxlID0gIiNlNWU3ZWIiOyBjLmxpbmVXaWR0aCA9IDI7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHR4LCB0eSk7DQogIGMubGluZVRvKHR4LCB0eStiaC0xMCk7DQogIGMuc3Ryb2tlKCk7DQogIGNvbnN0IGxldmVsID0gdHkrYmgtMTAgLSA1MCooMC40KzAuNipNYXRoLnNpbih0KjIpKTsNCiAgYy5zdHJva2VTdHlsZSA9ICIjZmI3MTg1IjsNCiAgYy5saW5lV2lkdGggPSA0Ow0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh0eCwgbGV2ZWwpOw0KICBjLmxpbmVUbyh0eCwgdHkrYmgtMTApOw0KICBjLnN0cm9rZSgpOw0KICBjLmZpbGxTdHlsZSA9ICIjZmI3MTg1IjsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5hcmModHgsIHR5K2JoLTgsIDYsIDAsIE1hdGguUEkqMik7DQogIGMuZmlsbCgpOw0KICBjLmZpbGxTdHlsZSA9ICIjYTViNGZjIjsNCiAgYy5mb250ID0gIjEycHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCgiQ2FPICsgSOKCgk8g4oaSIENhKE9IKeKCgiArIGhlYXQiLCB4LTEwLCB5K2JoKzMwKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIGRyYXdDb2xvckNoYW5nZShjLCB3LCBoLCB0KSB7DQogIGNvbnN0IHggPSB3KjAuMzUsIHkgPSBoKjAuMiwgYncgPSAxMjAsIGJoID0gODA7DQogIGMuc2F2ZSgpOw0KICBjb25zdCBwaGFzZSA9IDAuNSswLjUqTWF0aC5zaW4odCoxLjIpOw0KICBjb25zdCBjb2wxID0gYHJnYmEoJHsxMDArODAqcGhhc2V9LCR7MTgxKzQwKnBoYXNlfSwkezI0Ni01MCpwaGFzZX0sMC45KWA7DQogIGNvbnN0IGNvbDIgPSBgcmdiYSgkezM0KzE1MCpwaGFzZX0sJHsxOTctNDAqcGhhc2V9LCR7OTR9LDAuOSlgOw0KICBjb25zdCBncmFkID0gYy5jcmVhdGVMaW5lYXJHcmFkaWVudCh4LCB5LCB4K2J3LCB5K2JoKTsNCiAgZ3JhZC5hZGRDb2xvclN0b3AoMCxjb2wxKTsNCiAgZ3JhZC5hZGRDb2xvclN0b3AoMSxjb2wyKTsNCiAgYy5maWxsU3R5bGUgPSAiIzAyMDYxNyI7DQogIGMuZmlsbFJlY3QoeCwgeSwgYncsIGJoKTsNCiAgYy5maWxsU3R5bGUgPSBncmFkOw0KICBjLmZpbGxSZWN0KHgrNiwgeSs2LCBidy0xMiwgYmgtMTIpOw0KICBjLnN0cm9rZVN0eWxlID0gIiNlNWU3ZWIiOw0KICBjLnN0cm9rZVJlY3QoeCwgeSwgYncsIGJoKTsNCiAgYy5maWxsU3R5bGUgPSAiI2E1YjRmYyI7DQogIGMuZm9udCA9ICIxMnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFRleHQoIkNvbG91ciBjaGFuZ2Ug4oaSIGNoZW1pY2FsIHJlYWN0aW9uIiwgeC0yMCwgeStiaCsyNik7DQogIGMucmVzdG9yZSgpOw0KfQ0KDQpmdW5jdGlvbiBkcmF3UHJlY2lwaXRhdGUoYywgdywgaCwgdCkgew0KICBjb25zdCB4ID0gdyowLjIyLCB5ID0gaCowLjIsIGJ3ID0gOTAsIGJoID0gNzA7DQogIGMuc2F2ZSgpOw0KICAvLyBiZWFrZXJzDQogIGMuc3Ryb2tlU3R5bGUgPSAiI2U1ZTdlYiI7IGMubGluZVdpZHRoID0gMjsNCiAgLy8gbGVmdA0KICBjLnN0cm9rZVJlY3QoeCwgeSwgYncsIGJoKTsNCiAgYy5maWxsU3R5bGUgPSAicmdiYSg1OSwxMzAsMjQ2LDAuNykiOw0KICBjLmZpbGxSZWN0KHgrMiwgeStiaC8yLCBidy00LCBiaC8yLTIpOw0KICAvLyByaWdodA0KICBjb25zdCB4MiA9IHggKyBidyArIDQwOw0KICBjLnN0cm9rZVJlY3QoeDIsIHksIGJ3LCBiaCk7DQogIGMuZmlsbFN0eWxlID0gInJnYmEoMjM5LDY4LDY4LDAuNykiOw0KICBjLmZpbGxSZWN0KHgyKzIsIHkrYmgvMiwgYnctNCwgYmgvMi0yKTsNCiAgLy8gY2VudHJlIGJlYWtlciBwcmVjaXBpdGF0ZQ0KICBjb25zdCB4YyA9ICh4ICsgeDIgKyBidykvMiAtIGJ3LzI7DQogIGNvbnN0IHljID0geSsxMDsNCiAgYy5zdHJva2VSZWN0KHhjLCB5YywgYncsIGJoKzEwKTsNCiAgY29uc3QgcGcgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAseWMrYmgrMTAsMCx5Yyk7DQogIHBnLmFkZENvbG9yU3RvcCgwLCJyZ2JhKDI0OCwyNTAsMjUyLDAuOSkiKTsNCiAgcGcuYWRkQ29sb3JTdG9wKDEsInJnYmEoMTQ4LDE2MywxODQsMC4zKSIpOw0KICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDU5LDEzMCwyNDYsMC41KSI7DQogIGMuZmlsbFJlY3QoeGMrMiwgeWMrYmgvMiwgYnctNCwgYmgvMis4KTsNCiAgZm9yKGxldCBpPTA7aTw0MDtpKyspew0KICAgIGNvbnN0IHB4ID0geGMrMTArTWF0aC5yYW5kb20oKSooYnctMjApOw0KICAgIGNvbnN0IGZhbGwgPSAodCowLjUgKyBpKjAuMDgpJTE7DQogICAgY29uc3QgcHkgPSB5YytiaC8yICsgZmFsbCooYmgvMis1KTsNCiAgICBjLmZpbGxTdHlsZSA9IGByZ2JhKDIyNiwyMzIsMjQwLCR7MC40KzAuNCooMS1mYWxsKX0pYDsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMuYXJjKHB4LCBweSwgMiwgMCwgTWF0aC5QSSoyKTsNCiAgICBjLmZpbGwoKTsNCiAgfQ0KICBjLmZpbGxTdHlsZSA9ICIjYTViNGZjIjsNCiAgYy5mb250ID0gIjEycHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCgiQWdOT+KCgyArIE5hQ2wg4oaSIEFnQ2wocynihpMgKyBOYU5P4oKDIiwgeGMtMTAsIHljK2JoKzMyKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIGRyYXdFcXVhdGlvbkJhbGFuY2UoYywgdywgaCwgdCkgew0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGUgPSAiIzBmMTcyYSI7DQogIGMucm91bmRSZWN0ID8gYy5yb3VuZFJlY3QodyowLjEsIGgqMC4xOCwgdyowLjgsIGgqMC4zOCwgMTApIDogYy5maWxsUmVjdCh3KjAuMSwgaCowLjE4LCB3KjAuOCwgaCowLjM4KTsNCiAgYy5maWxsKCk7DQogIGNvbnN0IGVxMSA9ICJGZSArIEjigoJPICDihpIgIEZl4oKDT+KChCArIEjigoIiOw0KICBjb25zdCBlcTIgPSAiM0ZlICsgNEjigoJPICDihpIgIEZl4oKDT+KChCArIDRI4oKCIjsNCiAgY29uc3QgcGhhc2UgPSAoTWF0aC5zaW4odCoxLjUpKzEpLzI7DQogIGMuZm9udCA9ICIxNnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFN0eWxlID0gInJnYmEoMjM5LDY4LDY4LCIgKyAoMC41KzAuNCooMS1waGFzZSkpICsgIikiOw0KICBjLmZpbGxUZXh0KGVxMSwgdyowLjE4LCBoKjAuMyk7DQogIGMuZmlsbFN0eWxlID0gInJnYmEoMzQsMTk3LDk0LCIgKyAoMC41KzAuNCpwaGFzZSkgKyAiKSI7DQogIGMuZmlsbFRleHQoZXEyLCB3KjAuMTgsIGgqMC4zOCk7DQogIGMuZm9udCA9ICIxMXB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFN0eWxlID0gIiNlNWU3ZWIiOw0KICBjLmZpbGxUZXh0KCJDb2VmZmljaWVudHMgY2hhbmdlLCBub3QgZm9ybXVsYXMg4oCTIGF0b21zIG9uIGJvdGggc2lkZXMgYmVjb21lIGVxdWFsLiIsIHcqMC4xOCwgaCowLjQ2KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIGRyYXdSZWRveEZsb3coYywgdywgaCwgdCkgew0KICBjb25zdCBjeDEgPSB3KjAuMjgsIGN5ID0gaCowLjQsIGN4MiA9IHcqMC43Ow0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGUgPSAiIzFlMjkzYiI7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMuYXJjKGN4MSwgY3ksIDQ1LCAwLCBNYXRoLlBJKjIpOw0KICBjLmZpbGwoKTsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5hcmMoY3gyLCBjeSwgNDUsIDAsIE1hdGguUEkqMik7DQogIGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlID0gIiNlNWU3ZWIiOw0KICBjLmxpbmVXaWR0aCA9IDI7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKGN4MSs0NSwgY3kpOw0KICBjLmxpbmVUbyhjeDItNDUsIGN5KTsNCiAgYy5zdHJva2UoKTsNCiAgY29uc3QgZXggPSBjeDErNDUgKyAoY3gyLWN4MS05MCkqKDAuNSswLjUqTWF0aC5zaW4odCoyKSk7DQogIGMuZmlsbFN0eWxlID0gIiNmYWNjMTUiOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLmFyYyhleCwgY3ksIDUsIDAsIE1hdGguUEkqMik7DQogIGMuZmlsbCgpOw0KICBjLmZpbGxTdHlsZSA9ICIjYTViNGZjIjsNCiAgYy5mb250ID0gIjEzcHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCgiQ3VPIiwgY3gxLTE4LCBjeSs0KTsNCiAgYy5maWxsVGV4dCgiSOKCgiIsIGN4Mi0xNCwgY3krNCk7DQogIGMuZm9udCA9ICIxMXB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFN0eWxlID0gIiNlNWU3ZWIiOw0KICBjLmZpbGxUZXh0KCJDdU8gcmVkdWNlZCAobG9zZXMgTykiLCBjeDEtMzQsIGN5LTQyKTsNCiAgYy5maWxsVGV4dCgiSOKCgiBveGlkaXNlZCAoZ2FpbnMgTykiLCBjeDItMzYsIGN5LTQyKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIGRyYXdDb3Jyb3Npb24oYywgdywgaCwgdCkgew0KICBjb25zdCB4ID0gdyowLjIsIHkgPSBoKjAuMywgbGVuID0gdyowLjY7DQogIGMuc2F2ZSgpOw0KICBjLmxpbmVXaWR0aCA9IDE0Ow0KICBjLnN0cm9rZVN0eWxlID0gIiNlNWU3ZWIiOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4LCB5KTsNCiAgYy5saW5lVG8oeCtsZW4sIHkpOw0KICBjLnN0cm9rZSgpOw0KICBjb25zdCBzdGFpbnMgPSA0MDsNCiAgZm9yKGxldCBpPTA7aTxzdGFpbnM7aSsrKXsNCiAgICBjb25zdCBweCA9IHggKyAobGVuKSppL3N0YWluczsNCiAgICBjb25zdCBzY2FsZSA9IChNYXRoLnNpbih0KjAuNCArIGkqMC41KSsxKS8yOw0KICAgIGNvbnN0IHIgPSA0KzYqc2NhbGU7DQogICAgYy5zdHJva2VTdHlsZSA9ICJyZ2JhKDE0OCwxNjMsMTg0LDAuMSkiOw0KICAgIGMubGluZVdpZHRoID0gcjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKHB4LCB5KTsNCiAgICBjLmxpbmVUbyhweCswLjEsIHkrMC4xKTsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMuc3Ryb2tlU3R5bGUgPSBgcmdiYSgyMzQsMTc5LDgsJHswLjMrMC41KnNjYWxlfSlgOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5tb3ZlVG8ocHgsIHkpOw0KICAgIGMubGluZVRvKHB4KzAuMSwgeSswLjEpOw0KICAgIGMuc3Ryb2tlKCk7DQogIH0NCiAgYy5maWxsU3R5bGUgPSAiI2E1YjRmYyI7DQogIGMuZm9udCA9ICIxMnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFRleHQoIlNsb3cgb3hpZGF0aW9uIG9mIGlyb24g4oaSIHJ1c3QgKEZl4oKCT+KCg8K3eEjigoJPKSIsIHgsIHkrMzIpOw0KICBjLnJlc3RvcmUoKTsNCn0NCg0KZnVuY3Rpb24gZHJhd1JhbmNpZGl0eShjLCB3LCBoLCB0KSB7DQogIGNvbnN0IGN4ID0gdyowLjUsIGN5ID0gaCowLjQ7DQogIGMuc2F2ZSgpOw0KICBjb25zdCBtYXhSID0gNDA7DQogIGZvcihsZXQgaT0wO2k8ODtpKyspew0KICAgIGNvbnN0IGEgPSBpICogTWF0aC5QSS80Ow0KICAgIGNvbnN0IGxlbiA9IG1heFIgKyA4Kk1hdGguc2luKHQqMS4xICsgaSk7DQogICAgY29uc3QgeDIgPSBjeCArIGxlbipNYXRoLmNvcyhhKTsNCiAgICBjb25zdCB5MiA9IGN5ICsgbGVuKk1hdGguc2luKGEpOw0KICAgIGMuc3Ryb2tlU3R5bGUgPSBgcmdiYSgyNDgsMjUwLDI1MiwkezAuMiswLjMqTWF0aC5yYW5kb20oKX0pYDsNCiAgICBjLmxpbmVXaWR0aCA9IDE7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhjeCwgY3kpOw0KICAgIGMubGluZVRvKHgyLCB5Mik7DQogICAgYy5zdHJva2UoKTsNCiAgfQ0KICBjb25zdCBwdWxzZSA9IDAuNCswLjMqTWF0aC5zaW4odCoxLjcpOw0KICBjb25zdCBncmFkID0gYy5jcmVhdGVSYWRpYWxHcmFkaWVudChjeCwgY3ksIDQsIGN4LCBjeSwgbWF4Uik7DQogIGdyYWQuYWRkQ29sb3JTdG9wKDAsIGByZ2JhKDI0OCwyNTAsMjUyLCR7MC43KnB1bHNlfSlgKTsNCiAgZ3JhZC5hZGRDb2xvclN0b3AoMSwgInJnYmEoMjM5LDY4LDY4LDAuOCkiKTsNCiAgYy5maWxsU3R5bGUgPSBncmFkOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLmFyYyhjeCwgY3ksIG1heFIsIDAsIE1hdGguUEkqMik7DQogIGMuZmlsbCgpOw0KICBjLmZpbGxTdHlsZSA9ICIjMDIwNjE3IjsNCiAgYy5mb250ID0gIjEycHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCgiT+KCgiIsIGN4LTgsIGN5KzQpOw0KICBjLmZpbGxTdHlsZSA9ICIjYTViNGZjIjsNCiAgYy5maWxsVGV4dCgiT2lsIC8gZmF0ICsgT+KCgiDihpIgcmFuY2lkIHNtZWxsIiwgY3gtNzAsIGN5K21heFIrMjIpOw0KICBjLnJlc3RvcmUoKTsNCn0NCg0Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsICgpID0+IHsNCiAgY29uc3QgYWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnRvcGljLWxpbmsuYWN0aXZlIik7DQogIGlmICghYWN0aXZlKSByZXR1cm47DQogIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQodCA9PiB0LmlkID09PSBhY3RpdmUuZGF0YXNldC5pZCk7DQogIGlmICh0b3BpYykgc2V0dXBBbmltYXRpb24odG9waWMuYW5pbWF0aW9uVHlwZSk7DQp9KTsNCg0KLy8gaW5pdGlhbCByZW5kZXINCnJlbmRlck5hdigpOw0KcmVuZGVyVG9waWModG9waWNzWzBdKTsNCjwvc2NyaXB0Pg0KPC9ib2R5Pg0KPC9odG1sPg0K"}, {"id": "ch2", "file": "ch2.html", "title": "Class 10 Science Ch 2 \u2013 Acids, Bases and Salts", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDIg4oCTIEFjaWRzLCBCYXNlcyBhbmQgU2FsdHM8L3RpdGxlPg0KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+DQogIDxzdHlsZT4NCiAgICAqIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQ0KICAgIGJvZHkgew0KICAgICAgbWFyZ2luOiAwOw0KICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgc2Fucy1zZXJpZjsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwNTA4MTYgMCUsICMxZTFiNGIgMTAwJSk7DQogICAgICBjb2xvcjogI2YxZjVmOTsNCiAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOw0KICAgIH0NCiAgICBoZWFkZXIgew0KICAgICAgcGFkZGluZzogMjBweCA1dnc7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTUpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpOw0KICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsNCiAgICAgIHBvc2l0aW9uOiBzdGlja3k7IHRvcDogMDsgei1pbmRleDogMTAwOw0KICAgIH0NCiAgICBoZWFkZXIgaDEgew0KICAgICAgbWFyZ2luOiAwIDAgOHB4Ow0KICAgICAgZm9udC1zaXplOiBjbGFtcCgxLjRyZW0sIDR2dywgMS44cmVtKTsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzYjgyZjYsICM4YjVjZjYpOw0KICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7DQogICAgICBiYWNrZ3JvdW5kLWNsaXA6IHRleHQ7DQogICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgfQ0KICAgIC5jb250cm9scyB7DQogICAgICBkaXNwbGF5OiBmbGV4OyBnYXA6IDEycHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGZsZXgtd3JhcDogd3JhcDsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl0gew0KICAgICAgcGFkZGluZzogOHB4IDE2cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC40KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOCk7DQogICAgICBjb2xvcjogI2YxZjVmOTsNCiAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgIH0NCiAgICBpbnB1dFt0eXBlPSJzZWFyY2giXTo6cGxhY2Vob2xkZXIgeyBjb2xvcjogIzk0YTNiODsgfQ0KICAgIC5wcm9ncmVzcyB7DQogICAgICBmb250LXNpemU6IDAuODVyZW07DQogICAgICBjb2xvcjogIzk0YTNiODsNCiAgICB9DQogICAgLmxheW91dCB7DQogICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyODBweCAxZnI7DQogICAgICBnYXA6IDIwcHg7DQogICAgICBwYWRkaW5nOiAyMHB4IDV2dyA2MHB4Ow0KICAgICAgbWF4LXdpZHRoOiAxNjAwcHg7DQogICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICB9DQogICAgQG1lZGlhIChtYXgtd2lkdGg6IDEwMDBweCkgew0KICAgICAgLmxheW91dCB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9DQogICAgfQ0KICAgIG5hdiB7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIHBhZGRpbmc6IDE2cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4zKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTsNCiAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxNDBweCk7DQogICAgICBvdmVyZmxvdy15OiBhdXRvOw0KICAgIH0NCiAgICBuYXYgaDIgew0KICAgICAgZm9udC1zaXplOiAxcmVtOw0KICAgICAgbWFyZ2luOiAwIDAgMTJweDsNCiAgICAgIGNvbG9yOiAjYTViNGZjOw0KICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1ZW07DQogICAgfQ0KICAgIC50b3BpYy1saW5rIHsNCiAgICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgICAgcGFkZGluZzogMTBweCAxMnB4Ow0KICAgICAgbWFyZ2luOiA0cHggMDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBmb250LXNpemU6IDAuOTJyZW07DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgICAgIGNvbG9yOiAjZTJlOGYwOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB9DQogICAgLnRvcGljLWxpbms6aG92ZXIgew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMTUpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LDEzMCwyNDYsMC40KTsNCiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg0cHgpOw0KICAgIH0NCiAgICAudG9waWMtbGluay5hY3RpdmUgew0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzEwYjk4MSwgIzM0ZDM5OSk7DQogICAgICBjb2xvcjogIzBmMTcyYTsNCiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMTYsMTg1LDEyOSwwLjMpOw0KICAgIH0NCiAgICAudG9waWMtbGluayAuYmFkZ2Ugew0KICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogMnB4IDhweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBmb250LXNpemU6IDAuN3JlbTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC40KTsNCiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7DQogICAgfQ0KICAgIG1haW4gew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjk1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7DQogICAgICBwYWRkaW5nOiAyNHB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuMyk7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7DQogICAgICBib3gtc2hhZG93OiAwIDIwcHggNjBweCByZ2JhKDAsMCwwLDAuNCk7DQogICAgfQ0KICAgIG1haW4gaDIgew0KICAgICAgbWFyZ2luLXRvcDogMDsNCiAgICAgIGZvbnQtc2l6ZTogMS40cmVtOw0KICAgICAgY29sb3I6ICNlMGU3ZmY7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGdhcDogMTBweDsNCiAgICB9DQogICAgLmJhZGdlIHsNCiAgICAgIHBhZGRpbmc6IDRweCAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43NXJlbTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTYsMTg1LDEyOSwwLjUpOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwxODUsMTI5LDAuMSk7DQogICAgICBjb2xvcjogIzM0ZDM5OTsNCiAgICB9DQogICAgLnNlY3Rpb24gew0KICAgICAgbWFyZ2luLXRvcDogMjRweDsNCiAgICB9DQogICAgLnNlY3Rpb24gaDMgew0KICAgICAgZm9udC1zaXplOiAxLjFyZW07DQogICAgICBjb2xvcjogI2M0YjVmZDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7DQogICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkICM4YjVjZjY7DQogICAgICBwYWRkaW5nLWxlZnQ6IDEycHg7DQogICAgfQ0KICAgIHAsIGxpIHsNCiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgIGxpbmUtaGVpZ2h0OiAxLjY1Ow0KICAgICAgY29sb3I6ICNlMmU4ZjA7DQogICAgfQ0KICAgIHVsIHsgcGFkZGluZy1sZWZ0OiAyMHB4OyB9DQogICAgLnZpZGVvLWNvbnRhaW5lciB7DQogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjQpOw0KICAgICAgYmFja2dyb3VuZDogIzBmMTcyYTsNCiAgICAgIGFzcGVjdC1yYXRpbzogMTYvOTsNCiAgICAgIG1hcmdpbjogMTJweCAwOw0KICAgIH0NCiAgICBpZnJhbWUgew0KICAgICAgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYm9yZGVyOiBub25lOw0KICAgIH0NCiAgICAuYW5pbS1jb250YWluZXIgew0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxZTI5M2IgMCUsICMwZjE3MmEgMTAwJSk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC41KTsNCiAgICAgIHBhZGRpbmc6IDE2cHg7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgLmFuaW0taGVhZGVyIHsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDsNCiAgICAgIGZvbnQtc2l6ZTogMC44NXJlbTsNCiAgICAgIGNvbG9yOiAjYTViNGZjOw0KICAgIH0NCiAgICAuYW5pbS1oZWFkZXIgYnV0dG9uIHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjIpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNik7DQogICAgICBib3JkZXItcmFkaXVzOiAyMHB4Ow0KICAgICAgcGFkZGluZzogNnB4IDE0cHg7DQogICAgICBjb2xvcjogI2UyZThmMDsNCiAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgIGZvbnQtc2l6ZTogMC44cmVtOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7DQogICAgfQ0KICAgIC5hbmltLWhlYWRlciBidXR0b246aG92ZXIgew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuNCk7DQogICAgfQ0KICAgIGNhbnZhcyB7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGhlaWdodDogMjYwcHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjAlLCByZ2JhKDU5LDEzMCwyNDYsMC4xKSwgIzBmMTcyYSk7DQogICAgfQ0KICAgIC5waC1zbGlkZXIgew0KICAgICAgbWFyZ2luOiAxNnB4IDA7DQogICAgICBwYWRkaW5nOiAxNnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC4zKTsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0icmFuZ2UiXSB7DQogICAgICB3aWR0aDogMTAwJTsgaGVpZ2h0OiA4cHg7IG1hcmdpbjogOHB4IDA7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4zKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InJhbmdlIl06Oi13ZWJraXQtc2xpZGVyLXRodW1iIHsNCiAgICAgIGFwcGVhcmFuY2U6IG5vbmU7DQogICAgICB3aWR0aDogMjRweDsgaGVpZ2h0OiAyNHB4Ow0KICAgICAgYmFja2dyb3VuZDogIzNiODJmNjsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICB9DQogICAgLnBoLXZhbHVlIHsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOw0KICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICBjb2xvcjogIzNiODJmNjsNCiAgICB9DQogICAgLnF1aXogew0KICAgICAgbWFyZ2luLXRvcDogMjBweDsNCiAgICAgIHBhZGRpbmc6IDE2cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE2LDE4NSwxMjksMC4xKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICMxMGI5ODE7DQogICAgfQ0KICAgIC5xdWl6LXF1ZXN0aW9uIHsNCiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7DQogICAgICBtYXJnaW4tYm90dG9tOiAxMnB4Ow0KICAgIH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbiB7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgbWFyZ2luOiA2cHggMDsNCiAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOCk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuNCk7DQogICAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgICBjb2xvcjogI2UyZThmMDsNCiAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzOw0KICAgIH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbjpob3ZlciB7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4yKTsNCiAgICAgIGJvcmRlci1jb2xvcjogIzNiODJmNjsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b24uY29ycmVjdCB7DQogICAgICBiYWNrZ3JvdW5kOiAjMTBiOTgxOw0KICAgICAgYm9yZGVyLWNvbG9yOiAjMDU5NjY5Ow0KICAgIH0NCiAgICAubWluZG1hcCB7DQogICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7DQogICAgICBnYXA6IDEycHg7DQogICAgICBtYXJnaW4tdG9wOiAxNnB4Ow0KICAgIH0NCiAgICAubW0tbm9kZSB7DQogICAgICBwYWRkaW5nOiAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTM5LDkyLDI0NiwwLjE1KTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTM5LDkyLDI0NiwwLjQpOw0KICAgICAgZm9udC1zaXplOiAwLjg4cmVtOw0KICAgIH0NCiAgICAubW0tbm9kZSBzdHJvbmcgew0KICAgICAgY29sb3I6ICNjNGI1ZmQ7DQogICAgfQ0KICAgIC55dC1yZWYgew0KICAgICAgZm9udC1zaXplOiAwLjg4cmVtOw0KICAgICAgY29sb3I6ICM5M2M1ZmQ7DQogICAgICBtYXJnaW4tdG9wOiA4cHg7DQogICAgfQ0KICAgIGEgeyBjb2xvcjogIzYwYTVmYTsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyB9DQogICAgYTpob3ZlciB7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyB9DQogIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCjxoZWFkZXI+DQogIDxoMT5BY2lkcywgQmFzZXMgYW5kIFNhbHRzIOKAkyBDbGFzcyAxMCBDaCAyPC9oMT4NCiAgPGRpdiBjbGFzcz0iY29udHJvbHMiPg0KICAgIDxpbnB1dCB0eXBlPSJzZWFyY2giIGlkPSJzZWFyY2hJbnB1dCIgcGxhY2Vob2xkZXI9IlNlYXJjaCB0b3BpY3MgKGUuZy4gcEgsIGluZGljYXRvcnMpIiAvPg0KICAgIDxzcGFuIGNsYXNzPSJwcm9ncmVzcyI+UHJvZ3Jlc3M6IDxzcGFuIGlkPSJwcm9nQ291bnQiPjA8L3NwYW4+LzcgdG9waWNzPC9zcGFuPg0KICA8L2Rpdj4NCjwvaGVhZGVyPg0KDQo8ZGl2IGNsYXNzPSJsYXlvdXQiPg0KICA8bmF2Pg0KICAgIDxoMj5DaGFwdGVyIDIgVG9waWNzPC9oMj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0xpc3QiPjwvZGl2Pg0KICA8L25hdj4NCg0KICA8bWFpbj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0NvbnRlbnQiPjwvZGl2Pg0KICA8L21haW4+DQo8L2Rpdj4NCg0KPHNjcmlwdD4NCiAgY29uc3QgY2gyVmlkZW8gPSB7DQogICAgdXJsOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvemExdHN0NDhMRGMiLA0KICAgIGxhYmVsOiAiU3VubGlrZSBTdHVkeSDigJMgRnVsbCBDaGFwdGVyIEFuaW1hdGlvbiAoMjQ6MzMpIg0KICB9Ow0KDQogIC8vIE5PVEU6IFJlbW92ZWQgY2l0YXRpb24gYnJhY2tldHMgZnJvbSB0ZXh0IHNvIHlvdXIgd2Vic2l0ZSBsb29rcyBjbGVhbi4NCiAgY29uc3QgdG9waWNzID0gWw0KICAgIHsNCiAgICAgIGlkOiAiYWNpZHMtYmFzZXMtZGVmIiwNCiAgICAgIHRpdGxlOiAiQWNpZHMgJiBCYXNlcyDigJMgRGVmaW5pdGlvbnMiLA0KICAgICAgdHlwZTogIkZ1bmRhbWVudGFscyIsDQogICAgICB2aWRlb1RpbWU6ICIwMDozMOKAkzAyOjAwIiwNCiAgICAgIGFuaW1hdGlvblR5cGU6ICJsaXRtdXNUZXN0IiwNCiAgICAgIGNvcmVOb3RlczogIkFjaWRzIHR1cm4gYmx1ZSBsaXRtdXMgcmVkIGFuZCByZWxlYXNlIEjigbogaW9ucyBpbiB3YXRlcjsgYmFzZXMgdHVybiByZWQgbGl0bXVzIGJsdWUgYW5kIHJlbGVhc2UgT0jigbsgaW9ucy4iLA0KICAgICAgcG9pbnRzOiBbDQogICAgICAgICJBY2lkcyB0YXN0ZSBzb3VyIChlLmcuIEhDbCwgSOKCglNP4oKEKTsgYmFzZXMgdGFzdGUgYml0dGVyIChlLmcuIE5hT0gpLiIsDQogICAgICAgICJFeGFtcGxlOiBIQ2wg4oaSIEjigbogKyBDbOKBuyA7IE5hT0gg4oaSIE5h4oG6ICsgT0jigbsiLA0KICAgICAgICAiVGhlc2UgaW9ucyBhcmUgcmVzcG9uc2libGUgZm9yIGFjaWRpYy9iYXNpYyBwcm9wZXJ0aWVzLiINCiAgICAgIF0sDQogICAgICBuY2VydEhpbnQ6ICJEZWZpbmUgd2l0aCBleGFtcGxlczsgZGlzdGluZ3Vpc2ggc3Ryb25nIHZzIHdlYWsgYWNpZHMvYmFzZXMuIiwNCiAgICAgIHF1aXo6IHsNCiAgICAgICAgcXVlc3Rpb246ICJXaGljaCB0dXJucyBibHVlIGxpdG11cyByZWQ/IiwNCiAgICAgICAgb3B0aW9uczogWyJBY2lkIiwgIkJhc2UiLCAiU2FsdCIsICJXYXRlciJdLA0KICAgICAgICBjb3JyZWN0OiAwLA0KICAgICAgICBleHBsYWluOiAiQWNpZHMgcmVsZWFzZSBI4oG6IGlvbnMgYW5kIHR1cm4gYmx1ZSBsaXRtdXMgcmVkLiINCiAgICAgIH0NCiAgICB9LA0KICAgIHsNCiAgICAgIGlkOiAidHlwZXMtYWNpZHMiLA0KICAgICAgdGl0bGU6ICJUeXBlcyBvZiBBY2lkcyIsDQogICAgICB0eXBlOiAiQ2xhc3NpZmljYXRpb24iLA0KICAgICAgdmlkZW9UaW1lOiAiMDI6MDDigJMwNDozMCIsDQogICAgICBhbmltYXRpb25UeXBlOiAiY29uY2VudHJhdGlvbiIsDQogICAgICBjb3JlTm90ZXM6ICJBY2lkcyBjYW4gYmUgY2xhc3NpZmllZCBieSBzb3VyY2UsIHN0cmVuZ3RoLCBhbmQgY29uY2VudHJhdGlvbi4iLA0KICAgICAgcG9pbnRzOiBbDQogICAgICAgICJPcmdhbmljIChuYXR1cmFsKTogY2l0cmljIGFjaWQ7IElub3JnYW5pYzogSENsIiwNCiAgICAgICAgIlN0cm9uZyBhY2lkcyBpb25pemUgbW9yZTsgd2VhayBhY2lkcyBpb25pemUgbGVzcyIsDQogICAgICAgICJDb25jZW50cmF0ZWQgdnMgZGlsdXRlIGRlcGVuZHMgb24gd2F0ZXIgY29udGVudCINCiAgICAgIF0sDQogICAgICBuY2VydEhpbnQ6ICJHaXZlIGV4YW1wbGVzIGZvciBlYWNoIHR5cGUgKG9yZ2FuaWMvaW5vcmdhbmljLCBzdHJvbmcvd2VhaywgY29uY2VudHJhdGVkL2RpbHV0ZSkuIiwNCiAgICAgIHF1aXo6IHsNCiAgICAgICAgcXVlc3Rpb246ICJXaGljaCBpcyBhIHdlYWsgYWNpZD8iLA0KICAgICAgICBvcHRpb25zOiBbIkhDbCIsICJI4oKCU0/igoQiLCAiQ0jigoNDT09IIiwgIkhOT+KCgyJdLA0KICAgICAgICBjb3JyZWN0OiAyLA0KICAgICAgICBleHBsYWluOiAiQWNldGljIGFjaWQgKENI4oKDQ09PSCkgaXMgYSB3ZWFrIGFjaWQuIg0KICAgICAgfQ0KICAgIH0sDQogICAgew0KICAgICAgaWQ6ICJ0eXBlcy1iYXNlcyIsDQogICAgICB0aXRsZTogIlR5cGVzIG9mIEJhc2VzIiwNCiAgICAgIHR5cGU6ICJDbGFzc2lmaWNhdGlvbiIsDQogICAgICB2aWRlb1RpbWU6ICIwNDozMOKAkzA1OjMwIiwNCiAgICAgIGFuaW1hdGlvblR5cGU6ICJiYXNlU3RyZW5ndGgiLA0KICAgICAgY29yZU5vdGVzOiAiQmFzZXMgY2FuIGJlIGNsYXNzaWZpZWQgYnkgc3RyZW5ndGggYW5kIGNvbmNlbnRyYXRpb24gYXMgd2VsbC4iLA0KICAgICAgcG9pbnRzOiBbDQogICAgICAgICJTdHJvbmcgYmFzZTogTmFPSCAoZ2l2ZXMgbG90cyBvZiBPSOKBuyBpbiB3YXRlcikiLA0KICAgICAgICAiV2VhayBiYXNlOiBOSOKCgyAoZ2l2ZXMgZmV3ZXIgT0jigbsgaW5kaXJlY3RseSkiLA0KICAgICAgICAiQ29uY2VudHJhdGlvbjogY29uY2VudHJhdGVkIHZzIGRpbHV0ZSBzb2x1dGlvbiINCiAgICAgIF0sDQogICAgICBuY2VydEhpbnQ6ICJTdHJvbmcgYmFzZSB2cyB3ZWFrIGJhc2UgPSBkZWdyZWUgb2YgaW9uaXphdGlvbiBpbiB3YXRlci4iLA0KICAgICAgcXVpejogew0KICAgICAgICBxdWVzdGlvbjogIlN0cm9uZyBiYXNlIGV4YW1wbGU/IiwNCiAgICAgICAgb3B0aW9uczogWyJOSOKCgyIsICJOYU9IIiwgIkNI4oKDQ09PSCIsICJIQ2wiXSwNCiAgICAgICAgY29ycmVjdDogMSwNCiAgICAgICAgZXhwbGFpbjogIk5hT0ggaXMgYSBzdHJvbmcgYmFzZS4iDQogICAgICB9DQogICAgfSwNCiAgICB7DQogICAgICBpZDogImluZGljYXRvcnMiLA0KICAgICAgdGl0bGU6ICJJbmRpY2F0b3JzIiwNCiAgICAgIHR5cGU6ICJEZXRlY3Rpb24iLA0KICAgICAgdmlkZW9UaW1lOiAiMDU6MzDigJMwOTowMCIsDQogICAgICBhbmltYXRpb25UeXBlOiAiaW5kaWNhdG9yQ2hhbmdlIiwNCiAgICAgIGNvcmVOb3RlczogIkluZGljYXRvcnMgY2hhbmdlIGNvbG91ci9zbWVsbCBpbiBhY2lkcyBhbmQgYmFzZXMuIiwNCiAgICAgIHBvaW50czogWw0KICAgICAgICAiTmF0dXJhbDogbGl0bXVzLCB0dXJtZXJpYyIsDQogICAgICAgICJTeW50aGV0aWM6IG1ldGh5bCBvcmFuZ2UsIHBoZW5vbHBodGhhbGVpbiIsDQogICAgICAgICJPbGZhY3Rvcnk6IHZhbmlsbGEgZXNzZW5jZSwgY2xvdmUgb2lsIg0KICAgICAgXSwNCiAgICAgIG5jZXJ0SGludDogIk1lbW9yaXplIGNvbG91ciBjaGFuZ2VzIGZvciBjb21tb24gaW5kaWNhdG9ycy4iLA0KICAgICAgcXVpejogew0KICAgICAgICBxdWVzdGlvbjogIlBoZW5vbHBodGhhbGVpbiBpbiBiYXNlPyIsDQogICAgICAgIG9wdGlvbnM6IFsiUmVkIiwgIlllbGxvdyIsICJQaW5rIiwgIkNvbG91cmxlc3MiXSwNCiAgICAgICAgY29ycmVjdDogMiwNCiAgICAgICAgZXhwbGFpbjogIlBoZW5vbHBodGhhbGVpbiB0dXJucyBwaW5rIGluIGJhc2ljIHNvbHV0aW9uLiINCiAgICAgIH0NCiAgICB9LA0KICAgIHsNCiAgICAgIGlkOiAicHJvcGVydGllcyIsDQogICAgICB0aXRsZTogIkNoZW1pY2FsIFByb3BlcnRpZXMiLA0KICAgICAgdHlwZTogIlJlYWN0aW9ucyIsDQogICAgICB2aWRlb1RpbWU6ICIwOTowMOKAkzEzOjAwIiwNCiAgICAgIGFuaW1hdGlvblR5cGU6ICJuZXV0cmFsaXphdGlvbiIsDQogICAgICBjb3JlTm90ZXM6ICJBY2lkcyBhbmQgYmFzZXMgc2hvdyBjaGFyYWN0ZXJpc3RpYyByZWFjdGlvbnMgKG1ldGFscywgY2FyYm9uYXRlcywgb3hpZGVzLCBhbmQgbmV1dHJhbGl6YXRpb24pLiIsDQogICAgICBwb2ludHM6IFsNCiAgICAgICAgIkFjaWQgKyBtZXRhbCDihpIgc2FsdCArIEjigoIgKHBvcCBzb3VuZCkuIiwNCiAgICAgICAgIkFjaWQgKyBjYXJib25hdGUg4oaSIHNhbHQgKyBDT+KCgiArIEjigoJPIChsaW1ld2F0ZXIgdHVybnMgbWlsa3kpLiIsDQogICAgICAgICJBY2lkICsgYmFzZSDihpIgc2FsdCArIHdhdGVyIChuZXV0cmFsaXphdGlvbikuIiwNCiAgICAgICAgIk1ldGFsIG94aWRlcyBhcmUgYmFzaWM7IG5vbi1tZXRhbCBveGlkZXMgYXJlIGFjaWRpYy4iDQogICAgICBdLA0KICAgICAgbmNlcnRIaW50OiAiUHJhY3RpY2Ugd3JpdGluZyBiYWxhbmNlZCBlcXVhdGlvbnMgZm9yIHRoZXNlIHJlYWN0aW9ucy4iLA0KICAgICAgcXVpejogew0KICAgICAgICBxdWVzdGlvbjogIkFjaWQgKyBjYXJib25hdGUgcHJvZHVjZXMgd2hpY2ggZ2FzPyIsDQogICAgICAgIG9wdGlvbnM6IFsiSOKCgiIsICJDT+KCgiIsICJP4oKCIiwgIk7igoIiXSwNCiAgICAgICAgY29ycmVjdDogMSwNCiAgICAgICAgZXhwbGFpbjogIkNP4oKCIHR1cm5zIGxpbWV3YXRlciBtaWxreS4iDQogICAgICB9DQogICAgfSwNCiAgICB7DQogICAgICBpZDogInBoLXNjYWxlIiwNCiAgICAgIHRpdGxlOiAicEggU2NhbGUgJiBJbXBvcnRhbmNlIiwNCiAgICAgIHR5cGU6ICJNZWFzdXJlbWVudCIsDQogICAgICB2aWRlb1RpbWU6ICIxMzowMOKAkzE3OjAwIiwNCiAgICAgIGFuaW1hdGlvblR5cGU6ICJwaFNjYWxlIiwNCiAgICAgIGNvcmVOb3RlczogInBIIG1lYXN1cmVzIEjigbogY29uY2VudHJhdGlvbjogPDcgYWNpZGljLCA3IG5ldXRyYWwsID43IGJhc2ljLiIsDQogICAgICBwb2ludHM6IFsNCiAgICAgICAgIlN0cm9uZyBhY2lkOiBwSCAx4oCTMywgd2VhayBhY2lkOiBwSCAz4oCTNiIsDQogICAgICAgICJOZXV0cmFsOiBwSCA3OyB3ZWFrIGJhc2U6IHBIIDjigJMxMTsgc3Ryb25nIGJhc2U6IHBIIDEx4oCTMTQiLA0KICAgICAgICAiVXNlczogYmxvb2QgcEggfjcuMuKAkzcuODsgdG9vdGggZGVjYXkgYmVsb3cgcEggNS41OyBhY2lkIHJhaW4gYmVsb3cgcEggNS42Ig0KICAgICAgXSwNCiAgICAgIG5jZXJ0SGludDogIkxlYXJuIGRhaWx5IGxpZmUgdXNlcyBvZiBwSCAoYmxvb2QsIHRlZXRoLCByYWluLCBzb2lsKS4iLA0KICAgICAgcXVpejogew0KICAgICAgICBxdWVzdGlvbjogIk5vcm1hbCBibG9vZCBwSCByYW5nZT8iLA0KICAgICAgICBvcHRpb25zOiBbIjTigJM2IiwgIjcuMuKAkzcuOCIsICI54oCTMTEiLCAiMeKAkzMiXSwNCiAgICAgICAgY29ycmVjdDogMSwNCiAgICAgICAgZXhwbGFpbjogIk5vcm1hbCBibG9vZCBwSCBpcyBhYm91dCA3LjLigJM3LjguIg0KICAgICAgfQ0KICAgIH0sDQogICAgew0KICAgICAgaWQ6ICJzYWx0cyIsDQogICAgICB0aXRsZTogIlNhbHRzIChOYU9ILCBCbGVhY2hpbmcgUG93ZGVyLCBldGMuKSIsDQogICAgICB0eXBlOiAiQXBwbGljYXRpb25zIiwNCiAgICAgIHZpZGVvVGltZTogIjE3OjAw4oCTZW5kIiwNCiAgICAgIGFuaW1hdGlvblR5cGU6ICJzYWx0UHJlcCIsDQogICAgICBjb3JlTm90ZXM6ICJTYWx0cyBmb3JtIGJ5IG5ldXRyYWxpemF0aW9uOyBzb21lIGFyZSBwcmVwYXJlZCBpbmR1c3RyaWFsbHkgYW5kIHVzZWQgaW4gZGFpbHkgbGlmZS4iLA0KICAgICAgcG9pbnRzOiBbDQogICAgICAgICJDYXVzdGljIHNvZGEgKE5hT0gpOiBzb2FwL2RldGVyZ2VudCwgcGFwZXIiLA0KICAgICAgICAiQmxlYWNoaW5nIHBvd2RlciAoQ2FPQ2zigoIpOiBibGVhY2hpbmcsIGRpc2luZmVjdGFudCIsDQogICAgICAgICJCYWtpbmcgc29kYSAoTmFIQ0/igoMpOiBhbnRhY2lkLCBiYWtpbmcgcG93ZGVyIiwNCiAgICAgICAgIldhc2hpbmcgc29kYSAoTmHigoJDT+KCg8K3MTBI4oKCTyk6IGNsZWFuaW5nLCB3YXRlciBzb2Z0ZW5pbmciLA0KICAgICAgICAiUGxhc3RlciBvZiBQYXJpcyAoQ2FTT+KChMK3wr1I4oKCTyk6IGNhc3RzLCBkZWNvcmF0aW9ucyINCiAgICAgIF0sDQogICAgICBuY2VydEhpbnQ6ICJQcmVwYXJhdGlvbiArIDIgdXNlcyBvZiBlYWNoIGltcG9ydGFudCBzYWx0IGlzIGEgZnJlcXVlbnQgbG9uZyBxdWVzdGlvbi4iLA0KICAgICAgcXVpejogew0KICAgICAgICBxdWVzdGlvbjogIlBsYXN0ZXIgb2YgUGFyaXMgZm9ybXVsYT8iLA0KICAgICAgICBvcHRpb25zOiBbIkNhU0/igoTCtzJI4oKCTyIsICJDYVNP4oKEwrfCvUjigoJPIiwgIk5hSENP4oKDIiwgIkNhT0Ns4oKCIl0sDQogICAgICAgIGNvcnJlY3Q6IDEsDQogICAgICAgIGV4cGxhaW46ICJQbGFzdGVyIG9mIFBhcmlzIGlzIENhU0/igoTCt8K9SOKCgk8uIg0KICAgICAgfQ0KICAgIH0NCiAgXTsNCg0KICAvLyBVSSBFbGVtZW50cw0KICBjb25zdCB0b3BpY0xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3BpY0xpc3QiKTsNCiAgY29uc3QgdG9waWNDb250ZW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNDb250ZW50Iik7DQogIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlYXJjaElucHV0Iik7DQogIGNvbnN0IHByb2dDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dDb3VudCIpOw0KDQogIGxldCBjdXJyZW50VG9waWNJZCA9IHRvcGljc1swXS5pZDsNCiAgbGV0IGNvbXBsZXRlZFRvcGljcyA9IG5ldyBTZXQoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2gyLWNvbXBsZXRlZCcpIHx8ICdbXScpKTsNCg0KICAvLyBBbmltYXRpb24gZ2xvYmFscw0KICBsZXQgYW5pbUN0eCA9IG51bGwsIGFuaW1DYW52YXMgPSBudWxsLCBhbmltYXRpb25Mb29wID0gbnVsbCwgdDAgPSAwOw0KICBsZXQgY3VycmVudEFuaW1hdGlvblR5cGUgPSAibGl0bXVzVGVzdCI7DQoNCiAgLy8gUmVuZGVyIE5hdmlnYXRpb24NCiAgZnVuY3Rpb24gcmVuZGVyTmF2KGZpbHRlciA9ICIiKSB7DQogICAgdG9waWNMaXN0RWwuaW5uZXJIVE1MID0gIiI7DQogICAgY29uc3QgZmlsdGVyZWQgPSB0b3BpY3MuZmlsdGVyKHQgPT4NCiAgICAgIHQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIudG9Mb3dlckNhc2UoKSkgfHwNCiAgICAgIHQudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlci50b0xvd2VyQ2FzZSgpKQ0KICAgICk7DQoNCiAgICBmaWx0ZXJlZC5mb3JFYWNoKCh0b3BpYywgaWR4KSA9PiB7DQogICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgIGJ0bi5jbGFzc05hbWUgPSBgdG9waWMtbGluayAke3RvcGljLmlkID09PSBjdXJyZW50VG9waWNJZCA/ICdhY3RpdmUnIDogJyd9YDsNCiAgICAgIGJ0bi5pbm5lckhUTUwgPSBgJHtpZHggKyAxfS4gJHt0b3BpYy50aXRsZX0gPHNwYW4gY2xhc3M9ImJhZGdlIj4ke3RvcGljLnR5cGV9PC9zcGFuPmA7DQogICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBzZWxlY3RUb3BpYyh0b3BpYy5pZCkpOw0KICAgICAgdG9waWNMaXN0RWwuYXBwZW5kQ2hpbGQoYnRuKTsNCiAgICB9KTsNCg0KICAgIHByb2dDb3VudEVsLnRleHRDb250ZW50ID0gY29tcGxldGVkVG9waWNzLnNpemUgKyAiLyIgKyB0b3BpY3MubGVuZ3RoOw0KICB9DQoNCiAgLy8gU2VsZWN0IFRvcGljDQogIGZ1bmN0aW9uIHNlbGVjdFRvcGljKGlkKSB7DQogICAgY29uc3QgdG9waWMgPSB0b3BpY3MuZmluZCh0ID0+IHQuaWQgPT09IGlkKTsNCiAgICBpZiAoIXRvcGljKSByZXR1cm47DQogICAgY3VycmVudFRvcGljSWQgPSBpZDsNCiAgICBjb21wbGV0ZWRUb3BpY3MuYWRkKGlkKTsNCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2gyLWNvbXBsZXRlZCcsIEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oY29tcGxldGVkVG9waWNzKSkpOw0KICAgIHJlbmRlclRvcGljKHRvcGljKTsNCiAgICByZW5kZXJOYXYoc2VhcmNoSW5wdXQudmFsdWUpOw0KICB9DQoNCiAgLy8gUmVuZGVyIFRvcGljIENvbnRlbnQNCiAgZnVuY3Rpb24gcmVuZGVyVG9waWModG9waWMpIHsNCiAgICBjb25zdCBxdWl6SHRtbCA9IHRvcGljLnF1aXogPyBgDQogICAgICA8ZGl2IGNsYXNzPSJxdWl6Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0icXVpei1xdWVzdGlvbiI+JHt0b3BpYy5xdWl6LnF1ZXN0aW9ufTwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6LW9wdGlvbnMiPg0KICAgICAgICAgICR7dG9waWMucXVpei5vcHRpb25zLm1hcCgob3B0LCBpKSA9Pg0KICAgICAgICAgICAgYDxidXR0b24gb25jbGljaz0iY2hlY2tRdWl6KCR7aX0sICR7dG9waWMucXVpei5jb3JyZWN0fSkiPiR7b3B0fTwvYnV0dG9uPmANCiAgICAgICAgICApLmpvaW4oJycpfQ0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBpZD0icXVpei1leHBsYWluIiBzdHlsZT0iZGlzcGxheTpub25lOyBtYXJnaW4tdG9wOjEycHg7IHBhZGRpbmc6OHB4OyBiYWNrZ3JvdW5kOnJnYmEoMTYsMTg1LDEyOSwwLjIpOyBib3JkZXItcmFkaXVzOjhweDsgZm9udC1zaXplOjAuOXJlbTsiPg0KICAgICAgICAgICR7dG9waWMucXVpei5leHBsYWlufQ0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KICAgIGAgOiAnJzsNCg0KICAgIHRvcGljQ29udGVudEVsLmlubmVySFRNTCA9IGANCiAgICAgIDxkaXY+DQogICAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj4ke3RvcGljLnR5cGV9PC9kaXY+DQogICAgICAgIDxoMj4ke3RvcGljLnRpdGxlfTwvaDI+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgICAgPGgzPvCfk5YgTm90ZXM8L2gzPg0KICAgICAgICAgIDxwPiR7dG9waWMuY29yZU5vdGVzfTwvcD4NCiAgICAgICAgICA8dWw+JHt0b3BpYy5wb2ludHMubWFwKHAgPT4gYDxsaT4ke3B9PC9saT5gKS5qb2luKCcnKX08L3VsPg0KDQogICAgICAgICAgPGRpdiBjbGFzcz0idmlkZW8tY29udGFpbmVyIiB0aXRsZT0iJHtjaDJWaWRlby5sYWJlbH0iPg0KICAgICAgICAgICAgPGlmcmFtZQ0KICAgICAgICAgICAgICBzcmM9IiR7Y2gyVmlkZW8udXJsfSINCiAgICAgICAgICAgICAgYWxsb3c9ImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSINCiAgICAgICAgICAgICAgYWxsb3dmdWxsc2NyZWVuDQogICAgICAgICAgICA+PC9pZnJhbWU+DQogICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICA8ZGl2IGNsYXNzPSJ5dC1yZWYiPg0KICAgICAgICAgICAg8J+UlyBTdW5saWtlIFZpZGVvIHRpbWluZzogPGEgaHJlZj0iaHR0cHM6Ly95b3V0dS5iZS96YTF0c3Q0OExEYyIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiPlNlZSAke3RvcGljLnZpZGVvVGltZX08L2E+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICAgIDxoMz7wn46sIEFuaW1hdGVkIERlbW88L2gzPg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImFuaW0tY29udGFpbmVyIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFuaW0taGVhZGVyIj4NCiAgICAgICAgICAgICAgPHNwYW4+QW5pbWF0aW9uOiA8c3Ryb25nPiR7dG9waWMuYW5pbWF0aW9uVHlwZX08L3N0cm9uZz48L3NwYW4+DQogICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0icmVzdGFydEFuaW1hdGlvbigpIj5SZXBsYXk8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGNhbnZhcyBpZD0iYW5pbUNhbnZhcyI+PC9jYW52YXM+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgICR7dG9waWMuaWQgPT09ICJwaC1zY2FsZSIgPyBgDQogICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgICAgICA8aDM+8J+nqiBJbnRlcmFjdGl2ZSBwSCBTaW11bGF0b3I8L2gzPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icGgtc2xpZGVyIj4NCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGgtdmFsdWUiIGlkPSJwaFZhbHVlIj5wSDogNy4wIChOZXV0cmFsKTwvZGl2Pg0KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFuZ2UiIGlkPSJwaFNsaWRlciIgbWluPSIwIiBtYXg9IjE0IiB2YWx1ZT0iNyIgc3RlcD0iMC4xIj4NCiAgICAgICAgICAgICAgPGNhbnZhcyBpZD0icGhTY2FsZUNhbnZhcyIgc3R5bGU9IndpZHRoOjEwMCU7IGhlaWdodDo2MHB4OyBtYXJnaW4tdG9wOjhweDsiPjwvY2FudmFzPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgIGAgOiAnJ30NCg0KICAgICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgICA8aDM+8J+SoSBOQ0VSVCBFeGFtIEhpbnQ8L2gzPg0KICAgICAgICAgIDxwPiR7dG9waWMubmNlcnRIaW50fTwvcD4NCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgICAgPGgzPvCfp6AgUXVpY2sgTWluZCBNYXA8L2gzPg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1pbmRtYXAiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW0tbm9kZSI+PHN0cm9uZz5LZXkgSWRlYTwvc3Ryb25nPjxici8+JHt0b3BpYy50aXRsZX08L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+S2V5d29yZHM8L3N0cm9uZz48YnIvPkFjaWQsIEJhc2UsIFNhbHQsIEluZGljYXRvciwgcEg8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+UmVtZW1iZXI8L3N0cm9uZz48YnIvPkFjaWQgKyBCYXNlIOKGkiBTYWx0ICsgV2F0ZXI8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+Qm9hcmQgRm9jdXM8L3N0cm9uZz48YnIvPkRlZmluaXRpb25zICsgZXF1YXRpb25zICsgZGFpbHktbGlmZSB1c2VzPC9kaXY+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgICR7cXVpekh0bWx9DQogICAgICA8L2Rpdj4NCiAgICBgOw0KDQogICAgc2V0dXBBbmltYXRpb24odG9waWMuYW5pbWF0aW9uVHlwZSk7DQogICAgaWYgKHRvcGljLmlkID09PSAicGgtc2NhbGUiKSBzZXR1cFBoU2ltdWxhdG9yKCk7DQogIH0NCg0KICAvLyBRdWl6IEhhbmRsZXINCiAgd2luZG93LmNoZWNrUXVpeiA9IGZ1bmN0aW9uKHNlbGVjdGVkLCBjb3JyZWN0KSB7DQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1aXotb3B0aW9ucyBidXR0b24nKS5mb3JFYWNoKChidG4sIGkpID0+IHsNCiAgICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7DQogICAgICBpZiAoaSA9PT0gY29ycmVjdCkgYnRuLmNsYXNzTGlzdC5hZGQoJ2NvcnJlY3QnKTsNCiAgICB9KTsNCiAgICBjb25zdCBleHBsYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aXotZXhwbGFpbicpOw0KICAgIGlmIChleHBsYWluKSBleHBsYWluLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICB9Ow0KDQogIC8vIC0tLS0gQ2FudmFzIHNpemluZyAoRFBSLXNhZmUpIC0tLS0NCiAgZnVuY3Rpb24gZml0Q2FudmFzVG9DU1MoY2FudmFzLCBjdHgpIHsNCiAgICBjb25zdCBkcHIgPSBNYXRoLm1heCgxLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTsNCiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOw0KICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IocmVjdC53aWR0aCAqIGRwcik7DQogICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IocmVjdC5oZWlnaHQgKiBkcHIpOw0KICAgIC8vIFJlc2V0IHRyYW5zZm9ybSB0aGVuIHNjYWxlIHRvIENTUyBwaXhlbHMNCiAgICBjdHguc2V0VHJhbnNmb3JtKGRwciwgMCwgMCwgZHByLCAwLCAwKTsNCiAgICByZXR1cm4geyB3OiByZWN0LndpZHRoLCBoOiByZWN0LmhlaWdodCwgZHByIH07DQogIH0NCg0KICAvLyBBbmltYXRpb24gRW5naW5lDQogIGZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHR5cGUpIHsNCiAgICBjdXJyZW50QW5pbWF0aW9uVHlwZSA9IHR5cGU7DQoNCiAgICAvLyBjYW5jZWwgb2xkIGxvb3ANCiAgICBpZiAoYW5pbWF0aW9uTG9vcCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uTG9vcCk7DQoNCiAgICBhbmltQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuaW1DYW52YXMiKTsNCiAgICBpZiAoIWFuaW1DYW52YXMpIHJldHVybjsNCiAgICBhbmltQ3R4ID0gYW5pbUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KDQogICAgZml0Q2FudmFzVG9DU1MoYW5pbUNhbnZhcywgYW5pbUN0eCk7DQogICAgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsNCg0KICAgIGZ1bmN0aW9uIGxvb3Aobm93KSB7DQogICAgICBjb25zdCB0ID0gKG5vdyAtIHQwKSAvIDEwMDA7DQogICAgICBjb25zdCB7IHcsIGggfSA9IGZpdENhbnZhc1RvQ1NTKGFuaW1DYW52YXMsIGFuaW1DdHgpOw0KICAgICAgZHJhd1NjZW5lKGFuaW1DdHgsIHcsIGgsIHQsIGN1cnJlbnRBbmltYXRpb25UeXBlKTsNCiAgICAgIGFuaW1hdGlvbkxvb3AgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQogICAgfQ0KICAgIGFuaW1hdGlvbkxvb3AgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQogIH0NCg0KICBmdW5jdGlvbiByZXN0YXJ0QW5pbWF0aW9uKCkgew0KICAgIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQodCA9PiB0LmlkID09PSBjdXJyZW50VG9waWNJZCk7DQogICAgaWYgKHRvcGljKSBzZXR1cEFuaW1hdGlvbih0b3BpYy5hbmltYXRpb25UeXBlKTsNCiAgfQ0KDQogIC8vIC0tLS0gRHJhd2luZyBoZWxwZXJzIC0tLS0NCiAgZnVuY3Rpb24gbGFiZWwoYywgeCwgeSwgdGV4dCkgew0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlID0gInJnYmEoMTY1LDE4MCwyNTIsMC45NSkiOw0KICAgIGMuZm9udCA9ICJib2xkIDEycHggc3lzdGVtLXVpIjsNCiAgICBjLmZpbGxUZXh0KHRleHQsIHgsIHkpOw0KICAgIGMucmVzdG9yZSgpOw0KICB9DQoNCiAgZnVuY3Rpb24gcm91bmRlZFJlY3QoYywgeCwgeSwgdywgaCwgcikgew0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5tb3ZlVG8oeCArIHIsIHkpOw0KICAgIGMuYXJjVG8oeCArIHcsIHksIHggKyB3LCB5ICsgaCwgcik7DQogICAgYy5hcmNUbyh4ICsgdywgeSArIGgsIHgsIHkgKyBoLCByKTsNCiAgICBjLmFyY1RvKHgsIHkgKyBoLCB4LCB5LCByKTsNCiAgICBjLmFyY1RvKHgsIHksIHggKyB3LCB5LCByKTsNCiAgICBjLmNsb3NlUGF0aCgpOw0KICB9DQoNCiAgZnVuY3Rpb24gZHJhd0JlYWtlcihjLCB4LCB5LCB3LCBoLCBsaXF1aWRMZXZlbCwgbGlxdWlkQ29sb3IsIG91dGxpbmU9InJnYmEoMjI2LDIzMiwyNDAsMC45NSkiKSB7DQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZSA9IG91dGxpbmU7DQogICAgYy5saW5lV2lkdGggPSAyOw0KICAgIHJvdW5kZWRSZWN0KGMsIHgsIHksIHcsIGgsIDEwKTsNCiAgICBjLnN0cm9rZSgpOw0KDQogICAgLy8gbGlxdWlkDQogICAgY29uc3QgbHZsID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbGlxdWlkTGV2ZWwpKTsNCiAgICBjb25zdCBsaCA9IGggKiBsdmw7DQogICAgYy5maWxsU3R5bGUgPSBsaXF1aWRDb2xvcjsNCiAgICBjLmZpbGxSZWN0KHggKyA0LCB5ICsgKGggLSBsaCkgKyA0LCB3IC0gOCwgbGggLSA4KTsNCg0KICAgIC8vIHNoaW5lDQogICAgYy5maWxsU3R5bGUgPSAicmdiYSgyNDgsMjUwLDI1MiwwLjA4KSI7DQogICAgYy5maWxsUmVjdCh4ICsgMTAsIHkgKyA4LCAxMCwgaCAtIDE2KTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGRvdChjLCB4LCB5LCByLCBjb2xvcikgew0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5maWxsU3R5bGUgPSBjb2xvcjsNCiAgICBjLmFyYyh4LCB5LCByLCAwLCBNYXRoLlBJICogMik7DQogICAgYy5maWxsKCk7DQogIH0NCg0KICBmdW5jdGlvbiBkcmF3TGFiQmFja2dyb3VuZChjLCB3LCBoKSB7DQogICAgLy8gYmFjaw0KICAgIGNvbnN0IGcgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDAsIGgpOw0KICAgIGcuYWRkQ29sb3JTdG9wKDAsICIjMTExYTJjIik7DQogICAgZy5hZGRDb2xvclN0b3AoMSwgIiMwYjEyMjMiKTsNCiAgICBjLmZpbGxTdHlsZSA9IGc7DQogICAgYy5maWxsUmVjdCgwLCAwLCB3LCBoKTsNCiAgICAvLyB0YWJsZQ0KICAgIGMuZmlsbFN0eWxlID0gIiMyNzM0NDkiOw0KICAgIGMuZmlsbFJlY3QoMCwgaCAqIDAuNzYsIHcsIGggKiAwLjI0KTsNCiAgICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDU5LDEzMCwyNDYsMC4wOCkiOw0KICAgIGMuZmlsbFJlY3QoMCwgaCAqIDAuNzYsIHcsIDgpOw0KICB9DQoNCiAgLy8gLS0tLSBTY2VuZSByb3V0ZXIgLS0tLQ0KICBmdW5jdGlvbiBkcmF3U2NlbmUoYywgdywgaCwgdCwgdHlwZSkgew0KICAgIGMuY2xlYXJSZWN0KDAsIDAsIHcsIGgpOw0KICAgIGRyYXdMYWJCYWNrZ3JvdW5kKGMsIHcsIGgpOw0KDQogICAgaWYgKHR5cGUgPT09ICJsaXRtdXNUZXN0IikgZHJhd0xpdG11c1Rlc3QoYywgdywgaCwgdCk7DQogICAgZWxzZSBpZiAodHlwZSA9PT0gImNvbmNlbnRyYXRpb24iKSBkcmF3Q29uY2VudHJhdGlvbihjLCB3LCBoLCB0KTsNCiAgICBlbHNlIGlmICh0eXBlID09PSAiYmFzZVN0cmVuZ3RoIikgZHJhd0Jhc2VTdHJlbmd0aChjLCB3LCBoLCB0KTsNCiAgICBlbHNlIGlmICh0eXBlID09PSAiaW5kaWNhdG9yQ2hhbmdlIikgZHJhd0luZGljYXRvckNoYW5nZShjLCB3LCBoLCB0KTsNCiAgICBlbHNlIGlmICh0eXBlID09PSAibmV1dHJhbGl6YXRpb24iKSBkcmF3TmV1dHJhbGl6YXRpb24oYywgdywgaCwgdCk7DQogICAgZWxzZSBpZiAodHlwZSA9PT0gInBoU2NhbGUiKSBkcmF3UGhTY2FsZVN0YXRpYyhjLCB3LCBoLCB0KTsNCiAgICBlbHNlIGlmICh0eXBlID09PSAic2FsdFByZXAiKSBkcmF3U2FsdFByZXAoYywgdywgaCwgdCk7DQogICAgZWxzZSB7DQogICAgICBsYWJlbChjLCAxNCwgMjAsICJObyBhbmltYXRpb24gbWFwcGVkIGZvcjogIiArIHR5cGUpOw0KICAgIH0NCiAgfQ0KDQogIC8vIC0tLS0gQW5pbWF0aW9ucyAoQUxMIGltcGxlbWVudGVkKSAtLS0tDQoNCiAgLy8gMSkgTGl0bXVzIHRlc3Q6IHN0cmlwIG1vdmVzIGJldHdlZW4gYWNpZC9iYXNlIGJlYWtlcnMgYW5kIGNoYW5nZXMgY29sb3VyDQogIGZ1bmN0aW9uIGRyYXdMaXRtdXNUZXN0KGMsIHcsIGgsIHQpIHsNCiAgICBjb25zdCBieDEgPSB3ICogMC4xOCwgYnkgPSBoICogMC4xOCwgYncgPSB3ICogMC4yMiwgYmggPSBoICogMC41NTsNCiAgICBjb25zdCBieDIgPSB3ICogMC42MDsNCg0KICAgIC8vIGFjaWQgYmVha2VyIChIQ2wpDQogICAgZHJhd0JlYWtlcihjLCBieDEsIGJ5LCBidywgYmgsIDAuNTUsICJyZ2JhKDIzOSw2OCw2OCwwLjM1KSIpOw0KICAgIGxhYmVsKGMsIGJ4MSwgYnkgLSAxMCwgIkFjaWQgKEhDbCkiKTsNCg0KICAgIC8vIGJhc2UgYmVha2VyIChOYU9IKQ0KICAgIGRyYXdCZWFrZXIoYywgYngyLCBieSwgYncsIGJoLCAwLjU1LCAicmdiYSgzNCwxOTcsOTQsMC4zMCkiKTsNCiAgICBsYWJlbChjLCBieDIsIGJ5IC0gMTAsICJCYXNlIChOYU9IKSIpOw0KDQogICAgLy8gbGl0bXVzIHN0cmlwIG1vdmluZyBsZWZ0LXJpZ2h0DQogICAgY29uc3QgcGhhc2UgPSAwLjUgKyAwLjUgKiBNYXRoLnNpbih0ICogMS4yKTsNCiAgICBjb25zdCB4ID0gYngxICsgcGhhc2UgKiAoYngyIC0gYngxKTsNCiAgICBjb25zdCBzdHJpcFkgPSBieSArIGJoICogMC4zNTsNCg0KICAgIC8vIHN0cmlwIGJvZHkNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDIyNiwyMzIsMjQwLDAuOTUpIjsNCiAgICBjLmZpbGxSZWN0KHggKyBidyowLjM1LCBzdHJpcFkgLSA2MCwgMTYsIDEyMCk7DQoNCiAgICAvLyBkaXBwZWQgZW5kIGNvbG91ciBjaGFuZ2VzOiBpbiBhY2lkIC0+IHJlZCwgaW4gYmFzZSAtPiBibHVlDQogICAgY29uc3QgZGlwcGVkQ29sb3IgPSAocGhhc2UgPCAwLjUpID8gInJnYmEoMjQ4LDExMywxMTMsMSkiIDogInJnYmEoOTYsMTY1LDI1MCwxKSI7DQogICAgYy5maWxsU3R5bGUgPSBkaXBwZWRDb2xvcjsNCiAgICBjLmZpbGxSZWN0KHggKyBidyowLjM1LCBzdHJpcFkgKyAxNSwgMTYsIDQ1KTsNCg0KICAgIC8vIGxhYmVsDQogICAgYy5maWxsU3R5bGUgPSAicmdiYSgxNjUsMTgwLDI1MiwwLjk1KSI7DQogICAgYy5mb250ID0gIjEycHggc3lzdGVtLXVpIjsNCiAgICBjLmZpbGxUZXh0KCJMaXRtdXMgc3RyaXAiLCB4ICsgYncqMC4zNSAtIDEwLCBzdHJpcFkgLSA3MCk7DQogICAgYy5yZXN0b3JlKCk7DQogIH0NCg0KICAvLyAyKSBDb25jZW50cmF0aW9uOiBzaG93IOKAnHBhcnRpY2xlIGRlbnNpdHnigJ0gZGlmZmVyZW5jZQ0KICBmdW5jdGlvbiBkcmF3Q29uY2VudHJhdGlvbihjLCB3LCBoLCB0KSB7DQogICAgY29uc3QgYngxID0gdyAqIDAuMTgsIGJ5ID0gaCAqIDAuMTgsIGJ3ID0gdyAqIDAuMjgsIGJoID0gaCAqIDAuNTU7DQogICAgY29uc3QgYngyID0gdyAqIDAuNTY7DQoNCiAgICBkcmF3QmVha2VyKGMsIGJ4MSwgYnksIGJ3LCBiaCwgMC42MCwgInJnYmEoMjM5LDY4LDY4LDAuMjUpIik7DQogICAgbGFiZWwoYywgYngxLCBieSAtIDEwLCAiQ29uY2VudHJhdGVkIEFjaWQiKTsNCg0KICAgIGRyYXdCZWFrZXIoYywgYngyLCBieSwgYncsIGJoLCAwLjYwLCAicmdiYSgyMzksNjgsNjgsMC4xMikiKTsNCiAgICBsYWJlbChjLCBieDIsIGJ5IC0gMTAsICJEaWx1dGUgQWNpZCIpOw0KDQogICAgLy8gcGFydGljbGVzOiBtb3JlIG9uIGxlZnQsIGZld2VyIG9uIHJpZ2h0DQogICAgY29uc3Qgc2VlZCA9IE1hdGguZmxvb3IodCAqIDEwKTsNCiAgICBmdW5jdGlvbiBwYXJ0aWNsZUZpZWxkKHgwLCBjb3VudCwgY29sb3JBLCBjb2xvckIpIHsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgew0KICAgICAgICBjb25zdCBweCA9IHgwICsgMTQgKyAoKGkgKiAzNyArIHNlZWQgKiAxMSkgJSBNYXRoLmZsb29yKGJ3IC0gMjgpKTsNCiAgICAgICAgY29uc3QgcHkgPSBieSArIGJoICogMC40NSArICgoKGkgKiA1MyArIHNlZWQgKiA3KSAlIE1hdGguZmxvb3IoYmggKiAwLjQ1KSkgKiAwLjkpOw0KICAgICAgICBjb25zdCByID0gMiArICgoaSArIHNlZWQpICUgMykgKiAwLjY7DQogICAgICAgIGNvbnN0IGNvbCA9IChpICUgMiA9PT0gMCkgPyBjb2xvckEgOiBjb2xvckI7DQogICAgICAgIGRvdChjLCBweCwgcHksIHIsIGNvbCk7DQogICAgICB9DQogICAgfQ0KDQogICAgcGFydGljbGVGaWVsZChieDEsIDEyMCwgInJnYmEoMjQ4LDExMywxMTMsMC45NSkiLCAicmdiYSgyNTMsMTY0LDE3NSwwLjkpIik7DQogICAgcGFydGljbGVGaWVsZChieDIsIDQ1LCAicmdiYSgyNDgsMTEzLDExMywwLjc1KSIsICJyZ2JhKDI1MywxNjQsMTc1LDAuNjUpIik7DQoNCiAgICAvLyBzbWFsbCB3YXRlciBkcm9wcyBvbiBkaWx1dGUgc2lkZQ0KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7DQogICAgICBjb25zdCBkeCA9IGJ4MiArIGJ3ICogMC43MiArIE1hdGguc2luKHQgKiAyICsgaSkgKiA2Ow0KICAgICAgY29uc3QgZHkgPSBieSArIDMwICsgaSAqIDE2ICsgKE1hdGguY29zKHQgKiAxLjcgKyBpKSAqIDIpOw0KICAgICAgZG90KGMsIGR4LCBkeSwgNCwgInJnYmEoNTYsMTg5LDI0OCwwLjkpIik7DQogICAgfQ0KICAgIGxhYmVsKGMsIGJ4MiArIGJ3ICogMC42MiwgYnkgKyAxOCwgIk1vcmUgd2F0ZXIiKTsNCiAgfQ0KDQogIC8vIDMpIEJhc2Ugc3RyZW5ndGg6IHN0cm9uZyBiYXNlIGdpdmVzIG1vcmUgT0gtIHBhcnRpY2xlcyB0aGFuIHdlYWsgYmFzZQ0KICBmdW5jdGlvbiBkcmF3QmFzZVN0cmVuZ3RoKGMsIHcsIGgsIHQpIHsNCiAgICBjb25zdCBieDEgPSB3ICogMC4xOCwgYnkgPSBoICogMC4xOCwgYncgPSB3ICogMC4yOCwgYmggPSBoICogMC41NTsNCiAgICBjb25zdCBieDIgPSB3ICogMC41NjsNCg0KICAgIGRyYXdCZWFrZXIoYywgYngxLCBieSwgYncsIGJoLCAwLjU4LCAicmdiYSgzNCwxOTcsOTQsMC4yMikiKTsNCiAgICBsYWJlbChjLCBieDEsIGJ5IC0gMTAsICJTdHJvbmcgQmFzZSAoTmFPSCkiKTsNCg0KICAgIGRyYXdCZWFrZXIoYywgYngyLCBieSwgYncsIGJoLCAwLjU4LCAicmdiYSgzNCwxOTcsOTQsMC4xNCkiKTsNCiAgICBsYWJlbChjLCBieDIsIGJ5IC0gMTAsICJXZWFrIEJhc2UgKE5I4oKDKSIpOw0KDQogICAgY29uc3Qgc2VlZCA9IE1hdGguZmxvb3IodCAqIDEyKTsNCg0KICAgIGZ1bmN0aW9uIGlvbnMoeDAsIGNvdW50KSB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsNCiAgICAgICAgY29uc3QgcHggPSB4MCArIDE4ICsgKChpICogNDEgKyBzZWVkICogMTMpICUgTWF0aC5mbG9vcihidyAtIDM2KSk7DQogICAgICAgIGNvbnN0IHB5ID0gYnkgKyBiaCAqIDAuNDIgKyAoKChpICogNjEgKyBzZWVkICogMTcpICUgTWF0aC5mbG9vcihiaCAqIDAuNDgpKSk7DQogICAgICAgIGNvbnN0IGlzT0ggPSAoaSAlIDMgIT09IDApOw0KICAgICAgICBkb3QoYywgcHgsIHB5LCAzLCBpc09IID8gInJnYmEoMTQ3LDE5NywyNTMsMC45NSkiIDogInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIpOw0KICAgICAgICBjLnNhdmUoKTsNCiAgICAgICAgYy5maWxsU3R5bGUgPSAicmdiYSgyLDYsMjMsMC45KSI7DQogICAgICAgIGMuZm9udCA9ICIxMHB4IHN5c3RlbS11aSI7DQogICAgICAgIGMuZmlsbFRleHQoaXNPSCA/ICJPSCIgOiAiTmEiLCBweCAtIDgsIHB5ICsgMyk7DQogICAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGlvbnMoYngxLCA3MCk7ICAvLyBzdHJvbmcgYmFzZSA9PiBtb3JlIGlvbnMNCiAgICBpb25zKGJ4MiwgMjUpOyAgLy8gd2VhayBiYXNlID0+IGZld2VyIGlvbnMNCg0KICAgIGxhYmVsKGMsIGJ4MSArIDQsIGJ5ICsgYmggKyAyNCwgIk1vcmUgT0jigbsg4oaSIHN0cm9uZ2VyIGJhc2UiKTsNCiAgICBsYWJlbChjLCBieDIgKyA0LCBieSArIGJoICsgMjQsICJGZXdlciBPSOKBuyDihpIgd2Vha2VyIGJhc2UiKTsNCiAgfQ0KDQogIC8vIDQpIEluZGljYXRvciBjaGFuZ2U6IGRyb3BwZXIgZmFsbHMsIHNvbHV0aW9uIGNoYW5nZXMgY29sb3IgKHBoZW5vbHBodGhhbGVpbiBzdHlsZSkNCiAgZnVuY3Rpb24gZHJhd0luZGljYXRvckNoYW5nZShjLCB3LCBoLCB0KSB7DQogICAgY29uc3QgYnggPSB3ICogMC4zMiwgYnkgPSBoICogMC4xOCwgYncgPSB3ICogMC4zNiwgYmggPSBoICogMC41NTsNCiAgICBjb25zdCBjeWNsZSA9ICh0ICUgNCkgLyA0OyAvLyAwLi4xDQoNCiAgICAvLyBjb2xvciB0cmFuc2l0aW9uOiBjb2xvdXJsZXNzIC0+IHBpbmsgLT4gY29sb3VybGVzcw0KICAgIGNvbnN0IHBpbmtBbXQgPSAoY3ljbGUgPCAwLjUpID8gKGN5Y2xlIC8gMC41KSA6ICgxIC0gKGN5Y2xlIC0gMC41KSAvIDAuNSk7DQogICAgY29uc3QgbGlxdWlkID0gYHJnYmEoJHsyMDAgKyA1NSpwaW5rQW10fSwgJHs4MCArIDgwKigxLXBpbmtBbXQpfSwgJHsxNjAgKyA1MCpwaW5rQW10fSwgJHswLjE4ICsgMC4yMipwaW5rQW10fSlgOw0KDQogICAgZHJhd0JlYWtlcihjLCBieCwgYnksIGJ3LCBiaCwgMC41OCwgbGlxdWlkKTsNCiAgICBsYWJlbChjLCBieCwgYnkgLSAxMCwgIkluZGljYXRvciB0ZXN0IChQaGVub2xwaHRoYWxlaW4pIik7DQoNCiAgICAvLyBkcm9wcGVyDQogICAgY29uc3QgZHggPSBieCArIGJ3ICogMC44MiwgZHkgPSBieSAtIDEwOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlID0gInJnYmEoMjI2LDIzMiwyNDAsMC45KSI7DQogICAgYy5maWxsUmVjdChkeCwgZHksIDEwLCA3MCk7DQogICAgYy5maWxsU3R5bGUgPSAicmdiYSgxNDgsMTYzLDE4NCwwLjkpIjsNCiAgICBjLmZpbGxSZWN0KGR4LTEwLCBkeSsxMCwgMzAsIDE2KTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGRyb3BzIGZhbGxpbmcNCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgew0KICAgICAgY29uc3QgcCA9ICgodCowLjggKyBpKjAuMTgpICUgMSk7DQogICAgICBjb25zdCBkcm9wWSA9IGR5ICsgNTUgKyBwICogKGJoICogMC41NSk7DQogICAgICBjb25zdCBkcm9wWCA9IGR4ICsgNSArIE1hdGguc2luKHQqMyArIGkpICogMjsNCiAgICAgIGRvdChjLCBkcm9wWCwgZHJvcFksIDMsICJyZ2JhKDI0OCwyNTAsMjUyLDAuODUpIik7DQogICAgfQ0KDQogICAgbGFiZWwoYywgYnggKyAxMCwgYnkgKyBiaCArIDI0LCAiQmFzZSDihpIgcGluaywgQWNpZCDihpIgY29sb3VybGVzcyIpOw0KICB9DQoNCiAgLy8gNSkgTmV1dHJhbGl6YXRpb246IEgrIGFuZCBPSC0gcGFydGljbGVzIGNvbGxpZGUgdG8gZm9ybSB3YXRlcg0KICBmdW5jdGlvbiBkcmF3TmV1dHJhbGl6YXRpb24oYywgdywgaCwgdCkgew0KICAgIGNvbnN0IGN4ID0gdyAqIDAuNTAsIGN5ID0gaCAqIDAuNDU7DQogICAgY29uc3QgYm94VyA9IHcgKiAwLjcyLCBib3hIID0gaCAqIDAuNTI7DQogICAgY29uc3QgeDAgPSAodyAtIGJveFcpIC8gMiwgeTAgPSBoICogMC4xODsNCg0KICAgIC8vIHJlYWN0aW9uIGNoYW1iZXINCiAgICBjLnNhdmUoKTsNCiAgICBjLnN0cm9rZVN0eWxlID0gInJnYmEoNTYsMTg5LDI0OCwwLjU1KSI7DQogICAgYy5saW5lV2lkdGggPSAyOw0KICAgIHJvdW5kZWRSZWN0KGMsIHgwLCB5MCwgYm94VywgYm94SCwgMTQpOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQoNCiAgICBsYWJlbChjLCB4MCwgeTAgLSAxMCwgIkjigbogKyBPSOKBuyDihpIgSOKCgk8gKE5ldXRyYWxpemF0aW9uKSIpOw0KDQogICAgLy8gbW92aW5nIGlvbnMNCiAgICBjb25zdCBOID0gMjI7DQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHsNCiAgICAgIGNvbnN0IHAgPSAodCAqIDAuMjIgKyBpIC8gTikgJSAxOw0KICAgICAgY29uc3QgbGVmdFggPSB4MCArIDI1ICsgcCAqIChib3hXICogMC40NSk7DQogICAgICBjb25zdCByaWdodFggPSB4MCArIGJveFcgLSAyNSAtIHAgKiAoYm94VyAqIDAuNDUpOw0KICAgICAgY29uc3QgeSA9IHkwICsgMzAgKyAoKGkgKiAyOSkgJSBNYXRoLmZsb29yKGJveEggLSA2MCkpICsgTWF0aC5zaW4odCoxLjUgKyBpKSAqIDQ7DQoNCiAgICAgIC8vIEgrDQogICAgICBkb3QoYywgbGVmdFgsIHksIDUsICJyZ2JhKDI0OCwxMTMsMTEzLDAuOTUpIik7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZmlsbFN0eWxlID0gInJnYmEoMiw2LDIzLDAuOTUpIjsNCiAgICAgIGMuZm9udCA9ICIxMHB4IHN5c3RlbS11aSI7DQogICAgICBjLmZpbGxUZXh0KCJIKyIsIGxlZnRYIC0gNywgeSArIDMpOw0KICAgICAgYy5yZXN0b3JlKCk7DQoNCiAgICAgIC8vIE9ILQ0KICAgICAgZG90KGMsIHJpZ2h0WCwgeSwgNSwgInJnYmEoOTYsMTY1LDI1MCwwLjk1KSIpOw0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDIsNiwyMywwLjk1KSI7DQogICAgICBjLmZvbnQgPSAiMTBweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dCgiT0gtIiwgcmlnaHRYIC0gMTAsIHkgKyAzKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KDQogICAgICAvLyB3YXRlciBmb3JtcyBuZWFyIGNlbnRlciAoc3BhcmtsZSkNCiAgICAgIGNvbnN0IG14ID0gKGxlZnRYICsgcmlnaHRYKSAvIDI7DQogICAgICBjb25zdCBkaXN0ID0gTWF0aC5hYnMocmlnaHRYIC0gbGVmdFgpOw0KICAgICAgaWYgKGRpc3QgPCBib3hXICogMC4xOCkgew0KICAgICAgICBkb3QoYywgbXgsIHksIDYsICJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICAgICAgICBjLnNhdmUoKTsNCiAgICAgICAgYy5maWxsU3R5bGUgPSAicmdiYSgyLDYsMjMsMC45NSkiOw0KICAgICAgICBjLmZvbnQgPSAiMTBweCBzeXN0ZW0tdWkiOw0KICAgICAgICBjLmZpbGxUZXh0KCJI4oKCTyIsIG14IC0gMTAsIHkgKyAzKTsNCiAgICAgICAgYy5yZXN0b3JlKCk7DQogICAgICB9DQogICAgfQ0KDQogICAgLy8gc2FsdCBub3RlDQogICAgbGFiZWwoYywgeDAgKyAxMCwgeTAgKyBib3hIICsgMjIsICJBY2lkICsgQmFzZSDihpIgU2FsdCArIFdhdGVyIik7DQogIH0NCg0KICAvLyA2KSBwSCBzY2FsZSBhbmltYXRpb24gKGFuaW1hdGVkIHBvaW50ZXIpICsgZ3JhZGllbnQgYmFyDQogIGZ1bmN0aW9uIGRyYXdQaFNjYWxlU3RhdGljKGMsIHcsIGgsIHQpIHsNCiAgICBjb25zdCB4ID0gdyAqIDAuMTIsIHkgPSBoICogMC40MCwgYmFyVyA9IHcgKiAwLjc2LCBiYXJIID0gMjY7DQoNCiAgICAvLyBncmFkaWVudA0KICAgIGNvbnN0IGcgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KHgsIDAsIHggKyBiYXJXLCAwKTsNCiAgICBnLmFkZENvbG9yU3RvcCgwLjAwLCAicmdiYSgyNDgsMTEzLDExMywwLjk1KSIpOyAvLyByZWQNCiAgICBnLmFkZENvbG9yU3RvcCgwLjMwLCAicmdiYSgyNTEsMTQ2LDYwLDAuOTUpIik7ICAvLyBvcmFuZ2UNCiAgICBnLmFkZENvbG9yU3RvcCgwLjUwLCAicmdiYSgzNCwxOTcsOTQsMC45NSkiKTsgICAvLyBncmVlbg0KICAgIGcuYWRkQ29sb3JTdG9wKDAuNzAsICJyZ2JhKDU5LDEzMCwyNDYsMC45NSkiKTsgIC8vIGJsdWUNCiAgICBnLmFkZENvbG9yU3RvcCgxLjAwLCAicmdiYSgxMzksOTIsMjQ2LDAuOTUpIik7ICAvLyB2aW9sZXQNCg0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlID0gInJnYmEoMjI2LDIzMiwyNDAsMC4wOCkiOw0KICAgIHJvdW5kZWRSZWN0KGMsIHggLSAxMCwgeSAtIDMwLCBiYXJXICsgMjAsIDEwMCwgMTQpOw0KICAgIGMuZmlsbCgpOw0KDQogICAgYy5maWxsU3R5bGUgPSBnOw0KICAgIHJvdW5kZWRSZWN0KGMsIHgsIHksIGJhclcsIGJhckgsIDEwKTsNCiAgICBjLmZpbGwoKTsNCg0KICAgIGMuc3Ryb2tlU3R5bGUgPSAicmdiYSgyMjYsMjMyLDI0MCwwLjcpIjsNCiAgICBjLnN0cm9rZSgpOw0KDQogICAgLy8gdGlja3MgMC4uMTQNCiAgICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDIyNiwyMzIsMjQwLDAuOCkiOw0KICAgIGMuZm9udCA9ICIxMXB4IHN5c3RlbS11aSI7DQogICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMTQ7IGkrKykgew0KICAgICAgY29uc3QgdHggPSB4ICsgKGkgLyAxNCkgKiBiYXJXOw0KICAgICAgYy5maWxsUmVjdCh0eCAtIDEsIHkgKyBiYXJIICsgNiwgMiwgOCk7DQogICAgICBpZiAoaSAlIDIgPT09IDApIGMuZmlsbFRleHQoaSwgdHggLSA0LCB5ICsgYmFySCArIDI4KTsNCiAgICB9DQoNCiAgICAvLyBtb3ZpbmcgcG9pbnRlciAoZGVtbykgZnJvbSAwLi4xNA0KICAgIGNvbnN0IGRlbW9QaCA9ICg3ICsgNyAqIE1hdGguc2luKHQgKiAwLjcpKTsgLy8gMC4uMTQgYXBwcm94DQogICAgY29uc3QgcHggPSB4ICsgKGRlbW9QaCAvIDE0KSAqIGJhclc7DQoNCiAgICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDIsNiwyMywwLjk1KSI7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhweCwgeSAtIDYpOw0KICAgIGMubGluZVRvKHB4IC0gMTAsIHkgLSAyNik7DQogICAgYy5saW5lVG8ocHggKyAxMCwgeSAtIDI2KTsNCiAgICBjLmNsb3NlUGF0aCgpOw0KICAgIGMuZmlsbCgpOw0KDQogICAgYy5maWxsU3R5bGUgPSAicmdiYSgyMjYsMjMyLDI0MCwwLjk1KSI7DQogICAgYy5mb250ID0gImJvbGQgMTJweCBzeXN0ZW0tdWkiOw0KICAgIGMuZmlsbFRleHQoInBIIOKJiCAiICsgZGVtb1BoLnRvRml4ZWQoMSksIHB4IC0gMjIsIHkgLSAzNCk7DQoNCiAgICBsYWJlbChjLCB4LCB5IC0gNTAsICJwSCBTY2FsZSAoMOKAkzE0KTogQWNpZGljIDw3IHwgTmV1dHJhbCA3IHwgQmFzaWMgPjciKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgfQ0KDQogIC8vIDcpIFNhbHRzIHByZXA6IGVsZWN0cm9seXNpcyBjZWxsIChicmluZSkgd2l0aCBidWJibGVzIGF0IGVsZWN0cm9kZXMNCiAgZnVuY3Rpb24gZHJhd1NhbHRQcmVwKGMsIHcsIGgsIHQpIHsNCiAgICBjb25zdCB4ID0gdyAqIDAuMTgsIHkgPSBoICogMC4xOCwgYm94VyA9IHcgKiAwLjY0LCBib3hIID0gaCAqIDAuNTU7DQoNCiAgICAvLyB0YW5rDQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGUgPSAicmdiYSg1NiwxODksMjQ4LDAuMDgpIjsNCiAgICByb3VuZGVkUmVjdChjLCB4LCB5LCBib3hXLCBib3hILCAxNik7DQogICAgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZSA9ICJyZ2JhKDU2LDE4OSwyNDgsMC41NSkiOw0KICAgIGMubGluZVdpZHRoID0gMjsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KDQogICAgbGFiZWwoYywgeCwgeSAtIDEwLCAiRWxlY3Ryb2x5c2lzIG9mIGJyaW5lIChOYUNsICsgSOKCgk8pIik7DQoNCiAgICAvLyBsaXF1aWQNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDU5LDEzMCwyNDYsMC4xMCkiOw0KICAgIGMuZmlsbFJlY3QoeCArIDEwLCB5ICsgNDAsIGJveFcgLSAyMCwgYm94SCAtIDU1KTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGVsZWN0cm9kZXMNCiAgICBjb25zdCBlMXggPSB4ICsgYm94VyAqIDAuMzI7DQogICAgY29uc3QgZTJ4ID0geCArIGJveFcgKiAwLjY4Ow0KICAgIGNvbnN0IGV5MSA9IHkgKyA0NTsNCiAgICBjb25zdCBleTIgPSB5ICsgYm94SCAtIDMwOw0KDQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZSA9ICJyZ2JhKDIyNiwyMzIsMjQwLDAuOSkiOw0KICAgIGMubGluZVdpZHRoID0gNjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyhlMXgsIGV5MSk7IGMubGluZVRvKGUxeCwgZXkyKTsgYy5zdHJva2UoKTsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyhlMngsIGV5MSk7IGMubGluZVRvKGUyeCwgZXkyKTsgYy5zdHJva2UoKTsNCg0KICAgIGMuZmlsbFN0eWxlID0gInJnYmEoMjI2LDIzMiwyNDAsMC45KSI7DQogICAgYy5mb250ID0gIjEycHggc3lzdGVtLXVpIjsNCiAgICBjLmZpbGxUZXh0KCJBbm9kZSAoKykg4oaSIENs4oKCIiwgZTF4IC0gNDUsIHkgKyAzMCk7DQogICAgYy5maWxsVGV4dCgiQ2F0aG9kZSAoLSkg4oaSIEjigoIiLCBlMnggLSA1MCwgeSArIDMwKTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGJ1YmJsZXMNCiAgICBmdW5jdGlvbiBidWJibGVzKHhjLCB0b3AsIGJvdHRvbSwgc3BlZWQsIGNvbG9yKSB7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHsNCiAgICAgICAgY29uc3QgcCA9ICgodCAqIHNwZWVkICsgaSAqIDAuMTQpICUgMSk7DQogICAgICAgIGNvbnN0IGJ5ID0gYm90dG9tIC0gcCAqIChib3R0b20gLSB0b3ApOw0KICAgICAgICBjb25zdCBieCA9IHhjICsgTWF0aC5zaW4odCAqIDMgKyBpICogMS43KSAqIDEwOw0KICAgICAgICBkb3QoYywgYngsIGJ5LCAzICsgKGkgJSAzKSwgY29sb3IpOw0KICAgICAgfQ0KICAgIH0NCiAgICBidWJibGVzKGUxeCwgeSArIDUwLCB5ICsgYm94SCAtIDQwLCAwLjgsICJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOyAvLyBDbDItaXNoDQogICAgYnViYmxlcyhlMngsIHkgKyA1MCwgeSArIGJveEggLSA0MCwgMS4xLCAicmdiYSgyNDgsMjUwLDI1MiwwLjg1KSIpOyAvLyBIMi1pc2gNCg0KICAgIC8vIE5hT0ggZm9ybWF0aW9uIGxhYmVsIChpbiBzb2x1dGlvbikNCiAgICBsYWJlbChjLCB4ICsgMTAsIHkgKyBib3hIICsgMjIsICJQcm9kdWN0czogTmFPSCAoaW4gc29sdXRpb24pICsgQ2zigoIoZykgKyBI4oKCKGcpIik7DQogIH0NCg0KICAvLyAtLS0tIHBIIHNpbXVsYXRvciAoZml4ZWQgZm9yIGZsb2F0IHBIKSAtLS0tDQogIGZ1bmN0aW9uIHNldHVwUGhTaW11bGF0b3IoKSB7DQogICAgY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBoU2xpZGVyIik7DQogICAgY29uc3QgdmFsdWVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwaFZhbHVlIik7DQogICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBoU2NhbGVDYW52YXMiKTsNCiAgICBpZiAoIXNsaWRlciB8fCAhdmFsdWVFbCB8fCAhY2FudmFzKSByZXR1cm47DQoNCiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCg0KICAgIGZ1bmN0aW9uIGZpdCgpIHsNCiAgICAgIGNvbnN0IGRwciA9IE1hdGgubWF4KDEsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpOw0KICAgICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IocmVjdC53aWR0aCAqIGRwcik7DQogICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihyZWN0LmhlaWdodCAqIGRwcik7DQogICAgICBjdHguc2V0VHJhbnNmb3JtKGRwciwgMCwgMCwgZHByLCAwLCAwKTsNCiAgICAgIHJldHVybiB7IHc6IHJlY3Qud2lkdGgsIGg6IHJlY3QuaGVpZ2h0IH07DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0UGhMYWJlbChwaCkgew0KICAgICAgaWYgKHBoIDwgMykgcmV0dXJuICJTdHJvbmcgQWNpZCI7DQogICAgICBpZiAocGggPCA3KSByZXR1cm4gIldlYWsgQWNpZCI7DQogICAgICBpZiAoTWF0aC5hYnMocGggLSA3KSA8IDAuMDAwMSkgcmV0dXJuICJOZXV0cmFsIjsNCiAgICAgIGlmIChwaCA8IDExKSByZXR1cm4gIldlYWsgQmFzZSI7DQogICAgICByZXR1cm4gIlN0cm9uZyBCYXNlIjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkcmF3KHBoKSB7DQogICAgICBjb25zdCB7IHcsIGggfSA9IGZpdCgpOw0KICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTsNCg0KICAgICAgLy8gYmFyDQogICAgICBjb25zdCB4ID0gMTAsIHkgPSAxMiwgYmFyVyA9IHcgLSAyMCwgYmFySCA9IDE2Ow0KICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCh4LCAwLCB4ICsgYmFyVywgMCk7DQogICAgICBnLmFkZENvbG9yU3RvcCgwLjAwLCAicmdiYSgyNDgsMTEzLDExMywwLjk1KSIpOw0KICAgICAgZy5hZGRDb2xvclN0b3AoMC4zMCwgInJnYmEoMjUxLDE0Niw2MCwwLjk1KSIpOw0KICAgICAgZy5hZGRDb2xvclN0b3AoMC41MCwgInJnYmEoMzQsMTk3LDk0LDAuOTUpIik7DQogICAgICBnLmFkZENvbG9yU3RvcCgwLjcwLCAicmdiYSg1OSwxMzAsMjQ2LDAuOTUpIik7DQogICAgICBnLmFkZENvbG9yU3RvcCgxLjAwLCAicmdiYSgxMzksOTIsMjQ2LDAuOTUpIik7DQoNCiAgICAgIGN0eC5maWxsU3R5bGUgPSBnOw0KICAgICAgcm91bmRlZFJlY3QoY3R4LCB4LCB5LCBiYXJXLCBiYXJILCA4KTsNCiAgICAgIGN0eC5maWxsKCk7DQogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAicmdiYSgyMjYsMjMyLDI0MCwwLjYpIjsNCiAgICAgIGN0eC5zdHJva2UoKTsNCg0KICAgICAgLy8gcG9pbnRlciBwb3NpdGlvbg0KICAgICAgY29uc3QgcHggPSB4ICsgKHBoIC8gMTQpICogYmFyVzsNCiAgICAgIGN0eC5maWxsU3R5bGUgPSAicmdiYSgyLDYsMjMsMC45NSkiOw0KICAgICAgY3R4LmJlZ2luUGF0aCgpOw0KICAgICAgY3R4Lm1vdmVUbyhweCwgeSArIGJhckggKyAyKTsNCiAgICAgIGN0eC5saW5lVG8ocHggLSA4LCB5ICsgYmFySCArIDIwKTsNCiAgICAgIGN0eC5saW5lVG8ocHggKyA4LCB5ICsgYmFySCArIDIwKTsNCiAgICAgIGN0eC5jbG9zZVBhdGgoKTsNCiAgICAgIGN0eC5maWxsKCk7DQoNCiAgICAgIC8vIHRpY2tzDQogICAgICBjdHguZmlsbFN0eWxlID0gInJnYmEoMjI2LDIzMiwyNDAsMC43NSkiOw0KICAgICAgY3R4LmZvbnQgPSAiMTFweCBzeXN0ZW0tdWkiOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMTQ7IGkrKykgew0KICAgICAgICBjb25zdCB0eCA9IHggKyAoaSAvIDE0KSAqIGJhclc7DQogICAgICAgIGN0eC5maWxsUmVjdCh0eCAtIDEsIDAsIDIsIDYpOw0KICAgICAgICBpZiAoaSAlIDIgPT09IDApIGN0eC5maWxsVGV4dChpLCB0eCAtIDMsIGggLSA2KTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICBzbGlkZXIub25pbnB1dCA9IChlKSA9PiB7DQogICAgICBjb25zdCBwaCA9IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpOw0KICAgICAgdmFsdWVFbC50ZXh0Q29udGVudCA9IGBwSDogJHtwaC50b0ZpeGVkKDEpfSAoJHtnZXRQaExhYmVsKHBoKX0pYDsNCiAgICAgIGRyYXcocGgpOw0KICAgIH07DQoNCiAgICAvLyBpbml0aWFsDQogICAgY29uc3QgaW5pdFBoID0gcGFyc2VGbG9hdChzbGlkZXIudmFsdWUpOw0KICAgIHZhbHVlRWwudGV4dENvbnRlbnQgPSBgcEg6ICR7aW5pdFBoLnRvRml4ZWQoMSl9ICgke2dldFBoTGFiZWwoaW5pdFBoKX0pYDsNCiAgICBkcmF3KGluaXRQaCk7DQoNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gZHJhdyhwYXJzZUZsb2F0KHNsaWRlci52YWx1ZSkpKTsNCiAgfQ0KDQogIC8vIHNlYXJjaA0KICBzZWFyY2hJbnB1dC5vbmlucHV0ID0gKGUpID0+IHJlbmRlck5hdihlLnRhcmdldC52YWx1ZSk7DQoNCiAgLy8gcmVzaXplOiBrZWVwIGFuaW1hdGlvbiBjcmlzcA0KICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gew0KICAgIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQodCA9PiB0LmlkID09PSBjdXJyZW50VG9waWNJZCk7DQogICAgaWYgKHRvcGljKSBzZXR1cEFuaW1hdGlvbih0b3BpYy5hbmltYXRpb25UeXBlKTsNCiAgfSk7DQoNCiAgLy8gaW5pdA0KICByZW5kZXJOYXYoKTsNCiAgc2VsZWN0VG9waWModG9waWNzWzBdLmlkKTsNCjwvc2NyaXB0Pg0KPC9ib2R5Pg0KPC9odG1sPg0K"}, {"id": "ch3", "file": "ch3.html", "title": "Class 10 Science Ch 3 \u2013 Metals & Non-metals", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDMg4oCTIE1ldGFscyAmIE5vbi1tZXRhbHM8L3RpdGxlPg0KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+DQogIDxzdHlsZT4NCiAgICAqIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQ0KICAgIGJvZHl7DQogICAgICBtYXJnaW46MDsNCiAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIEFyaWFsLCBzYW5zLXNlcmlmOw0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzA1MDgxNiAwJSwgIzFlMWI0YiAxMDAlKTsNCiAgICAgIGNvbG9yOiNmMWY1Zjk7DQogICAgICBtaW4taGVpZ2h0OjEwMHZoOw0KICAgIH0NCiAgICBoZWFkZXJ7DQogICAgICBwYWRkaW5nOiAxOHB4IDV2dzsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45NSk7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7DQogICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjEpOw0KICAgICAgcG9zaXRpb246IHN0aWNreTsgdG9wOjA7IHotaW5kZXg6IDUwOw0KICAgIH0NCiAgICBoZWFkZXIgaDF7DQogICAgICBtYXJnaW46MCAwIDhweDsNCiAgICAgIGZvbnQtc2l6ZTogY2xhbXAoMS40cmVtLCA0dncsIDEuODVyZW0pOw0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzIyYzU1ZSwgIzNiODJmNiwgIzhiNWNmNik7DQogICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDp0ZXh0Ow0KICAgICAgYmFja2dyb3VuZC1jbGlwOnRleHQ7DQogICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjp0cmFuc3BhcmVudDsNCiAgICB9DQogICAgLmNvbnRyb2xzeyBkaXNwbGF5OmZsZXg7IGdhcDoxMnB4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGZsZXgtd3JhcDogd3JhcDsgfQ0KICAgIGlucHV0W3R5cGU9InNlYXJjaCJdew0KICAgICAgcGFkZGluZzogOHB4IDE2cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC40KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOCk7DQogICAgICBjb2xvcjojZjFmNWY5Ow0KICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgbWluLXdpZHRoOiAyNDBweDsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl06OnBsYWNlaG9sZGVyeyBjb2xvcjojOTRhM2I4OyB9DQogICAgLnByb2dyZXNzeyBmb250LXNpemU6MC45cmVtOyBjb2xvcjojOTRhM2I4OyB9DQoNCiAgICAubGF5b3V0ew0KICAgICAgZGlzcGxheTpncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyOTBweCAxZnI7DQogICAgICBnYXA6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxOHB4IDV2dyA2MHB4Ow0KICAgICAgbWF4LXdpZHRoOiAxNjAwcHg7DQogICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICB9DQogICAgQG1lZGlhIChtYXgtd2lkdGg6IDEwMDBweCl7IC5sYXlvdXR7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9IH0NCg0KICAgIG5hdnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45NSk7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjMpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEycHgpOw0KICAgICAgbWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDE0MHB4KTsNCiAgICAgIG92ZXJmbG93OmF1dG87DQogICAgfQ0KICAgIG5hdiBoMnsNCiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgIG1hcmdpbjogMCAwIDEycHg7DQogICAgICBjb2xvcjojYTViNGZjOw0KICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1ZW07DQogICAgfQ0KICAgIC50b3BpYy1saW5rew0KICAgICAgZGlzcGxheTpibG9jazsNCiAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsNCiAgICAgIG1hcmdpbjogNHB4IDA7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2U7DQogICAgICB1c2VyLXNlbGVjdDpub25lOw0KICAgIH0NCiAgICAudG9waWMtbGluazpob3ZlcnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjE1KTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSg1OSwxMzAsMjQ2LDAuNCk7DQogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNHB4KTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsuYWN0aXZlew0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzEwYjk4MSwgIzM0ZDM5OSk7DQogICAgICBjb2xvcjojMGYxNzJhOw0KICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgxNiwxODUsMTI5LDAuMyk7DQogICAgfQ0KICAgIC50b3BpYy1saW5rIC50YWd7DQogICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsNCiAgICAgIHBhZGRpbmc6IDJweCA4cHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43MnJlbTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4zNSk7DQogICAgICBtYXJnaW4tbGVmdDogOHB4Ow0KICAgIH0NCg0KICAgIG1haW57DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsNCiAgICAgIHBhZGRpbmc6IDIycHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4zKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoMCwwLDAsMC40KTsNCiAgICB9DQogICAgLmJhZGdlew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogICAgICBwYWRkaW5nOiA0cHggMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgZm9udC1zaXplOiAwLjc4cmVtOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNiwxODUsMTI5LDAuNSk7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE2LDE4NSwxMjksMC4xMik7DQogICAgICBjb2xvcjogIzM0ZDM5OTsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgfQ0KICAgIG1haW4gaDJ7IG1hcmdpbjogNnB4IDAgMDsgY29sb3I6I2UwZTdmZjsgZm9udC1zaXplOiAxLjQ1cmVtOyB9DQogICAgLnNlY3Rpb257IG1hcmdpbi10b3A6IDIycHg7IH0NCiAgICAuc2VjdGlvbiBoM3sNCiAgICAgIGZvbnQtc2l6ZTogMS4wOHJlbTsNCiAgICAgIGNvbG9yOiNjNGI1ZmQ7DQogICAgICBtYXJnaW46IDAgMCAxMHB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjOGI1Y2Y2Ow0KICAgICAgcGFkZGluZy1sZWZ0OiAxMnB4Ow0KICAgIH0NCiAgICBwLCBsaXsgY29sb3I6I2UyZThmMDsgZm9udC1zaXplOiAwLjk2cmVtOyBsaW5lLWhlaWdodDoxLjY1OyB9DQogICAgdWx7IHBhZGRpbmctbGVmdDogMjBweDsgbWFyZ2luOiAxMHB4IDAgMDsgfQ0KDQogICAgLnZpZGVvLWNvbnRhaW5lcnsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNCk7DQogICAgICBiYWNrZ3JvdW5kOiAjMGYxNzJhOw0KICAgICAgYXNwZWN0LXJhdGlvOiAxNi85Ow0KICAgICAgbWFyZ2luOiAxMnB4IDA7DQogICAgfQ0KICAgIGlmcmFtZXsgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IGJvcmRlcjowOyB9DQoNCiAgICAuYW5pbS1jb250YWluZXJ7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFlMjkzYiAwJSwgIzBmMTcyYSAxMDAlKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjU1KTsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgLmFuaW0taGVhZGVyew0KICAgICAgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgIGZvbnQtc2l6ZTogMC44OHJlbTsNCiAgICAgIGNvbG9yOiNhNWI0ZmM7DQogICAgfQ0KICAgIC5hbmltLWhlYWRlciBidXR0b257DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4yKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjY1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgcGFkZGluZzogNnB4IDE0cHg7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICBmb250LXNpemU6IDAuODJyZW07DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjJzOw0KICAgIH0NCiAgICAuYW5pbS1oZWFkZXIgYnV0dG9uOmhvdmVyeyBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4zNSk7IH0NCg0KICAgIGNhbnZhc3sNCiAgICAgIHdpZHRoOjEwMCU7DQogICAgICBoZWlnaHQ6IDI4MHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMzAlIDIwJSwgcmdiYSg1OSwxMzAsMjQ2LDAuMTIpLCAjMGYxNzJhKTsNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogICAgfQ0KDQogICAgLm1pbmRtYXB7DQogICAgICBkaXNwbGF5OmdyaWQ7DQogICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIyMHB4LCAxZnIpKTsNCiAgICAgIGdhcDogMTJweDsNCiAgICAgIG1hcmdpbi10b3A6IDEycHg7DQogICAgfQ0KICAgIC5tbS1ub2Rlew0KICAgICAgcGFkZGluZzogMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEzOSw5MiwyNDYsMC4xNSk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEzOSw5MiwyNDYsMC40KTsNCiAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICB9DQogICAgLm1tLW5vZGUgc3Ryb25neyBjb2xvcjojYzRiNWZkOyB9DQoNCiAgICAucXVpensNCiAgICAgIG1hcmdpbi10b3A6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwxODUsMTI5LDAuMSk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMTBiOTgxOw0KICAgIH0NCiAgICAucXVpei1xdWVzdGlvbnsgZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLWJvdHRvbTogMTBweDsgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uew0KICAgICAgZGlzcGxheTpibG9jazsgd2lkdGg6MTAwJTsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC40KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC44KTsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMnM7DQogICAgICB0ZXh0LWFsaWduOmxlZnQ7DQogICAgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uOmhvdmVyew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMik7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjgpOw0KICAgIH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbi5jb3JyZWN0ew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwxODUsMTI5LDAuOTUpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDUsMTUwLDEwNSwxKTsNCiAgICAgIGNvbG9yOiMwNTJlMmI7DQogICAgICBmb250LXdlaWdodDogNzAwOw0KICAgIH0NCiAgICAucXVpei1leHBsYWluew0KICAgICAgZGlzcGxheTpub25lOw0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE2LDE4NSwxMjksMC4xOCk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgY29sb3I6I2QxZmFlNTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICB9DQogICAgYXsgY29sb3I6IzYwYTVmYTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IH0NCiAgICBhOmhvdmVyeyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgfQ0KICAgIC5zbWFsbHJlZnsgY29sb3I6IzkzYzVmZDsgZm9udC1zaXplOiAwLjlyZW07IG1hcmdpbi10b3A6IDZweDsgfQ0KICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8aGVhZGVyPg0KICA8aDE+TWV0YWxzICYgTm9uLW1ldGFscyDigJMgQ2xhc3MgMTAgKENoYXB0ZXIgMyk8L2gxPg0KICA8ZGl2IGNsYXNzPSJjb250cm9scyI+DQogICAgPGlucHV0IHR5cGU9InNlYXJjaCIgaWQ9InNlYXJjaElucHV0IiBwbGFjZWhvbGRlcj0iU2VhcmNoOiByZWFjdGl2aXR5LCBpb25pYyBib25kLCBjb3Jyb3Npb24uLi4iIC8+DQogICAgPHNwYW4gY2xhc3M9InByb2dyZXNzIj5Qcm9ncmVzczogPHNwYW4gaWQ9InByb2dDb3VudCI+MDwvc3Bhbj4vPHNwYW4gaWQ9InRvdGFsQ291bnQiPjA8L3NwYW4+IHRvcGljczwvc3Bhbj4NCiAgPC9kaXY+DQo8L2hlYWRlcj4NCg0KPGRpdiBjbGFzcz0ibGF5b3V0Ij4NCiAgPG5hdj4NCiAgICA8aDI+Q2hhcHRlciAzIFRvcGljczwvaDI+DQogICAgPGRpdiBpZD0idG9waWNMaXN0Ij48L2Rpdj4NCiAgPC9uYXY+DQoNCiAgPG1haW4+DQogICAgPGRpdiBpZD0idG9waWNDb250ZW50Ij48L2Rpdj4NCiAgPC9tYWluPg0KPC9kaXY+DQoNCjxzY3JpcHQ+DQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBEQVRBDQo9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpjb25zdCBjaDNWaWRlbyA9IHsNCiAgeXRXYXRjaDogImh0dHBzOi8veW91dHUuYmUvOFVKQ05xcXdtWW8iLA0KICBlbWJlZDogImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLzhVSkNOcXF3bVlvIg0KfTsNCg0KY29uc3QgdG9waWNzID0gWw0KICB7DQogICAgaWQ6ICJwaHlzaWNhbCIsDQogICAgdGl0bGU6ICJQaHlzaWNhbCBQcm9wZXJ0aWVzIChNZXRhbHMgdnMgTm9uLW1ldGFscykiLA0KICAgIHR5cGU6ICJCYXNpY3MiLA0KICAgIHZpZGVvVGltZTogIjAwOjQw4oCTMDM6MDAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJwaHlzaWNhbFByb3BzIiwNCiAgICBjb3JlTm90ZXM6ICJNZXRhbHMgYXJlIGdlbmVyYWxseSBtYWxsZWFibGUsIGR1Y3RpbGUsIGx1c3Ryb3VzLCBzb25vcm91cyBhbmQgZ29vZCBjb25kdWN0b3JzOyBub24tbWV0YWxzIGFyZSBnZW5lcmFsbHkgb3Bwb3NpdGUuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJNYWxsZWFibGU6IGNhbiBiZSBiZWF0ZW4gaW50byBzaGVldHMgKGUuZy4sIEFsKS4iLA0KICAgICAgIkR1Y3RpbGU6IGNhbiBiZSBkcmF3biBpbnRvIHdpcmVzIChlLmcuLCBDdSkuIiwNCiAgICAgICJDb25kdWN0b3JzOiBtZXRhbHMgY29uZHVjdCBoZWF0L2VsZWN0cmljaXR5LiIsDQogICAgICAiTm9uLW1ldGFscyBhcmUgb2Z0ZW4gYnJpdHRsZSBhbmQgcG9vciBjb25kdWN0b3JzIChjb21tb24gZXhjZXB0aW9ucyBleGlzdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiQm9hcmQgcXVlc3Rpb25zIG9mdGVuIGFzazogZGVmaW5lIG1hbGxlYWJsZSAmIGR1Y3RpbGUgKyBvbmUgZXhhbXBsZSBlYWNoLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJBIG1hdGVyaWFsIHRoYXQgY2FuIGJlIGRyYXduIGludG8gd2lyZXMgaXMgY2FsbGVkOiIsDQogICAgICBvcHRpb25zOiBbIk1hbGxlYWJsZSIsICJEdWN0aWxlIiwgIkJyaXR0bGUiLCAiU29ub3JvdXMiXSwNCiAgICAgIGNvcnJlY3Q6IDEsDQogICAgICBleHBsYWluOiAiRHVjdGlsaXR5ID0gYWJpbGl0eSB0byBiZSBkcmF3biBpbnRvIHdpcmVzLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImV4Y2VwdGlvbnMiLA0KICAgIHRpdGxlOiAiRXhjZXB0aW9ucyAoR3JhcGhpdGUsIElvZGluZSwgTWVyY3VyeSwgRGlhbW9uZCkiLA0KICAgIHR5cGU6ICJDb25jZXB0IiwNCiAgICB2aWRlb1RpbWU6ICIwMzowMOKAkzA0OjMwIiwNCiAgICBhbmltYXRpb25UeXBlOiAiZXhjZXB0aW9ucyIsDQogICAgY29yZU5vdGVzOiAiU29tZSBub24tbWV0YWxzIHNob3cgbWV0YWxsaWMtbGlrZSBwcm9wZXJ0aWVzIGFuZCBzb21lIG1ldGFscyBzaG93IHVudXN1YWwgc3RhdGVzL3Byb3BlcnRpZXMuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJHcmFwaGl0ZSAoQykgY29uZHVjdHMgZWxlY3RyaWNpdHkgdGhvdWdoIGl0IGlzIGEgbm9uLW1ldGFsLiIsDQogICAgICAiSW9kaW5lIGlzIGx1c3Ryb3VzIHRob3VnaCBpdCBpcyBhIG5vbi1tZXRhbC4iLA0KICAgICAgIk1lcmN1cnkgaXMgbGlxdWlkIG1ldGFsIGF0IHJvb20gdGVtcGVyYXR1cmUuIiwNCiAgICAgICJEaWFtb25kIChDKSBpcyBhIHZlcnkgaGFyZCBub24tbWV0YWwuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiV3JpdGUgMiBleGNlcHRpb25zIHdpdGggcmVhc29ucyAodmVyeSBjb21tb24gMuKAkzMgbWFya3MpLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJXaGljaCBub24tbWV0YWwgaXMgYW4gZXhjZXB0aW9uIGFuZCBjb25kdWN0cyBlbGVjdHJpY2l0eT8iLA0KICAgICAgb3B0aW9uczogWyJTdWxmdXIiLCAiUGhvc3Bob3J1cyIsICJHcmFwaGl0ZSIsICJPeHlnZW4iXSwNCiAgICAgIGNvcnJlY3Q6IDIsDQogICAgICBleHBsYWluOiAiR3JhcGhpdGUgaGFzIGZyZWUgZWxlY3Ryb25zIGluIGxheWVycywgc28gaXQgY29uZHVjdHMuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAib3h5Z2VuIiwNCiAgICB0aXRsZTogIlJlYWN0aW9uIHdpdGggT3h5Z2VuIChNZXRhbC9Ob24tbWV0YWwgT3hpZGVzKSIsDQogICAgdHlwZTogIlJlYWN0aW9ucyIsDQogICAgdmlkZW9UaW1lOiAiMDQ6MzDigJMwODozMCIsDQogICAgYW5pbWF0aW9uVHlwZTogIm94eWdlblJ4biIsDQogICAgY29yZU5vdGVzOiAiTWV0YWxzIGZvcm0gYmFzaWMvYW1waG90ZXJpYyBveGlkZXM7IG5vbi1tZXRhbHMgZm9ybSBhY2lkaWMvbmV1dHJhbCBveGlkZXMgKE5DRVJUIGZvY3VzOiBuYXR1cmUgb2Ygb3hpZGVzKS4iLA0KICAgIHBvaW50czogWw0KICAgICAgIk1ldGFsICsgT+KCgiDihpIgbWV0YWwgb3hpZGUgKG9mdGVuIGJhc2ljKS4gRXhhbXBsZTogTWcgKyBP4oKCIOKGkiBNZ08uIiwNCiAgICAgICJOb24tbWV0YWwgKyBP4oKCIOKGkiBub24tbWV0YWwgb3hpZGUgKG9mdGVuIGFjaWRpYykuIEV4YW1wbGU6IEMgKyBP4oKCIOKGkiBDT+KCgi4iLA0KICAgICAgIlNvbWUgb3hpZGVzIGFyZSBhbXBob3RlcmljIChyZWFjdCB3aXRoIGJvdGggYWNpZHMgYW5kIGJhc2VzKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJSZW1lbWJlcjogYmFzaWMgb3hpZGVzIG5ldXRyYWxpc2UgYWNpZHM7IGFjaWRpYyBveGlkZXMgbmV1dHJhbGlzZSBiYXNlcy4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiQ0/igoIgaXMgZ2VuZXJhbGx5IGNvbnNpZGVyZWQ6IiwNCiAgICAgIG9wdGlvbnM6IFsiQmFzaWMgb3hpZGUiLCAiQWNpZGljIG94aWRlIiwgIkFtcGhvdGVyaWMgb3hpZGUiLCAiTWV0YWxsaWMgb3hpZGUiXSwNCiAgICAgIGNvcnJlY3Q6IDEsDQogICAgICBleHBsYWluOiAiQ0/igoIgZm9ybXMgY2FyYm9uaWMgYWNpZCBpbiB3YXRlciBhbmQgYmVoYXZlcyBhcyBhY2lkaWMgb3hpZGUuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAid2F0ZXIiLA0KICAgIHRpdGxlOiAiUmVhY3Rpb24gd2l0aCBXYXRlciAoQ29sZC9Ib3QvU3RlYW0pIiwNCiAgICB0eXBlOiAiUmVhY3Rpdml0eSIsDQogICAgdmlkZW9UaW1lOiAiMDg6MzDigJMxMzowMCIsDQogICAgYW5pbWF0aW9uVHlwZTogIndhdGVyUnhuIiwNCiAgICBjb3JlTm90ZXM6ICJEaWZmZXJlbnQgbWV0YWxzIHJlYWN0IGRpZmZlcmVudGx5IHdpdGggd2F0ZXIgYmFzZWQgb24gdGhlaXIgcG9zaXRpb24gaW4gdGhlIHJlYWN0aXZpdHkgc2VyaWVzLiIsDQogICAgcG9pbnRzOiBbDQogICAgICAiTmEvSyByZWFjdCB2aW9sZW50bHkgd2l0aCBjb2xkIHdhdGVyIChI4oKCIG1heSBjYXRjaCBmaXJlKS4iLA0KICAgICAgIk1nIHJlYWN0cyB3aXRoIGhvdCB3YXRlcjsgQWwvWm4vRmUgcmVhY3Qgd2l0aCBzdGVhbS4iLA0KICAgICAgIkF1L0FnIGRvIG5vdCByZWFjdCB3aXRoIHdhdGVyLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIldyaXRlIG9uZSBleGFtcGxlIGVhY2g6IGNvbGQgd2F0ZXIsIGhvdCB3YXRlciwgc3RlYW0uIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIldoaWNoIG1ldGFsIHJlYWN0cyB2aW9sZW50bHkgd2l0aCBjb2xkIHdhdGVyPyIsDQogICAgICBvcHRpb25zOiBbIlNvZGl1bSIsICJJcm9uIiwgIkNvcHBlciIsICJTaWx2ZXIiXSwNCiAgICAgIGNvcnJlY3Q6IDAsDQogICAgICBleHBsYWluOiAiU29kaXVtIGlzIGhpZ2hseSByZWFjdGl2ZSBhbmQgcmVhY3RzIHZpb2xlbnRseSB3aXRoIGNvbGQgd2F0ZXIuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAiYWNpZHMiLA0KICAgIHRpdGxlOiAiUmVhY3Rpb24gd2l0aCBBY2lkcyArIEFxdWEgUmVnaWEiLA0KICAgIHR5cGU6ICJSZWFjdGlvbnMiLA0KICAgIHZpZGVvVGltZTogIjEzOjAw4oCTMTY6MDAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJhY2lkUnhuIiwNCiAgICBjb3JlTm90ZXM6ICJNb3N0IG1ldGFscyBhYm92ZSBoeWRyb2dlbiByZWFjdCB3aXRoIGRpbHV0ZSBhY2lkcyB0byBnaXZlIHNhbHQgKyBoeWRyb2dlbiBnYXM7IGdvbGQgZG9lcyBub3QgcmVhY3Qgd2l0aCBkaWx1dGUgYWNpZHMuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJNZXRhbCArIGRpbHV0ZSBhY2lkIOKGkiBzYWx0ICsgSOKCgiAocG9wIHRlc3QpLiIsDQogICAgICAiQ3UvQWcvQXUgZ2VuZXJhbGx5IGRvIG5vdCBsaWJlcmF0ZSBI4oKCIHdpdGggZGlsdXRlIGFjaWRzLiIsDQogICAgICAiQXF1YSByZWdpYSAobWl4dHVyZSBvZiBjb25jZW50cmF0ZWQgYWNpZHMpIGNhbiBkaXNzb2x2ZSBnb2xkLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkJvYXJkOiBpZGVudGlmeSBnYXMgZXZvbHZlZCArIHdyaXRlIGJhbGFuY2VkIGVxdWF0aW9uIChlLmcuLCBabiArIEhDbCkuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIkdhcyBldm9sdmVkIHdoZW4gWm4gcmVhY3RzIHdpdGggZGlsdXRlIEhDbCBpczoiLA0KICAgICAgb3B0aW9uczogWyJDT+KCgiIsICJI4oKCIiwgIk/igoIiLCAiTuKCgiJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJabiArIDJIQ2wg4oaSIFpuQ2zigoIgKyBI4oKCLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImRpc3BsYWNlbWVudCIsDQogICAgdGl0bGU6ICJEaXNwbGFjZW1lbnQgaW4gU2FsdCBTb2x1dGlvbnMiLA0KICAgIHR5cGU6ICJSZWFjdGl2aXR5IiwNCiAgICB2aWRlb1RpbWU6ICIxNjowMOKAkzE4OjMwIiwNCiAgICBhbmltYXRpb25UeXBlOiAiZGlzcGxhY2VtZW50IiwNCiAgICBjb3JlTm90ZXM6ICJBIG1vcmUgcmVhY3RpdmUgbWV0YWwgZGlzcGxhY2VzIGEgbGVzcyByZWFjdGl2ZSBtZXRhbCBmcm9tIGl0cyBzYWx0IHNvbHV0aW9uIChjb2xvciBjaGFuZ2UgaXMgYSBjb21tb24gaW5kaWNhdG9yKS4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkZlICsgQ3VTT+KChCDihpIgRmVTT+KChCArIEN1IChibHVlIOKGkiBncmVlbjsgY29wcGVyIGRlcG9zaXQpLiIsDQogICAgICAiTGVzcyByZWFjdGl2ZSBtZXRhbCBjYW5ub3QgZGlzcGxhY2UgbW9yZSByZWFjdGl2ZSBtZXRhbCBmcm9tIGl0cyBzYWx0IHNvbHV0aW9uLiIsDQogICAgICAiVGhpcyBoZWxwcyBjb21wYXJlIHJlYWN0aXZpdHkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiVmVyeSBjb21tb24gMuKAkzMgbWFya3M6IHdyaXRlIGVxdWF0aW9uICsgb2JzZXJ2YXRpb24gKGNvbG9yL2RlcG9zaXQpLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJJbiBGZSArIEN1U0/igoQsIHdoaWNoIG1ldGFsIGlzIGRpc3BsYWNlZD8iLA0KICAgICAgb3B0aW9uczogWyJJcm9uIiwgIkNvcHBlciIsICJaaW5jIiwgIlNpbHZlciJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJJcm9uIGlzIG1vcmUgcmVhY3RpdmUsIHNvIGl0IGRpc3BsYWNlcyBjb3BwZXIgZnJvbSBDdVNP4oKELiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogInNlcmllcyIsDQogICAgdGl0bGU6ICJSZWFjdGl2aXR5IFNlcmllcyAoUXVpY2sgVmlzdWFsKSIsDQogICAgdHlwZTogIlJlY2FsbCIsDQogICAgdmlkZW9UaW1lOiAiMTg6MzDigJMyMDozMCIsDQogICAgYW5pbWF0aW9uVHlwZTogInJlYWN0aXZpdHlTZXJpZXMiLA0KICAgIGNvcmVOb3RlczogIlJlYWN0aXZpdHkgc2VyaWVzIG9yZGVycyBtZXRhbHMgZnJvbSBtb3N0IHJlYWN0aXZlIHRvIGxlYXN0IHJlYWN0aXZlOyBoaWdoZXIgZGlzcGxhY2VzIGxvd2VyIGZyb20gc2FsdCBzb2x1dGlvbnMuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJUb3A6IEssIE5hLCBDYSwgTWcsIEFsIChoaWdobHkgcmVhY3RpdmUpLiIsDQogICAgICAiTWlkZGxlOiBabiwgRmUsIFBiIChtb2RlcmF0ZSkuIiwNCiAgICAgICJCb3R0b206IEN1LCBBZywgQXUgKGxlYXN0IHJlYWN0aXZlKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJMZWFybiB0aGUgc2VyaWVzIGluIGdyb3VwczsgbWFueSBNQ1FzIGNvbWUgZnJvbSBpdC4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiV2hpY2ggaXMgbW9zdCByZWFjdGl2ZSBhbW9uZyB0aGVzZT8iLA0KICAgICAgb3B0aW9uczogWyJDdSIsICJBZyIsICJOYSIsICJBdSJdLA0KICAgICAgY29ycmVjdDogMiwNCiAgICAgIGV4cGxhaW46ICJOYSBpcyBmYXIgYWJvdmUgQ3UvQWcvQXUgaW4gdGhlIHJlYWN0aXZpdHkgc2VyaWVzLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImlvbmljIiwNCiAgICB0aXRsZTogIklvbmljIEJvbmRpbmcgKyBQcm9wZXJ0aWVzIG9mIElvbmljIENvbXBvdW5kcyIsDQogICAgdHlwZTogIkJvbmRpbmciLA0KICAgIHZpZGVvVGltZTogIjIwOjMw4oCTMjQ6MzAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJpb25pY0JvbmQiLA0KICAgIGNvcmVOb3RlczogIk1ldGFscyBsb3NlIGVsZWN0cm9ucywgbm9uLW1ldGFscyBnYWluIGVsZWN0cm9ucyDihpIgaW9uaWMgYm9uZDsgaW9uaWMgY29tcG91bmRzIGFyZSBoYXJkLCBoaWdoIG1wL2JwIGFuZCBjb25kdWN0IGluIG1vbHRlbi9hcSBzdGF0ZS4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkVsZWN0cm9uIHRyYW5zZmVyOiBOYSDihpIgTmHigbogKyBl4oG7OyBDbCArIGXigbsg4oaSIENs4oG7LiIsDQogICAgICAiSW9uaWMgY29tcG91bmRzIGFyZSBzb2xpZHMgYW5kIGhhcmQgZHVlIHRvIHN0cm9uZyBlbGVjdHJvc3RhdGljIGZvcmNlcy4iLA0KICAgICAgIlRoZXkgY29uZHVjdCBlbGVjdHJpY2l0eSBpbiBtb2x0ZW4gc3RhdGUgb3IgYXF1ZW91cyBzb2x1dGlvbiwgbm90IGluIHNvbGlkIHN0YXRlLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkJvYXJkOiBkZWZpbmUgaW9uaWMgYm9uZCArIGxpc3QgMyBwcm9wZXJ0aWVzIHdpdGggcmVhc29ucy4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiSW9uaWMgY29tcG91bmRzIGNvbmR1Y3QgZWxlY3RyaWNpdHkgYmVzdCBpbjoiLA0KICAgICAgb3B0aW9uczogWyJTb2xpZCBzdGF0ZSIsICJNb2x0ZW4gc3RhdGUiLCAiRHJ5IHBvd2RlcmVkIHN0YXRlIiwgIkFsd2F5cyBuZXZlciJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJJbiBtb2x0ZW4gc3RhdGUgaW9ucyBhcmUgZnJlZSB0byBtb3ZlIGFuZCBjb25kdWN0IGVsZWN0cmljaXR5LiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImNvcnJvc2lvbiIsDQogICAgdGl0bGU6ICJDb3Jyb3Npb24gKyBQcmV2ZW50aW9uIChQYWludGluZywgR3JlYXNpbmcsIEdhbHZhbmlzaW5nLCBBbGxveWluZykiLA0KICAgIHR5cGU6ICJBcHBsaWNhdGlvbnMiLA0KICAgIHZpZGVvVGltZTogIjI0OjMw4oCTZW5kIiwNCiAgICBhbmltYXRpb25UeXBlOiAiY29ycm9zaW9uIiwNCiAgICBjb3JlTm90ZXM6ICJDb3Jyb3Npb24gaXMgdGhlIHNsb3cgZGV0ZXJpb3JhdGlvbiBvZiBtZXRhbHMgZHVlIHRvIHJlYWN0aW9uIHdpdGggYWlyL21vaXN0dXJlOyBydXN0aW5nIGlzIGNvcnJvc2lvbiBvZiBpcm9uLiIsDQogICAgcG9pbnRzOiBbDQogICAgICAiUnVzdGluZzogaXJvbiBmb3JtcyBoeWRyYXRlZCBpcm9uIG94aWRlIChicm93biBsYXllcikuIiwNCiAgICAgICJDb3BwZXIgZGV2ZWxvcHMgZ3JlZW4gY29hdGluZzsgc2lsdmVyIGJlY29tZXMgYmxhY2suIiwNCiAgICAgICJQcmV2ZW50aW9uOiBwYWludGluZy9ncmVhc2luZywgZ2FsdmFuaXNhdGlvbiAoWm4gY29hdCksIGFsbG95aW5nIChzdGVlbCwgYnJhc3MpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkZyZXF1ZW50bHkgYXNrZWQ6IGRlZmluZSBjb3Jyb3Npb24gKyAyIG1ldGhvZHMgdG8gcHJldmVudCBydXN0aW5nLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJHYWx2YW5pc2F0aW9uIG1lYW5zOiIsDQogICAgICBvcHRpb25zOiBbIlBhaW50aW5nIGlyb24iLCAiQ29hdGluZyBpcm9uIHdpdGggemluYyIsICJDb2F0aW5nIGlyb24gd2l0aCBjb3BwZXIiLCAiSGVhdGluZyBpcm9uIHN0cm9uZ2x5Il0sDQogICAgICBjb3JyZWN0OiAxLA0KICAgICAgZXhwbGFpbjogIkdhbHZhbmlzYXRpb24gaXMgY29hdGluZyBpcm9uL3N0ZWVsIHdpdGggemluYyB0byBwcmV2ZW50IHJ1c3RpbmcuIg0KICAgIH0NCiAgfQ0KXTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgVUkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljTGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljTGlzdCIpOw0KY29uc3QgdG9waWNDb250ZW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNDb250ZW50Iik7DQpjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpOw0KY29uc3QgcHJvZ0NvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ0NvdW50Iik7DQpjb25zdCB0b3RhbENvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG90YWxDb3VudCIpOw0KDQp0b3RhbENvdW50RWwudGV4dENvbnRlbnQgPSB0b3BpY3MubGVuZ3RoOw0KDQpsZXQgY3VycmVudFRvcGljSWQgPSB0b3BpY3NbMF0uaWQ7DQpsZXQgY29tcGxldGVkVG9waWNzID0gbmV3IFNldChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjaDMtY29tcGxldGVkIikgfHwgIltdIikpOw0KDQpmdW5jdGlvbiByZW5kZXJOYXYoZmlsdGVyPSIiKXsNCiAgdG9waWNMaXN0RWwuaW5uZXJIVE1MID0gIiI7DQogIGNvbnN0IHEgPSBmaWx0ZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7DQogIGNvbnN0IGZpbHRlcmVkID0gdG9waWNzLmZpbHRlcih0ID0+DQogICAgdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC50eXBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LmNvcmVOb3Rlcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpDQogICk7DQoNCiAgZmlsdGVyZWQuZm9yRWFjaCgodCwgaWR4KSA9PiB7DQogICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgIGl0ZW0uY2xhc3NOYW1lID0gInRvcGljLWxpbmsiICsgKHQuaWQgPT09IGN1cnJlbnRUb3BpY0lkID8gIiBhY3RpdmUiIDogIiIpOw0KICAgIGl0ZW0uaW5uZXJIVE1MID0gYCR7aWR4KzF9LiAke3QudGl0bGV9PHNwYW4gY2xhc3M9InRhZyI+JHt0LnR5cGV9PC9zcGFuPmA7DQogICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHNlbGVjdFRvcGljKHQuaWQpKTsNCiAgICB0b3BpY0xpc3RFbC5hcHBlbmRDaGlsZChpdGVtKTsNCiAgfSk7DQoNCiAgcHJvZ0NvdW50RWwudGV4dENvbnRlbnQgPSBjb21wbGV0ZWRUb3BpY3Muc2l6ZTsNCn0NCg0KZnVuY3Rpb24gc2VsZWN0VG9waWMoaWQpew0KICBjb25zdCB0b3BpYyA9IHRvcGljcy5maW5kKHggPT4geC5pZCA9PT0gaWQpOw0KICBpZighdG9waWMpIHJldHVybjsNCiAgY3VycmVudFRvcGljSWQgPSBpZDsNCiAgY29tcGxldGVkVG9waWNzLmFkZChpZCk7DQogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjaDMtY29tcGxldGVkIiwgSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShjb21wbGV0ZWRUb3BpY3MpKSk7DQogIHJlbmRlclRvcGljKHRvcGljKTsNCiAgcmVuZGVyTmF2KHNlYXJjaElucHV0LnZhbHVlKTsNCn0NCg0KZnVuY3Rpb24gcmVuZGVyVG9waWModG9waWMpew0KICBjb25zdCBxdWl6ID0gdG9waWMucXVpeiA/IGANCiAgICA8ZGl2IGNsYXNzPSJxdWl6Ij4NCiAgICAgIDxkaXYgY2xhc3M9InF1aXotcXVlc3Rpb24iPiR7dG9waWMucXVpei5xdWVzdGlvbn08L2Rpdj4NCiAgICAgIDxkaXYgY2xhc3M9InF1aXotb3B0aW9ucyI+DQogICAgICAgICR7dG9waWMucXVpei5vcHRpb25zLm1hcCgob3B0LGkpPT5gPGJ1dHRvbiBvbmNsaWNrPSJjaGVja1F1aXooJHtpfSwke3RvcGljLnF1aXouY29ycmVjdH0pIj4ke29wdH08L2J1dHRvbj5gKS5qb2luKCIiKX0NCiAgICAgIDwvZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0icXVpei1leHBsYWluIiBpZD0icXVpekV4cGxhaW4iPiR7dG9waWMucXVpei5leHBsYWlufTwvZGl2Pg0KICAgIDwvZGl2Pg0KICBgIDogIiI7DQoNCiAgdG9waWNDb250ZW50RWwuaW5uZXJIVE1MID0gYA0KICAgIDxkaXY+DQogICAgICA8ZGl2IGNsYXNzPSJiYWRnZSI+JHt0b3BpYy50eXBlfTwvZGl2Pg0KICAgICAgPGgyPiR7dG9waWMudGl0bGV9PC9oMj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn5OWIE5vdGVzIChOQ0VSVC1hbGlnbmVkKTwvaDM+DQogICAgICAgIDxwPiR7dG9waWMuY29yZU5vdGVzfTwvcD4NCiAgICAgICAgPHVsPiR7dG9waWMucG9pbnRzLm1hcChwPT5gPGxpPiR7cH08L2xpPmApLmpvaW4oIiIpfTwvdWw+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0idmlkZW8tY29udGFpbmVyIj4NCiAgICAgICAgICA8aWZyYW1lDQogICAgICAgICAgICBzcmM9IiR7Y2gzVmlkZW8uZW1iZWR9Ig0KICAgICAgICAgICAgYWxsb3c9ImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSINCiAgICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbg0KICAgICAgICAgID48L2lmcmFtZT4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9InNtYWxscmVmIj5SZWZlcmVuY2UgdmlkZW8gdGltaW5nOiA8YSBocmVmPSIke2NoM1ZpZGVvLnl0V2F0Y2h9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciI+JHt0b3BpYy52aWRlb1RpbWV9PC9hPjwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+OrCBBY2N1cmF0ZSBBbmltYXRpb248L2gzPg0KICAgICAgICA8ZGl2IGNsYXNzPSJhbmltLWNvbnRhaW5lciI+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYW5pbS1oZWFkZXIiPg0KICAgICAgICAgICAgPHNwYW4+QW5pbWF0aW9uOiA8c3Ryb25nPiR7dG9waWMuYW5pbWF0aW9uVHlwZX08L3N0cm9uZz48L3NwYW4+DQogICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0icmVzdGFydEFuaW1hdGlvbigpIj5SZXBsYXk8L2J1dHRvbj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8Y2FudmFzIGlkPSJhbmltQ2FudmFzIj48L2NhbnZhcz4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn5KhIE5DRVJUIEV4YW0gSGludDwvaDM+DQogICAgICAgIDxwPiR7dG9waWMubmNlcnRIaW50fTwvcD4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfp6AgUXVpY2sgTWluZCBNYXA8L2gzPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtaW5kbWFwIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlByb3BlcnRpZXM8L3N0cm9uZz48YnIvPk1hbGxlYWJsZSwgZHVjdGlsZSwgY29uZHVjdG9yLCBsdXN0cm91cyB2cyBicml0dGxlLCBwb29yIGNvbmR1Y3Rvci48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlJlYWN0aW9uczwvc3Ryb25nPjxici8+T+KCgiwgSOKCgk8gKGNvbGQvaG90L3N0ZWFtKSwgYWNpZHMsIGRpc3BsYWNlbWVudCByZWFjdGlvbnMuPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibW0tbm9kZSI+PHN0cm9uZz5Db3JlIElkZWE8L3N0cm9uZz48YnIvPlJlYWN0aXZpdHkgc2VyaWVzIGRlY2lkZXMgcmVhY3Rpb24gaW50ZW5zaXR5ICsgZGlzcGxhY2VtZW50IGFiaWxpdHkuPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibW0tbm9kZSI+PHN0cm9uZz5BcHBsaWNhdGlvbnM8L3N0cm9uZz48YnIvPklvbmljIGJvbmRpbmcsIGV4dHJhY3Rpb24gYmFzaWNzLCBjb3Jyb3Npb24gJiBwcmV2ZW50aW9uLjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICAke3F1aXp9DQogICAgPC9kaXY+DQogIGA7DQoNCiAgc2V0dXBBbmltYXRpb24odG9waWMuYW5pbWF0aW9uVHlwZSk7DQp9DQoNCndpbmRvdy5jaGVja1F1aXogPSBmdW5jdGlvbihzZWxlY3RlZCwgY29ycmVjdCl7DQogIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucXVpei1vcHRpb25zIGJ1dHRvbiIpOw0KICBidXR0b25zLmZvckVhY2goKGIsaSk9PnsNCiAgICBiLmRpc2FibGVkID0gdHJ1ZTsNCiAgICBpZihpID09PSBjb3JyZWN0KSBiLmNsYXNzTGlzdC5hZGQoImNvcnJlY3QiKTsNCiAgfSk7DQogIGNvbnN0IGV4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpFeHBsYWluIik7DQogIGlmKGV4KSBleC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCn07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIENBTlZBUyBFTkdJTkUgKERQUi1zYWZlKQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KbGV0IGFuaW1DYW52YXM9bnVsbCwgYW5pbUN0eD1udWxsLCByYWZJZD1udWxsLCB0MD0wLCBjdXJyZW50QW5pbT0icGh5c2ljYWxQcm9wcyI7DQoNCmZ1bmN0aW9uIGZpdENhbnZhc1RvQ1NTKGNhbnZhcywgY3R4KXsNCiAgY29uc3QgZHByID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7DQogIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IocmVjdC53aWR0aCAqIGRwcik7DQogIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHJlY3QuaGVpZ2h0ICogZHByKTsNCiAgY3R4LnNldFRyYW5zZm9ybShkcHIsMCwwLGRwciwwLDApOw0KICByZXR1cm4geyB3OiByZWN0LndpZHRoLCBoOiByZWN0LmhlaWdodCB9Ow0KfQ0KDQpmdW5jdGlvbiBzZXR1cEFuaW1hdGlvbih0eXBlKXsNCiAgY3VycmVudEFuaW0gPSB0eXBlOw0KICBpZihyYWZJZCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmSWQpOw0KICBhbmltQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuaW1DYW52YXMiKTsNCiAgaWYoIWFuaW1DYW52YXMpIHJldHVybjsNCiAgYW5pbUN0eCA9IGFuaW1DYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCiAgZml0Q2FudmFzVG9DU1MoYW5pbUNhbnZhcywgYW5pbUN0eCk7DQogIHQwID0gcGVyZm9ybWFuY2Uubm93KCk7DQoNCiAgZnVuY3Rpb24gbG9vcChub3cpew0KICAgIGNvbnN0IHQgPSAobm93IC0gdDApLzEwMDA7DQogICAgY29uc3Qge3csaH0gPSBmaXRDYW52YXNUb0NTUyhhbmltQ2FudmFzLCBhbmltQ3R4KTsNCiAgICBkcmF3U2NlbmUoYW5pbUN0eCwgdywgaCwgdCwgY3VycmVudEFuaW0pOw0KICAgIHJhZklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOw0KICB9DQogIHJhZklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOw0KfQ0KDQpmdW5jdGlvbiByZXN0YXJ0QW5pbWF0aW9uKCl7DQogIHNldHVwQW5pbWF0aW9uKGN1cnJlbnRBbmltKTsNCn0NCg0KZnVuY3Rpb24gZHJhd0xhYihjLHcsaCl7DQogIGNvbnN0IGcgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwwLGgpOw0KICBnLmFkZENvbG9yU3RvcCgwLCIjMGIxMjIzIik7DQogIGcuYWRkQ29sb3JTdG9wKDEsIiMwNTA4MTYiKTsNCiAgYy5maWxsU3R5bGUgPSBnOw0KICBjLmZpbGxSZWN0KDAsMCx3LGgpOw0KICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDE0OCwxNjMsMTg0LDAuMTIpIjsNCiAgYy5maWxsUmVjdCgwLGgqMC43Nix3LGgqMC4yNCk7DQogIGMuZmlsbFN0eWxlID0gInJnYmEoNTksMTMwLDI0NiwwLjA4KSI7DQogIGMuZmlsbFJlY3QoMCxoKjAuNzYsdyw4KTsNCn0NCg0KZnVuY3Rpb24gbGFiZWwoYyx4LHksdGV4dCl7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDE2NSwxODAsMjUyLDAuOTUpIjsNCiAgYy5mb250ID0gImJvbGQgMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KHRleHQseCx5KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiByb3VuZGVkUmVjdChjLHgseSx3LGgscil7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgrcix5KTsNCiAgYy5hcmNUbyh4K3cseSx4K3cseStoLHIpOw0KICBjLmFyY1RvKHgrdyx5K2gseCx5K2gscik7DQogIGMuYXJjVG8oeCx5K2gseCx5LHIpOw0KICBjLmFyY1RvKHgseSx4K3cseSxyKTsNCiAgYy5jbG9zZVBhdGgoKTsNCn0NCmZ1bmN0aW9uIGRvdChjLHgseSxyLGNvbG9yKXsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5maWxsU3R5bGUgPSBjb2xvcjsNCiAgYy5hcmMoeCx5LHIsMCxNYXRoLlBJKjIpOw0KICBjLmZpbGwoKTsNCn0NCg0KZnVuY3Rpb24gZHJhd0JlYWtlcihjLHgseSx3LGgsbGV2ZWwsY29sb3Isb3V0bGluZT0icmdiYSgyMjYsMjMyLDI0MCwwLjkpIil7DQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlID0gb3V0bGluZTsNCiAgYy5saW5lV2lkdGggPSAyOw0KICByb3VuZGVkUmVjdChjLHgseSx3LGgsMTIpOw0KICBjLnN0cm9rZSgpOw0KDQogIGNvbnN0IGx2bCA9IE1hdGgubWF4KDAsTWF0aC5taW4oMSxsZXZlbCkpOw0KICBjb25zdCBsaCA9IGgqbHZsOw0KICBjLmZpbGxTdHlsZSA9IGNvbG9yOw0KICBjLmZpbGxSZWN0KHgrNCwgeSsoaC1saCkrNCwgdy04LCBsaC04KTsNCg0KICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDI0OCwyNTAsMjUyLDAuMDgpIjsNCiAgYy5maWxsUmVjdCh4KzEwLHkrOCwxMCxoLTE2KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIGRyYXdTY2VuZShjLHcsaCx0LHR5cGUpew0KICBjLmNsZWFyUmVjdCgwLDAsdyxoKTsNCiAgZHJhd0xhYihjLHcsaCk7DQoNCiAgaWYodHlwZT09PSJwaHlzaWNhbFByb3BzIikgYW5pbVBoeXNpY2FsUHJvcHMoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJleGNlcHRpb25zIikgYW5pbUV4Y2VwdGlvbnMoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJveHlnZW5SeG4iKSBhbmltT3h5Z2VuKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0id2F0ZXJSeG4iKSBhbmltV2F0ZXIoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJhY2lkUnhuIikgYW5pbUFjaWRzKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0iZGlzcGxhY2VtZW50IikgYW5pbURpc3BsYWNlbWVudChjLHcsaCx0KTsNCiAgZWxzZSBpZih0eXBlPT09InJlYWN0aXZpdHlTZXJpZXMiKSBhbmltU2VyaWVzKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0iaW9uaWNCb25kIikgYW5pbUlvbmljKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0iY29ycm9zaW9uIikgYW5pbUNvcnJvc2lvbihjLHcsaCx0KTsNCiAgZWxzZSBsYWJlbChjLCAxNCwgMjAsICJObyBhbmltYXRpb24gZm9yOiAiK3R5cGUpOw0KfQ0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBBTklNQVRJT05TIChBY2N1cmF0ZSkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KLy8gMSkgUGh5c2ljYWwgcHJvcHM6IGhhbW1lciBzaGVldCArIHdpcmUgZHJhd2luZyArIGJ1bGIgY29uZHVjdGlvbiArIHNvdW5kDQpmdW5jdGlvbiBhbmltUGh5c2ljYWxQcm9wcyhjLHcsaCx0KXsNCiAgbGFiZWwoYywgMTQsIDIyLCAiTWV0YWxzOiBtYWxsZWFibGUsIGR1Y3RpbGUsIGNvbmR1Y3Rvciwgc29ub3JvdXMiKTsNCg0KICAvLyBsZWZ0OiBoYW1tZXIgYmVhdGluZyBzaGVldA0KICBjb25zdCB4MSA9IHcqMC4wOCwgeSA9IGgqMC4yMiwgYm94VyA9IHcqMC4yOCwgYm94SCA9IGgqMC41Ow0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjMpIjsNCiAgYy5zdHJva2VSZWN0KHgxLHksYm94Vyxib3hIKTsNCiAgbGFiZWwoYywgeDErOCwgeSsxNiwgIk1hbGxlYWJsZSAoc2hlZXQpIik7DQoNCiAgLy8gYW52aWwNCiAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC41KSI7DQogIGMuZmlsbFJlY3QoeDErNDAseStib3hILTQwLCBib3hXLTgwLCAxNCk7DQoNCiAgLy8gc2hlZXQgY2hhbmdlcyB0aGlja25lc3MNCiAgY29uc3QgcCA9IDAuNSswLjUqTWF0aC5zaW4odCoyLjIpOw0KICBjb25zdCBzaGVldEggPSAyMCAtIDEyKnA7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDIzNCwxNzksOCwwLjk1KSI7DQogIGMuZmlsbFJlY3QoeDErNzAseStib3hILTQwLXNoZWV0SCwgYm94Vy0xNDAsIHNoZWV0SCk7DQoNCiAgLy8gaGFtbWVyDQogIGNvbnN0IGh4ID0geDErNDAgKyA4Kk1hdGguc2luKHQqMi4yKTsNCiAgY29uc3QgaHkgPSB5KzYwICsgMjUqKDEtcCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuOSkiOw0KICBjLmZpbGxSZWN0KGh4LCBoeSwgNzAsIDE4KTsNCiAgYy5maWxsU3R5bGU9InJnYmEoOTQsMjM0LDIxMiwwLjkpIjsNCiAgYy5maWxsUmVjdChoeCs1MCwgaHktMzAsIDEwLCA1MCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIG1pZGRsZTogd2lyZSBkcmF3aW5nIChkdWN0aWxlKQ0KICBjb25zdCB4MiA9IHcqMC4zODsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4zKSI7DQogIGMuc3Ryb2tlUmVjdCh4Mix5LGJveFcsYm94SCk7DQogIGxhYmVsKGMsIHgyKzgsIHkrMTYsICJEdWN0aWxlICh3aXJlKSIpOw0KDQogIC8vIGRpZSBwbGF0ZQ0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjQ1KSI7DQogIGMuZmlsbFJlY3QoeDIrYm94VyowLjU1LCB5K2JveEgqMC41NSwgMzQsIDM0KTsNCiAgZG90KGMsIHgyK2JveFcqMC41NSsxNywgeStib3hIKjAuNTUrMTcsIDYsICJyZ2JhKDIsNiwyMywwLjk1KSIpOw0KDQogIC8vIHJvZCAtPiB3aXJlIGJlY29tZXMgdGhpbm5lcg0KICBjb25zdCB3UCA9IDAuNSswLjUqTWF0aC5zaW4odCoxLjYpOw0KICBjb25zdCB0aGljayA9IDE0IC0gMTAqd1A7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjUxLDE5MSwzNiwwLjk1KSI7DQogIGMubGluZVdpZHRoID0gdGhpY2s7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgyKzM1LCB5K2JveEgqMC41Nyk7DQogIGMubGluZVRvKHgyK2JveFcqMC41NSwgeStib3hIKjAuNTcpOw0KICBjLnN0cm9rZSgpOw0KICBjLmxpbmVXaWR0aCA9IE1hdGgubWF4KDIsIHRoaWNrKjAuMzUpOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4Mitib3hXKjAuNTUrMzQsIHkrYm94SCowLjU3KTsNCiAgYy5saW5lVG8oeDIrYm94Vy0zMCwgeStib3hIKjAuNTcpOw0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCg0KICAvLyByaWdodDogY2lyY3VpdCBjb25kdWN0aW9uICsgc29ub3JvdXMgd2F2ZQ0KICBjb25zdCB4MyA9IHcqMC42ODsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4zKSI7DQogIGMuc3Ryb2tlUmVjdCh4Myx5LGJveFcsYm94SCk7DQogIGxhYmVsKGMsIHgzKzgsIHkrMTYsICJDb25kdWN0b3IgKyBTb25vcm91cyIpOw0KDQogIC8vIGJhdHRlcnkNCiAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC41KSI7DQogIGMuZmlsbFJlY3QoeDMrMzAsIHkrYm94SCowLjM1LCA1MCwgMzApOw0KICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjgpIjsNCiAgYy5maWxsVGV4dCgiKyIsIHgzKzcwLCB5K2JveEgqMC4zNSsyMCk7DQogIGMuZmlsbFRleHQoIi0iLCB4Mys0MCwgeStib3hIKjAuMzUrMjApOw0KDQogIC8vIGJ1bGIgKGdsb3dzKQ0KICBjb25zdCBnbG93ID0gMC4zNSArIDAuNjUqKDAuNSswLjUqTWF0aC5zaW4odCoyLjQpKTsNCiAgZG90KGMsIHgzK2JveFcqMC43MiwgeStib3hIKjAuMzUrMTUsIDEyLCBgcmdiYSgyNTAsMjA0LDIxLCR7MC4yNSswLjcqZ2xvd30pYCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC44KSI7DQogIGMubGluZVdpZHRoPTI7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMuYXJjKHgzK2JveFcqMC43MiwgeStib3hIKjAuMzUrMTUsIDEyLCAwLCBNYXRoLlBJKjIpOw0KICBjLnN0cm9rZSgpOw0KDQogIC8vIHdpcmUNCiAgYy5zdHJva2VTdHlsZT0icmdiYSg5NiwxNjUsMjUwLDAuOSkiOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4Mys4MCwgeStib3hIKjAuMzUrMTUpOw0KICBjLmxpbmVUbyh4Mytib3hXKjAuNzItMTIsIHkrYm94SCowLjM1KzE1KTsNCiAgYy5zdHJva2UoKTsNCg0KICAvLyBzb25vcm91czogdmlicmF0aW9uIHdhdmVzIGZyb20gIm1ldGFsIHBsYXRlIg0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjUpIjsNCiAgYy5maWxsUmVjdCh4Mys0MCwgeStib3hIKjAuNzAsIGJveFctODAsIDEwKTsNCiAgZm9yKGxldCBpPTA7aTw1O2krKyl7DQogICAgY29uc3QgYSA9ICh0KjIgKyBpKjAuNyk7DQogICAgYy5zdHJva2VTdHlsZSA9IGByZ2JhKDIzNiw3MiwxNTMsJHswLjE1KzAuMTUqaX0pYDsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMuYXJjKHgzK2JveFcqMC41LCB5K2JveEgqMC43MCwgMTArIGkqMTAgKyA0Kk1hdGguc2luKGEpLCAwLCBNYXRoLlBJKTsNCiAgICBjLnN0cm9rZSgpOw0KICB9DQogIGMucmVzdG9yZSgpOw0KfQ0KDQovLyAyKSBFeGNlcHRpb25zOiBzaG93IDQgdGlsZXMNCmZ1bmN0aW9uIGFuaW1FeGNlcHRpb25zKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJFeGNlcHRpb25zOiBncmFwaGl0ZSBjb25kdWN0cywgaW9kaW5lIGx1c3Ryb3VzLCBtZXJjdXJ5IGxpcXVpZCwgZGlhbW9uZCBoYXJkIik7DQogIGNvbnN0IHBhZCA9IDE0Ow0KICBjb25zdCBjb2xzID0gMiwgcm93cyA9IDI7DQogIGNvbnN0IHRpbGVXID0gKHcgLSBwYWQqMykvMjsNCiAgY29uc3QgdGlsZUggPSAoaCowLjYyIC0gcGFkKjMpLzI7DQogIGNvbnN0IHN0YXJ0WCA9IHBhZCwgc3RhcnRZID0gaCowLjE2Ow0KDQogIGZ1bmN0aW9uIHRpbGUoaXgsaXksdGl0bGUsZHJhd0ZuKXsNCiAgICBjb25zdCB4ID0gc3RhcnRYICsgaXgqKHRpbGVXK3BhZCk7DQogICAgY29uc3QgeSA9IHN0YXJ0WSArIGl5Kih0aWxlSCtwYWQpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlID0gInJnYmEoMTQ4LDE2MywxODQsMC4wOCkiOw0KICAgIHJvdW5kZWRSZWN0KGMseCx5LHRpbGVXLHRpbGVILDE0KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZSA9ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIjsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIGxhYmVsKGMsIHgrMTAsIHkrMTgsIHRpdGxlKTsNCiAgICBkcmF3Rm4oeCx5LHRpbGVXLHRpbGVIKTsNCiAgfQ0KDQogIHRpbGUoMCwwLCJHcmFwaGl0ZSBjb25kdWN0cyIsKHgseSx3MCxoMCk9PnsNCiAgICAvLyBkcmF3IGxheWVycyArIHNtYWxsIGVsZWN0cm9ucyBtb3ZpbmcNCiAgICBmb3IobGV0IGk9MDtpPDY7aSsrKXsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yNSkiOw0KICAgICAgYy5saW5lV2lkdGg9MjsNCiAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICBjLm1vdmVUbyh4KzE0LHkrNDAraSoxOCk7DQogICAgICBjLmxpbmVUbyh4K3cwLTE0LHkrNDAraSoxOCk7DQogICAgICBjLnN0cm9rZSgpOw0KICAgIH0NCiAgICBjb25zdCBlID0gKDAuNSswLjUqTWF0aC5zaW4odCoyLjIpKTsNCiAgICBmb3IobGV0IGk9MDtpPDEwO2krKyl7DQogICAgICBkb3QoYywgeCsyMCArICgoaSozMiArIGUqMTIwKSUodzAtNDApKSwgeSs1NSsoaSU1KSoxOCwgMywgInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIpOw0KICAgIH0NCiAgfSk7DQoNCiAgdGlsZSgxLDAsIklvZGluZSBsdXN0cm91cyIsKHgseSx3MCxoMCk9PnsNCiAgICAvLyBzaGlueSBjcnlzdGFsDQogICAgY29uc3QgY3g9eCt3MCowLjUsIGN5PXkraDAqMC42MDsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgxNjgsODUsMjQ3LDAuMzUpIjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGN4LCBjeS01MCk7DQogICAgYy5saW5lVG8oY3grNDUsIGN5LTEwKTsNCiAgICBjLmxpbmVUbyhjeCsyMCwgY3krNDApOw0KICAgIGMubGluZVRvKGN4LTIwLCBjeSs0MCk7DQogICAgYy5saW5lVG8oY3gtNDUsIGN5LTEwKTsNCiAgICBjLmNsb3NlUGF0aCgpOw0KICAgIGMuZmlsbCgpOw0KICAgIC8vIGdsaW50DQogICAgY29uc3QgZ2wgPSAwLjUrMC41Kk1hdGguc2luKHQqMyk7DQogICAgYy5zdHJva2VTdHlsZT1gcmdiYSgyNDgsMjUwLDI1MiwkezAuMTUrMC40NSpnbH0pYDsNCiAgICBjLmxpbmVXaWR0aD0yOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5tb3ZlVG8oY3gtMTAsIGN5LTM1KTsNCiAgICBjLmxpbmVUbyhjeCsxOCwgY3ktNyk7DQogICAgYy5zdHJva2UoKTsNCiAgfSk7DQoNCiAgdGlsZSgwLDEsIk1lcmN1cnkgaXMgbGlxdWlkIiwoeCx5LHcwLGgwKT0+ew0KICAgIC8vIGRyb3BsZXQgb3NjaWxsYXRpb24NCiAgICBjb25zdCBjeD14K3cwKjAuNSwgY3k9eStoMCowLjYyOw0KICAgIGNvbnN0IHNxdWlzaD0wLjUrMC41Kk1hdGguc2luKHQqMi40KTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjU1KSI7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLmVsbGlwc2UoY3gsY3ksIDQ1KzEwKnNxdWlzaCwgMzAtNipzcXVpc2gsIDAsIDAsIE1hdGguUEkqMik7DQogICAgYy5maWxsKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjQ4LDI1MCwyNTIsMC4xNSkiOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5lbGxpcHNlKGN4LTE1LGN5LTEwLCAxNiwgMTAsIDAsIDAsIE1hdGguUEkqMik7DQogICAgYy5maWxsKCk7DQogIH0pOw0KDQogIHRpbGUoMSwxLCJEaWFtb25kIGhhcmQiLCh4LHksdzAsaDApPT57DQogICAgLy8gZGlhbW9uZCArIHNjcmF0Y2ggbGluZSBibG9ja2VkDQogICAgY29uc3QgY3g9eCt3MCowLjUsIGN5PXkraDAqMC41ODsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMjUpIjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGN4LGN5LTU1KTsNCiAgICBjLmxpbmVUbyhjeCs1NSxjeS01KTsNCiAgICBjLmxpbmVUbyhjeCsyMCxjeSs1NSk7DQogICAgYy5saW5lVG8oY3gtMjAsY3krNTUpOw0KICAgIGMubGluZVRvKGN4LTU1LGN5LTUpOw0KICAgIGMuY2xvc2VQYXRoKCk7DQogICAgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSg5NiwxNjUsMjUwLDAuOCkiOw0KICAgIGMubGluZVdpZHRoPTI7DQogICAgYy5zdHJva2UoKTsNCg0KICAgIC8vIGF0dGVtcHRlZCBzY3JhdGNoDQogICAgY29uc3QgcD0wLjUrMC41Kk1hdGguc2luKHQqMS44KTsNCiAgICBjLnN0cm9rZVN0eWxlPWByZ2JhKDI0OCwxMTMsMTEzLCR7MC4yKzAuNSpwfSlgOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5tb3ZlVG8oY3gtNzAsIGN5KzMwKTsNCiAgICBjLmxpbmVUbyhjeCs3MCwgY3krMTApOw0KICAgIGMuc3Ryb2tlKCk7DQogIH0pOw0KfQ0KDQovLyAzKSBPeHlnZW4gcmVhY3Rpb246IGJ1cm4gTWcgcmliYm9uICsgc2hvdyBNZ08gKGJhc2ljKSB2cyBDTzIgKGFjaWRpYykNCmZ1bmN0aW9uIGFuaW1PeHlnZW4oYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIlJlYWN0aW9uIHdpdGggb3h5Z2VuOiBtZXRhbCBveGlkZSAoYmFzaWMpIHZzIG5vbi1tZXRhbCBveGlkZSAoYWNpZGljL25ldXRyYWwpIik7DQoNCiAgLy8gTGVmdDogTWcgYnVybmluZw0KICBjb25zdCB4MT13KjAuMDgsIHk9aCowLjE4LCBidz13KjAuMzgsIGJoPWgqMC42MDsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjI1KSI7DQogIGMuc3Ryb2tlUmVjdCh4MSx5LGJ3LGJoKTsNCiAgbGFiZWwoYywgeDErMTAsIHkrMTgsICJNZXRhbCArIE/igoIg4oaSIE1ldGFsIG94aWRlIChNZ08pIik7DQoNCiAgLy8gTWcgcmliYm9uDQogIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuOCkiOw0KICBjLmZpbGxSZWN0KHgxKzQwLCB5K2JoKjAuNjAsIDE0MCwgMTApOw0KDQogIC8vIGZsYW1lDQogIGNvbnN0IGYgPSAwLjUrMC41Kk1hdGguc2luKHQqMy4wKTsNCiAgYy5maWxsU3R5bGU9YHJnYmEoMjUwLDIwNCwyMSwkezAuMjUrMC41KmZ9KWA7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgxKzEyMCwgeStiaCowLjYwKTsNCiAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHgxKzEwMCwgeStiaCowLjYwLTYwLTUwKmYsIHgxKzEyMCwgeStiaCowLjYwLTExMC03MCpmKTsNCiAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHgxKzE0MCwgeStiaCowLjYwLTYwLTUwKmYsIHgxKzEyMCwgeStiaCowLjYwKTsNCiAgYy5maWxsKCk7DQoNCiAgLy8gTWdPIGFzaA0KICBmb3IobGV0IGk9MDtpPDI4O2krKyl7DQogICAgZG90KGMsIHgxKzcwKyhpKjE3JTEyMCksIHkrYmgqMC43MisoaSoxMyUzMCksIDIsICJyZ2JhKDIyNiwyMzIsMjQwLDAuNykiKTsNCiAgfQ0KDQogIC8vIFJpZ2h0OiBDTzIgZm9ybWF0aW9uIGFuZCBhY2lkaWMgbmF0dXJlDQogIGNvbnN0IHgyPXcqMC41MjsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjI1KSI7DQogIGMuc3Ryb2tlUmVjdCh4Mix5LGJ3LGJoKTsNCiAgbGFiZWwoYywgeDIrMTAsIHkrMTgsICJOb24tbWV0YWwgKyBP4oKCIOKGkiBDT+KCgiAoYWNpZGljIG94aWRlKSIpOw0KDQogIC8vIGNhcmJvbiBwaWVjZQ0KICBjLmZpbGxTdHlsZT0icmdiYSgxNSwyMyw0MiwxKSI7DQogIGMuZmlsbFJlY3QoeDIrNzAsIHkrYmgqMC42MywgNzAsIDQwKTsNCg0KICAvLyBDTzIgYnViYmxlcyByaXNpbmcNCiAgZm9yKGxldCBpPTA7aTwxODtpKyspew0KICAgIGNvbnN0IHAgPSAoKHQqMC4zNSArIGkqMC4xMiklMSk7DQogICAgY29uc3QgYnggPSB4MisxMDUgKyBNYXRoLnNpbih0KjIraSkqMTQ7DQogICAgY29uc3QgYnkgPSB5K2JoKjAuNjMgLSBwKihiaCowLjUwKTsNCiAgICBkb3QoYywgYngsIGJ5LCA2LShpJTMpLCAicmdiYSgxNDgsMTYzLDE4NCwwLjM1KSIpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuNykiOw0KICAgIGMuZm9udD0iMTBweCBzeXN0ZW0tdWkiOw0KICAgIGMuZmlsbFRleHQoIkNP4oKCIiwgYngtMTAsIGJ5KzMpOw0KICAgIGMucmVzdG9yZSgpOw0KICB9DQp9DQoNCi8vIDQpIFdhdGVyIHJlYWN0aW9uOiBOYSAoY29sZCB2aW9sZW50KSwgTWcgKGhvdCksIEZlIChzdGVhbSkNCmZ1bmN0aW9uIGFuaW1XYXRlcihjLHcsaCx0KXsNCiAgbGFiZWwoYywgMTQsIDIyLCAiTWV0YWxzICsgd2F0ZXI6IHZpb2xlbnQgKE5hL0spIOKGkiBzbG93ZXIgKE1nIGhvdCkg4oaSIHN0ZWFtIChGZS9abi9BbCkiKTsNCg0KICBjb25zdCBwYWQ9MTQ7DQogIGNvbnN0IHRpbGVXPSh3IC0gcGFkKjQpLzM7DQogIGNvbnN0IHRpbGVIPWgqMC42MjsNCiAgY29uc3QgeT1oKjAuMTg7DQoNCiAgZnVuY3Rpb24gdGlsZShpLHRpdGxlKXsNCiAgICBjb25zdCB4PXBhZCArIGkqKHRpbGVXK3BhZCk7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNykiOw0KICAgIHJvdW5kZWRSZWN0KGMseCx5LHRpbGVXLHRpbGVILDE0KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICBsYWJlbChjLCB4KzEwLCB5KzE4LCB0aXRsZSk7DQogICAgcmV0dXJuIHg7DQogIH0NCg0KICAvLyBOYSBpbiBjb2xkIHdhdGVyIChmbGFtZSArIGJ1YmJsZXMpDQogIGNvbnN0IHgxPXRpbGUoMCwiTmEgKyBjb2xkIHdhdGVyICh2aW9sZW50KSIpOw0KICBkcmF3QmVha2VyKGMsIHgxKzIwLCB5KzUwLCB0aWxlVy00MCwgdGlsZUgtODAsIDAuNjAsICJyZ2JhKDU2LDE4OSwyNDgsMC4xMikiKTsNCiAgY29uc3QgY3g9eDErdGlsZVcqMC41LCBjeT15K3RpbGVIKjAuNTM7DQogIGRvdChjLCBjeCwgY3ksIDcsICJyZ2JhKDI1MCwyMDQsMjEsMC45NSkiKTsNCiAgLy8gYnViYmxlcw0KICBmb3IobGV0IGk9MDtpPDE0O2krKyl7DQogICAgY29uc3QgcD0oKHQqMS4xICsgaSowLjE3KSUxKTsNCiAgICBkb3QoYywgY3grTWF0aC5zaW4odCozK2kpKjEwLCBjeS0gcCoodGlsZUgqMC4zMyksIDMrKGklMiksICJyZ2JhKDI0OCwyNTAsMjUyLDAuNzUpIik7DQogIH0NCiAgLy8gZmxhbWUgYWJvdmUNCiAgY29uc3QgZj0wLjUrMC41Kk1hdGguc2luKHQqMy4yKTsNCiAgYy5maWxsU3R5bGU9YHJnYmEoMjQ4LDExMywxMTMsJHswLjE1KzAuNDUqZn0pYDsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5tb3ZlVG8oY3gsIGN5LTMwKTsNCiAgYy5xdWFkcmF0aWNDdXJ2ZVRvKGN4LTE4LCBjeS01NS0zNSpmLCBjeCwgY3ktMTAwLTU1KmYpOw0KICBjLnF1YWRyYXRpY0N1cnZlVG8oY3grMTgsIGN5LTU1LTM1KmYsIGN4LCBjeS0zMCk7DQogIGMuZmlsbCgpOw0KDQogIC8vIE1nICsgaG90IHdhdGVyIChnZW50bGUgYnViYmxlcykNCiAgY29uc3QgeDI9dGlsZSgxLCJNZyArIGhvdCB3YXRlciAoc2xvdykiKTsNCiAgZHJhd0JlYWtlcihjLCB4MisyMCwgeSs1MCwgdGlsZVctNDAsIHRpbGVILTgwLCAwLjYwLCAicmdiYSg1NiwxODksMjQ4LDAuMTApIik7DQogIGNvbnN0IG14PXgyK3RpbGVXKjAuNSwgbXk9eSt0aWxlSCowLjYyOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjkpIjsNCiAgYy5maWxsUmVjdChteC0yMixteSw0NCwxMCk7DQogIGZvcihsZXQgaT0wO2k8MTA7aSsrKXsNCiAgICBjb25zdCBwPSgodCowLjQ1ICsgaSowLjIpJTEpOw0KICAgIGRvdChjLCBteCtNYXRoLnNpbih0KjIraSkqMTAsIG15LSBwKih0aWxlSCowLjMwKSwgMywgInJnYmEoMjQ4LDI1MCwyNTIsMC42KSIpOw0KICB9DQogIC8vIGhlYXQgd2F2ZXMNCiAgZm9yKGxldCBpPTA7aTw1O2krKyl7DQogICAgY29uc3QgYT10KjEuMytpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjUwLDIwNCwyMSwwLjE4KSI7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhteC00MCtpKjE4LCB5KzM1KTsNCiAgICBjLnF1YWRyYXRpY0N1cnZlVG8obXgtMzUraSoxOCwgeSszNS0xOCpNYXRoLnNpbihhKSwgbXgtMzAraSoxOCwgeSszNSk7DQogICAgYy5zdHJva2UoKTsNCiAgfQ0KDQogIC8vIEZlICsgc3RlYW0gKHN0ZWFtICsgSDIgYnViYmxlcykNCiAgY29uc3QgeDM9dGlsZSgyLCJGZSArIHN0ZWFtIChveGlkZSArIEjigoIpIik7DQogIC8vIHN0ZWFtIGNoYW1iZXINCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDgpIjsNCiAgYy5maWxsUmVjdCh4Mys0MCwgeSs2MCwgdGlsZVctODAsIHRpbGVILTE0MCk7DQogIGMucmVzdG9yZSgpOw0KICAvLyBpcm9uIHN0cmlwDQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuOSkiOw0KICBjLmZpbGxSZWN0KHgzK3RpbGVXKjAuNDIsIHkrdGlsZUgqMC41OCwgdGlsZVcqMC4xNiwgNDApOw0KICAvLyBzdGVhbSB3aXNwcw0KICBmb3IobGV0IGk9MDtpPDY7aSsrKXsNCiAgICBjb25zdCBwPSgodCowLjQ1ICsgaSowLjIyKSUxKTsNCiAgICBjb25zdCBzeD14Myt0aWxlVyowLjUrTWF0aC5zaW4odCoyK2kpKjEwOw0KICAgIGNvbnN0IHN5PXkrdGlsZUgqMC41OCAtIHAqKHRpbGVIKjAuMzUpOw0KICAgIGMuc3Ryb2tlU3R5bGU9YHJnYmEoMjI2LDIzMiwyNDAsJHswLjA4KzAuMjUqKDEtcCl9KWA7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhzeCwgc3krMzApOw0KICAgIGMucXVhZHJhdGljQ3VydmVUbyhzeCsxMCwgc3krMTAsIHN4LTYsIHN5KTsNCiAgICBjLnN0cm9rZSgpOw0KICB9DQogIC8vIEgyIGJ1YmJsZXMgb3V0DQogIGZvcihsZXQgaT0wO2k8MTA7aSsrKXsNCiAgICBjb25zdCBwPSgodCowLjkgKyBpKjAuMTkpJTEpOw0KICAgIGRvdChjLCB4Myt0aWxlVyowLjc1ICsgTWF0aC5zaW4odCozK2kpKjYsIHkrdGlsZUgqMC43MCAtIHAqKHRpbGVIKjAuMjUpLCAzLCAicmdiYSgyNDgsMjUwLDI1MiwwLjY1KSIpOw0KICB9DQp9DQoNCi8vIDUpIEFjaWQgcmVhY3Rpb246IFpuICsgSENsIChidWJibGVzKSBhbmQgQ3Ugbm8gcmVhY3Rpb24sIGFxdWEgcmVnaWEgbm90ZQ0KZnVuY3Rpb24gYW5pbUFjaWRzKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJNZXRhbCArIGRpbHV0ZSBhY2lkIOKGkiBzYWx0ICsgSOKCgiAobm90IGFsbCBtZXRhbHMpLiBHb2xkIGRpc3NvbHZlcyBpbiBhcXVhIHJlZ2lhLiIpOw0KDQogIGNvbnN0IHgxPXcqMC4xMCwgeT1oKjAuMTgsIGJ3PXcqMC4zNiwgYmg9aCowLjYyOw0KICBjb25zdCB4Mj13KjAuNTQ7DQoNCiAgZHJhd0JlYWtlcihjLCB4MSwgeSs0MCwgYncsIGJoLTYwLCAwLjYyLCAicmdiYSgyMzksNjgsNjgsMC4xOCkiKTsNCiAgbGFiZWwoYywgeDErMTAsIHkrMjIsICJabiArIEhDbCDihpIgSOKCgiBidWJibGVzIik7DQoNCiAgLy8gemluYyBncmFudWxlcw0KICBmb3IobGV0IGk9MDtpPDEwO2krKyl7DQogICAgZG90KGMsIHgxKzQwKyhpKjI4JSAoYnctODApKSwgeStiaC00MCsoaSUzKSo2LCA0LCAicmdiYSgxNTYsMTYzLDE3NSwwLjkpIik7DQogIH0NCiAgLy8gYnViYmxlcw0KICBmb3IobGV0IGk9MDtpPDE4O2krKyl7DQogICAgY29uc3QgcD0oKHQqMC43ICsgaSowLjEyKSUxKTsNCiAgICBkb3QoYywgeDErYncqMC41ICsgTWF0aC5zaW4odCoyK2kpKjE4LCB5K2JoLTcwIC0gcCooYmgqMC41NSksIDUtKGklMyksICJyZ2JhKDI0OCwyNTAsMjUyLDAuNjUpIik7DQogIH0NCg0KICBkcmF3QmVha2VyKGMsIHgyLCB5KzQwLCBidywgYmgtNjAsIDAuNjIsICJyZ2JhKDIzOSw2OCw2OCwwLjEyKSIpOw0KICBsYWJlbChjLCB4MisxMCwgeSsyMiwgIkN1ICsgSENsIOKGkiBubyBI4oKCIik7DQoNCiAgLy8gY29wcGVyIHN0cmlwDQogIGMuZmlsbFN0eWxlPSJyZ2JhKDIzNCwxNzksOCwwLjk1KSI7DQogIGMuZmlsbFJlY3QoeDIrYncqMC40MCwgeStiaCowLjcyLCBidyowLjIsIDM4KTsNCg0KICAvLyBubyBidWJibGVzOyBqdXN0IHNsaWdodCBzaGltbWVyDQogIGNvbnN0IHNoID0gMC41KzAuNSpNYXRoLnNpbih0KjIuMSk7DQogIGMuZmlsbFN0eWxlPWByZ2JhKDI0OCwyNTAsMjUyLCR7MC4wOCswLjEyKnNofSlgOw0KICBjLmZpbGxSZWN0KHgyK2J3KjAuNDAsIHkrYmgqMC43MiwgYncqMC4yLCAxMCk7DQoNCiAgbGFiZWwoYywgdyowLjEyLCBoLTIyLCAiQXF1YSByZWdpYSAoY29uYy4gYWNpZHMgbWl4KSBjYW4gZGlzc29sdmUgZ29sZC9zaWx2ZXIgKHZlcnkgY29ycm9zaXZlKS4iKTsNCn0NCg0KLy8gNikgRGlzcGxhY2VtZW50OiBGZSBuYWlsIGluIEN1U080LCBibHVl4oaSZ3JlZW4sIEN1IGRlcG9zaXQNCmZ1bmN0aW9uIGFuaW1EaXNwbGFjZW1lbnQoYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIkRpc3BsYWNlbWVudDogbW9yZSByZWFjdGl2ZSBtZXRhbCBkaXNwbGFjZXMgbGVzcyByZWFjdGl2ZSBmcm9tIHNhbHQgc29sdXRpb24iKTsNCg0KICBjb25zdCB4PXcqMC4yMiwgeT1oKjAuMTgsIGJ3PXcqMC41NiwgYmg9aCowLjYyOw0KICBjb25zdCBwaGFzZT0wLjUrMC41Kk1hdGguc2luKHQqMC44KTsNCg0KICAvLyBiZWFrZXIgd2l0aCBjb2xvciB0cmFuc2l0aW9uIGJsdWUgLT4gZ3JlZW4NCiAgY29uc3QgciA9IE1hdGgucm91bmQoNTYgKyAzMCpwaGFzZSk7DQogIGNvbnN0IGcgPSBNYXRoLnJvdW5kKDEzMCArIDYwKnBoYXNlKTsNCiAgY29uc3QgYiA9IE1hdGgucm91bmQoMjQ2IC0gOTAqcGhhc2UpOw0KICBkcmF3QmVha2VyKGMsIHgsIHkrMzAsIGJ3LCBiaC00MCwgMC42MiwgYHJnYmEoJHtyfSwke2d9LCR7Yn0sMC4yMilgKTsNCiAgbGFiZWwoYywgeCsxMCwgeSsxOCwgIkZlIG5haWwgaW4gQ3VTT+KChCAoYmx1ZSDihpIgZ3JlZW4pICsgQ3UgZGVwb3NpdCIpOw0KDQogIC8vIG5haWwNCiAgYy5maWxsU3R5bGU9InJnYmEoMTU2LDE2MywxNzUsMC45NSkiOw0KICBjLmZpbGxSZWN0KHgrYncqMC40OCwgeStiaCowLjI1LCBidyowLjA0LCBiaCowLjU1KTsNCg0KICAvLyBjb3BwZXIgZGVwb3NpdCBkb3RzIG9uIG5haWwNCiAgZm9yKGxldCBpPTA7aTwyNjtpKyspew0KICAgIGNvbnN0IHB4ID0geCtidyowLjQ4ICsgKGklMykqNiArIDI7DQogICAgY29uc3QgcHkgPSB5K2JoKjAuMzIgKyAoaSoxMSAlIE1hdGguZmxvb3IoYmgqMC40NSkpOw0KICAgIGRvdChjLCBweCwgcHksIDIsICJyZ2JhKDIzNCwxNzksOCwwLjkpIik7DQogIH0NCn0NCg0KLy8gNykgUmVhY3Rpdml0eSBzZXJpZXM6IHZlcnRpY2FsIGxpc3Qgd2l0aCBtb3ZpbmcgaGlnaGxpZ2h0DQpmdW5jdGlvbiBhbmltU2VyaWVzKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJSZWFjdGl2aXR5IHNlcmllczogdG9wIG1vcmUgcmVhY3RpdmUg4oaSIGJvdHRvbSBsZXNzIHJlYWN0aXZlIik7DQoNCiAgY29uc3QgeD13KjAuMTgsIHk9aCowLjE2LCBidz13KjAuNjQsIGJoPWgqMC43MDsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgcm91bmRlZFJlY3QoYyx4LHksYncsYmgsMTYpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIGNvbnN0IG1ldGFscyA9IFsiSyIsIk5hIiwiQ2EiLCJNZyIsIkFsIiwiWm4iLCJGZSIsIlBiIiwiSCIsIkN1IiwiQWciLCJBdSJdOw0KICBjb25zdCByb3dIID0gYmggLyBtZXRhbHMubGVuZ3RoOw0KDQogIC8vIGhpZ2hsaWdodCBtb3Zlcw0KICBjb25zdCBpZHggPSBNYXRoLmZsb29yKCgwLjUrMC41Kk1hdGguc2luKHQqMC42KSkqKG1ldGFscy5sZW5ndGgtMSkpOw0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMTYsMTg1LDEyOSwwLjIyKSI7DQogIGMuZmlsbFJlY3QoeCsxMCwgeStpZHgqcm93SCwgYnctMjAsIHJvd0gpOw0KICBjLnJlc3RvcmUoKTsNCg0KICBjLnNhdmUoKTsNCiAgYy5mb250PSIxM3B4IHN5c3RlbS11aSI7DQogIGZvcihsZXQgaT0wO2k8bWV0YWxzLmxlbmd0aDtpKyspew0KICAgIGNvbnN0IHl5ID0geSArIGkqcm93SCArIHJvd0gqMC42NTsNCiAgICBjLmZpbGxTdHlsZSA9IGk9PT1pZHggPyAicmdiYSgyMDksMjUwLDIyOSwwLjk1KSIgOiAicmdiYSgyMjYsMjMyLDI0MCwwLjc1KSI7DQogICAgYy5maWxsVGV4dChtZXRhbHNbaV0sIHgrMzAsIHl5KTsNCg0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuNSkiOw0KICAgIGMuZmlsbFRleHQoaSA8IDQgPyAiSGlnaCIgOiAoaTw5ID8gIk1lZGl1bSIgOiAiTG93IiksIHgrYncqMC4zNSwgeXkpOw0KICB9DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE2NSwxODAsMjUyLDAuOTUpIjsNCiAgYy5maWxsVGV4dCgiUnVsZTogSGlnaGVyIGRpc3BsYWNlcyBsb3dlciBmcm9tIHNhbHQgc29sdXRpb24iLCB4KzMwLCB5K2JoLTEwKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQoNCi8vIDgpIElvbmljIGJvbmQ6IGVsZWN0cm9uIHRyYW5zZmVyIE5hIC0+IENsLCB0aGVuIGxhdHRpY2UgcG9pbnRzDQpmdW5jdGlvbiBhbmltSW9uaWMoYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIklvbmljIGJvbmQ6IGVsZWN0cm9uIHRyYW5zZmVyIChtZXRhbCDihpIgbm9uLW1ldGFsKSBmb3JtaW5nIE5h4oG6IGFuZCBDbOKBuyIpOw0KDQogIGNvbnN0IGN4MT13KjAuMzAsIGN4Mj13KjAuNzAsIGN5PWgqMC40MjsNCg0KICAvLyBhdG9tcw0KICBkb3QoYywgY3gxLCBjeSwgMzQsICJyZ2JhKDI1MCwyMDQsMjEsMC4zMCkiKTsNCiAgZG90KGMsIGN4MiwgY3ksIDM0LCAicmdiYSg1OSwxMzAsMjQ2LDAuMjUpIik7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjkpIjsNCiAgYy5mb250PSJib2xkIDE0cHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCgiTmEiLCBjeDEtMTQsIGN5KzUpOw0KICBjLmZpbGxUZXh0KCJDbCIsIGN4Mi0xMiwgY3krNSk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIGVsZWN0cm9uIG1vdmluZw0KICBjb25zdCBwID0gKDAuNSswLjUqTWF0aC5zaW4odCoxLjQpKTsNCiAgY29uc3QgZXggPSBjeDEgKyBwKihjeDItY3gxKTsNCiAgY29uc3QgZXkgPSBjeSAtIDQwICsgMjAqTWF0aC5zaW4odCoyLjgpOw0KICBkb3QoYywgZXgsIGV5LCA2LCAicmdiYSgyNDgsMjUwLDI1MiwwLjkpIik7DQogIGxhYmVsKGMsIGV4LTE4LCBleS0xMCwgImXigbsiKTsNCg0KICAvLyBpb25zIGFwcGVhcg0KICBpZihwID4gMC42NSl7DQogICAgbGFiZWwoYywgY3gxLTIyLCBjeSs2MCwgIk5h4oG6Iik7DQogICAgbGFiZWwoYywgY3gyLTIyLCBjeSs2MCwgIkNs4oG7Iik7DQogIH0gZWxzZSB7DQogICAgbGFiZWwoYywgY3gxLTMwLCBjeSs2MCwgIk5hIChsb3NlcyBl4oG7KSIpOw0KICAgIGxhYmVsKGMsIGN4Mi0zMCwgY3krNjAsICJDbCAoZ2FpbnMgZeKBuykiKTsNCiAgfQ0KDQogIC8vIGxhdHRpY2UgKGJvdHRvbSkgc2hvd3Mgd2hlbiB0cmFuc2ZlciBpcyBkb25lDQogIGNvbnN0IGRvbmUgPSBNYXRoLm1heCgwLCAocC0wLjU1KS8wLjQ1KTsNCiAgY29uc3QgbHg9dyowLjIwLCBseT1oKjAuNjYsIGx3PXcqMC42MCwgbGg9aCowLjIyOw0KICBjLnNhdmUoKTsNCiAgYy5nbG9iYWxBbHBoYSA9IDAuMTUgKyAwLjg1KmRvbmU7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICBjLnN0cm9rZVJlY3QobHgsbHksbHcsbGgpOw0KICBmb3IobGV0IGk9MDtpPDY7aSsrKXsNCiAgICBmb3IobGV0IGo9MDtqPDM7aisrKXsNCiAgICAgIGNvbnN0IHh4ID0gbHggKyA0MCArIGkqKGx3LTgwKS81Ow0KICAgICAgY29uc3QgeXkgPSBseSArIDMwICsgaioobGgtNjApLzI7DQogICAgICBjb25zdCBpc05hID0gKGkraiklMj09PTA7DQogICAgICBkb3QoYywgeHgsIHl5LCAxMCwgaXNOYSA/ICJyZ2JhKDI1MCwyMDQsMjEsMC43KSIgOiAicmdiYSg1OSwxMzAsMjQ2LDAuNjUpIik7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyLDYsMjMsMC45KSI7DQogICAgICBjLmZvbnQ9IjEwcHggc3lzdGVtLXVpIjsNCiAgICAgIGMuZmlsbFRleHQoaXNOYSA/ICJOYeKBuiIgOiAiQ2zigbsiLCB4eC0xMiwgeXkrNCk7DQogICAgfQ0KICB9DQogIGMucmVzdG9yZSgpOw0KfQ0KDQovLyA5KSBDb3Jyb3Npb246IGlyb24gYmFyIGdyYWR1YWxseSBydXN0cyArIHByZXZlbnRpb24gaWNvbnMNCmZ1bmN0aW9uIGFuaW1Db3Jyb3Npb24oYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIkNvcnJvc2lvbiAocnVzdGluZykgKyBwcmV2ZW50aW9uOiBwYWludCwgZ3JlYXNlLCBnYWx2YW5pc2UsIGFsbG95Iik7DQoNCiAgLy8gaXJvbiBiYXINCiAgY29uc3QgeD13KjAuMTQsIHk9aCowLjMwLCBidz13KjAuNzIsIGJoPTI0Ow0KICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjc1KSI7DQogIGMuZmlsbFJlY3QoeCx5LGJ3LGJoKTsNCg0KICAvLyBydXN0IHNwb3RzIGluY3JlYXNlIHdpdGggdGltZQ0KICBjb25zdCByID0gMC41KzAuNSpNYXRoLnNpbih0KjAuMzUpOw0KICBmb3IobGV0IGk9MDtpPDgwO2krKyl7DQogICAgY29uc3QgcHggPSB4ICsgKGkvNzkpKmJ3Ow0KICAgIGNvbnN0IGludGVuc2l0eSA9IChpJTcpLzc7DQogICAgY29uc3QgYWxwaGEgPSAwLjA4ICsgMC4zNSpyKmludGVuc2l0eTsNCiAgICBjLnN0cm9rZVN0eWxlID0gYHJnYmEoMjM0LDE3OSw4LCR7YWxwaGF9KWA7DQogICAgYy5saW5lV2lkdGggPSAyICsgOCpyKmludGVuc2l0eTsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKHB4LHkrYmgqMC41KTsNCiAgICBjLmxpbmVUbyhweCswLjEseStiaCowLjUpOw0KICAgIGMuc3Ryb2tlKCk7DQogIH0NCg0KICAvLyBwcmV2ZW50aW9uIHJvdw0KICBjb25zdCBweT1oKjAuNjI7DQogIGNvbnN0IGljb25zID0gWw0KICAgIHsgdGl0bGU6IlBhaW50IiwgY29sb3I6InJnYmEoNTksMTMwLDI0NiwwLjkpIiB9LA0KICAgIHsgdGl0bGU6IkdyZWFzZSIsIGNvbG9yOiJyZ2JhKDE0OCwxNjMsMTg0LDAuOSkiIH0sDQogICAgeyB0aXRsZToiR2FsdmFuaXNlIChabikiLCBjb2xvcjoicmdiYSgyNTAsMjA0LDIxLDAuOTUpIiB9LA0KICAgIHsgdGl0bGU6IkFsbG95IiwgY29sb3I6InJnYmEoMTYsMTg1LDEyOSwwLjk1KSIgfQ0KICBdOw0KDQogIGNvbnN0IGdhcCA9IDE4Ow0KICBjb25zdCB0aWxlVyA9ICh3IC0gZ2FwKjUpLzQ7DQogIGZvcihsZXQgaT0wO2k8NDtpKyspew0KICAgIGNvbnN0IHR4ID0gZ2FwICsgaSoodGlsZVcrZ2FwKTsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA3KSI7DQogICAgcm91bmRlZFJlY3QoYywgdHgsIHB5LCB0aWxlVywgOTAsIDE0KTsNCiAgICBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIjsNCiAgICBjLnN0cm9rZSgpOw0KICAgIC8vIGljb24NCiAgICBkb3QoYywgdHgrMzAsIHB5KzQyLCAxNiwgaWNvbnNbaV0uY29sb3IpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIsNiwyMywwLjk1KSI7DQogICAgYy5mb250PSJib2xkIDEycHggc3lzdGVtLXVpIjsNCiAgICBjLmZpbGxUZXh0KCLinJMiLCB0eCsyNSwgcHkrNDcpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIjsNCiAgICBjLmZvbnQ9IjEycHggc3lzdGVtLXVpIjsNCiAgICBjLmZpbGxUZXh0KGljb25zW2ldLnRpdGxlLCB0eCs1NiwgcHkrNDYpOw0KICAgIGMucmVzdG9yZSgpOw0KICB9DQp9DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIElOSVQNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCnNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZSA9PiByZW5kZXJOYXYoZS50YXJnZXQudmFsdWUpKTsNCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiB7DQogIGNvbnN0IHQgPSB0b3BpY3MuZmluZCh4ID0+IHguaWQgPT09IGN1cnJlbnRUb3BpY0lkKTsNCiAgaWYodCkgc2V0dXBBbmltYXRpb24odC5hbmltYXRpb25UeXBlKTsNCn0pOw0KDQpyZW5kZXJOYXYoKTsNCnNlbGVjdFRvcGljKHRvcGljc1swXS5pZCk7DQo8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCg=="}, {"id": "ch4", "file": "ch4.html", "title": "Class 10 Science Ch 4 \u2013 Carbon and its Compounds", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDQg4oCTIENhcmJvbiBhbmQgaXRzIENvbXBvdW5kczwvdGl0bGU+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4NCiAgPHN0eWxlPg0KICAgICogeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9DQogICAgYm9keXsNCiAgICAgIG1hcmdpbjowOw0KICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgU2Vnb2UgVUksIFJvYm90bywgQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMDUwODE2IDAlLCAjMWUxYjRiIDEwMCUpOw0KICAgICAgY29sb3I6I2YxZjVmOTsNCiAgICAgIG1pbi1oZWlnaHQ6MTAwdmg7DQogICAgfQ0KICAgIGhlYWRlcnsNCiAgICAgIHBhZGRpbmc6IDE4cHggNXZ3Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjk1KTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7DQogICAgICBwb3NpdGlvbjogc3RpY2t5OyB0b3A6MDsgei1pbmRleDogNTA7DQogICAgfQ0KICAgIGhlYWRlciBoMXsNCiAgICAgIG1hcmdpbjowIDAgOHB4Ow0KICAgICAgZm9udC1zaXplOiBjbGFtcCgxLjM1cmVtLCA0dncsIDEuOXJlbSk7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjU5ZTBiLCAjMjJjNTVlLCAjM2I4MmY2LCAjOGI1Y2Y2KTsNCiAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOnRleHQ7DQogICAgICBiYWNrZ3JvdW5kLWNsaXA6dGV4dDsNCiAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOnRyYW5zcGFyZW50Ow0KICAgIH0NCiAgICAuY29udHJvbHN7IGRpc3BsYXk6ZmxleDsgZ2FwOjEycHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZmxleC13cmFwOiB3cmFwOyB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl17DQogICAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjQpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMjRweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC44KTsNCiAgICAgIGNvbG9yOiNmMWY1Zjk7DQogICAgICBmb250LXNpemU6IDAuOTVyZW07DQogICAgICBtaW4td2lkdGg6IDI2MHB4Ow0KICAgIH0NCiAgICBpbnB1dFt0eXBlPSJzZWFyY2giXTo6cGxhY2Vob2xkZXJ7IGNvbG9yOiM5NGEzYjg7IH0NCiAgICAucHJvZ3Jlc3N7IGZvbnQtc2l6ZTowLjlyZW07IGNvbG9yOiM5NGEzYjg7IH0NCg0KICAgIC5sYXlvdXR7DQogICAgICBkaXNwbGF5OmdyaWQ7DQogICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDMwMHB4IDFmcjsNCiAgICAgIGdhcDogMThweDsNCiAgICAgIHBhZGRpbmc6IDE4cHggNXZ3IDYwcHg7DQogICAgICBtYXgtd2lkdGg6IDE2NTBweDsNCiAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgIH0NCiAgICBAbWVkaWEgKG1heC13aWR0aDogMTAwMHB4KXsgLmxheW91dHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7IH0gfQ0KDQogICAgbmF2ew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjk1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuMyk7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7DQogICAgICBtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTQwcHgpOw0KICAgICAgb3ZlcmZsb3c6YXV0bzsNCiAgICB9DQogICAgbmF2IGgyew0KICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgbWFyZ2luOiAwIDAgMTJweDsNCiAgICAgIGNvbG9yOiNhNWI0ZmM7DQogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDVlbTsNCiAgICB9DQogICAgLnRvcGljLWxpbmt7DQogICAgICBkaXNwbGF5OmJsb2NrOw0KICAgICAgcGFkZGluZzogMTBweCAxMnB4Ow0KICAgICAgbWFyZ2luOiA0cHggMDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMnMgZWFzZTsNCiAgICAgIHVzZXItc2VsZWN0Om5vbmU7DQogICAgfQ0KICAgIC50b3BpYy1saW5rOmhvdmVyew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMTUpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LDEzMCwyNDYsMC40KTsNCiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg0cHgpOw0KICAgIH0NCiAgICAudG9waWMtbGluay5hY3RpdmV7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTBiOTgxLCAjMzRkMzk5KTsNCiAgICAgIGNvbG9yOiMwZjE3MmE7DQogICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDE2LDE4NSwxMjksMC4zKTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsgLnRhZ3sNCiAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogMnB4IDhweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgZm9udC1zaXplOiAwLjcycmVtOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjM1KTsNCiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7DQogICAgfQ0KDQogICAgbWFpbnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45NSk7DQogICAgICBib3JkZXItcmFkaXVzOiAyMHB4Ow0KICAgICAgcGFkZGluZzogMjJweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjMpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpOw0KICAgICAgYm94LXNoYWRvdzogMCAyMHB4IDYwcHggcmdiYSgwLDAsMCwwLjQpOw0KICAgIH0NCiAgICAuYmFkZ2V7DQogICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsNCiAgICAgIHBhZGRpbmc6IDRweCAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBmb250LXNpemU6IDAuNzhyZW07DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI0NSwxNTgsMTEsMC41NSk7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMik7DQogICAgICBjb2xvcjogI2ZiYmYyNDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgfQ0KICAgIG1haW4gaDJ7IG1hcmdpbjogNnB4IDAgMDsgY29sb3I6I2UwZTdmZjsgZm9udC1zaXplOiAxLjQ1cmVtOyB9DQogICAgLnNlY3Rpb257IG1hcmdpbi10b3A6IDIycHg7IH0NCiAgICAuc2VjdGlvbiBoM3sNCiAgICAgIGZvbnQtc2l6ZTogMS4wOHJlbTsNCiAgICAgIGNvbG9yOiNjNGI1ZmQ7DQogICAgICBtYXJnaW46IDAgMCAxMHB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjOGI1Y2Y2Ow0KICAgICAgcGFkZGluZy1sZWZ0OiAxMnB4Ow0KICAgIH0NCiAgICBwLCBsaXsgY29sb3I6I2UyZThmMDsgZm9udC1zaXplOiAwLjk2cmVtOyBsaW5lLWhlaWdodDoxLjY1OyB9DQogICAgdWx7IHBhZGRpbmctbGVmdDogMjBweDsgbWFyZ2luOiAxMHB4IDAgMDsgfQ0KDQogICAgLnZpZGVvLWNvbnRhaW5lcnsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNCk7DQogICAgICBiYWNrZ3JvdW5kOiAjMGYxNzJhOw0KICAgICAgYXNwZWN0LXJhdGlvOiAxNi85Ow0KICAgICAgbWFyZ2luOiAxMnB4IDA7DQogICAgfQ0KICAgIGlmcmFtZXsgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IGJvcmRlcjowOyB9DQoNCiAgICAuYW5pbS1jb250YWluZXJ7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFlMjkzYiAwJSwgIzBmMTcyYSAxMDAlKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjU1KTsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgLmFuaW0taGVhZGVyew0KICAgICAgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgIGZvbnQtc2l6ZTogMC44OHJlbTsNCiAgICAgIGNvbG9yOiNhNWI0ZmM7DQogICAgfQ0KICAgIC5hbmltLWhlYWRlciBidXR0b257DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4yKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjY1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgcGFkZGluZzogNnB4IDE0cHg7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICBmb250LXNpemU6IDAuODJyZW07DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjJzOw0KICAgIH0NCiAgICAuYW5pbS1oZWFkZXIgYnV0dG9uOmhvdmVyeyBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4zNSk7IH0NCg0KICAgIGNhbnZhc3sNCiAgICAgIHdpZHRoOjEwMCU7DQogICAgICBoZWlnaHQ6IDI5MHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMzAlIDIwJSwgcmdiYSg1OSwxMzAsMjQ2LDAuMTIpLCAjMGYxNzJhKTsNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogICAgfQ0KDQogICAgLm1pbmRtYXB7DQogICAgICBkaXNwbGF5OmdyaWQ7DQogICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIyMHB4LCAxZnIpKTsNCiAgICAgIGdhcDogMTJweDsNCiAgICAgIG1hcmdpbi10b3A6IDEycHg7DQogICAgfQ0KICAgIC5tbS1ub2Rlew0KICAgICAgcGFkZGluZzogMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEzOSw5MiwyNDYsMC4xNSk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEzOSw5MiwyNDYsMC40KTsNCiAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICB9DQogICAgLm1tLW5vZGUgc3Ryb25neyBjb2xvcjojYzRiNWZkOyB9DQoNCiAgICAucXVpensNCiAgICAgIG1hcmdpbi10b3A6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwxODUsMTI5LDAuMSk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMTBiOTgxOw0KICAgIH0NCiAgICAucXVpei1xdWVzdGlvbnsgZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLWJvdHRvbTogMTBweDsgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uew0KICAgICAgZGlzcGxheTpibG9jazsgd2lkdGg6MTAwJTsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC40KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC44KTsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMnM7DQogICAgICB0ZXh0LWFsaWduOmxlZnQ7DQogICAgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uOmhvdmVyew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMik7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjgpOw0KICAgIH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbi5jb3JyZWN0ew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwxODUsMTI5LDAuOTUpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDUsMTUwLDEwNSwxKTsNCiAgICAgIGNvbG9yOiMwNTJlMmI7DQogICAgICBmb250LXdlaWdodDogNzAwOw0KICAgIH0NCiAgICAucXVpei1leHBsYWluew0KICAgICAgZGlzcGxheTpub25lOw0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE2LDE4NSwxMjksMC4xOCk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgY29sb3I6I2QxZmFlNTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICB9DQoNCiAgICAuc21hbGxyZWZ7IGNvbG9yOiM5M2M1ZmQ7IGZvbnQtc2l6ZTogMC45cmVtOyBtYXJnaW4tdG9wOiA2cHg7IH0NCiAgICBheyBjb2xvcjojNjBhNWZhOyB0ZXh0LWRlY29yYXRpb246bm9uZTsgfQ0KICAgIGE6aG92ZXJ7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyB9DQogIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCjxoZWFkZXI+DQogIDxoMT5DYXJib24gYW5kIGl0cyBDb21wb3VuZHMg4oCTIENsYXNzIDEwIChDaGFwdGVyIDQpPC9oMT4NCiAgPGRpdiBjbGFzcz0iY29udHJvbHMiPg0KICAgIDxpbnB1dCB0eXBlPSJzZWFyY2giIGlkPSJzZWFyY2hJbnB1dCIgcGxhY2Vob2xkZXI9IlNlYXJjaDogY292YWxlbnQsIGNhdGVuYXRpb24sIGVzdGVyaWZpY2F0aW9uLCBtaWNlbGxlLi4uIiAvPg0KICAgIDxzcGFuIGNsYXNzPSJwcm9ncmVzcyI+UHJvZ3Jlc3M6IDxzcGFuIGlkPSJwcm9nQ291bnQiPjA8L3NwYW4+LzxzcGFuIGlkPSJ0b3RhbENvdW50Ij4wPC9zcGFuPiB0b3BpY3M8L3NwYW4+DQogIDwvZGl2Pg0KPC9oZWFkZXI+DQoNCjxkaXYgY2xhc3M9ImxheW91dCI+DQogIDxuYXY+DQogICAgPGgyPkNoYXB0ZXIgNCBUb3BpY3M8L2gyPg0KICAgIDxkaXYgaWQ9InRvcGljTGlzdCI+PC9kaXY+DQogIDwvbmF2Pg0KDQogIDxtYWluPg0KICAgIDxkaXYgaWQ9InRvcGljQ29udGVudCI+PC9kaXY+DQogIDwvbWFpbj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgVklERU8NCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IGNoNFZpZGVvID0gew0KICB5dFdhdGNoOiAiaHR0cHM6Ly95b3V0dS5iZS9hbzQ1UGFxTlU3ayIsDQogIGVtYmVkOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvYW80NVBhcU5VN2siDQp9Ow0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBUT1BJQ1MgKE5DRVJULWFsaWduZWQpDQo9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpjb25zdCB0b3BpY3MgPSBbDQogIHsNCiAgICBpZDogImNvdmFsZW50LWJvbmQiLA0KICAgIHRpdGxlOiAiQm9uZGluZyBpbiBDYXJib24g4oCTIENvdmFsZW50IEJvbmQiLA0KICAgIHR5cGU6ICJCb25kaW5nIiwNCiAgICB2aWRlb1RpbWU6ICIwMDo1NeKAkzA4OjIwIiwNCiAgICBhbmltYXRpb25UeXBlOiAiY292YWxlbnRCb25kIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiQ2FyYm9uIHVzdWFsbHkgZm9ybXMgY292YWxlbnQgYm9uZHMgKGVsZWN0cm9uIHNoYXJpbmcpIGJlY2F1c2UgbG9zaW5nL2dhaW5pbmcgNCBlbGVjdHJvbnMgaXMgbm90IHByYWN0aWNhbC4gQ2FyYm9uIGlzIHRldHJhdmFsZW50ICh2YWxlbmN5IDQpLiIsDQogICAgcG9pbnRzOiBbDQogICAgICAiU2luZ2xlIGJvbmQgPSAxIHNoYXJlZCBwYWlyIChlLmcuLCBI4oCTSCkuIiwNCiAgICAgICJEb3VibGUgYm9uZCA9IDIgc2hhcmVkIHBhaXJzIChlLmcuLCBPPU8sIGFuZCBDPUMgaW4gZXRoZW5lKS4iLA0KICAgICAgIlRyaXBsZSBib25kID0gMyBzaGFyZWQgcGFpcnMgKGUuZy4sIE7iiaFOLCBhbmQgQ+KJoUMgaW4gZXRoeW5lKS4iLA0KICAgICAgIkV4YW1wbGU6IENINCAobWV0aGFuZSkgZm9ybXMgYnkgY2FyYm9uIHNoYXJpbmcgNCBlbGVjdHJvbnMgd2l0aCA0IEggYXRvbXMuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiRXhwZWN0OiBlbGVjdHJvbi1kb3Qgb2YgQ0g0IC8gQ08yOyBkZWZpbmUgc2luZ2xlL2RvdWJsZS90cmlwbGUgYm9uZC4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiQSBkb3VibGUgYm9uZCBtZWFuczoiLA0KICAgICAgb3B0aW9uczogWyJPbmUgc2hhcmVkIGVsZWN0cm9uIHBhaXIiLCAiVHdvIHNoYXJlZCBlbGVjdHJvbiBwYWlycyIsICJUaHJlZSBzaGFyZWQgZWxlY3Ryb24gcGFpcnMiLCAiVHJhbnNmZXIgb2YgZWxlY3Ryb25zIl0sDQogICAgICBjb3JyZWN0OiAxLA0KICAgICAgZXhwbGFpbjogIkRvdWJsZSBib25kID0gMiBzaGFyZWQgcGFpcnMgb2YgZWxlY3Ryb25zLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImFsbG90cm9wZXMiLA0KICAgIHRpdGxlOiAiQWxsb3Ryb3BlcyBvZiBDYXJib24gKERpYW1vbmQsIEdyYXBoaXRlLCBGdWxsZXJlbmUpIiwNCiAgICB0eXBlOiAiU3RydWN0dXJlIiwNCiAgICB2aWRlb1RpbWU6ICIwODoyMOKAkzExOjIwIiwNCiAgICBhbmltYXRpb25UeXBlOiAiYWxsb3Ryb3BlcyIsDQogICAgY29yZU5vdGVzOg0KICAgICAgIkRpYW1vbmQgYW5kIGdyYXBoaXRlIGFyZSBib3RoIGNhcmJvbiwgYnV0IHRoZWlyIGF0b20gYXJyYW5nZW1lbnRzIGRpZmZlciwgc28gcGh5c2ljYWwgcHJvcGVydGllcyBkaWZmZXIgKGRpYW1vbmQgdmVyeSBoYXJkOyBncmFwaGl0ZSBsYXllcmVkIGFuZCBjb25kdWN0cyBlbGVjdHJpY2l0eSkuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJEaWFtb25kOiBlYWNoIGNhcmJvbiBib25kZWQgdG8gNCBjYXJib25zIChyaWdpZCAzRCBzdHJ1Y3R1cmUpLiIsDQogICAgICAiR3JhcGhpdGU6IGVhY2ggY2FyYm9uIGJvbmRlZCB0byAzIGluIGEgcGxhbmUgKGxheWVycyBzbGlkZTsgZGVsb2NhbGlzZWQgZWxlY3Ryb25zIGFsbG93IGNvbmR1Y3Rpb24pLiIsDQogICAgICAiRnVsbGVyZW5lIChDNjApOiBjYXJib24gYXJyYW5nZWQgbGlrZSBhIGZvb3RiYWxsIChjb25jZXB0LWxldmVsKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJWZXJ5IGNvbW1vbjogY29tcGFyZSBkaWFtb25kIHZzIGdyYXBoaXRlICgy4oCTMyBwb2ludHMpLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJHcmFwaGl0ZSBjb25kdWN0cyBlbGVjdHJpY2l0eSBtYWlubHkgZHVlIHRvOiIsDQogICAgICBvcHRpb25zOiBbIkl0IGlzIGEgbWV0YWwiLCAiRnJlZS9kZWxvY2FsaXNlZCBlbGVjdHJvbnMgaW4gbGF5ZXJzIiwgIkl0IGRpc3NvbHZlcyBpbiB3YXRlciIsICJIaWdoIG1lbHRpbmcgcG9pbnQiXSwNCiAgICAgIGNvcnJlY3Q6IDEsDQogICAgICBleHBsYWluOiAiR3JhcGhpdGUgaGFzIGVsZWN0cm9ucyB0aGF0IGNhbiBtb3ZlIGFsb25nIGxheWVycywgc28gaXQgY29uZHVjdHMuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAidmVyc2F0aWxlIiwNCiAgICB0aXRsZTogIlZlcnNhdGlsZSBOYXR1cmUgb2YgQ2FyYm9uIChDYXRlbmF0aW9uICsgVGV0cmF2YWxlbmN5KSIsDQogICAgdHlwZTogIkNvcmUgSWRlYSIsDQogICAgdmlkZW9UaW1lOiAiMTE6MjDigJMxNTozMCIsDQogICAgYW5pbWF0aW9uVHlwZTogImNhdGVuYXRpb24iLA0KICAgIGNvcmVOb3RlczoNCiAgICAgICJDYXJib24gZm9ybXMgbWlsbGlvbnMgb2YgY29tcG91bmRzIG1haW5seSBiZWNhdXNlIGl0IGNhbiBib25kIHRvIGl0c2VsZiAoY2F0ZW5hdGlvbikgYW5kIGl0IGhhcyB2YWxlbmN5IDQgKHRldHJhdmFsZW5jeSkuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJDYXRlbmF0aW9uOiBsb25nIGNoYWlucywgYnJhbmNoZWQgY2hhaW5zLCBhbmQgcmluZ3MuIiwNCiAgICAgICJTaW5nbGUvZG91YmxlL3RyaXBsZSBD4oCTQyBib25kcyBhbGxvdyBtYW55IHN0cnVjdHVyZXMuIiwNCiAgICAgICJDYXJib24gYm9uZHMgYXJlIHN0cm9uZyBhbmQgY29tcG91bmRzIGFyZSBjb21wYXJhdGl2ZWx5IHN0YWJsZS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJGcmVxdWVudGx5IGFza2VkOiB3cml0ZSB0aGUgdHdvIHJlYXNvbnMgZm9yIGxhcmdlIG51bWJlciBvZiBjYXJib24gY29tcG91bmRzLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJUaGUgdHdvIGtleSBwcm9wZXJ0aWVzIHJlc3BvbnNpYmxlIGZvciBtYW55IGNhcmJvbiBjb21wb3VuZHMgYXJlOiIsDQogICAgICBvcHRpb25zOiBbIk1hZ25ldGlzbSBhbmQgZGVuc2l0eSIsICJDYXRlbmF0aW9uIGFuZCB0ZXRyYXZhbGVuY3kiLCAiQ29uZHVjdGl2aXR5IGFuZCBtYWxsZWFiaWxpdHkiLCAiQm9pbGluZyBwb2ludCBhbmQgbWVsdGluZyBwb2ludCJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJDYXRlbmF0aW9uICsgdGV0cmF2YWxlbmN5IGV4cGxhaW4gY2FyYm9u4oCZcyBodWdlIHZhcmlldHkuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAic2F0LXVuc2F0LWlzb21lciIsDQogICAgdGl0bGU6ICJTYXR1cmF0ZWQvVW5zYXR1cmF0ZWQgKyBDaGFpbnMvQnJhbmNoZXMvUmluZ3MgKyBJc29tZXJpc20iLA0KICAgIHR5cGU6ICJTdHJ1Y3R1cmVzIiwNCiAgICB2aWRlb1RpbWU6ICIxNTozMOKAkzIwOjEwIiwNCiAgICBhbmltYXRpb25UeXBlOiAic2F0VW5zYXQiLA0KICAgIGNvcmVOb3RlczoNCiAgICAgICJTYXR1cmF0ZWQgY29tcG91bmRzIGhhdmUgb25seSBzaW5nbGUgQ+KAk0MgYm9uZHMgKGFsa2FuZXMpLiBVbnNhdHVyYXRlZCBjb21wb3VuZHMgaGF2ZSBDPUMgKGFsa2VuZXMpIG9yIEPiiaFDIChhbGt5bmVzKSBhbmQgYXJlIGdlbmVyYWxseSBtb3JlIHJlYWN0aXZlLiIsDQogICAgcG9pbnRzOiBbDQogICAgICAiU3RyYWlnaHQgY2hhaW4gdnMgYnJhbmNoZWQgY2hhaW4gdnMgcmluZyBjb21wb3VuZHMuIiwNCiAgICAgICJTdHJ1Y3R1cmFsIGlzb21lcnM6IHNhbWUgbW9sZWN1bGFyIGZvcm11bGEsIGRpZmZlcmVudCBzdHJ1Y3R1cmUgKGUuZy4sIHR3byBmb3JtcyBvZiBDNEgxMCkuIiwNCiAgICAgICJFeGFtcGxlczogZXRoYW5lIChDMkg2KSwgZXRoZW5lIChDMkg0KSwgZXRoeW5lIChDMkgyKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJCb2FyZDogaWRlbnRpZnkgc2F0dXJhdGVkL3Vuc2F0dXJhdGVkOyBkcmF3IGlzb21lcnMgb2YgYnV0YW5lL3BlbnRhbmUuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIldoaWNoIGlzIGFuIHVuc2F0dXJhdGVkIGh5ZHJvY2FyYm9uPyIsDQogICAgICBvcHRpb25zOiBbIkMySDYiLCAiQzNIOCIsICJDMkg0IiwgIkNINCJdLA0KICAgICAgY29ycmVjdDogMiwNCiAgICAgIGV4cGxhaW46ICJDMkg0IChldGhlbmUpIGhhcyBhIGRvdWJsZSBib25kLCBzbyBpdCBpcyB1bnNhdHVyYXRlZC4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJmdW5jdGlvbmFsLWhvbW9sb2dvdXMtbmFtaW5nIiwNCiAgICB0aXRsZTogIkZ1bmN0aW9uYWwgR3JvdXBzICsgSG9tb2xvZ291cyBTZXJpZXMgKyBOb21lbmNsYXR1cmUgKElVUEFDIGJhc2ljcykiLA0KICAgIHR5cGU6ICJOYW1pbmciLA0KICAgIHZpZGVvVGltZTogIjIwOjEw4oCTMjg6MjAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJub21lbmNsYXR1cmUiLA0KICAgIGNvcmVOb3RlczoNCiAgICAgICJGdW5jdGlvbmFsIGdyb3VwcyAo4oCTT0gsIOKAk0NITywgPkM9Tywg4oCTQ09PSCwg4oCTQ2wv4oCTQnIpIGdpdmUgY2hhcmFjdGVyaXN0aWMgcHJvcGVydGllcy4gSG9tb2xvZ291cyBzZXJpZXMgZGlmZmVycyBieSDigJNDSDLigJMgdW5pdHMuIE5hbWVzIHVzZSByb290ICsgc3VmZml4IChhbmUvZW5lL3luZSwgb2wvYWwvb25lL29pYyBhY2lkKS4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkhvbW9sb2dvdXMgc2VyaWVzOiBzYW1lIGZ1bmN0aW9uYWwgZ3JvdXAsIHNpbWlsYXIgY2hlbWljYWwgcHJvcGVydGllczsgcGh5c2ljYWwgcHJvcGVydGllcyBzaG93IGdyYWRhdGlvbi4iLA0KICAgICAgIlJvb3Qgd29yZHM6IG1ldGgtLCBldGgtLCBwcm9wLSwgYnV0LSwgcGVudC0gKGJhc2VkIG9uIGNhcmJvbiBjb3VudCkuIiwNCiAgICAgICJTdWZmaXggZXhhbXBsZXM6IC1vbCAoYWxjb2hvbCksIC1hbCAoYWxkZWh5ZGUpLCAtb25lIChrZXRvbmUpLCAtb2ljIGFjaWQgKGNhcmJveHlsaWMgYWNpZCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiVmVyeSBzY29yaW5nOiB3cml0ZSBJVVBBQyBuYW1lcyBhbmQgaWRlbnRpZnkgZnVuY3Rpb25hbCBncm91cHMuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIlRoZSBmdW5jdGlvbmFsIGdyb3VwIGluIGV0aGFub2ljIGFjaWQgaXM6IiwNCiAgICAgIG9wdGlvbnM6IFsi4oCTT0giLCAi4oCTQ0hPIiwgIuKAk0NPT0giLCAi4oCTQ2wiXSwNCiAgICAgIGNvcnJlY3Q6IDIsDQogICAgICBleHBsYWluOiAiRXRoYW5vaWMgYWNpZCBpcyBhIGNhcmJveHlsaWMgYWNpZCwgZnVuY3Rpb25hbCBncm91cCA9IOKAk0NPT0guIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAiY2hlbWljYWwtcHJvcGVydGllcyIsDQogICAgdGl0bGU6ICJDaGVtaWNhbCBQcm9wZXJ0aWVzIChDb21idXN0aW9uLCBPeGlkYXRpb24sIEFkZGl0aW9uLCBTdWJzdGl0dXRpb24pIiwNCiAgICB0eXBlOiAiUmVhY3Rpb25zIiwNCiAgICB2aWRlb1RpbWU6ICIyODoyMOKAkzMzOjQwIiwNCiAgICBhbmltYXRpb25UeXBlOiAicmVhY3Rpb25zIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiS2V5IHJlYWN0aW9uczogY29tYnVzdGlvbiAoaGVhdC9saWdodCksIG94aWRhdGlvbiAoZS5nLiwgYWxjb2hvbCDihpIgYWNpZCB3aXRoIG94aWRpc2luZyBhZ2VudHMpLCBhZGRpdGlvbiAoaHlkcm9nZW5hdGlvbiBvZiB1bnNhdHVyYXRlZCBjb21wb3VuZHMpLCBzdWJzdGl0dXRpb24gKGFsa2FuZXMgd2l0aCBjaGxvcmluZSBpbiBzdW5saWdodCkuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJDb21idXN0aW9uOiBzYXR1cmF0ZWQgb2Z0ZW4gY2xlYW4gYmx1ZSBmbGFtZTsgaW5jb21wbGV0ZSBjb21idXN0aW9uIGdpdmVzIHNvb3QgKHllbGxvdyBmbGFtZSkuIiwNCiAgICAgICJPeGlkYXRpb246IGFsa2FsaW5lIEtNbk80IG9yIGFjaWRpZmllZCBLMkNyMk83IGNhbiBveGlkaXNlIGFsY29ob2xzIHRvIGFjaWRzLiIsDQogICAgICAiQWRkaXRpb246IEM9QyBhZGRzIEgyIHdpdGggTmkvUGQgY2F0YWx5c3Qg4oaSIHNhdHVyYXRlZCAoaHlkcm9nZW5hdGlvbikuIiwNCiAgICAgICJTdWJzdGl0dXRpb246IENINCArIENsMiAoc3VubGlnaHQpIOKGkiBDSDNDbCArIEhDbC4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJLbm93OiBkZWZpbmUgb3hpZGlzaW5nIGFnZW50ICsgb25lIGV4YW1wbGU7IGRlZmluZSBhZGRpdGlvbiB2cyBzdWJzdGl0dXRpb24uIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIkh5ZHJvZ2VuYXRpb24gaXMgYW4gZXhhbXBsZSBvZjoiLA0KICAgICAgb3B0aW9uczogWyJBZGRpdGlvbiByZWFjdGlvbiIsICJOZXV0cmFsaXNhdGlvbiIsICJEaXNwbGFjZW1lbnQiLCAiRGVjb21wb3NpdGlvbiJdLA0KICAgICAgY29ycmVjdDogMCwNCiAgICAgIGV4cGxhaW46ICJBZGRpbmcgSDIgYWNyb3NzIGEgZG91YmxlIGJvbmQgaXMgYW4gYWRkaXRpb24gcmVhY3Rpb24uIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAiZXRoYW5vbCIsDQogICAgdGl0bGU6ICJFdGhhbm9sIOKAkyBQcm9wZXJ0aWVzICsgUmVhY3Rpb25zIiwNCiAgICB0eXBlOiAiSW1wb3J0YW50IENvbXBvdW5kcyIsDQogICAgdmlkZW9UaW1lOiAiMzM6NDDigJNlbmQgcGFydCAxIiwNCiAgICBhbmltYXRpb25UeXBlOiAiZXRoYW5vbCIsDQogICAgY29yZU5vdGVzOg0KICAgICAgIkV0aGFub2wgaXMgYSBjb21tb24gYWxjb2hvbCB1c2VkIGFzIGEgc29sdmVudDsgaW1wb3J0YW50IHJlYWN0aW9ucyBpbmNsdWRlOiB3aXRoIHNvZGl1bSAoSDIgZXZvbHV0aW9uKSBhbmQgZGVoeWRyYXRpb24gdG8gZXRoZW5lIHVzaW5nIGNvbmNlbnRyYXRlZCBIMlNPNCAoZGVoeWRyYXRpbmcgYWdlbnQpLiIsDQogICAgcG9pbnRzOiBbDQogICAgICAiMk5hICsgMkMySDVPSCDihpIgMkMySDVPTmEgKyBIMiAoZ2FzIGJ1YmJsZXMpLiIsDQogICAgICAiRGVoeWRyYXRpb246IGV0aGFub2wg4oaSIGV0aGVuZSArIHdhdGVyIChjb25jLiBIMlNPNCwgfjQ0MyBLKS4iLA0KICAgICAgIkRlbmF0dXJlZCBhbGNvaG9sOiBldGhhbm9sIG1hZGUgdW5maXQgZm9yIGRyaW5raW5nIChjb25jZXB0LWxldmVsKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJCb2FyZDogd3JpdGUgZXF1YXRpb24gKyBvYnNlcnZhdGlvbiBmb3IgTmEgKyBldGhhbm9sOyBkZWh5ZHJhdGlvbiBjb25kaXRpb25zLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJHYXMgZXZvbHZlZCB3aGVuIGV0aGFub2wgcmVhY3RzIHdpdGggc29kaXVtIGlzOiIsDQogICAgICBvcHRpb25zOiBbIkNPMiIsICJIMiIsICJPMiIsICJDbDIiXSwNCiAgICAgIGNvcnJlY3Q6IDEsDQogICAgICBleHBsYWluOiAiQWxjb2hvbCArIE5hIHJlbGVhc2VzIGh5ZHJvZ2VuIGdhcy4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJldGhhbm9pYy1hY2lkIiwNCiAgICB0aXRsZTogIkV0aGFub2ljIEFjaWQg4oCTIEVzdGVyaWZpY2F0aW9uICsgQmFzZS9DYXJib25hdGVzICsgU2Fwb25pZmljYXRpb24iLA0KICAgIHR5cGU6ICJJbXBvcnRhbnQgQ29tcG91bmRzIiwNCiAgICB2aWRlb1RpbWU6ICJlbmQgcGFydCAx4oCTZW5kIHBhcnQgMiIsDQogICAgYW5pbWF0aW9uVHlwZTogImV0aGFub2ljIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiRXRoYW5vaWMgKGFjZXRpYykgYWNpZCBpcyBhIHdlYWsgY2FyYm94eWxpYyBhY2lkLiBJdCBmb3JtcyBlc3RlcnMgd2l0aCBhbGNvaG9scyAoc3dlZXQgc21lbGwpIGFuZCByZWFjdHMgd2l0aCBiYXNlcy9jYXJib25hdGVzIHRvIGZvcm0gc2FsdHMsIENPMiBhbmQgd2F0ZXIuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJFc3RlcmlmaWNhdGlvbjogZXRoYW5vaWMgYWNpZCArIGV0aGFub2wg4oaSIGVzdGVyICsgd2F0ZXIgKGFjaWQgY2F0YWx5c3QpLiIsDQogICAgICAiQmFzZSByZWFjdGlvbjogQ0gzQ09PSCArIE5hT0gg4oaSIENIM0NPT05hICsgSDJPLiIsDQogICAgICAiQ2FyYm9uYXRlOiAyQ0gzQ09PSCArIE5hMkNPMyDihpIgMkNIM0NPT05hICsgSDJPICsgQ08yLiIsDQogICAgICAiU2Fwb25pZmljYXRpb246IGVzdGVyICsgTmFPSCDihpIgYWxjb2hvbCArIHNvZGl1bSBzYWx0IChzb2FwKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJDb21tb24gM+KAkzUgbWFya3M6IGVzdGVyaWZpY2F0aW9uICsgc2Fwb25pZmljYXRpb24gKG5hbWUgKyBwcm9kdWN0ICsgc21lbGwpLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJUaGUgc3dlZXQtc21lbGxpbmcgcHJvZHVjdCBmb3JtZWQgaW4gZXN0ZXJpZmljYXRpb24gaXM6IiwNCiAgICAgIG9wdGlvbnM6IFsiQW4gYWxrYW5lIiwgIkFuIGVzdGVyIiwgIkEgYmFzZSIsICJBIG1ldGFsIG94aWRlIl0sDQogICAgICBjb3JyZWN0OiAxLA0KICAgICAgZXhwbGFpbjogIkVzdGVycyBhcmUgZ2VuZXJhbGx5IHN3ZWV0LXNtZWxsaW5nIGFuZCB1c2VkIGluIHBlcmZ1bWVzL2ZsYXZvdXJzLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogInNvYXBzIiwNCiAgICB0aXRsZTogIlNvYXBzICYgRGV0ZXJnZW50cyDigJMgTWljZWxsZXMgYW5kIENsZWFuc2luZyBBY3Rpb24iLA0KICAgIHR5cGU6ICJBcHBsaWNhdGlvbnMiLA0KICAgIHZpZGVvVGltZTogInNvYXBzIHNlY3Rpb24iLA0KICAgIGFuaW1hdGlvblR5cGU6ICJtaWNlbGxlcyIsDQogICAgY29yZU5vdGVzOg0KICAgICAgIlNvYXAgbW9sZWN1bGVzIGhhdmUgYSBoeWRyb3Bob2JpYyB0YWlsIGFuZCBoeWRyb3BoaWxpYy9pb25pYyBoZWFkLiBJbiB3YXRlciB0aGV5IGZvcm0gbWljZWxsZXMgYXJvdW5kIG9pbHkgZGlydCwgZW5hYmxpbmcgZW11bHNpZmljYXRpb24gYW5kIHJlbW92YWwuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJIeWRyb3Bob2JpYyB0YWlsIGF0dGFjaGVzIHRvIG9pbC9ncmVhc2UuIiwNCiAgICAgICJIeWRyb3BoaWxpYyBoZWFkIHN0YXlzIGluIHdhdGVyLiIsDQogICAgICAiTWljZWxsZXMgZm9ybSBhbmQgbGlmdCBvaWx5IGRpcnQgaW50byB3YXRlciBzbyBpdCBjYW4gYmUgd2FzaGVkIGF3YXkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiVmVyeSBjb21tb24gZGlhZ3JhbSBxdWVzdGlvbjogZXhwbGFpbiBtaWNlbGxlIGZvcm1hdGlvbiArIGNsZWFuc2luZyBhY3Rpb24uIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIkluIGEgbWljZWxsZSwgc29hcCB0YWlscyBwb2ludDoiLA0KICAgICAgb3B0aW9uczogWyJUb3dhcmRzIHdhdGVyIiwgIlRvd2FyZHMgb2lsL2dyZWFzZSIsICJSYW5kb21seSIsICJPbmx5IHVwd2FyZCJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJIeWRyb3Bob2JpYyB0YWlscyBzdGF5IGluc2lkZSwgYXR0YWNoZWQgdG8gb2lsOyBoZWFkcyBmYWNlIHdhdGVyLiINCiAgICB9DQogIH0NCl07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFVJDQo9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpjb25zdCB0b3BpY0xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3BpY0xpc3QiKTsNCmNvbnN0IHRvcGljQ29udGVudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljQ29udGVudCIpOw0KY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoSW5wdXQiKTsNCmNvbnN0IHByb2dDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dDb3VudCIpOw0KY29uc3QgdG90YWxDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdGFsQ291bnQiKTsNCg0KdG90YWxDb3VudEVsLnRleHRDb250ZW50ID0gdG9waWNzLmxlbmd0aDsNCg0KbGV0IGN1cnJlbnRUb3BpY0lkID0gdG9waWNzWzBdLmlkOw0KbGV0IGNvbXBsZXRlZFRvcGljcyA9IG5ldyBTZXQoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY2g0LWNvbXBsZXRlZCIpIHx8ICJbXSIpKTsNCg0KZnVuY3Rpb24gcmVuZGVyTmF2KGZpbHRlcj0iIil7DQogIHRvcGljTGlzdEVsLmlubmVySFRNTCA9ICIiOw0KICBjb25zdCBxID0gZmlsdGVyLnRyaW0oKS50b0xvd2VyQ2FzZSgpOw0KICBjb25zdCBmaWx0ZXJlZCA9IHRvcGljcy5maWx0ZXIodCA9Pg0KICAgIHQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fA0KICAgIHQudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC5jb3JlTm90ZXMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKQ0KICApOw0KDQogIGZpbHRlcmVkLmZvckVhY2goKHQsIGlkeCkgPT4gew0KICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICBpdGVtLmNsYXNzTmFtZSA9ICJ0b3BpYy1saW5rIiArICh0LmlkID09PSBjdXJyZW50VG9waWNJZCA/ICIgYWN0aXZlIiA6ICIiKTsNCiAgICBpdGVtLmlubmVySFRNTCA9IGAke2lkeCsxfS4gJHt0LnRpdGxlfTxzcGFuIGNsYXNzPSJ0YWciPiR7dC50eXBlfTwvc3Bhbj5gOw0KICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBzZWxlY3RUb3BpYyh0LmlkKSk7DQogICAgdG9waWNMaXN0RWwuYXBwZW5kQ2hpbGQoaXRlbSk7DQogIH0pOw0KDQogIHByb2dDb3VudEVsLnRleHRDb250ZW50ID0gY29tcGxldGVkVG9waWNzLnNpemU7DQp9DQoNCmZ1bmN0aW9uIHNlbGVjdFRvcGljKGlkKXsNCiAgY29uc3QgdG9waWMgPSB0b3BpY3MuZmluZCh4ID0+IHguaWQgPT09IGlkKTsNCiAgaWYoIXRvcGljKSByZXR1cm47DQogIGN1cnJlbnRUb3BpY0lkID0gaWQ7DQogIGNvbXBsZXRlZFRvcGljcy5hZGQoaWQpOw0KICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2g0LWNvbXBsZXRlZCIsIEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oY29tcGxldGVkVG9waWNzKSkpOw0KICByZW5kZXJUb3BpYyh0b3BpYyk7DQogIHJlbmRlck5hdihzZWFyY2hJbnB1dC52YWx1ZSk7DQp9DQoNCmZ1bmN0aW9uIHJlbmRlclRvcGljKHRvcGljKXsNCiAgY29uc3QgcXVpeiA9IHRvcGljLnF1aXogPyBgDQogICAgPGRpdiBjbGFzcz0icXVpeiI+DQogICAgICA8ZGl2IGNsYXNzPSJxdWl6LXF1ZXN0aW9uIj4ke3RvcGljLnF1aXoucXVlc3Rpb259PC9kaXY+DQogICAgICA8ZGl2IGNsYXNzPSJxdWl6LW9wdGlvbnMiPg0KICAgICAgICAke3RvcGljLnF1aXoub3B0aW9ucy5tYXAoKG9wdCxpKT0+YDxidXR0b24gb25jbGljaz0iY2hlY2tRdWl6KCR7aX0sJHt0b3BpYy5xdWl6LmNvcnJlY3R9KSI+JHtvcHR9PC9idXR0b24+YCkuam9pbigiIil9DQogICAgICA8L2Rpdj4NCiAgICAgIDxkaXYgY2xhc3M9InF1aXotZXhwbGFpbiIgaWQ9InF1aXpFeHBsYWluIj4ke3RvcGljLnF1aXouZXhwbGFpbn08L2Rpdj4NCiAgICA8L2Rpdj4NCiAgYCA6ICIiOw0KDQogIHRvcGljQ29udGVudEVsLmlubmVySFRNTCA9IGANCiAgICA8ZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0iYmFkZ2UiPiR7dG9waWMudHlwZX08L2Rpdj4NCiAgICAgIDxoMj4ke3RvcGljLnRpdGxlfTwvaDI+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+TliBOb3RlcyAoTkNFUlQtYWxpZ25lZCk8L2gzPg0KICAgICAgICA8cD4ke3RvcGljLmNvcmVOb3Rlc308L3A+DQogICAgICAgIDx1bD4ke3RvcGljLnBvaW50cy5tYXAocD0+YDxsaT4ke3B9PC9saT5gKS5qb2luKCIiKX08L3VsPg0KDQogICAgICAgIDxkaXYgY2xhc3M9InZpZGVvLWNvbnRhaW5lciI+DQogICAgICAgICAgPGlmcmFtZQ0KICAgICAgICAgICAgc3JjPSIke2NoNFZpZGVvLmVtYmVkfSINCiAgICAgICAgICAgIGFsbG93PSJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmUiDQogICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW4NCiAgICAgICAgICA+PC9pZnJhbWU+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJzbWFsbHJlZiI+U3VubGlrZSBTdHVkeSB0aW1pbmc6IDxhIGhyZWY9IiR7Y2g0VmlkZW8ueXRXYXRjaH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj4ke3RvcGljLnZpZGVvVGltZX08L2E+PC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn46sIEFjY3VyYXRlIEFuaW1hdGlvbjwvaDM+DQogICAgICAgIDxkaXYgY2xhc3M9ImFuaW0tY29udGFpbmVyIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJhbmltLWhlYWRlciI+DQogICAgICAgICAgICA8c3Bhbj5BbmltYXRpb246IDxzdHJvbmc+JHt0b3BpYy5hbmltYXRpb25UeXBlfTwvc3Ryb25nPjwvc3Bhbj4NCiAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJyZXN0YXJ0QW5pbWF0aW9uKCkiPlJlcGxheTwvYnV0dG9uPg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDxjYW52YXMgaWQ9ImFuaW1DYW52YXMiPjwvY2FudmFzPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfkqEgTkNFUlQgRXhhbSBIaW50PC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5uY2VydEhpbnR9PC9wPg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+noCBRdWljayBNaW5kIE1hcDwvaDM+DQogICAgICAgIDxkaXYgY2xhc3M9Im1pbmRtYXAiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+Qm9uZGluZzwvc3Ryb25nPjxici8+Q292YWxlbnQ7IHNpbmdsZS9kb3VibGUvdHJpcGxlOyBDSDQsIENPMi48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlN0cnVjdHVyZXM8L3N0cm9uZz48YnIvPkNhdGVuYXRpb247IGNoYWlucy9icmFuY2hlcy9yaW5nczsgaXNvbWVycy48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlJlYWN0aW9uczwvc3Ryb25nPjxici8+Q29tYnVzdGlvbiwgb3hpZGF0aW9uLCBhZGRpdGlvbiwgc3Vic3RpdHV0aW9uLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+RGFpbHkgbGlmZTwvc3Ryb25nPjxici8+RXRoYW5vbCwgZXRoYW5vaWMgYWNpZCwgc29hcHMvZGV0ZXJnZW50cyAobWljZWxsZXMpLjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICAke3F1aXp9DQogICAgPC9kaXY+DQogIGA7DQoNCiAgc2V0dXBBbmltYXRpb24odG9waWMuYW5pbWF0aW9uVHlwZSk7DQp9DQoNCndpbmRvdy5jaGVja1F1aXogPSBmdW5jdGlvbihzZWxlY3RlZCwgY29ycmVjdCl7DQogIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucXVpei1vcHRpb25zIGJ1dHRvbiIpOw0KICBidXR0b25zLmZvckVhY2goKGIsaSk9PnsNCiAgICBiLmRpc2FibGVkID0gdHJ1ZTsNCiAgICBpZihpID09PSBjb3JyZWN0KSBiLmNsYXNzTGlzdC5hZGQoImNvcnJlY3QiKTsNCiAgfSk7DQogIGNvbnN0IGV4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpFeHBsYWluIik7DQogIGlmKGV4KSBleC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCn07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIENBTlZBUyBFTkdJTkUgKERQUi1zYWZlKQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KbGV0IGFuaW1DYW52YXM9bnVsbCwgYW5pbUN0eD1udWxsLCByYWZJZD1udWxsLCB0MD0wLCBjdXJyZW50QW5pbT0iY292YWxlbnRCb25kIjsNCg0KZnVuY3Rpb24gZml0Q2FudmFzVG9DU1MoY2FudmFzLCBjdHgpew0KICBjb25zdCBkcHIgPSBNYXRoLm1heCgxLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTsNCiAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihyZWN0LndpZHRoICogZHByKTsNCiAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IocmVjdC5oZWlnaHQgKiBkcHIpOw0KICBjdHguc2V0VHJhbnNmb3JtKGRwciwwLDAsZHByLDAsMCk7DQogIHJldHVybiB7IHc6IHJlY3Qud2lkdGgsIGg6IHJlY3QuaGVpZ2h0IH07DQp9DQoNCmZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHR5cGUpew0KICBjdXJyZW50QW5pbSA9IHR5cGU7DQogIGlmKHJhZklkKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZJZCk7DQogIGFuaW1DYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5pbUNhbnZhcyIpOw0KICBpZighYW5pbUNhbnZhcykgcmV0dXJuOw0KICBhbmltQ3R4ID0gYW5pbUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KICBmaXRDYW52YXNUb0NTUyhhbmltQ2FudmFzLCBhbmltQ3R4KTsNCiAgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsNCg0KICBmdW5jdGlvbiBsb29wKG5vdyl7DQogICAgY29uc3QgdCA9IChub3cgLSB0MCkvMTAwMDsNCiAgICBjb25zdCB7dyxofSA9IGZpdENhbnZhc1RvQ1NTKGFuaW1DYW52YXMsIGFuaW1DdHgpOw0KICAgIGRyYXdTY2VuZShhbmltQ3R4LCB3LCBoLCB0LCBjdXJyZW50QW5pbSk7DQogICAgcmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQogIH0NCiAgcmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQp9DQoNCmZ1bmN0aW9uIHJlc3RhcnRBbmltYXRpb24oKXsNCiAgc2V0dXBBbmltYXRpb24oY3VycmVudEFuaW0pOw0KfQ0KDQpmdW5jdGlvbiBkcmF3TGFiKGMsdyxoKXsNCiAgY29uc3QgZyA9IGMuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwwLDAsaCk7DQogIGcuYWRkQ29sb3JTdG9wKDAsIiMwYjEyMjMiKTsNCiAgZy5hZGRDb2xvclN0b3AoMSwiIzA1MDgxNiIpOw0KICBjLmZpbGxTdHlsZSA9IGc7DQogIGMuZmlsbFJlY3QoMCwwLHcsaCk7DQogIGMuZmlsbFN0eWxlID0gInJnYmEoMTQ4LDE2MywxODQsMC4xMikiOw0KICBjLmZpbGxSZWN0KDAsaCowLjc2LHcsaCowLjI0KTsNCiAgYy5maWxsU3R5bGUgPSAicmdiYSg1OSwxMzAsMjQ2LDAuMDgpIjsNCiAgYy5maWxsUmVjdCgwLGgqMC43Nix3LDgpOw0KfQ0KDQpmdW5jdGlvbiBsYWJlbChjLHgseSx0ZXh0LGFscGhhPTAuOTUpew0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGUgPSBgcmdiYSgxNjUsMTgwLDI1Miwke2FscGhhfSlgOw0KICBjLmZvbnQgPSAiYm9sZCAxMnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFRleHQodGV4dCx4LHkpOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIHJvdW5kZWRSZWN0KGMseCx5LHcsaCxyKXsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5tb3ZlVG8oeCtyLHkpOw0KICBjLmFyY1RvKHgrdyx5LHgrdyx5K2gscik7DQogIGMuYXJjVG8oeCt3LHkraCx4LHkraCxyKTsNCiAgYy5hcmNUbyh4LHkraCx4LHkscik7DQogIGMuYXJjVG8oeCx5LHgrdyx5LHIpOw0KICBjLmNsb3NlUGF0aCgpOw0KfQ0KZnVuY3Rpb24gZG90KGMseCx5LHIsY29sb3Ipew0KICBjLmJlZ2luUGF0aCgpOw0KICBjLmZpbGxTdHlsZSA9IGNvbG9yOw0KICBjLmFyYyh4LHksciwwLE1hdGguUEkqMik7DQogIGMuZmlsbCgpOw0KfQ0KZnVuY3Rpb24gbGluZShjLHgxLHkxLHgyLHkyLHdpZHRoLGNvbG9yKXsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9Y29sb3I7IGMubGluZVdpZHRoPXdpZHRoOyBjLmxpbmVDYXA9InJvdW5kIjsNCiAgYy5iZWdpblBhdGgoKTsgYy5tb3ZlVG8oeDEseTEpOyBjLmxpbmVUbyh4Mix5Mik7IGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KfQ0KZnVuY3Rpb24gYmVha2VyKGMseCx5LHcsaCxsZXZlbCxjb2xvcil7DQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuOSkiOw0KICBjLmxpbmVXaWR0aD0yOw0KICByb3VuZGVkUmVjdChjLHgseSx3LGgsMTIpOyBjLnN0cm9rZSgpOw0KICBjb25zdCBsdmw9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGxldmVsKSk7DQogIGNvbnN0IGxoPWgqbHZsOw0KICBjLmZpbGxTdHlsZT1jb2xvcjsNCiAgYy5maWxsUmVjdCh4KzQsIHkrKGgtbGgpKzQsIHctOCwgbGgtOCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDI0OCwyNTAsMjUyLDAuMDgpIjsNCiAgYy5maWxsUmVjdCh4KzEwLHkrOCwxMCxoLTE2KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIGRyYXdTY2VuZShjLHcsaCx0LHR5cGUpew0KICBjLmNsZWFyUmVjdCgwLDAsdyxoKTsNCiAgZHJhd0xhYihjLHcsaCk7DQoNCiAgaWYodHlwZT09PSJjb3ZhbGVudEJvbmQiKSBhbmltQ292YWxlbnQoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJhbGxvdHJvcGVzIikgYW5pbUFsbG90cm9wZXMoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJjYXRlbmF0aW9uIikgYW5pbUNhdGVuYXRpb24oYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJzYXRVbnNhdCIpIGFuaW1TYXRVbnNhdChjLHcsaCx0KTsNCiAgZWxzZSBpZih0eXBlPT09Im5vbWVuY2xhdHVyZSIpIGFuaW1Ob21lbmNsYXR1cmUoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJyZWFjdGlvbnMiKSBhbmltUmVhY3Rpb25zKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0iZXRoYW5vbCIpIGFuaW1FdGhhbm9sKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0iZXRoYW5vaWMiKSBhbmltRXRoYW5vaWMoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJtaWNlbGxlcyIpIGFuaW1NaWNlbGxlcyhjLHcsaCx0KTsNCiAgZWxzZSBsYWJlbChjLCAxNCwgMjAsICJObyBhbmltYXRpb24gZm9yOiAiK3R5cGUpOw0KfQ0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBBTklNQVRJT05TDQo9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCi8vIDEpIENvdmFsZW50IGJvbmRpbmc6IEgyIChzaW5nbGUpLCBPMiAoZG91YmxlKSwgQ0g0IHNoYXJpbmcNCmZ1bmN0aW9uIGFuaW1Db3ZhbGVudChjLHcsaCx0KXsNCiAgbGFiZWwoYywgMTQsIDIyLCAiQ292YWxlbnQgYm9uZCA9IHNoYXJpbmcgb2YgZWxlY3Ryb25zIChzaW5nbGUvZG91YmxlL3RyaXBsZSkiKTsNCg0KICBjb25zdCBwYWQ9MTQ7DQogIGNvbnN0IHRpbGVXPSh3IC0gcGFkKjQpLzM7DQogIGNvbnN0IHRpbGVIPWgqMC42MjsNCiAgY29uc3QgeT1oKjAuMTg7DQoNCiAgZnVuY3Rpb24gdGlsZShpLHRpdGxlKXsNCiAgICBjb25zdCB4PXBhZCArIGkqKHRpbGVXK3BhZCk7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNykiOw0KICAgIHJvdW5kZWRSZWN0KGMseCx5LHRpbGVXLHRpbGVILDE0KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICBsYWJlbChjLCB4KzEwLCB5KzE4LCB0aXRsZSk7DQogICAgcmV0dXJuIHg7DQogIH0NCg0KICAvLyBIMg0KICBjb25zdCB4MT10aWxlKDAsIkjigJNIIChzaW5nbGUgYm9uZCkiKTsNCiAgY29uc3QgY3gxPXgxK3RpbGVXKjAuMzMsIGN4Mj14MSt0aWxlVyowLjY3LCBjeT15K3RpbGVIKjAuNDg7DQogIGRvdChjLGN4MSxjeSwyOCwicmdiYSg1OSwxMzAsMjQ2LDAuMjApIik7DQogIGRvdChjLGN4MixjeSwyOCwicmdiYSg1OSwxMzAsMjQ2LDAuMjApIik7DQogIGxhYmVsKGMsY3gxLTgsY3krNSwiSCIpOw0KICBsYWJlbChjLGN4Mi04LGN5KzUsIkgiKTsNCiAgLy8gc2hhcmVkIHBhaXIgKDIgZWxlY3Ryb25zKQ0KICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCoxLjgpOw0KICBjb25zdCBleCA9IGN4MSArIHAqKGN4Mi1jeDEpOw0KICBjb25zdCBleSA9IGN5IC0gMjQgKyAxMCpNYXRoLnNpbih0KjIuOCk7DQogIGRvdChjLCBleCwgZXksIDUsICJyZ2JhKDI0OCwyNTAsMjUyLDAuOSkiKTsNCiAgZG90KGMsIGV4LCBleSsxMiwgNSwgInJnYmEoMjQ4LDI1MCwyNTIsMC45KSIpOw0KICBsaW5lKGMsY3gxKzIyLGN5LGN4Mi0yMixjeSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuNjUpIik7DQoNCiAgLy8gTzIgZG91YmxlIGJvbmQNCiAgY29uc3QgeDI9dGlsZSgxLCJPPU8gKGRvdWJsZSBib25kKSIpOw0KICBjb25zdCBveDE9eDIrdGlsZVcqMC4zMywgb3gyPXgyK3RpbGVXKjAuNjcsIG95PXkrdGlsZUgqMC40ODsNCiAgZG90KGMsb3gxLG95LDMwLCJyZ2JhKDE2LDE4NSwxMjksMC4yMikiKTsNCiAgZG90KGMsb3gyLG95LDMwLCJyZ2JhKDE2LDE4NSwxMjksMC4yMikiKTsNCiAgbGFiZWwoYyxveDEtOSxveSs1LCJPIik7DQogIGxhYmVsKGMsb3gyLTksb3krNSwiTyIpOw0KICAvLyB0d28gbGluZXMgPSBkb3VibGUgYm9uZA0KICBsaW5lKGMsb3gxKzI0LG95LTYsb3gyLTI0LG95LTYsMywicmdiYSgyMjYsMjMyLDI0MCwwLjY1KSIpOw0KICBsaW5lKGMsb3gxKzI0LG95KzYsb3gyLTI0LG95KzYsMywicmdiYSgyMjYsMjMyLDI0MCwwLjY1KSIpOw0KICAvLyAyIHNoYXJlZCBwYWlycyAoNCBlbGVjdHJvbnMpDQogIGNvbnN0IHE9MC41KzAuNSpNYXRoLnNpbih0KjIuMSk7DQogIGZvcihsZXQgaT0wO2k8NDtpKyspew0KICAgIGNvbnN0IHh4ID0gb3gxICsgMjggKyBxKihveDItb3gxLTU2KSArIChpJTIpKjEwOw0KICAgIGNvbnN0IHl5ID0gb3ktMTQgKyAoaTwyPzA6MTgpOw0KICAgIGRvdChjLCB4eCwgeXksIDQsICJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICB9DQoNCiAgLy8gQ0g0DQogIGNvbnN0IHgzPXRpbGUoMiwiQ0g0IChjYXJib24gdGV0cmF2YWxlbnQpIik7DQogIGNvbnN0IEN4PXgzK3RpbGVXKjAuNTAsIEN5PXkrdGlsZUgqMC41MDsNCiAgZG90KGMsQ3gsQ3ksMzQsInJnYmEoMjQ1LDE1OCwxMSwwLjI1KSIpOw0KICBsYWJlbChjLEN4LTEwLEN5KzUsIkMiKTsNCiAgY29uc3QgSHBvcyA9IFsNCiAgICBbQ3gsIEN5LTg1XSwNCiAgICBbQ3grODUsIEN5XSwNCiAgICBbQ3gsIEN5Kzg1XSwNCiAgICBbQ3gtODUsIEN5XQ0KICBdOw0KICBmb3IoY29uc3QgW2h4LGh5XSBvZiBIcG9zKXsNCiAgICBkb3QoYyxoeCxoeSwyMiwicmdiYSg1OSwxMzAsMjQ2LDAuMTgpIik7DQogICAgbGFiZWwoYyxoeC04LGh5KzQsIkgiKTsNCiAgICBsaW5lKGMsQ3gsQ3ksaHgsaHksMywicmdiYSgyMjYsMjMyLDI0MCwwLjYwKSIpOw0KICAgIC8vIHNoYXJlZCBlbGVjdHJvbiBwYWlyIHB1bHNlDQogICAgY29uc3Qgcz0wLjQrMC42KigwLjUrMC41Kk1hdGguc2luKHQqMyArIGh4KjAuMDEpKTsNCiAgICBkb3QoYywoQ3graHgpLzIsKEN5K2h5KS8yLDQsYHJnYmEoMjQ4LDI1MCwyNTIsJHswLjI1KzAuNSpzfSlgKTsNCiAgICBkb3QoYywoQ3graHgpLzIsKEN5K2h5KS8yKzEwLDQsYHJnYmEoMjQ4LDI1MCwyNTIsJHswLjI1KzAuNSpzfSlgKTsNCiAgfQ0KfQ0KDQovLyAyKSBBbGxvdHJvcGVzOiBkaWFtb25kIGxhdHRpY2UgdnMgZ3JhcGhpdGUgbGF5ZXJzIHZzIEM2MA0KZnVuY3Rpb24gYW5pbUFsbG90cm9wZXMoYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIkFsbG90cm9wZXM6IHNhbWUgZWxlbWVudCwgZGlmZmVyZW50IHN0cnVjdHVyZSDihpIgZGlmZmVyZW50IHByb3BlcnRpZXMiKTsNCg0KICBjb25zdCBwYWQ9MTQ7DQogIGNvbnN0IHRpbGVXPSh3IC0gcGFkKjQpLzM7DQogIGNvbnN0IHRpbGVIPWgqMC42MjsNCiAgY29uc3QgeT1oKjAuMTg7DQoNCiAgZnVuY3Rpb24gdGlsZShpLHRpdGxlKXsNCiAgICBjb25zdCB4PXBhZCArIGkqKHRpbGVXK3BhZCk7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNykiOw0KICAgIHJvdW5kZWRSZWN0KGMseCx5LHRpbGVXLHRpbGVILDE0KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICBsYWJlbChjLCB4KzEwLCB5KzE4LCB0aXRsZSk7DQogICAgcmV0dXJuIHg7DQogIH0NCg0KICAvLyBEaWFtb25kDQogIGNvbnN0IHgxPXRpbGUoMCwiRGlhbW9uZCAoM0QgcmlnaWQsIHZlcnkgaGFyZCkiKTsNCiAgY29uc3QgY3g9eDErdGlsZVcqMC41LCBjeT15K3RpbGVIKjAuNTU7DQogIC8vIHNpbXBsZSB0ZXRyYWhlZHJhbCBuZXR3b3JrDQogIGNvbnN0IG5vZGVzPVtdOw0KICBmb3IobGV0IGk9MDtpPDEwO2krKyl7DQogICAgY29uc3QgYW5nPWkqKE1hdGguUEkqMi8xMCk7DQogICAgbm9kZXMucHVzaChbY3grTWF0aC5jb3MoYW5nKSo3MCwgY3krTWF0aC5zaW4oYW5nKSozNV0pOw0KICB9DQogIC8vIGJvbmRzDQogIGZvcihsZXQgaT0wO2k8bm9kZXMubGVuZ3RoO2krKyl7DQogICAgY29uc3QgW2F4LGF5XT1ub2Rlc1tpXTsNCiAgICBjb25zdCBbYngsYnldPW5vZGVzWyhpKzIpJW5vZGVzLmxlbmd0aF07DQogICAgbGluZShjLGF4LGF5LGJ4LGJ5LDIsInJnYmEoMjI2LDIzMiwyNDAsMC4yNSkiKTsNCiAgfQ0KICBmb3IoY29uc3QgW254LG55XSBvZiBub2RlcykgZG90KGMsbngsbnksNiwicmdiYSg1OSwxMzAsMjQ2LDAuNTUpIik7DQogIGRvdChjLGN4LGN5LDcsInJnYmEoNTksMTMwLDI0NiwwLjc1KSIpOw0KDQogIC8vIEdyYXBoaXRlDQogIGNvbnN0IHgyPXRpbGUoMSwiR3JhcGhpdGUgKGxheWVycyArIGNvbmR1Y3Rpb24pIik7DQogIGNvbnN0IGd4PXgyK3RpbGVXKjAuNSwgZ3k9eSt0aWxlSCowLjU1Ow0KICBmb3IobGV0IGxheWVyPTA7IGxheWVyPDU7IGxheWVyKyspew0KICAgIGNvbnN0IHl5ID0gZ3ktNzAgKyBsYXllciozNTsNCiAgICAvLyBoZXgtbGlrZSBsaW5lDQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5saW5lV2lkdGg9MjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGd4LTg1LHl5KTsNCiAgICBmb3IobGV0IGs9MDtrPDY7aysrKXsNCiAgICAgIGMubGluZVRvKGd4LTg1KyhrKzEpKjI4LCB5eSArIChrJTI9PT0wPzEyOi0xMikpOw0KICAgIH0NCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICB9DQogIC8vIG1vdmluZyBlbGVjdHJvbnMNCiAgY29uc3QgZT0wLjUrMC41Kk1hdGguc2luKHQqMi40KTsNCiAgZm9yKGxldCBpPTA7aTwxMjtpKyspew0KICAgIGNvbnN0IHl5ID0gZ3ktNzAgKyAoaSU1KSozNTsNCiAgICBjb25zdCB4eCA9IChneC05MCkgKyAoKGkqMzAgKyBlKjE1MCkgJSAxODApOw0KICAgIGRvdChjLHh4LHl5LDMsInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIpOw0KICB9DQoNCiAgLy8gQzYwDQogIGNvbnN0IHgzPXRpbGUoMiwiRnVsbGVyZW5lIChDNjAgZm9vdGJhbGwtbGlrZSkiKTsNCiAgY29uc3QgZng9eDMrdGlsZVcqMC41LCBmeT15K3RpbGVIKjAuNTU7DQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIjsNCiAgYy5saW5lV2lkdGg9MjsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5lbGxpcHNlKGZ4LGZ5LDkwLDU1LDAsMCxNYXRoLlBJKjIpOw0KICBjLnN0cm9rZSgpOw0KICAvLyBwYXRjaGVzDQogIGZvcihsZXQgaT0wO2k8MTY7aSsrKXsNCiAgICBjb25zdCBhPWkqKE1hdGguUEkqMi8xNik7DQogICAgY29uc3QgcHg9ZngrTWF0aC5jb3MoYSkqNzU7DQogICAgY29uc3QgcHk9ZnkrTWF0aC5zaW4oYSkqNDA7DQogICAgZG90KGMscHgscHksNCwicmdiYSgxNiwxODUsMTI5LDAuNjUpIik7DQogICAgaWYoaSUyPT09MCkgbGluZShjLHB4LHB5LGZ4LGZ5LDEsInJnYmEoMTYsMTg1LDEyOSwwLjE4KSIpOw0KICB9DQogIC8vIGdsb3cgcHVsc2UNCiAgY29uc3QgZz0wLjM1KzAuNjUqKDAuNSswLjUqTWF0aC5zaW4odCoxLjYpKTsNCiAgYy5maWxsU3R5bGU9YHJnYmEoMTM5LDkyLDI0NiwkezAuMDYrMC4xMCpnfSlgOw0KICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoZngsZnksOTIsNTcsMCwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICBjLnJlc3RvcmUoKTsNCn0NCg0KLy8gMykgQ2F0ZW5hdGlvbjogY2hhaW4g4oaSIGJyYW5jaCDihpIgcmluZw0KZnVuY3Rpb24gYW5pbUNhdGVuYXRpb24oYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIkNhdGVuYXRpb246IGNhcmJvbiBsaW5rcyB0byBjYXJib24g4oaSIGNoYWlucywgYnJhbmNoZXMgYW5kIHJpbmdzIik7DQogIGNvbnN0IHg9dyowLjEwLCB5PWgqMC4yMiwgYnc9dyowLjgwLCBiaD1oKjAuNTY7DQoNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgcm91bmRlZFJlY3QoYyx4LHksYncsYmgsMTYpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIGNvbnN0IHBoYXNlID0gKHQvMykgJSAzOyAvLyAwLTEgY2hhaW4sIDEtMiBicmFuY2gsIDItMyByaW5nDQogIGNvbnN0IGxvY2FsID0gcGhhc2UgJSAxOw0KDQogIC8vIGRyYXcgY2FyYm9uIGF0b21zIHBvc2l0aW9ucyBiYXNlZCBvbiBtb2RlDQogIGxldCBwdHM9W107DQogIGlmKHBoYXNlIDwgMSl7DQogICAgLy8gY2hhaW4gZ3Jvd2luZw0KICAgIGNvbnN0IG4gPSAzICsgTWF0aC5mbG9vcihsb2NhbCo2KTsNCiAgICBmb3IobGV0IGk9MDtpPG47aSsrKXsNCiAgICAgIGNvbnN0IHB4ID0geCArIDkwICsgaSooIChidy0xODApLzggKTsNCiAgICAgIGNvbnN0IHB5ID0geSArIGJoKjAuNTUgKyAoaSUyPyAtMTI6IDEyKTsNCiAgICAgIHB0cy5wdXNoKFtweCxweV0pOw0KICAgIH0NCiAgfSBlbHNlIGlmKHBoYXNlIDwgMil7DQogICAgLy8gYnJhbmNoZWQgY2hhaW4NCiAgICBjb25zdCBuPTc7DQogICAgZm9yKGxldCBpPTA7aTxuO2krKyl7DQogICAgICBjb25zdCBweCA9IHggKyAxMjAgKyBpKiggKGJ3LTI0MCkvKG4tMSkgKTsNCiAgICAgIGNvbnN0IHB5ID0geSArIGJoKjAuNTggKyAoaSUyPyAtMTA6IDEwKTsNCiAgICAgIHB0cy5wdXNoKFtweCxweV0pOw0KICAgIH0NCiAgICAvLyBicmFuY2ggcG9pbnQgYXQgMw0KICAgIGNvbnN0IGJwID0gcHRzWzNdOw0KICAgIGNvbnN0IGJ4ID0gYnBbMF0gKyAwOw0KICAgIGNvbnN0IGJ5ID0gYnBbMV0gLSA4NSAqICgwLjMgKyAwLjcqbG9jYWwpOw0KICAgIHB0cy5wdXNoKFtieCxieV0pOyAvLyBicmFuY2ggY2FyYm9uDQogIH0gZWxzZSB7DQogICAgLy8gcmluZw0KICAgIGNvbnN0IG49NjsNCiAgICBjb25zdCBjeD14K2J3KjAuNSwgY3k9eStiaCowLjU1Ow0KICAgIGNvbnN0IFI9OTA7DQogICAgZm9yKGxldCBpPTA7aTxuO2krKyl7DQogICAgICBjb25zdCBhID0gLU1hdGguUEkvMiArIGkqKE1hdGguUEkqMi9uKTsNCiAgICAgIHB0cy5wdXNoKFtjeCtNYXRoLmNvcyhhKSpSLCBjeStNYXRoLnNpbihhKSpSKjAuNzVdKTsNCiAgICB9DQogIH0NCg0KICAvLyBib25kcw0KICBmb3IobGV0IGk9MDtpPHB0cy5sZW5ndGgtMTtpKyspew0KICAgIGxpbmUoYywgcHRzW2ldWzBdLCBwdHNbaV1bMV0sIHB0c1tpKzFdWzBdLCBwdHNbaSsxXVsxXSwgMywgInJnYmEoMjI2LDIzMiwyNDAsMC4zNSkiKTsNCiAgfQ0KICAvLyBpZiByaW5nIGNsb3NlDQogIGlmKHBoYXNlID49IDIgJiYgcHRzLmxlbmd0aD49Nil7DQogICAgbGluZShjLCBwdHNbMF1bMF0sIHB0c1swXVsxXSwgcHRzW3B0cy5sZW5ndGgtMV1bMF0sIHB0c1twdHMubGVuZ3RoLTFdWzFdLCAzLCAicmdiYSgyMjYsMjMyLDI0MCwwLjM1KSIpOw0KICB9DQogIC8vIGlmIGJyYW5jaCBjb25uZWN0IGxhc3QgdG8gYnJhbmNoIHBvaW50DQogIGlmKHBoYXNlPj0xICYmIHBoYXNlPDIpew0KICAgIGNvbnN0IGJhc2UgPSBwdHNbM107DQogICAgY29uc3QgYnIgPSBwdHNbcHRzLmxlbmd0aC0xXTsNCiAgICBsaW5lKGMsIGJhc2VbMF0sIGJhc2VbMV0sIGJyWzBdLCBiclsxXSwgMywgInJnYmEoMjI2LDIzMiwyNDAsMC4zNSkiKTsNCiAgfQ0KDQogIC8vIGF0b21zDQogIGZvcihjb25zdCBbcHgscHldIG9mIHB0cyl7DQogICAgZG90KGMscHgscHksMTIsInJnYmEoMjQ1LDE1OCwxMSwwLjM1KSIpOw0KICAgIGRvdChjLHB4LHB5LDUsInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICB9DQoNCiAgY29uc3QgY2FwdGlvbiA9IHBoYXNlPDEgPyAiTG9uZyBjaGFpbiIgOiAocGhhc2U8MiA/ICJCcmFuY2hlZCBjaGFpbiIgOiAiUmluZyAoY3ljbGljKSIpOw0KICBsYWJlbChjLCB4KzE2LCB5K2JoLTE0LCBjYXB0aW9uKTsNCn0NCg0KLy8gNCkgU2F0dXJhdGVkL3Vuc2F0dXJhdGVkICsgaXNvbWVyIHB1bHNlICsgaHlkcm9nZW5hdGlvbiBtaW5pDQpmdW5jdGlvbiBhbmltU2F0VW5zYXQoYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIlNhdHVyYXRlZCAoc2luZ2xlKSB2cyBVbnNhdHVyYXRlZCAoZG91YmxlL3RyaXBsZSkgKyBJc29tZXJzIik7DQoNCiAgY29uc3QgcGFkPTE0Ow0KICBjb25zdCB0aWxlVz0odyAtIHBhZCo0KS8zOw0KICBjb25zdCB0aWxlSD1oKjAuNjI7DQogIGNvbnN0IHk9aCowLjE4Ow0KDQogIGZ1bmN0aW9uIHRpbGUoaSx0aXRsZSl7DQogICAgY29uc3QgeD1wYWQgKyBpKih0aWxlVytwYWQpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgICByb3VuZGVkUmVjdChjLHgseSx0aWxlVyx0aWxlSCwxNCk7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgbGFiZWwoYywgeCsxMCwgeSsxOCwgdGl0bGUpOw0KICAgIHJldHVybiB4Ow0KICB9DQoNCiAgLy8gRXRoYW5lIEMySDYgKHNpbmdsZSkNCiAgY29uc3QgeDE9dGlsZSgwLCJFdGhhbmUgKEMySDYpIOKAkyBzaW5nbGUgYm9uZCIpOw0KICBjb25zdCBheDE9eDErdGlsZVcqMC4zNSwgYXgyPXgxK3RpbGVXKjAuNjUsIGF5PXkrdGlsZUgqMC41MDsNCiAgZG90KGMsYXgxLGF5LDE2LCJyZ2JhKDI0NSwxNTgsMTEsMC43KSIpOw0KICBkb3QoYyxheDIsYXksMTYsInJnYmEoMjQ1LDE1OCwxMSwwLjcpIik7DQogIGxpbmUoYyxheDEsYXksYXgyLGF5LDQsInJnYmEoMjI2LDIzMiwyNDAsMC41NSkiKTsNCiAgbGFiZWwoYyxheDEtMTAsYXkrMzQsIkMiKTsNCiAgbGFiZWwoYyxheDItMTAsYXkrMzQsIkMiKTsNCiAgLy8gSCBhcm91bmQNCiAgY29uc3QgSHMgPSBbW2F4MS00NSxheV0sW2F4MSxheS00NV0sW2F4MSxheSs0NV0sW2F4Mis0NSxheV0sW2F4MixheS00NV0sW2F4MixheSs0NV1dOw0KICBmb3IoY29uc3QgW2h4LGh5XSBvZiBIcyl7DQogICAgZG90KGMsaHgsaHksMTAsInJnYmEoNTksMTMwLDI0NiwwLjM1KSIpOw0KICAgIGxpbmUoYywoaHg8YXgxP2F4MTpheDIpLGF5LGh4LGh5LDIsInJnYmEoMjI2LDIzMiwyNDAsMC4yNSkiKTsNCiAgfQ0KDQogIC8vIEV0aGVuZSBDMkg0IChkb3VibGUgKyBoeWRyb2dlbmF0aW9uKQ0KICBjb25zdCB4Mj10aWxlKDEsIkV0aGVuZSAoQzJINCkg4oCTIGRvdWJsZSBib25kIik7DQogIGNvbnN0IGV4MT14Mit0aWxlVyowLjM1LCBleDI9eDIrdGlsZVcqMC42NSwgZXk9eSt0aWxlSCowLjUwOw0KICBkb3QoYyxleDEsZXksMTYsInJnYmEoMjQ1LDE1OCwxMSwwLjcpIik7DQogIGRvdChjLGV4MixleSwxNiwicmdiYSgyNDUsMTU4LDExLDAuNykiKTsNCiAgbGluZShjLGV4MSxleS01LGV4MixleS01LDMsInJnYmEoMjI2LDIzMiwyNDAsMC41NSkiKTsNCiAgbGluZShjLGV4MSxleSs1LGV4MixleSs1LDMsInJnYmEoMjI2LDIzMiwyNDAsMC41NSkiKTsNCg0KICAvLyBIMiBhZGRzIChoeWRyb2dlbmF0aW9uIHB1bHNlKQ0KICBjb25zdCBwID0gMC41KzAuNSpNYXRoLnNpbih0KjEuMik7DQogIGNvbnN0IGh4ID0geDIrdGlsZVcqMC41ICsgKDEtcCkqNzA7DQogIGNvbnN0IGh5ID0geSt0aWxlSCowLjI1Ow0KICBkb3QoYyxoeC0xMixoeSw4LCJyZ2JhKDI1MCwyMDQsMjEsMC44NSkiKTsNCiAgZG90KGMsaHgrMTIsaHksOCwicmdiYSgyNTAsMjA0LDIxLDAuODUpIik7DQogIGxpbmUoYyxoeC02LGh5LGh4KzYsaHksMiwicmdiYSgyNTAsMjA0LDIxLDAuNikiKTsNCiAgbGFiZWwoYywgaHgtMTQsIGh5LTE0LCAiSDIiLCAwLjcpOw0KICAvLyBhcnJvdyB0byBib25kDQogIGxpbmUoYyxoeCxoeSsxMCwgeDIrdGlsZVcqMC41LCBleS0zNSwgMiwgInJnYmEoMTYsMTg1LDEyOSwwLjUpIik7DQogIGxhYmVsKGMsIHgyKzEwLCB5K3RpbGVILTE0LCAiQWRkaXRpb246IEM9QyArIEgyIOKGkiBD4oCTQyIsIDAuOCk7DQoNCiAgLy8gSXNvbWVycyAoQzRIMTApDQogIGNvbnN0IHgzPXRpbGUoMiwiSXNvbWVyaXNtIChDNEgxMCk6IHN0cmFpZ2h0IHZzIGJyYW5jaGVkIik7DQogIGNvbnN0IGl4PXgzK3RpbGVXKjAuNSwgaXk9eSt0aWxlSCowLjQwOw0KICAvLyBzdHJhaWdodA0KICBjb25zdCBzUHRzPVtdOw0KICBmb3IobGV0IGk9MDtpPDQ7aSsrKSBzUHRzLnB1c2goW2l4LTkwICsgaSo2MCwgaXldKTsNCiAgZm9yKGxldCBpPTA7aTwzO2krKykgbGluZShjLHNQdHNbaV1bMF0sc1B0c1tpXVsxXSxzUHRzW2krMV1bMF0sc1B0c1tpKzFdWzFdLDMsInJnYmEoMjI2LDIzMiwyNDAsMC40KSIpOw0KICBmb3IoY29uc3QgW3B4LHB5XSBvZiBzUHRzKSBkb3QoYyxweCxweSwxMCwicmdiYSgyNDUsMTU4LDExLDAuNzUpIik7DQogIGxhYmVsKGMsIHgzKzEwLCB5K3RpbGVIKjAuMjUsICJuLWJ1dGFuZSIsIDAuODUpOw0KDQogIC8vIGJyYW5jaGVkIChpc29idXRhbmUpIHRvZ2dsZXMgcHVsc2UNCiAgY29uc3QgYlB0cyA9IFtbaXgtNjAsIGl5Kzg1XSxbaXgsaXkrODVdLFtpeCs2MCxpeSs4NV0sW2l4LGl5KzMwXV07DQogIGZvcihsZXQgaT0wO2k8MjtpKyspIGxpbmUoYyxiUHRzW2ldWzBdLGJQdHNbaV1bMV0sYlB0c1tpKzFdWzBdLGJQdHNbaSsxXVsxXSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIik7DQogIGxpbmUoYyxiUHRzWzFdWzBdLGJQdHNbMV1bMV0sYlB0c1syXVswXSxiUHRzWzJdWzFdLDMsInJnYmEoMjI2LDIzMiwyNDAsMC4zNSkiKTsNCiAgbGluZShjLGJQdHNbMV1bMF0sYlB0c1sxXVsxXSxiUHRzWzNdWzBdLGJQdHNbM11bMV0sMywicmdiYSgyMjYsMjMyLDI0MCwwLjM1KSIpOw0KICBjb25zdCBnbG93PTAuMzUrMC42NSooMC41KzAuNSpNYXRoLnNpbih0KjIuMikpOw0KICBmb3IoY29uc3QgW3B4LHB5XSBvZiBiUHRzKSBkb3QoYyxweCxweSwxMCxgcmdiYSgyNDUsMTU4LDExLCR7MC40NSswLjQqZ2xvd30pYCk7DQogIGxhYmVsKGMsIHgzKzEwLCB5K3RpbGVIKjAuODgsICJpc29idXRhbmUiLCAwLjg1KTsNCn0NCg0KLy8gNSkgTmFtaW5nICsgZnVuY3Rpb25hbCBncm91cHMgKyBob21vbG9nb3VzIHNlcmllcyAoYW5pbWF0ZWQgY2FyZHMpDQpmdW5jdGlvbiBhbmltTm9tZW5jbGF0dXJlKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJGdW5jdGlvbmFsIGdyb3VwcyArIEhvbW9sb2dvdXMgc2VyaWVzICjigJNDSDLigJMpICsgSVVQQUMgYmFzaWNzIik7DQoNCiAgY29uc3QgeD13KjAuMDgsIHk9aCowLjE4LCBidz13KjAuODQsIGJoPWgqMC42MjsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgcm91bmRlZFJlY3QoYyx4LHksYncsYmgsMTYpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIEhvbW9sb2dvdXMgc2VyaWVzIGNoYWluIGdyb3dzDQogIGxhYmVsKGMsIHgrMTYsIHkrMjYsICJIb21vbG9nb3VzIHNlcmllczogc3VjY2Vzc2l2ZSBtZW1iZXJzIGRpZmZlciBieSDigJNDSDLigJMiKTsNCiAgY29uc3QgbiA9IDIgKyBNYXRoLmZsb29yKCgwLjUrMC41Kk1hdGguc2luKHQqMC45KSkqNik7DQogIGNvbnN0IGJhc2VYID0geCs0MCwgYmFzZVkgPSB5KzcwOw0KICBmb3IobGV0IGk9MDtpPG47aSsrKXsNCiAgICBjb25zdCBweCA9IGJhc2VYICsgaSo1NTsNCiAgICBkb3QoYyxweCxiYXNlWSwxMCwicmdiYSgyNDUsMTU4LDExLDAuOCkiKTsNCiAgICBpZihpPjApIGxpbmUoYyxweC01NSxiYXNlWSxweCxiYXNlWSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIik7DQogIH0NCiAgbGFiZWwoYywgYmFzZVgsIGJhc2VZKzI4LCBgQyR7bn1IJHsyKm4rMn0gKGFsa2FuZSBwYXR0ZXJuKWAsIDAuODUpOw0KDQogIC8vIEZ1bmN0aW9uYWwgZ3JvdXAgY2Fyb3VzZWwNCiAgY29uc3QgZ3JvdXBzID0gWw0KICAgIHtuYW1lOiJBbGNvaG9sIiwgZmc6IuKAk09IIiwgY29sb3I6InJnYmEoMTYsMTg1LDEyOSwwLjgpIn0sDQogICAge25hbWU6IkFsZGVoeWRlIiwgZmc6IuKAk0NITyIsIGNvbG9yOiJyZ2JhKDU5LDEzMCwyNDYsMC44KSJ9LA0KICAgIHtuYW1lOiJLZXRvbmUiLCBmZzoiPkM9TyIsIGNvbG9yOiJyZ2JhKDI0NSwxNTgsMTEsMC44NSkifSwNCiAgICB7bmFtZToiQ2FyYm94eWxpYyBhY2lkIiwgZmc6IuKAk0NPT0giLCBjb2xvcjoicmdiYSgyMzksNjgsNjgsMC44KSJ9LA0KICAgIHtuYW1lOiJIYWxvIiwgZmc6IuKAk0NsIiwgY29sb3I6InJnYmEoMTY4LDg1LDI0NywwLjgpIn0NCiAgXTsNCiAgY29uc3QgaWR4ID0gTWF0aC5mbG9vcigoKHQqMC4zNSklMSkqZ3JvdXBzLmxlbmd0aCk7DQogIGNvbnN0IEcgPSBncm91cHNbaWR4XTsNCg0KICBjb25zdCBjeD14K2J3KjAuNzAsIGN5PXkrMTEwOw0KICBsYWJlbChjLCB4K2J3KjAuNTUsIHkrMTMwLCAiRnVuY3Rpb25hbCBncm91cCBkZWNpZGVzIHByb3BlcnRpZXMiLCAwLjg1KTsNCg0KICAvLyBjYXJib24gY2hhaW4gKyBGRw0KICBmb3IobGV0IGk9MDtpPDQ7aSsrKXsNCiAgICBjb25zdCBweCA9IGN4LTkwICsgaSo1MDsNCiAgICBkb3QoYyxweCxjeSwxMCwicmdiYSgyNDUsMTU4LDExLDAuOCkiKTsNCiAgICBpZihpPjApIGxpbmUoYyxweC01MCxjeSxweCxjeSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIik7DQogIH0NCiAgLy8gYXR0YWNoIEZHIHRvIGxhc3QgY2FyYm9uDQogIGNvbnN0IGZ4PWN4KzYwLCBmeT1jeTsNCiAgbGluZShjLGN4KzYwLTUwLGN5LGZ4LGZ5LDMsInJnYmEoMjI2LDIzMiwyNDAsMC4zNSkiKTsNCiAgZG90KGMsZngsZnksMTAsRy5jb2xvcik7DQogIGxhYmVsKGMsIGZ4KzE2LCBmeSs0LCBHLmZnLCAwLjk1KTsNCiAgbGFiZWwoYywgeCtidyowLjU4LCB5KzE2NSwgYEN1cnJlbnQ6ICR7Ry5uYW1lfWAsIDAuOTUpOw0KDQogIC8vIE5hbWluZyBkZW1vDQogIGxhYmVsKGMsIHgrMTYsIHkrYmgtNTQsICJOYW1lID0gcm9vdCAoY2FyYm9ucykgKyBib25kIChhbmUvZW5lL3luZSkgKyBmdW5jdGlvbmFsIHN1ZmZpeCIpOw0KICBjb25zdCByb290ID0gWyJtZXRoIiwiZXRoIiwicHJvcCIsImJ1dCIsInBlbnQiLCJoZXgiXVtNYXRoLm1pbig1LCBuLTEpXTsNCiAgY29uc3QgZGVtbyA9IGAke3Jvb3R9ICsgYW5lIOKGkiAke3Jvb3R9YW5lICB8ICAke3Jvb3R9ICsgZW4gKyBlIOKGkiAke3Jvb3R9ZW5lYDsNCiAgbGFiZWwoYywgeCsxNiwgeStiaC0yOCwgZGVtbywgMC44NSk7DQp9DQoNCi8vIDYpIENoZW1pY2FsIHByb3BlcnRpZXM6IGNvbWJ1c3Rpb24gZmxhbWVzICsgb3hpZGF0aW9uIHB1cnBsZSAtPiBjb2xvcmxlc3MgKyBzdWJzdGl0dXRpb24gKyBhZGRpdGlvbg0KZnVuY3Rpb24gYW5pbVJlYWN0aW9ucyhjLHcsaCx0KXsNCiAgbGFiZWwoYywgMTQsIDIyLCAiQ29tYnVzdGlvbiwgb3hpZGF0aW9uLCBhZGRpdGlvbiwgc3Vic3RpdHV0aW9uIChjb3JlIGJvYXJkIHJlYWN0aW9ucykiKTsNCg0KICBjb25zdCBwYWQ9MTQ7DQogIGNvbnN0IHRpbGVXPSh3IC0gcGFkKjQpLzM7DQogIGNvbnN0IHRpbGVIPWgqMC42MjsNCiAgY29uc3QgeT1oKjAuMTg7DQoNCiAgZnVuY3Rpb24gdGlsZShpLHRpdGxlKXsNCiAgICBjb25zdCB4PXBhZCArIGkqKHRpbGVXK3BhZCk7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNykiOw0KICAgIHJvdW5kZWRSZWN0KGMseCx5LHRpbGVXLHRpbGVILDE0KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICBsYWJlbChjLCB4KzEwLCB5KzE4LCB0aXRsZSk7DQogICAgcmV0dXJuIHg7DQogIH0NCg0KICAvLyBDb21idXN0aW9uIGZsYW1lcw0KICBjb25zdCB4MT10aWxlKDAsIkNvbWJ1c3Rpb246IGJsdWUgdnMgeWVsbG93IHNvb3R5Iik7DQogIGNvbnN0IGY9MC41KzAuNSpNYXRoLnNpbih0KjIuNik7DQogIC8vIGJsdWUgZmxhbWUNCiAgYy5maWxsU3R5bGU9YHJnYmEoNTksMTMwLDI0NiwkezAuMjArMC4zNSpmfSlgOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4MSt0aWxlVyowLjMwLCB5K3RpbGVIKjAuODIpOw0KICBjLnF1YWRyYXRpY0N1cnZlVG8oeDErdGlsZVcqMC4yNSwgeSt0aWxlSCowLjYyLCB4MSt0aWxlVyowLjMwLCB5K3RpbGVIKjAuNDItNDAqZik7DQogIGMucXVhZHJhdGljQ3VydmVUbyh4MSt0aWxlVyowLjQwLCB5K3RpbGVIKjAuNjIsIHgxK3RpbGVXKjAuMzAsIHkrdGlsZUgqMC44Mik7DQogIGMuZmlsbCgpOw0KICBsYWJlbChjLCB4MSt0aWxlVyowLjE4LCB5K3RpbGVIKjAuODgsICJDbGVhbiAoc3VmZmljaWVudCBPMikiLCAwLjgpOw0KDQogIC8vIHllbGxvdyBmbGFtZSArIHNvb3QNCiAgYy5maWxsU3R5bGU9YHJnYmEoMjQ1LDE1OCwxMSwkezAuMjUrMC40NSpmfSlgOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4MSt0aWxlVyowLjcwLCB5K3RpbGVIKjAuODIpOw0KICBjLnF1YWRyYXRpY0N1cnZlVG8oeDErdGlsZVcqMC42NSwgeSt0aWxlSCowLjYwLCB4MSt0aWxlVyowLjcwLCB5K3RpbGVIKjAuMzgtMzAqZik7DQogIGMucXVhZHJhdGljQ3VydmVUbyh4MSt0aWxlVyowLjc4LCB5K3RpbGVIKjAuNjIsIHgxK3RpbGVXKjAuNzAsIHkrdGlsZUgqMC44Mik7DQogIGMuZmlsbCgpOw0KICAvLyBzb290IGRvdHMNCiAgZm9yKGxldCBpPTA7aTwzNTtpKyspew0KICAgIGRvdChjLCB4MSt0aWxlVyowLjcyICsgKGklNykqMTAsIHkrdGlsZUgqMC4yNiArIE1hdGguZmxvb3IoaS83KSoxMCwgMiwgInJnYmEoMiw2LDIzLDAuNzUpIik7DQogIH0NCiAgbGFiZWwoYywgeDErdGlsZVcqMC41NCwgeSt0aWxlSCowLjg4LCAiU29vdCAoaW5jb21wbGV0ZSkiLCAwLjgpOw0KDQogIC8vIE94aWRhdGlvbiBLTW5PNCBjb2xvciBkaXNjaGFyZ2UNCiAgY29uc3QgeDI9dGlsZSgxLCJPeGlkYXRpb246IGFsY29ob2wg4oaSIGFjaWQgKG94aWRpc2luZyBhZ2VudCkiKTsNCiAgYmVha2VyKGMsIHgyKzMwLCB5KzU1LCB0aWxlVy02MCwgdGlsZUgtOTUsIDAuNjUsICJyZ2JhKDE2OCw4NSwyNDcsMC4yMCkiKTsNCiAgY29uc3QgcD0wLjUrMC41Kk1hdGguc2luKHQqMC45KTsNCiAgLy8gcGVybWFuZ2FuYXRlIHB1cnBsZSBmYWRlcyAoc2ltdWxhdGluZyBkaXNjaGFyZ2UpDQogIGMuc2F2ZSgpOw0KICBjLmdsb2JhbEFscGhhID0gMC4yMCArIDAuNTUqKDEtcCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE2OCw4NSwyNDcsMC41NSkiOw0KICBjLmZpbGxSZWN0KHgyKzM4LCB5KzYwICsgKHRpbGVILTk1KSowLjUyLCB0aWxlVy03NiwgKHRpbGVILTk1KSowLjMwKTsNCiAgYy5yZXN0b3JlKCk7DQogIGxhYmVsKGMsIHgyKzE4LCB5K3RpbGVIKjAuOTAsICJLTW5PNCBwdXJwbGUg4oaSIGZhZGVzIiwgMC44NSk7DQoNCiAgLy8gU3Vic3RpdHV0aW9uICsgQWRkaXRpb24gcXVpY2sNCiAgY29uc3QgeDM9dGlsZSgyLCJTdWJzdGl0dXRpb24gKGFsa2FuZSkgKyBBZGRpdGlvbiAoYWxrZW5lKSIpOw0KICAvLyBTdWJzdGl0dXRpb246IENINCArIENsMiAoc3VubGlnaHQpIC0+IENIM0NsDQogIGNvbnN0IHN4PXgzK3RpbGVXKjAuMzAsIHN5PXkrdGlsZUgqMC40MjsNCiAgZG90KGMsc3gsc3ksMTIsInJnYmEoMjQ1LDE1OCwxMSwwLjgpIik7DQogIGxhYmVsKGMsc3gtMTAsc3krMjgsIkMiLDAuODUpOw0KICAvLyA0IEggYXJvdW5kDQogIGNvbnN0IEggPSBbW3N4LHN5LTMyXSxbc3grMzIsc3ldLFtzeCxzeSszMl0sW3N4LTMyLHN5XV07DQogIGZvcihjb25zdCBbaHgsaHldIG9mIEgpew0KICAgIGRvdChjLGh4LGh5LDcsInJnYmEoNTksMTMwLDI0NiwwLjUpIik7DQogICAgbGluZShjLHN4LHN5LGh4LGh5LDIsInJnYmEoMjI2LDIzMiwyNDAsMC4yNSkiKTsNCiAgfQ0KICAvLyBjaGxvcmluZSByZXBsYWNlcyBvbmUgSA0KICBjb25zdCByID0gMC41KzAuNSpNYXRoLnNpbih0KjEuNCk7DQogIGNvbnN0IGNseD1zeCszMiwgY2x5PXN5Ow0KICBkb3QoYywgY2x4LCBjbHksIDksIGByZ2JhKDM0LDE5Nyw5NCwkezAuMjUrMC43KnJ9KWApOw0KICBsYWJlbChjLCBjbHgrMTQsIGNseSs0LCAiQ2wiLCAwLjg1KTsNCiAgbGFiZWwoYywgeDMrMTAsIHkrdGlsZUgqMC42MCwgIlN1bmxpZ2h0OiBIIHJlcGxhY2VkIGJ5IENsIiwgMC44Mik7DQoNCiAgLy8gQWRkaXRpb246IEM9QyArIEgyIC0+IEPigJNDDQogIGNvbnN0IGF4PXgzK3RpbGVXKjAuNjIsIGF5PXkrdGlsZUgqMC43ODsNCiAgZG90KGMsYXgtMjgsYXksMTAsInJnYmEoMjQ1LDE1OCwxMSwwLjgpIik7DQogIGRvdChjLGF4KzI4LGF5LDEwLCJyZ2JhKDI0NSwxNTgsMTEsMC44KSIpOw0KICAvLyBib25kIG1vcnBocyBkb3VibGUtPnNpbmdsZQ0KICBjb25zdCBhID0gMC41KzAuNSpNYXRoLnNpbih0KjEuMCk7DQogIGxpbmUoYyxheC0xOCxheS00LGF4KzE4LGF5LTQsMisxKmEsInJnYmEoMjI2LDIzMiwyNDAsMC41NSkiKTsNCiAgaWYoYSA8IDAuNTUpIGxpbmUoYyxheC0xOCxheSs0LGF4KzE4LGF5KzQsMiwicmdiYSgyMjYsMjMyLDI0MCwwLjU1KSIpOw0KICAvLyBIMiBjb21pbmcgaW4NCiAgY29uc3QgaHg9YXggKyAoMS1hKSo2MCwgaHk9YXktNTI7DQogIGRvdChjLGh4LTEwLGh5LDYsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogIGRvdChjLGh4KzEwLGh5LDYsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogIGxpbmUoYyxoeC00LGh5LGh4KzQsaHksMiwicmdiYSgyNTAsMjA0LDIxLDAuNikiKTsNCiAgbGFiZWwoYywgeDMrdGlsZVcqMC41MiwgeSt0aWxlSCowLjkyLCAiQ2F0YWx5c3Q6IE5pL1BkIChjb25jZXB0KSIsIDAuOCk7DQp9DQoNCi8vIDcpIEV0aGFub2w6IE5hIHJlYWN0aW9uICsgZGVoeWRyYXRpb24gdG8gZXRoZW5lDQpmdW5jdGlvbiBhbmltRXRoYW5vbChjLHcsaCx0KXsNCiAgbGFiZWwoYywgMTQsIDIyLCAiRXRoYW5vbDogd2l0aCBOYSDihpIgSDI7IGRlaHlkcmF0aW9uIOKGkiBldGhlbmUiKTsNCg0KICBjb25zdCBwYWQ9MTQ7DQogIGNvbnN0IHRpbGVXPSh3IC0gcGFkKjMpLzI7DQogIGNvbnN0IHRpbGVIPWgqMC42MjsNCiAgY29uc3QgeT1oKjAuMTg7DQoNCiAgZnVuY3Rpb24gdGlsZShpLHRpdGxlKXsNCiAgICBjb25zdCB4PXBhZCArIGkqKHRpbGVXK3BhZCk7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNykiOw0KICAgIHJvdW5kZWRSZWN0KGMseCx5LHRpbGVXLHRpbGVILDE0KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICBsYWJlbChjLCB4KzEwLCB5KzE4LCB0aXRsZSk7DQogICAgcmV0dXJuIHg7DQogIH0NCg0KICAvLyBOYSArIGV0aGFub2wgYmVha2VyIHdpdGggYnViYmxlcw0KICBjb25zdCB4MT10aWxlKDAsIjJOYSArIDJDMkg1T0gg4oaSIDJDMkg1T05hICsgSDIiKTsNCiAgYmVha2VyKGMsIHgxKzMwLCB5KzU1LCB0aWxlVy02MCwgdGlsZUgtOTUsIDAuNjgsICJyZ2JhKDU5LDEzMCwyNDYsMC4xMCkiKTsNCiAgY29uc3QgYng9eDErdGlsZVcqMC41MCwgYnk9eSt0aWxlSCowLjYyOw0KICAvLyBzb2RpdW0gcGllY2UNCiAgZG90KGMsYngsYnksMTAsInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIpOw0KICAvLyBidWJibGVzDQogIGZvcihsZXQgaT0wO2k8MTg7aSsrKXsNCiAgICBjb25zdCBwPSgodCowLjcgKyBpKjAuMTIpJTEpOw0KICAgIGRvdChjLCBieCArIE1hdGguc2luKHQqMitpKSoxOCwgYnkgLSBwKih0aWxlSCowLjQ1KSwgNS0oaSUzKSwgInJnYmEoMjQ4LDI1MCwyNTIsMC42NSkiKTsNCiAgfQ0KICBsYWJlbChjLCB4MSsxMCwgeSt0aWxlSCowLjkwLCAiVGVzdCBnYXM6IHBvcCBzb3VuZCAoSDIpIiwgMC44NSk7DQoNCiAgLy8gRGVoeWRyYXRpb246IGV0aGFub2wgLT4gZXRoZW5lICsgd2F0ZXINCiAgY29uc3QgeDI9dGlsZSgxLCJEZWh5ZHJhdGlvbjogZXRoYW5vbCDihpIgZXRoZW5lICsgSDJPIChjb25jLiBIMlNPNCkiKTsNCiAgLy8gc2ltcGxlIGFwcGFyYXR1czogdGVzdCB0dWJlICsgaGVhdGluZw0KICBjb25zdCB0eD14Mit0aWxlVyowLjM1LCB0eT15K3RpbGVIKjAuMzA7DQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuNjUpIjsNCiAgYy5saW5lV2lkdGg9MjsNCiAgcm91bmRlZFJlY3QoYywgdHgsIHR5LCB0aWxlVyowLjMwLCB0aWxlSCowLjQ4LCAxMik7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KICAvLyBsaXF1aWQNCiAgY29uc3QgZj0wLjUrMC41Kk1hdGguc2luKHQqMS44KTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjE4KSI7DQogIGMuZmlsbFJlY3QodHgrNCwgdHkrdGlsZUgqMC4zOCwgdGlsZVcqMC4zMC04LCB0aWxlSCowLjQwLTgpOw0KDQogIC8vIGhlYXQgZmxhbWUNCiAgYy5maWxsU3R5bGU9YHJnYmEoMjM5LDY4LDY4LCR7MC4xNSswLjM1KmZ9KWA7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHR4K3RpbGVXKjAuMTUsIHR5K3RpbGVIKjAuNTgpOw0KICBjLnF1YWRyYXRpY0N1cnZlVG8odHgrdGlsZVcqMC4xMiwgdHkrdGlsZUgqMC40OCwgdHgrdGlsZVcqMC4xNSwgdHkrdGlsZUgqMC40MC0zMCpmKTsNCiAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHR4K3RpbGVXKjAuMTgsIHR5K3RpbGVIKjAuNDgsIHR4K3RpbGVXKjAuMTUsIHR5K3RpbGVIKjAuNTgpOw0KICBjLmZpbGwoKTsNCiAgLy8gZXRoZW5lIGJ1YmJsZXMgb3V0IHRvcA0KICBmb3IobGV0IGk9MDtpPDE0O2krKyl7DQogICAgY29uc3QgcD0oKHQqMC41NSArIGkqMC4xNSklMSk7DQogICAgZG90KGMsIHR4K3RpbGVXKjAuMTUgKyBNYXRoLnNpbih0KjIraSkqMTAsIHR5KzIyIC0gcCo2MCwgNC0oaSUyKSwgInJnYmEoMTQ4LDE2MywxODQsMC41NSkiKTsNCiAgfQ0KICBsYWJlbChjLCB4MisxMCwgeSt0aWxlSCowLjg2LCAiQ29uYy4gSDJTTzQgYWN0cyBhcyBkZWh5ZHJhdGluZyBhZ2VudCIsIDAuODUpOw0KfQ0KDQovLyA4KSBFdGhhbm9pYyBhY2lkOiBlc3RlcmlmaWNhdGlvbiArIGJhc2UvY2FyYm9uYXRlICsgc2Fwb25pZmljYXRpb24NCmZ1bmN0aW9uIGFuaW1FdGhhbm9pYyhjLHcsaCx0KXsNCiAgbGFiZWwoYywgMTQsIDIyLCAiRXRoYW5vaWMgYWNpZDogZXN0ZXJpZmljYXRpb24gKyBzYWx0cyArIENPMiArIHNhcG9uaWZpY2F0aW9uIik7DQoNCiAgY29uc3QgcGFkPTE0Ow0KICBjb25zdCB0aWxlVz0odyAtIHBhZCo0KS8zOw0KICBjb25zdCB0aWxlSD1oKjAuNjI7DQogIGNvbnN0IHk9aCowLjE4Ow0KDQogIGZ1bmN0aW9uIHRpbGUoaSx0aXRsZSl7DQogICAgY29uc3QgeD1wYWQgKyBpKih0aWxlVytwYWQpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgICByb3VuZGVkUmVjdChjLHgseSx0aWxlVyx0aWxlSCwxNCk7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgbGFiZWwoYywgeCsxMCwgeSsxOCwgdGl0bGUpOw0KICAgIHJldHVybiB4Ow0KICB9DQoNCiAgLy8gRXN0ZXJpZmljYXRpb246IHNtZWxsIGJvdHRsZSArIGFycm93cw0KICBjb25zdCB4MT10aWxlKDAsIkVzdGVyaWZpY2F0aW9uIChzd2VldCBzbWVsbCkiKTsNCiAgY29uc3QgYng9eDErdGlsZVcqMC41MCwgYnk9eSt0aWxlSCowLjU1Ow0KICAvLyBib3R0bGUNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4xMikiOw0KICByb3VuZGVkUmVjdChjLCBieC01NSwgYnktNjUsIDExMCwgMTQwLCAxNik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIjsNCiAgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQogIC8vIG5lY2sNCiAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4yNSkiOw0KICBjLmZpbGxSZWN0KGJ4LTE4LCBieS05NSwgMzYsIDMwKTsNCiAgLy8gYXJvbWEgd2F2ZXMNCiAgY29uc3QgcD0wLjUrMC41Kk1hdGguc2luKHQqMi4xKTsNCiAgZm9yKGxldCBpPTA7aTw1O2krKyl7DQogICAgYy5zdHJva2VTdHlsZT1gcmdiYSgyNDUsMTU4LDExLCR7MC4xMCswLjEwKml9KWA7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLmFyYyhieCwgYnktMTAwLCAxOCtpKjE0KzYqcCwgTWF0aC5QSSoxLjA1LCBNYXRoLlBJKjEuOTUpOw0KICAgIGMuc3Ryb2tlKCk7DQogIH0NCiAgbGFiZWwoYywgeDErMTAsIHkrdGlsZUgqMC45MCwgIkFjaWQgKyBhbGNvaG9sIOKGkiBlc3RlciArIEgyTyIsIDAuODUpOw0KDQogIC8vIEJhc2UgcmVhY3Rpb246IG5ldXRyYWxpc2F0aW9uDQogIGNvbnN0IHgyPXRpbGUoMSwiV2l0aCBiYXNlIChOYU9IKSDihpIgc2FsdCArIHdhdGVyIik7DQogIGJlYWtlcihjLCB4MiszMCwgeSs1NSwgdGlsZVctNjAsIHRpbGVILTk1LCAwLjY4LCAicmdiYSgyMzksNjgsNjgsMC4xMCkiKTsNCiAgY29uc3QgbWl4PTAuNSswLjUqTWF0aC5zaW4odCoxLjApOw0KICBjLnNhdmUoKTsNCiAgYy5nbG9iYWxBbHBoYT0wLjE1KzAuMjUqbWl4Ow0KICBjLmZpbGxTdHlsZT0icmdiYSgxNiwxODUsMTI5LDAuMjUpIjsNCiAgYy5maWxsUmVjdCh4MiszOCwgeSs2NSArICh0aWxlSC05NSkqMC40NSwgdGlsZVctNzYsICh0aWxlSC05NSkqMC4yNSk7DQogIGMucmVzdG9yZSgpOw0KICBsYWJlbChjLCB4MisxMCwgeSt0aWxlSCowLjkwLCAiQ0gzQ09PSCArIE5hT0gg4oaSIENIM0NPT05hICsgSDJPIiwgMC44NSk7DQoNCiAgLy8gQ2FyYm9uYXRlIHJlYWN0aW9uOiBDTzIgYnViYmxlcw0KICBjb25zdCB4Mz10aWxlKDIsIldpdGggY2FyYm9uYXRlIOKGkiBDTzIgYnViYmxlcyIpOw0KICBiZWFrZXIoYywgeDMrMzAsIHkrNTUsIHRpbGVXLTYwLCB0aWxlSC05NSwgMC42OCwgInJnYmEoMjM5LDY4LDY4LDAuMTIpIik7DQogIGNvbnN0IGN4PXgzK3RpbGVXKjAuNTAsIGN5PXkrdGlsZUgqMC42NTsNCiAgLy8gY2FyYm9uYXRlIHNvbGlkDQogIGZvcihsZXQgaT0wO2k8OTtpKyspew0KICAgIGRvdChjLCBjeC00MCsoaSUzKSoyMiwgY3krMjArTWF0aC5mbG9vcihpLzMpKjEwLCA0LCAicmdiYSgyMjYsMjMyLDI0MCwwLjY1KSIpOw0KICB9DQogIC8vIENPMiBidWJibGVzDQogIGZvcihsZXQgaT0wO2k8MTg7aSsrKXsNCiAgICBjb25zdCBwPSgodCowLjY1ICsgaSowLjEyKSUxKTsNCiAgICBkb3QoYywgY3ggKyBNYXRoLnNpbih0KjIraSkqMTgsIGN5IC0gcCoodGlsZUgqMC40OCksIDUtKGklMyksICJyZ2JhKDE0OCwxNjMsMTg0LDAuNTUpIik7DQogIH0NCiAgbGFiZWwoYywgeDMrMTAsIHkrdGlsZUgqMC45MCwgIkNPMiB0dXJucyBsaW1ld2F0ZXIgbWlsa3kgKHRlc3QpIiwgMC44NSk7DQp9DQoNCi8vIDkpIE1pY2VsbGVzOiBvaWwgZHJvcGxldCArIHNvYXAgaGVhZHMvdGFpbHMgZm9ybWluZyBtaWNlbGxlDQpmdW5jdGlvbiBhbmltTWljZWxsZXMoYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIk1pY2VsbGVzOiBoeWRyb3Bob2JpYyB0YWlscyBpbiBvaWw7IGh5ZHJvcGhpbGljIGhlYWRzIGluIHdhdGVyIik7DQoNCiAgY29uc3QgeD13KjAuMTAsIHk9aCowLjE4LCBidz13KjAuODAsIGJoPWgqMC42MjsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgcm91bmRlZFJlY3QoYyx4LHksYncsYmgsMTYpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIG9pbCBkcm9wbGV0DQogIGNvbnN0IGN4PXgrYncqMC41LCBjeT15K2JoKjAuNTI7DQogIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCoxLjUpOw0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjIyKSI7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMuZWxsaXBzZShjeCxjeSwgODUrNipwdWxzZSwgNTUtNCpwdWxzZSwgMCwgMCwgTWF0aC5QSSoyKTsNCiAgYy5maWxsKCk7DQogIGMucmVzdG9yZSgpOw0KICBsYWJlbChjLCBjeC0zNCwgY3krNSwgIk9pbCIsIDAuNzUpOw0KDQogIC8vIG1pY2VsbGUgcmluZw0KICBjb25zdCBOPTI2Ow0KICBmb3IobGV0IGk9MDtpPE47aSsrKXsNCiAgICBjb25zdCBhID0gaSooTWF0aC5QSSoyL04pICsgdCowLjI7DQogICAgY29uc3QgUiA9IDExMCArIDYqTWF0aC5zaW4odCoxLjIgKyBpKTsNCiAgICBjb25zdCBweCA9IGN4ICsgTWF0aC5jb3MoYSkqUjsNCiAgICBjb25zdCBweSA9IGN5ICsgTWF0aC5zaW4oYSkqUiowLjc1Ow0KDQogICAgLy8gdGFpbCBpbndhcmQNCiAgICBjb25zdCB0eCA9IGN4ICsgTWF0aC5jb3MoYSkqKFItMzYpOw0KICAgIGNvbnN0IHR5ID0gY3kgKyBNYXRoLnNpbihhKSooUi0zNikqMC43NTsNCiAgICBsaW5lKGMsIHB4LCBweSwgdHgsIHR5LCAyLCAicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KDQogICAgLy8gaGVhZCAoaHlkcm9waGlsaWMpIG91dHNpZGUNCiAgICBkb3QoYywgcHgsIHB5LCA2LCAicmdiYSg1OSwxMzAsMjQ2LDAuNzUpIik7DQogICAgLy8gdGFpbCB0aXAgaW5zaWRlIChoeWRyb3Bob2JpYykNCiAgICBkb3QoYywgdHgsIHR5LCAzLCAicmdiYSgyNDUsMTU4LDExLDAuOCkiKTsNCiAgfQ0KDQogIC8vIGRpcnQgcGFydGljbGVzIGdldHRpbmcgdHJhcHBlZA0KICBmb3IobGV0IGk9MDtpPDE4O2krKyl7DQogICAgY29uc3QgYT1pKihNYXRoLlBJKjIvMTgpOw0KICAgIGNvbnN0IHB4PWN4K01hdGguY29zKGEpKigzNSs4KnB1bHNlKTsNCiAgICBjb25zdCBweT1jeStNYXRoLnNpbihhKSooMjIrNipwdWxzZSk7DQogICAgZG90KGMsIHB4LCBweSwgMiwgInJnYmEoMiw2LDIzLDAuNjUpIik7DQogIH0NCg0KICBsYWJlbChjLCB4KzE2LCB5K2JoLTE0LCAiUmVzdWx0OiBvaWwgKyBkaXJ0IGVtdWxzaWZpZWQg4oaSIHdhc2hlZCBhd2F5IHdpdGggd2F0ZXIiLCAwLjg1KTsNCn0NCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgSU5JVA0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0Kc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBlID0+IHJlbmRlck5hdihlLnRhcmdldC52YWx1ZSkpOw0Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsICgpID0+IHsNCiAgY29uc3QgdCA9IHRvcGljcy5maW5kKHggPT4geC5pZCA9PT0gY3VycmVudFRvcGljSWQpOw0KICBpZih0KSBzZXR1cEFuaW1hdGlvbih0LmFuaW1hdGlvblR5cGUpOw0KfSk7DQoNCnJlbmRlck5hdigpOw0Kc2VsZWN0VG9waWModG9waWNzWzBdLmlkKTsNCjwvc2NyaXB0Pg0KPC9ib2R5Pg0KPC9odG1sPg0K"}, {"id": "ch5", "file": "ch5.html", "title": "Class 10 Science Ch 5 \u2013 Life Processes", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDUg4oCTIExpZmUgUHJvY2Vzc2VzPC90aXRsZT4NCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPg0KICA8c3R5bGU+DQogICAgKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0NCiAgICBib2R5ew0KICAgICAgbWFyZ2luOjA7DQogICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBBcmlhbCwgc2Fucy1zZXJpZjsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwNTA4MTYgMCUsICMxZTFiNGIgMTAwJSk7DQogICAgICBjb2xvcjojZjFmNWY5Ow0KICAgICAgbWluLWhlaWdodDoxMDB2aDsNCiAgICB9DQogICAgaGVhZGVyew0KICAgICAgcGFkZGluZzogMThweCA1dnc7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTUpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpOw0KICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsNCiAgICAgIHBvc2l0aW9uOiBzdGlja3k7IHRvcDowOyB6LWluZGV4OiA1MDsNCiAgICB9DQogICAgaGVhZGVyIGgxew0KICAgICAgbWFyZ2luOjAgMCA4cHg7DQogICAgICBmb250LXNpemU6IGNsYW1wKDEuMzVyZW0sIDR2dywgMS45cmVtKTsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMyMmM1NWUsICMzYjgyZjYsICM4YjVjZjYsICNmNTllMGIpOw0KICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6dGV4dDsNCiAgICAgIGJhY2tncm91bmQtY2xpcDp0ZXh0Ow0KICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6dHJhbnNwYXJlbnQ7DQogICAgfQ0KICAgIC5jb250cm9sc3sgZGlzcGxheTpmbGV4OyBnYXA6MTJweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBmbGV4LXdyYXA6IHdyYXA7IH0NCiAgICBpbnB1dFt0eXBlPSJzZWFyY2giXXsNCiAgICAgIHBhZGRpbmc6IDhweCAxNnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNCk7DQogICAgICBib3JkZXItcmFkaXVzOiAyNHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjgpOw0KICAgICAgY29sb3I6I2YxZjVmOTsNCiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgIG1pbi13aWR0aDogMjYwcHg7DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InNlYXJjaCJdOjpwbGFjZWhvbGRlcnsgY29sb3I6Izk0YTNiODsgfQ0KICAgIC5wcm9ncmVzc3sgZm9udC1zaXplOjAuOXJlbTsgY29sb3I6Izk0YTNiODsgfQ0KDQogICAgLmxheW91dHsNCiAgICAgIGRpc3BsYXk6Z3JpZDsNCiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMzIwcHggMWZyOw0KICAgICAgZ2FwOiAxOHB4Ow0KICAgICAgcGFkZGluZzogMThweCA1dncgNjBweDsNCiAgICAgIG1heC13aWR0aDogMTcwMHB4Ow0KICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgfQ0KICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMDAwcHgpeyAubGF5b3V0eyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsgfSB9DQoNCiAgICBuYXZ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4zKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTsNCiAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxNDBweCk7DQogICAgICBvdmVyZmxvdzphdXRvOw0KICAgIH0NCiAgICBuYXYgaDJ7DQogICAgICBmb250LXNpemU6IDAuOTVyZW07DQogICAgICBtYXJnaW46IDAgMCAxMnB4Ow0KICAgICAgY29sb3I6I2E1YjRmYzsNCiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgICBsZXR0ZXItc3BhY2luZzogMC4wNWVtOw0KICAgIH0NCiAgICAudG9waWMtbGlua3sNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBtYXJnaW46IDRweCAwOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGN1cnNvcjpwb2ludGVyOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlOw0KICAgICAgdXNlci1zZWxlY3Q6bm9uZTsNCiAgICB9DQogICAgLnRvcGljLWxpbms6aG92ZXJ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4xNSk7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjQpOw0KICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDRweCk7DQogICAgfQ0KICAgIC50b3BpYy1saW5rLmFjdGl2ZXsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxMGI5ODEsICMzNGQzOTkpOw0KICAgICAgY29sb3I6IzBmMTcyYTsNCiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMTYsMTg1LDEyOSwwLjMpOw0KICAgIH0NCiAgICAudG9waWMtbGluayAudGFnew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogICAgICBwYWRkaW5nOiAycHggOHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBmb250LXNpemU6IDAuNzJyZW07DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuMzUpOw0KICAgICAgbWFyZ2luLWxlZnQ6IDhweDsNCiAgICB9DQoNCiAgICBtYWluew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjk1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7DQogICAgICBwYWRkaW5nOiAyMnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuMyk7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7DQogICAgICBib3gtc2hhZG93OiAwIDIwcHggNjBweCByZ2JhKDAsMCwwLDAuNCk7DQogICAgfQ0KICAgIC5iYWRnZXsNCiAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogNHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43OHJlbTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTM5LDkyLDI0NiwwLjU1KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTM5LDkyLDI0NiwwLjEyKTsNCiAgICAgIGNvbG9yOiAjYzRiNWZkOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICB9DQogICAgbWFpbiBoMnsgbWFyZ2luOiA2cHggMCAwOyBjb2xvcjojZTBlN2ZmOyBmb250LXNpemU6IDEuNDVyZW07IH0NCiAgICAuc2VjdGlvbnsgbWFyZ2luLXRvcDogMjJweDsgfQ0KICAgIC5zZWN0aW9uIGgzew0KICAgICAgZm9udC1zaXplOiAxLjA4cmVtOw0KICAgICAgY29sb3I6I2M0YjVmZDsNCiAgICAgIG1hcmdpbjogMCAwIDEwcHg7DQogICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkICM4YjVjZjY7DQogICAgICBwYWRkaW5nLWxlZnQ6IDEycHg7DQogICAgfQ0KICAgIHAsIGxpeyBjb2xvcjojZTJlOGYwOyBmb250LXNpemU6IDAuOTZyZW07IGxpbmUtaGVpZ2h0OjEuNjU7IH0NCiAgICB1bHsgcGFkZGluZy1sZWZ0OiAyMHB4OyBtYXJnaW46IDEwcHggMCAwOyB9DQoNCiAgICAudmlkZW8tY29udGFpbmVyew0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC40KTsNCiAgICAgIGJhY2tncm91bmQ6ICMwZjE3MmE7DQogICAgICBhc3BlY3QtcmF0aW86IDE2Lzk7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgaWZyYW1leyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgYm9yZGVyOjA7IH0NCg0KICAgIC5hbmltLWNvbnRhaW5lcnsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMWUyOTNiIDAlLCAjMGYxNzJhIDEwMCUpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNTUpOw0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIG1hcmdpbjogMTJweCAwOw0KICAgIH0NCiAgICAuYW5pbS1oZWFkZXJ7DQogICAgICBkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczpjZW50ZXI7DQogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgZm9udC1zaXplOiAwLjg4cmVtOw0KICAgICAgY29sb3I6I2E1YjRmYzsNCiAgICB9DQogICAgLmFuaW0taGVhZGVyIGJ1dHRvbnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjIpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNjUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBwYWRkaW5nOiA2cHggMTRweDsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIGZvbnQtc2l6ZTogMC44MnJlbTsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMnM7DQogICAgfQ0KICAgIC5hbmltLWhlYWRlciBidXR0b246aG92ZXJ7IGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjM1KTsgfQ0KDQogICAgY2FudmFzew0KICAgICAgd2lkdGg6MTAwJTsNCiAgICAgIGhlaWdodDogMzAwcHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjAlLCByZ2JhKDU5LDEzMCwyNDYsMC4xMiksICMwZjE3MmEpOw0KICAgICAgZGlzcGxheTpibG9jazsNCiAgICB9DQoNCiAgICAubWluZG1hcHsNCiAgICAgIGRpc3BsYXk6Z3JpZDsNCiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjIwcHgsIDFmcikpOw0KICAgICAgZ2FwOiAxMnB4Ow0KICAgICAgbWFyZ2luLXRvcDogMTJweDsNCiAgICB9DQogICAgLm1tLW5vZGV7DQogICAgICBwYWRkaW5nOiAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTYsMTg1LDEyOSwwLjEyKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTYsMTg1LDEyOSwwLjM1KTsNCiAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICB9DQogICAgLm1tLW5vZGUgc3Ryb25neyBjb2xvcjojYTdmM2QwOyB9DQoNCiAgICAucXVpensNCiAgICAgIG1hcmdpbi10b3A6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDUsMTU4LDExLDAuMTApOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2Y1OWUwYjsNCiAgICB9DQogICAgLnF1aXotcXVlc3Rpb257IGZvbnQtd2VpZ2h0OiA3MDA7IG1hcmdpbi1ib3R0b206IDEwcHg7IH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbnsNCiAgICAgIGRpc3BsYXk6YmxvY2s7IHdpZHRoOjEwMCU7DQogICAgICBtYXJnaW46IDZweCAwOw0KICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuNCk7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOCk7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjJzOw0KICAgICAgdGV4dC1hbGlnbjpsZWZ0Ow0KICAgIH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbjpob3ZlcnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjIpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LDEzMCwyNDYsMC44KTsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b24uY29ycmVjdHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjk1KTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMTcsMTE5LDYsMSk7DQogICAgICBjb2xvcjojMTExODI3Ow0KICAgICAgZm9udC13ZWlnaHQ6IDgwMDsNCiAgICB9DQogICAgLnF1aXotZXhwbGFpbnsNCiAgICAgIGRpc3BsYXk6bm9uZTsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDUsMTU4LDExLDAuMTIpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgIGNvbG9yOiNmZGU2OGE7DQogICAgICBmb250LXNpemU6IDAuOTJyZW07DQogICAgfQ0KDQogICAgLnNtYWxscmVmeyBjb2xvcjojOTNjNWZkOyBmb250LXNpemU6IDAuOXJlbTsgbWFyZ2luLXRvcDogNnB4OyB9DQogICAgYXsgY29sb3I6IzYwYTVmYTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IH0NCiAgICBhOmhvdmVyeyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgfQ0KICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8aGVhZGVyPg0KICA8aDE+TGlmZSBQcm9jZXNzZXMg4oCTIENsYXNzIDEwIChDaGFwdGVyIDUpPC9oMT4NCiAgPGRpdiBjbGFzcz0iY29udHJvbHMiPg0KICAgIDxpbnB1dCB0eXBlPSJzZWFyY2giIGlkPSJzZWFyY2hJbnB1dCIgcGxhY2Vob2xkZXI9IlNlYXJjaDogcGhvdG9zeW50aGVzaXMsIHZpbGxpLCBhbHZlb2xpLCBuZXBocm9uLCB4eWxlbS4uLiIgLz4NCiAgICA8c3BhbiBjbGFzcz0icHJvZ3Jlc3MiPlByb2dyZXNzOiA8c3BhbiBpZD0icHJvZ0NvdW50Ij4wPC9zcGFuPi88c3BhbiBpZD0idG90YWxDb3VudCI+MDwvc3Bhbj4gdG9waWNzPC9zcGFuPg0KICA8L2Rpdj4NCjwvaGVhZGVyPg0KDQo8ZGl2IGNsYXNzPSJsYXlvdXQiPg0KICA8bmF2Pg0KICAgIDxoMj5DaGFwdGVyIDUgVG9waWNzPC9oMj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0xpc3QiPjwvZGl2Pg0KICA8L25hdj4NCg0KICA8bWFpbj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0NvbnRlbnQiPjwvZGl2Pg0KICA8L21haW4+DQo8L2Rpdj4NCg0KPHNjcmlwdD4NCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFZJREVPIChTdW5saWtlIFN0dWR5KQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3QgY2g1VmlkZW8gPSB7DQogIHl0V2F0Y2g6ICJodHRwczovL3lvdXR1LmJlL0ptc0FubnpsTWZzIiwNCiAgZW1iZWQ6ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9KbXNBbm56bE1mcyINCn07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFRPUElDUyAoTkNFUlQtYWxpZ25lZCkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljcyA9IFsNCiAgew0KICAgIGlkOiAiaW50cm8tbGlmZS1wcm9jZXNzIiwNCiAgICB0aXRsZTogIldoYXQgYXJlIExpZmUgUHJvY2Vzc2VzPyAoV2h5IGRpZmZ1c2lvbiBpcyBub3QgZW5vdWdoKSIsDQogICAgdHlwZTogIkludHJvIiwNCiAgICB2aWRlb1RpbWU6ICIwMDowMOKAkzAyOjEwIiwNCiAgICBhbmltYXRpb25UeXBlOiAiZGlmZnVzaW9uVnNUcmFuc3BvcnQiLA0KICAgIGNvcmVOb3RlczoNCiAgICAgICJMaWZlIHByb2Nlc3NlcyBhcmUgbWFpbnRlbmFuY2UgYWN0aXZpdGllcyBuZWVkZWQgdG8ga2VlcCBhbiBvcmdhbmlzbSBhbGl2ZSAocmVwYWlyLCBlbmVyZ3kgc3VwcGx5LCBpbnRlcm5hbCBiYWxhbmNlKS4gSW4gbXVsdGljZWxsdWxhciBvcmdhbmlzbXMsIGRpZmZ1c2lvbiBhbG9uZSBpcyB0b28gc2xvdywgc28gdHJhbnNwb3J0IHN5c3RlbXMgZXZvbHZlLiIsDQogICAgcG9pbnRzOiBbDQogICAgICAiRW5lcmd5IGNvbWVzIGZyb20gZm9vZCAobnV0cml0aW9uKSBhbmQgaXMgcmVsZWFzZWQgYnkgcmVzcGlyYXRpb24uIiwNCiAgICAgICJUcmFuc3BvcnQgaXMgbmVlZGVkIHRvIGRlbGl2ZXIgb3h5Z2VuL2Zvb2QgdG8gY2VsbHMgYW5kIGNvbGxlY3Qgd2FzdGVzLiIsDQogICAgICAiRXhjcmV0aW9uIHJlbW92ZXMgbWV0YWJvbGljIHdhc3RlcyB0byBwcmV2ZW50IHRveGljaXR5LiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkNvbW1vbiAy4oCTMyBtYXJrczogZXhwbGFpbiB3aHkgZGlmZnVzaW9uIGlzIGluc3VmZmljaWVudCBpbiBodW1hbnMuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIkRpZmZ1c2lvbiBpcyBpbnN1ZmZpY2llbnQgaW4gaHVtYW5zIG1haW5seSBiZWNhdXNlOiIsDQogICAgICBvcHRpb25zOiBbDQogICAgICAgICJDZWxscyBhcmUgdmVyeSBzbWFsbCIsDQogICAgICAgICJUaGUgYm9keSBpcyBtdWx0aWNlbGx1bGFyIGFuZCBkaXN0YW5jZXMgYXJlIGxhcmdlIiwNCiAgICAgICAgIk94eWdlbiBpcyBub3QgbmVlZGVkIiwNCiAgICAgICAgIkJsb29kIGhhcyBubyBwbGFzbWEiDQogICAgICBdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJJbiBtdWx0aWNlbGx1bGFyIG9yZ2FuaXNtcyBtYW55IGNlbGxzIGFyZSBmYXIgZnJvbSB0aGUgc3VyZmFjZTsgZGlmZnVzaW9uIGJlY29tZXMgdG9vIHNsb3cuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAibnV0cml0aW9uLW92ZXJ2aWV3IiwNCiAgICB0aXRsZTogIk51dHJpdGlvbjogQXV0b3Ryb3BoaWMgdnMgSGV0ZXJvdHJvcGhpYyIsDQogICAgdHlwZTogIk51dHJpdGlvbiIsDQogICAgdmlkZW9UaW1lOiAiMDI6MTDigJMwNTowMCIsDQogICAgYW5pbWF0aW9uVHlwZTogIm51dHJpdGlvbk1vZGVzIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiTnV0cml0aW9uIGlzIGludGFrZSBvZiBmb29kIGFuZCBpdHMgdXRpbGlzYXRpb24uIEF1dG90cm9waHMgbWFrZSBmb29kIChwaG90b3N5bnRoZXNpcykuIEhldGVyb3Ryb3BocyBkZXBlbmQgb24gb3RoZXIgb3JnYW5pc21zIChhbmltYWxzLCBmdW5naSwgbWFueSBtaWNyb2JlcykuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJBdXRvdHJvcGhpYzogQ08yICsgSDJPIOKGkiBjYXJib2h5ZHJhdGVzICh3aXRoIHN1bmxpZ2h0LCBjaGxvcm9waHlsbCkuIiwNCiAgICAgICJIZXRlcm90cm9waGljIHR5cGVzIChleGFtLWZyaWVuZGx5KTogaG9sb3pvaWMgKGh1bWFucyksIHNhcHJvcGh5dGljIChmdW5naSksIHBhcmFzaXRpYyAodGFwZXdvcm0sIGxpY2UpLiIsDQogICAgICAiSG9sb3pvaWMgc3RlcHM6IGluZ2VzdGlvbiDihpIgZGlnZXN0aW9uIOKGkiBhYnNvcnB0aW9uIOKGkiBhc3NpbWlsYXRpb24g4oaSIGVnZXN0aW9uLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIlZlcnkgY29tbW9uOiBkaWZmZXJlbnRpYXRlIGF1dG90cm9waGljIHZzIGhldGVyb3Ryb3BoaWMgKHRhYmxlIHBvaW50cykuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIldoaWNoIGlzIGEgc2Fwcm9waHl0aWMgb3JnYW5pc20/IiwNCiAgICAgIG9wdGlvbnM6IFsiWWVhc3QiLCAiSHVtYW4iLCAiR3JlZW4gcGxhbnQiLCAiTGljZSJdLA0KICAgICAgY29ycmVjdDogMCwNCiAgICAgIGV4cGxhaW46ICJTYXByb3BoeXRlcyBmZWVkIG9uIGRlYWQvZGVjYXlpbmcgb3JnYW5pYyBtYXR0ZXI7IHllYXN0L2Z1bmdpIGFyZSBjbGFzc2ljIGV4YW1wbGVzLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogInBob3Rvc3ludGhlc2lzLXN0b21hdGEiLA0KICAgIHRpdGxlOiAiUGhvdG9zeW50aGVzaXMgKyBTdG9tYXRhIChHdWFyZCBjZWxscykiLA0KICAgIHR5cGU6ICJOdXRyaXRpb24iLA0KICAgIHZpZGVvVGltZTogIjA1OjAw4oCTMDk6NDAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJwaG90b3N5bnRoZXNpc1N0b21hdGEiLA0KICAgIGNvcmVOb3RlczoNCiAgICAgICJQaG90b3N5bnRoZXNpcyBjb252ZXJ0cyBsaWdodCBlbmVyZ3kgdG8gY2hlbWljYWwgZW5lcmd5IGFuZCBmb3JtcyBjYXJib2h5ZHJhdGVzLiBHYXMgZXhjaGFuZ2Ugb2NjdXJzIHZpYSBzdG9tYXRhOyBndWFyZCBjZWxscyBjb250cm9sIG9wZW5pbmcvY2xvc2luZyB0byBiYWxhbmNlIENPMiBpbnRha2UgYW5kIHdhdGVyIGxvc3MuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJLZXkgZXZlbnRzOiBsaWdodCBhYnNvcnB0aW9uIOKGkiBzcGxpdHRpbmcgb2Ygd2F0ZXIg4oaSIENPMiByZWR1Y3Rpb24gdG8gY2FyYm9oeWRyYXRlcy4iLA0KICAgICAgIlN0b21hdGEgYWxsb3cgQ08yIGVudHJ5IGFuZCBPMiBleGl0OyBndWFyZCBjZWxscyByZWd1bGF0ZSB0aGUgcG9yZS4iLA0KICAgICAgIlBsYW50cyBzdG9yZSBleHRyYSBjYXJib2h5ZHJhdGUgYXMgc3RhcmNoIChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJEaWFncmFtLXR5cGU6IHN0b21hdGEgKyByb2xlIG9mIGd1YXJkIGNlbGxzLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJHdWFyZCBjZWxscyBoZWxwIGluOiIsDQogICAgICBvcHRpb25zOiBbDQogICAgICAgICJUcmFuc3BvcnRpbmcgYmxvb2QiLA0KICAgICAgICAiT3BlbmluZy9jbG9zaW5nIHN0b21hdGFsIHBvcmUiLA0KICAgICAgICAiUHJvZHVjaW5nIHVyZWEiLA0KICAgICAgICAiQ2xvdHRpbmcgb2YgYmxvb2QiDQogICAgICBdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJHdWFyZCBjZWxscyByZWd1bGF0ZSBzdG9tYXRhbCBvcGVuaW5nIGFuZCBjbG9zaW5nLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImh1bWFuLWRpZ2VzdGlvbiIsDQogICAgdGl0bGU6ICJIb2xvem9pYyBOdXRyaXRpb24gaW4gSHVtYW5zIChEaWdlc3RpdmUgc3lzdGVtKSIsDQogICAgdHlwZTogIk51dHJpdGlvbiIsDQogICAgdmlkZW9UaW1lOiAiMDk6NDDigJMxNTozMCIsDQogICAgYW5pbWF0aW9uVHlwZTogImh1bWFuRGlnZXN0aW9uIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiSHVtYW4gZGlnZXN0aW9uIGJyZWFrcyBjb21wbGV4IGZvb2QgaW50byBhYnNvcmJhYmxlIG1vbGVjdWxlcyB1c2luZyBlbnp5bWVzLiBBYnNvcnB0aW9uIG1haW5seSBvY2N1cnMgaW4gdGhlIHNtYWxsIGludGVzdGluZSwgd2hpY2ggaGFzIHZpbGxpIHRvIGluY3JlYXNlIHN1cmZhY2UgYXJlYS4iLA0KICAgIHBvaW50czogWw0KICAgICAgIk1vdXRoOiBjaGV3aW5nICsgc2FsaXZhcnkgYW15bGFzZSBzdGFydHMgc3RhcmNoIGRpZ2VzdGlvbi4iLA0KICAgICAgIlN0b21hY2g6IGFjaWQgcHJvdmlkZXMgYWNpZGljIG1lZGl1bTsgcGVwc2luIGRpZ2VzdHMgcHJvdGVpbnM7IG11Y3VzIHByb3RlY3RzIGxpbmluZy4iLA0KICAgICAgIlNtYWxsIGludGVzdGluZTogYmlsZSBlbXVsc2lmaWVzIGZhdHM7IHBhbmNyZWF0aWMgZW56eW1lcyBhY3Q7IHZpbGxpIGFic29yYiBudXRyaWVudHMuIiwNCiAgICAgICJMYXJnZSBpbnRlc3RpbmUgYWJzb3JicyB3YXRlcjsgZWdlc3Rpb24gdGhyb3VnaCBhbnVzLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkhpZ2ggc2NvcmluZzogcm9sZSBvZiBIQ2wgKyBiaWxlOyB3aHkgdmlsbGkgaW5jcmVhc2UgYWJzb3JwdGlvbi4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiQmlsZSBtYWlubHkgaGVscHMgaW4gZGlnZXN0aW9uIG9mOiIsDQogICAgICBvcHRpb25zOiBbIlByb3RlaW5zIiwgIkZhdHMiLCAiU3RhcmNoIiwgIkROQSJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJCaWxlIHNhbHRzIGVtdWxzaWZ5IGZhdHMgaW50byBzbWFsbCBkcm9wbGV0cyBzbyBlbnp5bWVzIGNhbiBhY3QgZWZmaWNpZW50bHkuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAicmVzcGlyYXRpb24tcGF0aHdheXMiLA0KICAgIHRpdGxlOiAiUmVzcGlyYXRpb246IEFlcm9iaWMgdnMgQW5hZXJvYmljICsgQVRQIiwNCiAgICB0eXBlOiAiUmVzcGlyYXRpb24iLA0KICAgIHZpZGVvVGltZTogIjE1OjMw4oCTMTk6MzAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJyZXNwaXJhdGlvbkZsb3ciLA0KICAgIGNvcmVOb3RlczoNCiAgICAgICJSZXNwaXJhdGlvbiByZWxlYXNlcyBlbmVyZ3kgZnJvbSBmb29kIChnbHVjb3NlKS4gR2x1Y29zZSBmaXJzdCBiZWNvbWVzIHB5cnV2YXRlOyB0aGVuIGFlcm9iaWMgKHdpdGggTzIpIG9yIGFuYWVyb2JpYyAod2l0aG91dCBPMikgcGF0aHdheXMgcHJvZHVjZSBkaWZmZXJlbnQgcHJvZHVjdHMgYW5kIGVuZXJneSB5aWVsZC4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkFlcm9iaWM6IGNvbXBsZXRlIGJyZWFrZG93biDihpIgQ08yICsgSDJPICsgbW9yZSBlbmVyZ3kgKEFUUCkuIiwNCiAgICAgICJBbmFlcm9iaWMgKHllYXN0KTogZXRoYW5vbCArIENPMiArIGxlc3MgZW5lcmd5LiIsDQogICAgICAiTG93IG94eWdlbiBpbiBtdXNjbGVzOiBsYWN0aWMgYWNpZCBmb3JtYXRpb24g4oaSIGNyYW1wcy4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJPZnRlbiBhc2tlZDogY29tcGFyZSBhZXJvYmljIHZzIGFuYWVyb2JpYzsgZXhwbGFpbiBjcmFtcHMgKGxhY3RpYyBhY2lkKS4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiQ3JhbXBzIGR1cmluZyBzdWRkZW4gZXhlcmNpc2Ugb2NjdXIgZHVlIHRvIGZvcm1hdGlvbiBvZjoiLA0KICAgICAgb3B0aW9uczogWyJHbHVjb3NlIiwgIkxhY3RpYyBhY2lkIiwgIlN0YXJjaCIsICJVcmVhIl0sDQogICAgICBjb3JyZWN0OiAxLA0KICAgICAgZXhwbGFpbjogIldoZW4gb3h5Z2VuIGlzIGluc3VmZmljaWVudCwgbXVzY2xlcyBtYXkgZm9ybSBsYWN0aWMgYWNpZCBjYXVzaW5nIGNyYW1wcy4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJicmVhdGhpbmctcmVzcGlyYXRvcnkiLA0KICAgIHRpdGxlOiAiQnJlYXRoaW5nICYgSHVtYW4gUmVzcGlyYXRvcnkgU3lzdGVtIChBbHZlb2xpKSIsDQogICAgdHlwZTogIlJlc3BpcmF0aW9uIiwNCiAgICB2aWRlb1RpbWU6ICIxOTozMOKAkzI0OjMwIiwNCiAgICBhbmltYXRpb25UeXBlOiAiYWx2ZW9saUV4Y2hhbmdlIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiQnJlYXRoaW5nIGlzIGdhcyBleGNoYW5nZSB3aXRoIHRoZSBlbnZpcm9ubWVudDsgY2VsbHVsYXIgcmVzcGlyYXRpb24gcmVsZWFzZXMgZW5lcmd5IGluc2lkZSBjZWxscy4gSW4gaHVtYW5zLCBhbHZlb2xpIHByb3ZpZGUgbGFyZ2Ugc3VyZmFjZSBhcmVhIGZvciBPMi9DTzIgZXhjaGFuZ2Ugd2l0aCBibG9vZC4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkFpciBwYXRod2F5OiBub3N0cmlscyDihpIgdHJhY2hlYSDihpIgYnJvbmNoaSDihpIgYnJvbmNoaW9sZXMg4oaSIGFsdmVvbGkuIiwNCiAgICAgICJBbHZlb2xpIGhhdmUgdGhpbiB3YWxscyBhbmQgcmljaCBjYXBpbGxhcnkgbmV0d29yayBmb3IgZGlmZnVzaW9uLiIsDQogICAgICAiSGFlbW9nbG9iaW4gdHJhbnNwb3J0cyBveHlnZW4gaW4gYmxvb2QgKGNvbmNlcHQtbGV2ZWwgZm9yIENCU0UpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIlZlcnkgY29tbW9uOiB3aHkgYWx2ZW9saSBhcmUgZWZmaWNpZW50IChsYXJnZSBhcmVhLCB0aGluIHdhbGxzLCBjYXBpbGxhcmllcykuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIkdhcyBleGNoYW5nZSBpbiBodW1hbnMgbWFpbmx5IG9jY3VycyBpbjoiLA0KICAgICAgb3B0aW9uczogWyJUcmFjaGVhIiwgIlN0b21hY2giLCAiQWx2ZW9saSIsICJLaWRuZXkiXSwNCiAgICAgIGNvcnJlY3Q6IDIsDQogICAgICBleHBsYWluOiAiQWx2ZW9saSBhcmUgdGhlIHByaW1hcnkgc2l0ZSBvZiBleGNoYW5nZSBvZiBveHlnZW4gYW5kIGNhcmJvbiBkaW94aWRlLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogInRyYW5zcG9ydC1odW1hbnMiLA0KICAgIHRpdGxlOiAiVHJhbnNwb3J0YXRpb24gaW4gSHVtYW5zIChCbG9vZCwgSGVhcnQsIERvdWJsZSBjaXJjdWxhdGlvbikiLA0KICAgIHR5cGU6ICJUcmFuc3BvcnRhdGlvbiIsDQogICAgdmlkZW9UaW1lOiAiMjQ6MzDigJMyODo0MCIsDQogICAgYW5pbWF0aW9uVHlwZTogImRvdWJsZUNpcmN1bGF0aW9uIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiQmxvb2QgdHJhbnNwb3J0cyBnYXNlcywgbnV0cmllbnRzIGFuZCB3YXN0ZXMuIFRoZSBoZWFydCBwdW1wcyBibG9vZCBpbiB0d28gY2lyY3VpdHMgKHB1bG1vbmFyeSBhbmQgc3lzdGVtaWMpLCBjYWxsZWQgZG91YmxlIGNpcmN1bGF0aW9uLCBwcmV2ZW50aW5nIG1peGluZyBhbmQgaW1wcm92aW5nIGVmZmljaWVuY3kuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJCbG9vZDogcGxhc21hICsgUkJDIChveHlnZW4pICsgV0JDIChkZWZlbmNlKSArIHBsYXRlbGV0cyAoY2xvdHRpbmcpLiIsDQogICAgICAiQXJ0ZXJpZXMgY2FycnkgYmxvb2QgYXdheSBmcm9tIGhlYXJ0OyB2ZWlucyBicmluZyBibG9vZCB0byBoZWFydDsgY2FwaWxsYXJpZXMgZW5hYmxlIGV4Y2hhbmdlLiIsDQogICAgICAiRG91YmxlIGNpcmN1bGF0aW9uOiBoZWFydCDihpIgbHVuZ3Mg4oaSIGhlYXJ0IOKGkiBib2R5IOKGkiBoZWFydC4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJEaWFncmFtIHF1ZXN0aW9uOiB0cmFjZSBibG9vZCBmbG93OyBkZWZpbmUgZG91YmxlIGNpcmN1bGF0aW9uLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJWZXNzZWxzIHRoYXQgY2FycnkgYmxvb2QgYXdheSBmcm9tIHRoZSBoZWFydCBhcmU6IiwNCiAgICAgIG9wdGlvbnM6IFsiVmVpbnMiLCAiQ2FwaWxsYXJpZXMiLCAiQXJ0ZXJpZXMiLCAiTHltcGggdmVzc2VscyJdLA0KICAgICAgY29ycmVjdDogMiwNCiAgICAgIGV4cGxhaW46ICJBcnRlcmllcyBjYXJyeSBibG9vZCBhd2F5IGZyb20gdGhlIGhlYXJ0LiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogInRyYW5zcG9ydC1wbGFudHMiLA0KICAgIHRpdGxlOiAiVHJhbnNwb3J0YXRpb24gaW4gUGxhbnRzIChYeWxlbSwgUGhsb2VtLCBUcmFuc3BpcmF0aW9uIHB1bGwpIiwNCiAgICB0eXBlOiAiVHJhbnNwb3J0YXRpb24iLA0KICAgIHZpZGVvVGltZTogIjI4OjQw4oCTMzA6MjAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJ4eWxlbVBobG9lbSIsDQogICAgY29yZU5vdGVzOg0KICAgICAgIlBsYW50cyB0cmFuc3BvcnQgd2F0ZXIvbWluZXJhbHMgdXB3YXJkIHRocm91Z2ggeHlsZW0gYW5kIGZvb2QgKHN1Z2FycykgdGhyb3VnaCBwaGxvZW0uIFdhdGVyIG1vdmVtZW50IGlzIHN1cHBvcnRlZCBieSB0cmFuc3BpcmF0aW9uIHB1bGw7IHBobG9lbSB0cmFuc3BvcnQgdXNlcyBlbmVyZ3kuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJYeWxlbTogdW5pZGlyZWN0aW9uYWwgKHJvb3Qg4oaSIHNob290KSB3YXRlciAmIG1pbmVyYWxzLiIsDQogICAgICAiUGhsb2VtOiBiaWRpcmVjdGlvbmFsIHRyYW5zcG9ydCBvZiBmb29kIGZyb20gbGVhdmVzIHRvIG90aGVyIHBhcnRzLiIsDQogICAgICAiVHJhbnNwaXJhdGlvbjogd2F0ZXIgbG9zcyBmcm9tIGxlYXZlcyBoZWxwcyBwdWxsIHdhdGVyIHVwLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkZyZXF1ZW50bHkgYXNrZWQ6IGRpZmZlcmVudGlhdGUgeHlsZW0gdnMgcGhsb2VtIChkaXJlY3Rpb24sIG1hdGVyaWFsLCBlbmVyZ3kpLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJXaGljaCB0aXNzdWUgdHJhbnNwb3J0cyBmb29kIGluIHBsYW50cz8iLA0KICAgICAgb3B0aW9uczogWyJYeWxlbSIsICJQaGxvZW0iLCAiRXBpZGVybWlzIiwgIkNvcnRleCJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJQaGxvZW0gdHJhbnNwb3J0cyBzdWdhcnMgKGZvb2QpIGZyb20gbGVhdmVzIHRvIG90aGVyIHBhcnRzLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImV4Y3JldGlvbiIsDQogICAgdGl0bGU6ICJFeGNyZXRpb24gKEh1bWFuIGtpZG5leSAmIE5lcGhyb24pICsgRXhjcmV0aW9uIGluIFBsYW50cyIsDQogICAgdHlwZTogIkV4Y3JldGlvbiIsDQogICAgdmlkZW9UaW1lOiAiMzA6MjDigJNlbmQiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJuZXBocm9uIiwNCiAgICBjb3JlTm90ZXM6DQogICAgICAiRXhjcmV0aW9uIHJlbW92ZXMgbWV0YWJvbGljIHdhc3RlcyAoZXNwZWNpYWxseSBuaXRyb2dlbm91cyB3YXN0ZXMpIHRvIG1haW50YWluIGludGVybmFsIGJhbGFuY2UuIEtpZG5leXMgZmlsdGVyIGJsb29kIHZpYSBuZXBocm9uczsgdXNlZnVsIHN1YnN0YW5jZXMgYXJlIHJlYWJzb3JiZWQgYW5kIHVyaW5lIGlzIGZvcm1lZC4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkh1bWFuIGV4Y3JldG9yeSBzeXN0ZW06IGtpZG5leXMg4oaSIHVyZXRlcnMg4oaSIHVyaW5hcnkgYmxhZGRlciDihpIgdXJldGhyYS4iLA0KICAgICAgIk5lcGhyb24gc3RlcHM6IGZpbHRyYXRpb24g4oaSIHNlbGVjdGl2ZSByZWFic29ycHRpb24g4oaSIHVyaW5lIGZvcm1hdGlvbiAoY29uY2VwdC1sZXZlbCkuIiwNCiAgICAgICJQbGFudHM6IGdhc2VzIHZpYSBzdG9tYXRhOyBleGNlc3Mgd2F0ZXIgdmlhIHRyYW5zcGlyYXRpb247IHdhc3RlcyBjYW4gYmUgc3RvcmVkIGluIG9sZCBsZWF2ZXMvYmFyay9yZXNpbnMgYW5kIHJlbW92ZWQuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiVmVyeSBjb21tb246IGxhYmVsIG5lcGhyb24va2lkbmV5IGRpYWdyYW0gKyBleHBsYWluIHVyaW5lIGZvcm1hdGlvbi4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiRnVuY3Rpb25hbCB1bml0IG9mIGtpZG5leSBpczoiLA0KICAgICAgb3B0aW9uczogWyJBbHZlb2x1cyIsICJOZXVyb24iLCAiTmVwaHJvbiIsICJWaWxsdXMiXSwNCiAgICAgIGNvcnJlY3Q6IDIsDQogICAgICBleHBsYWluOiAiTmVwaHJvbiBpcyB0aGUgZmlsdHJhdGlvbiB1bml0IG9mIHRoZSBraWRuZXkuIg0KICAgIH0NCiAgfQ0KXTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgVUkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljTGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljTGlzdCIpOw0KY29uc3QgdG9waWNDb250ZW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNDb250ZW50Iik7DQpjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpOw0KY29uc3QgcHJvZ0NvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ0NvdW50Iik7DQpjb25zdCB0b3RhbENvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG90YWxDb3VudCIpOw0KDQp0b3RhbENvdW50RWwudGV4dENvbnRlbnQgPSB0b3BpY3MubGVuZ3RoOw0KDQpsZXQgY3VycmVudFRvcGljSWQgPSB0b3BpY3NbMF0uaWQ7DQpsZXQgY29tcGxldGVkVG9waWNzID0gbmV3IFNldChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjaDUtY29tcGxldGVkIikgfHwgIltdIikpOw0KDQpmdW5jdGlvbiByZW5kZXJOYXYoZmlsdGVyPSIiKXsNCiAgdG9waWNMaXN0RWwuaW5uZXJIVE1MID0gIiI7DQogIGNvbnN0IHEgPSBmaWx0ZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7DQogIGNvbnN0IGZpbHRlcmVkID0gdG9waWNzLmZpbHRlcih0ID0+DQogICAgdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC50eXBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LmNvcmVOb3Rlcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC5wb2ludHMuam9pbigiICIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkNCiAgKTsNCg0KICBmaWx0ZXJlZC5mb3JFYWNoKCh0LCBpZHgpID0+IHsNCiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgaXRlbS5jbGFzc05hbWUgPSAidG9waWMtbGluayIgKyAodC5pZCA9PT0gY3VycmVudFRvcGljSWQgPyAiIGFjdGl2ZSIgOiAiIik7DQogICAgaXRlbS5pbm5lckhUTUwgPSBgJHtpZHgrMX0uICR7dC50aXRsZX08c3BhbiBjbGFzcz0idGFnIj4ke3QudHlwZX08L3NwYW4+YDsNCiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gc2VsZWN0VG9waWModC5pZCkpOw0KICAgIHRvcGljTGlzdEVsLmFwcGVuZENoaWxkKGl0ZW0pOw0KICB9KTsNCg0KICBwcm9nQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbXBsZXRlZFRvcGljcy5zaXplOw0KfQ0KDQpmdW5jdGlvbiBzZWxlY3RUb3BpYyhpZCl7DQogIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQoeCA9PiB4LmlkID09PSBpZCk7DQogIGlmKCF0b3BpYykgcmV0dXJuOw0KICBjdXJyZW50VG9waWNJZCA9IGlkOw0KICBjb21wbGV0ZWRUb3BpY3MuYWRkKGlkKTsNCiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNoNS1jb21wbGV0ZWQiLCBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGNvbXBsZXRlZFRvcGljcykpKTsNCiAgcmVuZGVyVG9waWModG9waWMpOw0KICByZW5kZXJOYXYoc2VhcmNoSW5wdXQudmFsdWUpOw0KfQ0KDQpmdW5jdGlvbiByZW5kZXJUb3BpYyh0b3BpYyl7DQogIGNvbnN0IHF1aXogPSB0b3BpYy5xdWl6ID8gYA0KICAgIDxkaXYgY2xhc3M9InF1aXoiPg0KICAgICAgPGRpdiBjbGFzcz0icXVpei1xdWVzdGlvbiI+JHt0b3BpYy5xdWl6LnF1ZXN0aW9ufTwvZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0icXVpei1vcHRpb25zIj4NCiAgICAgICAgJHt0b3BpYy5xdWl6Lm9wdGlvbnMubWFwKChvcHQsaSk9PmA8YnV0dG9uIG9uY2xpY2s9ImNoZWNrUXVpeigke2l9LCR7dG9waWMucXVpei5jb3JyZWN0fSkiPiR7b3B0fTwvYnV0dG9uPmApLmpvaW4oIiIpfQ0KICAgICAgPC9kaXY+DQogICAgICA8ZGl2IGNsYXNzPSJxdWl6LWV4cGxhaW4iIGlkPSJxdWl6RXhwbGFpbiI+JHt0b3BpYy5xdWl6LmV4cGxhaW59PC9kaXY+DQogICAgPC9kaXY+DQogIGAgOiAiIjsNCg0KICB0b3BpY0NvbnRlbnRFbC5pbm5lckhUTUwgPSBgDQogICAgPGRpdj4NCiAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj4ke3RvcGljLnR5cGV9PC9kaXY+DQogICAgICA8aDI+JHt0b3BpYy50aXRsZX08L2gyPg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfk5YgTm90ZXMgKENCU0UtZnJpZW5kbHkpPC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5jb3JlTm90ZXN9PC9wPg0KICAgICAgICA8dWw+JHt0b3BpYy5wb2ludHMubWFwKHA9PmA8bGk+JHtwfTwvbGk+YCkuam9pbigiIil9PC91bD4NCg0KICAgICAgICA8ZGl2IGNsYXNzPSJ2aWRlby1jb250YWluZXIiPg0KICAgICAgICAgIDxpZnJhbWUNCiAgICAgICAgICAgIHNyYz0iJHtjaDVWaWRlby5lbWJlZH0iDQogICAgICAgICAgICBhbGxvdz0iYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlIg0KICAgICAgICAgICAgYWxsb3dmdWxsc2NyZWVuDQogICAgICAgICAgPjwvaWZyYW1lPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0ic21hbGxyZWYiPlN1bmxpa2UgU3R1ZHkgdmlkZW86IDxhIGhyZWY9IiR7Y2g1VmlkZW8ueXRXYXRjaH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj4ke3RvcGljLnZpZGVvVGltZX08L2E+PC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn46sIEFuaW1hdGlvbjwvaDM+DQogICAgICAgIDxkaXYgY2xhc3M9ImFuaW0tY29udGFpbmVyIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJhbmltLWhlYWRlciI+DQogICAgICAgICAgICA8c3Bhbj5BbmltYXRpb246IDxzdHJvbmc+JHt0b3BpYy5hbmltYXRpb25UeXBlfTwvc3Ryb25nPjwvc3Bhbj4NCiAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJyZXN0YXJ0QW5pbWF0aW9uKCkiPlJlcGxheTwvYnV0dG9uPg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDxjYW52YXMgaWQ9ImFuaW1DYW52YXMiPjwvY2FudmFzPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfkqEgRXhhbSBIaW50PC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5uY2VydEhpbnR9PC9wPg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+noCBRdWljayBNaW5kIE1hcDwvaDM+DQogICAgICAgIDxkaXYgY2xhc3M9Im1pbmRtYXAiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+TnV0cml0aW9uPC9zdHJvbmc+PGJyLz5BdXRvdHJvcGhpYyAocGhvdG9zeW50aGVzaXMpICsgSGV0ZXJvdHJvcGhpYyAoZGlnZXN0aW9uKS48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlJlc3BpcmF0aW9uPC9zdHJvbmc+PGJyLz5BZXJvYmljL2FuYWVyb2JpYyArIGJyZWF0aGluZyArIGFsdmVvbGkgZ2FzIGV4Y2hhbmdlLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+VHJhbnNwb3J0PC9zdHJvbmc+PGJyLz5CbG9vZCArIGhlYXJ0IChkb3VibGUgY2lyY3VsYXRpb24pICsgeHlsZW0vcGhsb2VtLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+RXhjcmV0aW9uPC9zdHJvbmc+PGJyLz5LaWRuZXnigJNuZXBocm9uIOKGkiB1cmluZTsgcGxhbnQgd2FzdGVzIHZpYSBzdG9tYXRhL3RyYW5zcGlyYXRpb24vc3RvcmFnZS48L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgJHtxdWl6fQ0KICAgIDwvZGl2Pg0KICBgOw0KDQogIHNldHVwQW5pbWF0aW9uKHRvcGljLmFuaW1hdGlvblR5cGUpOw0KfQ0KDQp3aW5kb3cuY2hlY2tRdWl6ID0gZnVuY3Rpb24oc2VsZWN0ZWQsIGNvcnJlY3Qpew0KICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1aXotb3B0aW9ucyBidXR0b24iKTsNCiAgYnV0dG9ucy5mb3JFYWNoKChiLGkpPT57DQogICAgYi5kaXNhYmxlZCA9IHRydWU7DQogICAgaWYoaSA9PT0gY29ycmVjdCkgYi5jbGFzc0xpc3QuYWRkKCJjb3JyZWN0Iik7DQogIH0pOw0KICBjb25zdCBleCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6RXhwbGFpbiIpOw0KICBpZihleCkgZXguc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQp9Ow0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBDQU5WQVMgRU5HSU5FIChEUFItc2FmZSkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmxldCBhbmltQ2FudmFzPW51bGwsIGFuaW1DdHg9bnVsbCwgcmFmSWQ9bnVsbCwgdDA9MCwgY3VycmVudEFuaW09ImRpZmZ1c2lvblZzVHJhbnNwb3J0IjsNCg0KZnVuY3Rpb24gZml0Q2FudmFzVG9DU1MoY2FudmFzLCBjdHgpew0KICBjb25zdCBkcHIgPSBNYXRoLm1heCgxLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTsNCiAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgY2FudmFzLndpZHRoID0gTWF0aC5mbG9vcihyZWN0LndpZHRoICogZHByKTsNCiAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IocmVjdC5oZWlnaHQgKiBkcHIpOw0KICBjdHguc2V0VHJhbnNmb3JtKGRwciwwLDAsZHByLDAsMCk7DQogIHJldHVybiB7IHc6IHJlY3Qud2lkdGgsIGg6IHJlY3QuaGVpZ2h0IH07DQp9DQoNCmZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHR5cGUpew0KICBjdXJyZW50QW5pbSA9IHR5cGU7DQogIGlmKHJhZklkKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZJZCk7DQogIGFuaW1DYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5pbUNhbnZhcyIpOw0KICBpZighYW5pbUNhbnZhcykgcmV0dXJuOw0KICBhbmltQ3R4ID0gYW5pbUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KICBmaXRDYW52YXNUb0NTUyhhbmltQ2FudmFzLCBhbmltQ3R4KTsNCiAgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsNCg0KICBmdW5jdGlvbiBsb29wKG5vdyl7DQogICAgY29uc3QgdCA9IChub3cgLSB0MCkvMTAwMDsNCiAgICBjb25zdCB7dyxofSA9IGZpdENhbnZhc1RvQ1NTKGFuaW1DYW52YXMsIGFuaW1DdHgpOw0KICAgIGRyYXdTY2VuZShhbmltQ3R4LCB3LCBoLCB0LCBjdXJyZW50QW5pbSk7DQogICAgcmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQogIH0NCiAgcmFmSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQp9DQpmdW5jdGlvbiByZXN0YXJ0QW5pbWF0aW9uKCl7IHNldHVwQW5pbWF0aW9uKGN1cnJlbnRBbmltKTsgfQ0KDQpmdW5jdGlvbiByb3VuZGVkUmVjdChjLHgseSx3LGgscil7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgrcix5KTsNCiAgYy5hcmNUbyh4K3cseSx4K3cseStoLHIpOw0KICBjLmFyY1RvKHgrdyx5K2gseCx5K2gscik7DQogIGMuYXJjVG8oeCx5K2gseCx5LHIpOw0KICBjLmFyY1RvKHgseSx4K3cseSxyKTsNCiAgYy5jbG9zZVBhdGgoKTsNCn0NCmZ1bmN0aW9uIGRvdChjLHgseSxyLGNvbG9yKXsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5maWxsU3R5bGUgPSBjb2xvcjsNCiAgYy5hcmMoeCx5LHIsMCxNYXRoLlBJKjIpOw0KICBjLmZpbGwoKTsNCn0NCmZ1bmN0aW9uIGxpbmUoYyx4MSx5MSx4Mix5Mix3LGNvbG9yKXsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9Y29sb3I7DQogIGMubGluZVdpZHRoPXc7DQogIGMubGluZUNhcD0icm91bmQiOw0KICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyh4MSx5MSk7IGMubGluZVRvKHgyLHkyKTsgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBsYWJlbChjLHgseSx0ZXh0LGFscGhhPTAuOTUpew0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGUgPSBgcmdiYSgxNjUsMTgwLDI1Miwke2FscGhhfSlgOw0KICBjLmZvbnQgPSAiYm9sZCAxMnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFRleHQodGV4dCx4LHkpOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIGRyYXdCZyhjLHcsaCl7DQogIGNvbnN0IGcgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwwLGgpOw0KICBnLmFkZENvbG9yU3RvcCgwLCIjMGIxMjIzIik7DQogIGcuYWRkQ29sb3JTdG9wKDEsIiMwNTA4MTYiKTsNCiAgYy5maWxsU3R5bGUgPSBnOw0KICBjLmZpbGxSZWN0KDAsMCx3LGgpOw0KICBjLmZpbGxTdHlsZSA9ICJyZ2JhKDE0OCwxNjMsMTg0LDAuMTApIjsNCiAgYy5maWxsUmVjdCgwLGgqMC43OCx3LGgqMC4yMik7DQp9DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIEFOSU1BVElPTlMNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmZ1bmN0aW9uIGRyYXdTY2VuZShjLHcsaCx0LHR5cGUpew0KICBjLmNsZWFyUmVjdCgwLDAsdyxoKTsNCiAgZHJhd0JnKGMsdyxoKTsNCg0KICBpZih0eXBlPT09ImRpZmZ1c2lvblZzVHJhbnNwb3J0IikgYW5pbURpZmZ1c2lvblZzVHJhbnNwb3J0KGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0ibnV0cml0aW9uTW9kZXMiKSBhbmltTnV0cml0aW9uTW9kZXMoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJwaG90b3N5bnRoZXNpc1N0b21hdGEiKSBhbmltUGhvdG9zeW50aGVzaXNTdG9tYXRhKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0iaHVtYW5EaWdlc3Rpb24iKSBhbmltSHVtYW5EaWdlc3Rpb24oYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJyZXNwaXJhdGlvbkZsb3ciKSBhbmltUmVzcGlyYXRpb25GbG93KGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0iYWx2ZW9saUV4Y2hhbmdlIikgYW5pbUFsdmVvbGkoYyx3LGgsdCk7DQogIGVsc2UgaWYodHlwZT09PSJkb3VibGVDaXJjdWxhdGlvbiIpIGFuaW1Eb3VibGVDaXJjdWxhdGlvbihjLHcsaCx0KTsNCiAgZWxzZSBpZih0eXBlPT09Inh5bGVtUGhsb2VtIikgYW5pbVh5bGVtUGhsb2VtKGMsdyxoLHQpOw0KICBlbHNlIGlmKHR5cGU9PT0ibmVwaHJvbiIpIGFuaW1OZXBocm9uKGMsdyxoLHQpOw0KICBlbHNlIGxhYmVsKGMsIDE0LCAyMCwgIk5vIGFuaW1hdGlvbiBmb3I6ICIrdHlwZSk7DQp9DQoNCi8qIDEpIERpZmZ1c2lvbiB2cyB0cmFuc3BvcnQgKi8NCmZ1bmN0aW9uIGFuaW1EaWZmdXNpb25Wc1RyYW5zcG9ydChjLHcsaCx0KXsNCiAgbGFiZWwoYywgMTQsIDIyLCAiQmlnIGJvZHkg4oaSIGRpZmZ1c2lvbiB0b28gc2xvdyDihpIgbmVlZCB0cmFuc3BvcnQgc3lzdGVtIik7DQoNCiAgY29uc3QgcGFkPTE0Ow0KICBjb25zdCB0aWxlVz0odyAtIHBhZCozKS8yOw0KICBjb25zdCB0aWxlSD1oKjAuNjQ7DQogIGNvbnN0IHk9aCowLjE2Ow0KDQogIGZ1bmN0aW9uIHRpbGUoaSx0aXRsZSl7DQogICAgY29uc3QgeD1wYWQgKyBpKih0aWxlVytwYWQpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgICByb3VuZGVkUmVjdChjLHgseSx0aWxlVyx0aWxlSCwxNCk7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgbGFiZWwoYywgeCsxMCwgeSsxOCwgdGl0bGUpOw0KICAgIHJldHVybiB4Ow0KICB9DQoNCiAgLy8gTGVmdDogZGlmZnVzaW9uDQogIGNvbnN0IHgxPXRpbGUoMCwiRGlmZnVzaW9uIG9ubHkgKHNsb3cpIik7DQogIGNvbnN0IGN4MT14MSt0aWxlVyowLjIyLCBjeTE9eSt0aWxlSCowLjU1Ow0KICAvLyBzb3VyY2UgKHN1cmZhY2UpDQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMTgpIjsNCiAgcm91bmRlZFJlY3QoYywgeDErMjAsIHkrNDAsIDE4LCB0aWxlSC04MCwgMTApOyBjLmZpbGwoKTsNCiAgYy5yZXN0b3JlKCk7DQogIGxhYmVsKGMsIHgxKzE4LCB5KzM2LCAiU3VyZmFjZSIsIDAuOCk7DQoNCiAgLy8gdGFyZ2V0IGNlbGwgZmFyIGF3YXkNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMzQsMTk3LDk0LDAuNikiOw0KICBjLmxpbmVXaWR0aD0yOw0KICByb3VuZGVkUmVjdChjLCB4MSt0aWxlVyowLjcyLCB5K3RpbGVIKjAuNDUsIDcwLCA1MCwgMTApOyBjLnN0cm9rZSgpOw0KICBsYWJlbChjLCB4MSt0aWxlVyowLjczLCB5K3RpbGVIKjAuNDQsICJDZWxsIiwgMC44NSk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIG94eWdlbiBtb2xlY3VsZXMgc2xvd2x5IGRyaWZ0aW5nDQogIGNvbnN0IG49MjY7DQogIGZvcihsZXQgaT0wO2k8bjtpKyspew0KICAgIGNvbnN0IHA9KCh0KjAuMTAgKyBpKjAuMDcpJTEpOyAvLyBpbnRlbnRpb25hbGx5IHNsb3cNCiAgICBjb25zdCB4eCA9ICh4MSs0NSkgKyBwKih0aWxlVy0xNDApOw0KICAgIGNvbnN0IHl5ID0geSs2MCArIChpJTkpKjIwICsgNipNYXRoLnNpbih0KjAuOCtpKTsNCiAgICBkb3QoYywgeHgsIHl5LCA0LCAicmdiYSgxNDcsMTk3LDI1MywwLjg1KSIpOw0KICB9DQogIGxhYmVsKGMsIHgxKzEwLCB5K3RpbGVILTE0LCAiVG9vIHNsb3cgZm9yIGxhcmdlIGRpc3RhbmNlcyIsIDAuODUpOw0KDQogIC8vIFJpZ2h0OiB0cmFuc3BvcnQgc3lzdGVtDQogIGNvbnN0IHgyPXRpbGUoMSwiVHJhbnNwb3J0IHN5c3RlbSAoZmFzdCkiKTsNCiAgLy8gdmVzc2VsIG5ldHdvcmsNCiAgY29uc3Qgdng9eDIrdGlsZVcqMC4xNCwgdnk9eSt0aWxlSCowLjU1Ow0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMzksNjgsNjgsMC4zNSkiOw0KICBjLmxpbmVXaWR0aD02Ow0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4Mis0MCwgdnkpOw0KICBjLmJlemllckN1cnZlVG8oeDIrMTIwLCB2eS05MCwgeDIrMjIwLCB2eSs5MCwgeDIrMzIwLCB2eSk7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KICAvLyBicmFuY2hpbmcNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjM5LDY4LDY4LDAuMjUpIjsNCiAgYy5saW5lV2lkdGg9NDsNCiAgZm9yKGxldCBrPTA7azw1O2srKyl7DQogICAgY29uc3QgcHg9eDIrMTEwK2sqNTA7DQogICAgbGluZShjLCBweCwgdnktMTAsIHB4KzMwLCB2eS01NSwgNCwgInJnYmEoMjM5LDY4LDY4LDAuMjUpIik7DQogICAgbGluZShjLCBweCwgdnkrMTAsIHB4KzMwLCB2eSs1NSwgNCwgInJnYmEoMjM5LDY4LDY4LDAuMjUpIik7DQogIH0NCiAgYy5yZXN0b3JlKCk7DQoNCiAgLy8gbW92aW5nICJwYWNrZXQiIChibG9vZCBjYXJyeWluZyBveHlnZW4pDQogIGNvbnN0IHA9ICh0KjAuNikgJSAxOw0KICBjb25zdCB4U3RhcnQ9eDIrNDAsIHhFbmQ9eDIrdGlsZVctNjA7DQogIGNvbnN0IHB4ID0geFN0YXJ0ICsgcCooeEVuZC14U3RhcnQpOw0KICBjb25zdCBweSA9IHZ5ICsgMzUqTWF0aC5zaW4ocCpNYXRoLlBJKjIpOw0KICBkb3QoYywgcHgsIHB5LCAxMCwgInJnYmEoMjM5LDY4LDY4LDAuODUpIik7DQogIGRvdChjLCBweCszLCBweS0zLCAzLCAicmdiYSgxNDcsMTk3LDI1MywwLjk1KSIpOw0KICBsYWJlbChjLCB4MisxMCwgeSt0aWxlSC0xNCwgIkJsb29kIGRlbGl2ZXJzIE8yIHF1aWNrbHkiLCAwLjg1KTsNCn0NCg0KLyogMikgTnV0cml0aW9uIG1vZGVzICovDQpmdW5jdGlvbiBhbmltTnV0cml0aW9uTW9kZXMoYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIkF1dG90cm9waGljIHZzIEhldGVyb3Ryb3BoaWMgbnV0cml0aW9uIik7DQoNCiAgY29uc3QgcGFkPTE0Ow0KICBjb25zdCB0aWxlVz0odyAtIHBhZCozKS8yOw0KICBjb25zdCB0aWxlSD1oKjAuNjQ7DQogIGNvbnN0IHk9aCowLjE2Ow0KDQogIGZ1bmN0aW9uIHRpbGUoaSx0aXRsZSl7DQogICAgY29uc3QgeD1wYWQgKyBpKih0aWxlVytwYWQpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgICByb3VuZGVkUmVjdChjLHgseSx0aWxlVyx0aWxlSCwxNCk7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgbGFiZWwoYywgeCsxMCwgeSsxOCwgdGl0bGUpOw0KICAgIHJldHVybiB4Ow0KICB9DQoNCiAgLy8gQXV0b3Ryb3BoDQogIGNvbnN0IHgxPXRpbGUoMCwiQXV0b3Ryb3BoIChwbGFudCBtYWtlcyBmb29kKSIpOw0KICAvLyBzdW4NCiAgY29uc3QgcyA9IDAuNSswLjUqTWF0aC5zaW4odCoxLjYpOw0KICBkb3QoYywgeDErNzAsIHkrNzAsIDIyLCBgcmdiYSgyNTAsMjA0LDIxLCR7MC42NSswLjI1KnN9KWApOw0KICBmb3IobGV0IGk9MDtpPDg7aSsrKXsNCiAgICBjb25zdCBhPWkqKE1hdGguUEkqMi84KTsNCiAgICBsaW5lKGMsIHgxKzcwLCB5KzcwLCB4MSs3MCtNYXRoLmNvcyhhKSozOCwgeSs3MCtNYXRoLnNpbihhKSozOCwgMiwgYHJnYmEoMjUwLDIwNCwyMSwkezAuMjUrMC4yNSpzfSlgKTsNCiAgfQ0KICAvLyBwbGFudA0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC45KSI7DQogIGMubGluZVdpZHRoPTY7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgxKzE2MCwgeSt0aWxlSC00MCk7DQogIGMubGluZVRvKHgxKzE2MCwgeSsxNDApOw0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMzQsMTk3LDk0LDAuMzUpIjsNCiAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKHgxKzEzMCx5KzE1MCw0MCwyMiwtMC41LDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZSh4MSsxOTAseSsxNTAsNDAsMjIsMC41LDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQoNCiAgLy8gQ08yIGluIChncmV5KSwgTzIgb3V0IChibHVlKQ0KICBjb25zdCBwPSh0KjAuOCklMTsNCiAgZG90KGMsIHgxKzEwMCArIHAqNTAsIHkrMTcwICsgMTAqTWF0aC5zaW4odCoyKSwgNCwgInJnYmEoMTQ4LDE2MywxODQsMC44KSIpOw0KICBkb3QoYywgeDErMjMwIC0gcCo1MCwgeSsxNzAgKyAxMCpNYXRoLnNpbih0KjIrMSksIDQsICJyZ2JhKDE0NywxOTcsMjUzLDAuODUpIik7DQogIGxhYmVsKGMsIHgxKzIwLCB5K3RpbGVILTE0LCAiQ08yICsgSDJPICsgbGlnaHQg4oaSIGdsdWNvc2UgKyBPMiIsIDAuODUpOw0KDQogIC8vIEhldGVyb3Ryb3BoDQogIGNvbnN0IHgyPXRpbGUoMSwiSGV0ZXJvdHJvcGggKGRlcGVuZHMgb24gb3RoZXJzKSIpOw0KICAvLyBzaW1wbGUgYW5pbWFsIG1vdXRoICsgZm9vZA0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjM1KSI7DQogIGMubGluZVdpZHRoPTQ7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMuYXJjKHgyKzE4MCwgeSsyMDAsIDQwLCBNYXRoLlBJKjAuMTAsIE1hdGguUEkqMC45MCk7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KICAvLyBmb29kIHBlbGxldCBtb3ZpbmcgaW4NCiAgY29uc3QgcT0odCowLjkpJTE7DQogIGRvdChjLCB4Mis4MCArIHEqNzAsIHkrMjAwLCA4LCAicmdiYSgyNDUsMTU4LDExLDAuOSkiKTsNCiAgbGFiZWwoYywgeDIrMjAsIHkrdGlsZUgtMTQsICJJbmdlc3Rpb24g4oaSIGRpZ2VzdGlvbiDihpIgYWJzb3JwdGlvbiIsIDAuODUpOw0KfQ0KDQovKiAzKSBQaG90b3N5bnRoZXNpcyArIHN0b21hdGEgKi8NCmZ1bmN0aW9uIGFuaW1QaG90b3N5bnRoZXNpc1N0b21hdGEoYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIlBob3Rvc3ludGhlc2lzICsgU3RvbWF0YSAoZ3VhcmQgY2VsbHMpIik7DQoNCiAgY29uc3QgcGFkPTE0Ow0KICBjb25zdCB0aWxlVz0odyAtIHBhZCozKS8yOw0KICBjb25zdCB0aWxlSD1oKjAuNjQ7DQogIGNvbnN0IHk9aCowLjE2Ow0KDQogIGZ1bmN0aW9uIHRpbGUoaSx0aXRsZSl7DQogICAgY29uc3QgeD1wYWQgKyBpKih0aWxlVytwYWQpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgICByb3VuZGVkUmVjdChjLHgseSx0aWxlVyx0aWxlSCwxNCk7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgbGFiZWwoYywgeCsxMCwgeSsxOCwgdGl0bGUpOw0KICAgIHJldHVybiB4Ow0KICB9DQoNCiAgLy8gUGhvdG9zeW50aGVzaXMgZGlhZ3JhbQ0KICBjb25zdCB4MT10aWxlKDAsIlBob3Rvc3ludGhlc2lzIChzaW1wbGlmaWVkKSIpOw0KICAvLyBsZWFmDQogIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjE4KSI7DQogIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZSh4MSsyMDAsIHkrMTkwLCAxMjAsIDcwLCAtMC4xNSwgMCwgTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMzQsMTk3LDk0LDAuNTUpIjsNCiAgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCg0KICAvLyBzdW5saWdodCBhcnJvdw0KICBjb25zdCBzPTAuNSswLjUqTWF0aC5zaW4odCoxLjUpOw0KICBkb3QoYywgeDErOTAsIHkrNzAsIDE4LCBgcmdiYSgyNTAsMjA0LDIxLCR7MC42NSswLjI1KnN9KWApOw0KICBsaW5lKGMsIHgxKzkwLCB5KzkwLCB4MSsxNTAsIHkrMTQwLCA0LCAicmdiYSgyNTAsMjA0LDIxLDAuNTUpIik7DQogIGxhYmVsKGMsIHgxKzIwLCB5KzExMCwgIkxpZ2h0IiwgMC44NSk7DQoNCiAgLy8gQ08yIGluLCBPMiBvdXQNCiAgY29uc3QgcD0odCowLjkpJTE7DQogIGRvdChjLCB4MSs3MCArIHAqMTEwLCB5KzIxMCwgNCwgInJnYmEoMTQ4LDE2MywxODQsMC44NSkiKTsNCiAgbGluZShjLCB4MSs3MCArIHAqMTEwLCB5KzIxMCwgeDErMTY1LCB5KzIxMCwgMiwgInJnYmEoMTQ4LDE2MywxODQsMC4yNSkiKTsNCiAgZG90KGMsIHgxKzMzMCAtIHAqMTEwLCB5KzIzNSwgNCwgInJnYmEoMTQ3LDE5NywyNTMsMC45MCkiKTsNCiAgbGluZShjLCB4MSszMzAgLSBwKjExMCwgeSsyMzUsIHgxKzIzNSwgeSsyMzUsIDIsICJyZ2JhKDE0NywxOTcsMjUzLDAuMjUpIik7DQogIGxhYmVsKGMsIHgxKzIwLCB5K3RpbGVILTE0LCAiQ08yIGVudGVyczsgTzIgZXhpdHM7IGdsdWNvc2Ugc3RvcmVkIGFzIHN0YXJjaCIsIDAuODUpOw0KDQogIC8vIFN0b21hdGEgb3Blbi9jbG9zZQ0KICBjb25zdCB4Mj10aWxlKDEsIlN0b21hdGEgKGd1YXJkIGNlbGxzKSIpOw0KICBjb25zdCBjeD14Mit0aWxlVyowLjUyLCBjeT15K3RpbGVIKjAuNTI7DQogIGNvbnN0IG9wZW4gPSAwLjIgKyAwLjgqKDAuNSswLjUqTWF0aC5zaW4odCoxLjIpKTsgLy8gMC4yLi4xDQogIC8vIGd1YXJkIGNlbGxzDQogIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjI1KSI7DQogIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShjeC0zNSwgY3ksIDM4LCA1OCwgLTAuMTUsIDAsIE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoY3grMzUsIGN5LCAzOCwgNTgsIDAuMTUsIDAsIE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjYpIjsgYy5saW5lV2lkdGg9MjsNCiAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGN4LTM1LCBjeSwgMzgsIDU4LCAtMC4xNSwgMCwgTWF0aC5QSSoyKTsgYy5zdHJva2UoKTsNCiAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGN4KzM1LCBjeSwgMzgsIDU4LCAwLjE1LCAwLCBNYXRoLlBJKjIpOyBjLnN0cm9rZSgpOw0KICAvLyBwb3JlDQogIGMuZmlsbFN0eWxlPSJyZ2JhKDIsNiwyMywwLjg1KSI7DQogIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShjeCwgY3ksIDEwKzEwKm9wZW4sIDQ1LCAwLCAwLCBNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCg0KICAvLyBDTzIgYXJyb3dzIHRocm91Z2ggcG9yZQ0KICBmb3IobGV0IGk9MDtpPDY7aSsrKXsNCiAgICBjb25zdCBwPSgodCowLjYraSowLjE1KSUxKTsNCiAgICBjb25zdCB4eCA9IGN4IC0gODAgKyBwKjExMDsNCiAgICBjb25zdCB5eSA9IGN5IC0gMzUgKyAoaSUzKSozNTsNCiAgICBkb3QoYywgeHgsIHl5LCAzLCAicmdiYSgxNDgsMTYzLDE4NCwwLjg1KSIpOw0KICAgIGxpbmUoYywgeHgsIHl5LCB4eCsxNiwgeXksIDIsICJyZ2JhKDE0OCwxNjMsMTg0LDAuMjUpIik7DQogIH0NCiAgbGFiZWwoYywgeDIrMjAsIHkrdGlsZUgtMTQsIG9wZW4+MC42ID8gIlN0b21hdGEgb3BlbiAoZ3VhcmQgY2VsbHMgc3dvbGxlbikiIDogIlN0b21hdGEgY2xvc2VkIChndWFyZCBjZWxscyBzaHJpbmspIiwgMC44NSk7DQp9DQoNCi8qIDQpIEh1bWFuIGRpZ2VzdGlvbiAoYm9sdXMgKyBwZXJpc3RhbHNpcyArIHZpbGxpKSAqLw0KZnVuY3Rpb24gYW5pbUh1bWFuRGlnZXN0aW9uKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJEaWdlc3RpdmUgdHJhY3Q6IHBlcmlzdGFsc2lzIG1vdmVzIGZvb2Q7IHZpbGxpIGFic29yYiIpOw0KDQogIGNvbnN0IHg9dyowLjA4LCB5PWgqMC4xNiwgYnc9dyowLjg0LCBiaD1oKjAuNjY7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA3KSI7DQogIHJvdW5kZWRSZWN0KGMseCx5LGJ3LGJoLDE2KTsgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCg0KICAvLyBzaW1wbGlmaWVkIHBhdGggYXMgYSB0dWJlDQogIGNvbnN0IHBhdGggPSBbDQogICAgW3grODAsIHkrODBdLCAgICAvLyBtb3V0aA0KICAgIFt4KzE4MCwgeSsxMjBdLCAgLy8gb2Vzb3BoYWd1cw0KICAgIFt4KzIzMCwgeSsyMDBdLCAgLy8gc3RvbWFjaA0KICAgIFt4KzMzMCwgeSsyMjBdLCAgLy8gZHVvZGVudW0NCiAgICBbeCs0NTAsIHkrMTgwXSwgIC8vIHNtYWxsIGludGVzdGluZSBjb2lsIHN0YXJ0DQogICAgW3grNTIwLCB5KzI0MF0sDQogICAgW3grNjEwLCB5KzIwMF0sDQogICAgW3grNjkwLCB5KzI1MF0sICAvLyB0byBsYXJnZSBpbnRlc3RpbmUNCiAgICBbeCs3NDAsIHkrMzAwXQ0KICBdOw0KICAvLyB0dWJlDQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsNCiAgYy5saW5lV2lkdGg9MTg7DQogIGMubGluZUNhcD0icm91bmQiOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyhwYXRoWzBdWzBdLCBwYXRoWzBdWzFdKTsNCiAgZm9yKGxldCBpPTE7aTxwYXRoLmxlbmd0aDtpKyspIGMubGluZVRvKHBhdGhbaV1bMF0sIHBhdGhbaV1bMV0pOw0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCg0KICAvLyBsYWJlbHMNCiAgbGFiZWwoYywgcGF0aFswXVswXS0zMCwgcGF0aFswXVsxXS0yMCwgIk1vdXRoIiwgMC44NSk7DQogIGxhYmVsKGMsIHBhdGhbMl1bMF0tMzAsIHBhdGhbMl1bMV0tMzAsICJTdG9tYWNoIiwgMC44NSk7DQogIGxhYmVsKGMsIHBhdGhbNV1bMF0tNjAsIHBhdGhbNV1bMV0tMzUsICJTbWFsbCBpbnRlc3RpbmUiLCAwLjg1KTsNCiAgbGFiZWwoYywgcGF0aFs4XVswXS01NSwgcGF0aFs4XVsxXSsyNSwgIkFudXMiLCAwLjg1KTsNCg0KICAvLyBwZXJpc3RhbHNpcyByaW5ncw0KICBjb25zdCB3YXZlID0gKHQqMS4xKSUxOw0KICBmb3IobGV0IGk9MDtpPDc7aSsrKXsNCiAgICBjb25zdCBwPSh3YXZlICsgaSowLjEyKSUxOw0KICAgIGNvbnN0IGlkeD1NYXRoLmZsb29yKHAqKHBhdGgubGVuZ3RoLTEpKTsNCiAgICBjb25zdCBhPXBhdGhbaWR4XSwgYj1wYXRoW2lkeCsxXTsNCiAgICBjb25zdCBxID0gKHAqKHBhdGgubGVuZ3RoLTEpKSAtIGlkeDsNCiAgICBjb25zdCB4eD1hWzBdICsgcSooYlswXS1hWzBdKTsNCiAgICBjb25zdCB5eT1hWzFdICsgcSooYlsxXS1hWzFdKTsNCiAgICBjLnNhdmUoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4yMikiOw0KICAgIGMubGluZVdpZHRoPTM7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLmFyYyh4eCx5eSwgMTIrNipNYXRoLnNpbih0KjIraSksIDAsIE1hdGguUEkqMik7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgfQ0KDQogIC8vIGJvbHVzIG1vdmluZw0KICBjb25zdCBwPSh0KjAuMjUpJTE7DQogIGNvbnN0IHNlZz1NYXRoLmZsb29yKHAqKHBhdGgubGVuZ3RoLTEpKTsNCiAgY29uc3QgYT1wYXRoW3NlZ10sIGI9cGF0aFtzZWcrMV07DQogIGNvbnN0IHE9KHAqKHBhdGgubGVuZ3RoLTEpKS1zZWc7DQogIGNvbnN0IGJ4PWFbMF0rcSooYlswXS1hWzBdKTsNCiAgY29uc3QgYnk9YVsxXStxKihiWzFdLWFbMV0pOw0KICBkb3QoYyxieCxieSw4LCJyZ2JhKDI0NSwxNTgsMTEsMC45NSkiKTsNCg0KICAvLyB2aWxsaSBwYXRjaA0KICBjb25zdCB2eD14K2J3KjAuNTUsIHZ5PXkrYmgqMC41MDsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4xMCkiOw0KICByb3VuZGVkUmVjdChjLCB2eC05NSwgdnktNjAsIDE5MCwgMTIwLCAxMik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4yNSkiOw0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCiAgbGFiZWwoYywgdngtODAsIHZ5LTQ0LCAiVmlsbGkg4oaRIHN1cmZhY2UgYXJlYSIsIDAuOSk7DQogIGZvcihsZXQgaT0wO2k8MTg7aSsrKXsNCiAgICBjb25zdCB4eD12eC04MCsoaSU2KSoyODsNCiAgICBjb25zdCB5eT12eS0yMCtNYXRoLmZsb29yKGkvNikqMzA7DQogICAgbGluZShjLCB4eCwgeXkrMjAsIHh4LCB5eS0xMCwgMywgInJnYmEoMTYsMTg1LDEyOSwwLjU1KSIpOw0KICAgIGRvdChjLCB4eCwgeXktMTIsIDQsICJyZ2JhKDE2LDE4NSwxMjksMC44KSIpOw0KICB9DQp9DQoNCi8qIDUpIFJlc3BpcmF0aW9uIHBhdGh3YXlzIGZsb3cgKi8NCmZ1bmN0aW9uIGFuaW1SZXNwaXJhdGlvbkZsb3coYyx3LGgsdCl7DQogIGxhYmVsKGMsIDE0LCAyMiwgIkdsdWNvc2Ug4oaSIHB5cnV2YXRlIOKGkiAoYWVyb2JpYykgQ08yK0gyTyBvciAoYW5hZXJvYmljKSBldGhhbm9sL2xhY3RpYyBhY2lkIik7DQoNCiAgY29uc3QgeD13KjAuMDgsIHk9aCowLjE2LCBidz13KjAuODQsIGJoPWgqMC42NjsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgcm91bmRlZFJlY3QoYyx4LHksYncsYmgsMTYpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIG5vZGVzDQogIGNvbnN0IEc9W3grMTMwLHkrMTMwXSwgUD1beCszMjAseSsxMzBdOw0KICBjb25zdCBBPVt4KzUyMCx5KzgwXSwgTj1beCs1MjAseSsyMDBdOw0KICBjb25zdCBNPVt4KzcwMCx5KzgwXSwgRT1beCs3MDAseSsyMDBdOw0KDQogIGZ1bmN0aW9uIG5vZGUocG9zLCB0eHQsIGNvbG9yKXsNCiAgICBkb3QoYyxwb3NbMF0scG9zWzFdLDE2LGNvbG9yKTsNCiAgICBsYWJlbChjLHBvc1swXS0zMixwb3NbMV0tMjIsdHh0LDAuOSk7DQogIH0NCiAgbm9kZShHLCJHbHVjb3NlIiwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogIG5vZGUoUCwiUHlydXZhdGUiLCJyZ2JhKDU5LDEzMCwyNDYsMC44NSkiKTsNCiAgbm9kZShBLCJPMiBwcmVzZW50IiwicmdiYSgxNiwxODUsMTI5LDAuOCkiKTsNCiAgbm9kZShOLCJOby9sb3cgTzIiLCJyZ2JhKDIzOSw2OCw2OCwwLjgpIik7DQogIG5vZGUoTSwiQ08yICsgSDJPIiwicmdiYSgxNiwxODUsMTI5LDAuNzUpIik7DQogIG5vZGUoRSwiRXRoYW5vbC8gTGFjdGljIGFjaWQiLCJyZ2JhKDIzOSw2OCw2OCwwLjc1KSIpOw0KDQogIC8vIGFycm93cw0KICBsaW5lKGMsR1swXSsxNixHWzFdLFBbMF0tMTYsUFsxXSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIik7DQogIGxpbmUoYyxQWzBdKzE2LFBbMV0tMTAsQVswXS0xNixBWzFdKzEwLDMsInJnYmEoMjI2LDIzMiwyNDAsMC4zMCkiKTsNCiAgbGluZShjLFBbMF0rMTYsUFsxXSsxMCxOWzBdLTE2LE5bMV0tMTAsMywicmdiYSgyMjYsMjMyLDI0MCwwLjMwKSIpOw0KICBsaW5lKGMsQVswXSsxNixBWzFdLE1bMF0tMTYsTVsxXSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMzApIik7DQogIGxpbmUoYyxOWzBdKzE2LE5bMV0sRVswXS0xNixFWzFdLDMsInJnYmEoMjI2LDIzMiwyNDAsMC4zMCkiKTsNCg0KICAvLyBtb3ZpbmcgcGFydGljbGUgYWxvbmcgcGF0aHMNCiAgY29uc3QgcGhhc2U9KHQqMC4zNSklMTsgLy8gMC4uMQ0KICAvLyAwLi4wLjM1IGdsdWNvc2UtPnB5cnV2YXRlLCB0aGVuIHNwbGl0IGNob2ljZSB0b2dnbGVzDQogIGNvbnN0IGNob2ljZSA9IChNYXRoLnNpbih0KjAuOCkgPiAwKSA/ICJhZXJvYmljIiA6ICJhbmFlcm9iaWMiOw0KICBjb25zdCBzID0gcGhhc2U7DQoNCiAgZnVuY3Rpb24gbGVycChhLGIsayl7IHJldHVybiBbYVswXSsoYlswXS1hWzBdKSprLCBhWzFdKyhiWzFdLWFbMV0pKmtdOyB9DQogIGxldCBwb3M7DQogIGlmKHMgPCAwLjM1KXsNCiAgICBwb3MgPSBsZXJwKEcsUCxzLzAuMzUpOw0KICB9IGVsc2UgaWYoY2hvaWNlPT09ImFlcm9iaWMiKXsNCiAgICBpZihzIDwgMC42NSkgcG9zID0gbGVycChQLEEsKHMtMC4zNSkvMC4zMCk7DQogICAgZWxzZSBwb3MgPSBsZXJwKEEsTSwocy0wLjY1KS8wLjM1KTsNCiAgfSBlbHNlIHsNCiAgICBpZihzIDwgMC42NSkgcG9zID0gbGVycChQLE4sKHMtMC4zNSkvMC4zMCk7DQogICAgZWxzZSBwb3MgPSBsZXJwKE4sRSwocy0wLjY1KS8wLjM1KTsNCiAgfQ0KICBkb3QoYyxwb3NbMF0scG9zWzFdLDcsInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIpOw0KICBsYWJlbChjLCB4KzIwLCB5K2JoLTE0LCAiQVRQIGlzIG1hZGUgYW5kIHVzZWQgYXMgZW5lcmd5IGN1cnJlbmN5IChleGFtIGlkZWEpLiIsIDAuODUpOw0KfQ0KDQovKiA2KSBBbHZlb2xpIGdhcyBleGNoYW5nZSArIGRpYXBocmFnbSBtb3Rpb24gKi8NCmZ1bmN0aW9uIGFuaW1BbHZlb2xpKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJCcmVhdGhpbmc6IGFpciBpbi9vdXQ7IEFsdmVvbGk6IGdhcyBleGNoYW5nZSB3aXRoIGJsb29kIik7DQoNCiAgY29uc3QgcGFkPTE0Ow0KICBjb25zdCB0aWxlVz0odyAtIHBhZCozKS8yOw0KICBjb25zdCB0aWxlSD1oKjAuNjQ7DQogIGNvbnN0IHk9aCowLjE2Ow0KDQogIGZ1bmN0aW9uIHRpbGUoaSx0aXRsZSl7DQogICAgY29uc3QgeD1wYWQgKyBpKih0aWxlVytwYWQpOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgICByb3VuZGVkUmVjdChjLHgseSx0aWxlVyx0aWxlSCwxNCk7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgbGFiZWwoYywgeCsxMCwgeSsxOCwgdGl0bGUpOw0KICAgIHJldHVybiB4Ow0KICB9DQoNCiAgLy8gTHVuZ3MgKyBkaWFwaHJhZ20NCiAgY29uc3QgeDE9dGlsZSgwLCJMdW5ncyArIGRpYXBocmFnbSAoaW5oYWxhdGlvbi9leGhhbGF0aW9uKSIpOw0KICBjb25zdCBjeD14MSt0aWxlVyowLjUsIGN5PXkrdGlsZUgqMC41NTsNCiAgY29uc3QgYnJlYXRoPTAuNSswLjUqTWF0aC5zaW4odCoxLjYpOyAvLyBleHBhbmQvY29udHJhY3QNCg0KICAvLyBsdW5ncw0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjEwKSI7DQogIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShjeC02MCxjeSwgNTUrOCpicmVhdGgsIDgwKzEwKmJyZWF0aCwgMCwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoY3grNjAsY3ksIDU1KzgqYnJlYXRoLCA4MCsxMCpicmVhdGgsIDAsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgxNDcsMTk3LDI1MywwLjM1KSI7DQogIGMubGluZVdpZHRoPTI7DQogIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShjeC02MCxjeSwgNTUrOCpicmVhdGgsIDgwKzEwKmJyZWF0aCwgMCwwLE1hdGguUEkqMik7IGMuc3Ryb2tlKCk7DQogIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShjeCs2MCxjeSwgNTUrOCpicmVhdGgsIDgwKzEwKmJyZWF0aCwgMCwwLE1hdGguUEkqMik7IGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIHRyYWNoZWENCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4zNSkiOw0KICBjLmxpbmVXaWR0aD02Ow0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyhjeCwgeSs2MCk7DQogIGMubGluZVRvKGN4LCBjeS01NSk7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIGRpYXBocmFnbQ0KICBjb25zdCBkeSA9IHkrdGlsZUgqMC44NCArIDE4KigwLjUtYnJlYXRoKTsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjQ1KSI7DQogIGMubGluZVdpZHRoPTU7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKGN4LTE0MCwgZHkpOw0KICBjLnF1YWRyYXRpY0N1cnZlVG8oY3gsIGR5ICsgMjgqKGJyZWF0aC0wLjUpLCBjeCsxNDAsIGR5KTsNCiAgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQogIGxhYmVsKGMsIHgxKzEwLCB5K3RpbGVILTE0LCBicmVhdGg+MC41ID8gIkluaGFsYXRpb246IGNoZXN0IGV4cGFuZHMiIDogIkV4aGFsYXRpb246IGNoZXN0IGNvbnRyYWN0cyIsIDAuODUpOw0KDQogIC8vIEFsdmVvbGkgZXhjaGFuZ2UNCiAgY29uc3QgeDI9dGlsZSgxLCJBbHZlb2xpIChPMiBpbnRvIGJsb29kLCBDTzIgb3V0KSIpOw0KICBjb25zdCBheD14Mit0aWxlVyowLjQ1LCBheT15K3RpbGVIKjAuNTU7DQogIC8vIGFsdmVvbGkgY2x1c3Rlcg0KICBmb3IobGV0IGk9MDtpPDE0O2krKyl7DQogICAgY29uc3QgYT1pKihNYXRoLlBJKjIvMTQpOw0KICAgIGRvdChjLCBheCtNYXRoLmNvcyhhKSo1NSwgYXkrTWF0aC5zaW4oYSkqNDAsIDE2LCAicmdiYSg1OSwxMzAsMjQ2LDAuMTApIik7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgxNDcsMTk3LDI1MywwLjI4KSI7DQogICAgYy5saW5lV2lkdGg9MjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMuYXJjKGF4K01hdGguY29zKGEpKjU1LCBheStNYXRoLnNpbihhKSo0MCwgMTYsIDAsIE1hdGguUEkqMik7DQogICAgYy5zdHJva2UoKTsNCiAgfQ0KICBkb3QoYywgYXgsIGF5LCAxOCwgInJnYmEoNTksMTMwLDI0NiwwLjEyKSIpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE0NywxOTcsMjUzLDAuMjgpIjsNCiAgYy5iZWdpblBhdGgoKTsgYy5hcmMoYXgsYXksMTgsMCxNYXRoLlBJKjIpOyBjLnN0cm9rZSgpOw0KDQogIC8vIGNhcGlsbGFyeSBsaW5lDQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIzOSw2OCw2OCwwLjM1KSI7DQogIGMubGluZVdpZHRoPTg7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgyK3RpbGVXKjAuMTUsIGF5KzcwKTsNCiAgYy5iZXppZXJDdXJ2ZVRvKHgyK3RpbGVXKjAuMzAsIGF5KzEwLCB4Mit0aWxlVyowLjU1LCBheSsxMzAsIHgyK3RpbGVXKjAuODAsIGF5KzcwKTsNCiAgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQoNCiAgLy8gTzIgZG90cyBtb3ZlIGludG8gYmxvb2Q7IENPMiBkb3RzIG1vdmUgb3V0DQogIGZvcihsZXQgaT0wO2k8MTA7aSsrKXsNCiAgICBjb25zdCBwPSgodCowLjYraSowLjExKSUxKTsNCiAgICAvLyBveHlnZW4gKGJsdWUpIHRvd2FyZHMgY2FwaWxsYXJ5DQogICAgZG90KGMsIGF4LTMwICsgcCo3MCwgYXktMjAgKyA4Kk1hdGguc2luKHQqMitpKSwgMywgInJnYmEoMTQ3LDE5NywyNTMsMC45KSIpOw0KICAgIC8vIENPMiAoZ3JleSkgdG93YXJkcyBhbHZlb2xpDQogICAgZG90KGMsIGF4KzEyMCAtIHAqNzAsIGF5KzUwICsgOCpNYXRoLnNpbih0KjIraSsxKSwgMywgInJnYmEoMTQ4LDE2MywxODQsMC44NSkiKTsNCiAgfQ0KICBsYWJlbChjLCB4MisxMCwgeSt0aWxlSC0xNCwgIlRoaW4gd2FsbHMgKyBiaWcgYXJlYSA9IGZhc3QgZGlmZnVzaW9uIiwgMC44NSk7DQp9DQoNCi8qIDcpIERvdWJsZSBjaXJjdWxhdGlvbiAodHdvIGxvb3BzKSAqLw0KZnVuY3Rpb24gYW5pbURvdWJsZUNpcmN1bGF0aW9uKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJEb3VibGUgY2lyY3VsYXRpb246IHB1bG1vbmFyeSAoaGVhcnTihpRsdW5ncykgKyBzeXN0ZW1pYyAoaGVhcnTihpRib2R5KSIpOw0KDQogIGNvbnN0IHg9dyowLjA4LCB5PWgqMC4xNiwgYnc9dyowLjg0LCBiaD1oKjAuNjY7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA3KSI7DQogIHJvdW5kZWRSZWN0KGMseCx5LGJ3LGJoLDE2KTsgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCg0KICBjb25zdCBjeD14K2J3KjAuNTAsIGN5PXkrYmgqMC41NTsNCg0KICAvLyBIZWFydCAoc2ltcGxlKQ0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMjM5LDY4LDY4LDAuMTgpIjsNCiAgcm91bmRlZFJlY3QoYywgY3gtNTUsIGN5LTYwLCAxMTAsIDEyMCwgMTgpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMzksNjgsNjgsMC4zNSkiOw0KICBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCiAgbGFiZWwoYywgY3gtMTgsIGN5LTcwLCAiSGVhcnQiLCAwLjkpOw0KDQogIC8vIEx1bmdzIGFuZCBib2R5IHRhcmdldHMNCiAgY29uc3QgbHg9eCtidyowLjI1LCBseT15K2JoKjAuMzA7DQogIGNvbnN0IGJ4PXgrYncqMC43NSwgYnk9eStiaCowLjMwOw0KDQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMTApIjsNCiAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGx4LGx5LDU1LDQwLDAsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgxNDcsMTk3LDI1MywwLjI4KSI7DQogIGMuc3Ryb2tlKCk7DQogIGxhYmVsKGMsIGx4LTIyLCBseS01MCwgIkx1bmdzIiwgMC45KTsNCiAgYy5yZXN0b3JlKCk7DQoNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4xMCkiOw0KICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoYngsYnksNTUsNDAsMCwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4yOCkiOw0KICBjLnN0cm9rZSgpOw0KICBsYWJlbChjLCBieC0yMiwgYnktNTAsICJCb2R5IiwgMC45KTsNCiAgYy5yZXN0b3JlKCk7DQoNCiAgLy8gTG9vcHM6IGhlYXJ0LT5sdW5ncy0+aGVhcnQgKGJsdWUpIGFuZCBoZWFydC0+Ym9keS0+aGVhcnQgKHJlZCkNCiAgLy8gcHVsbW9uYXJ5IGxvb3ANCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjM1KSI7DQogIGMubGluZVdpZHRoPTEwOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyhjeC00MCwgY3ktMjUpOw0KICBjLmJlemllckN1cnZlVG8oY3gtMTYwLCBjeS0xMjAsIGx4KzcwLCBseSs5MCwgbHgsIGx5KzIwKTsNCiAgYy5zdHJva2UoKTsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5tb3ZlVG8obHgsIGx5KzIwKTsNCiAgYy5iZXppZXJDdXJ2ZVRvKGx4KzgwLCBseSsxNDAsIGN4LTE0MCwgY3krODAsIGN4LTEwLCBjeSsyNSk7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIHN5c3RlbWljIGxvb3ANCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjM5LDY4LDY4LDAuMzUpIjsNCiAgYy5saW5lV2lkdGg9MTA7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKGN4KzQwLCBjeS0yNSk7DQogIGMuYmV6aWVyQ3VydmVUbyhjeCsxNjAsIGN5LTEyMCwgYngtNzAsIGJ5KzkwLCBieCwgYnkrMjApOw0KICBjLnN0cm9rZSgpOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyhieCwgYnkrMjApOw0KICBjLmJlemllckN1cnZlVG8oYngtODAsIGJ5KzE0MCwgY3grMTQwLCBjeSs4MCwgY3grMTAsIGN5KzI1KTsNCiAgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQoNCiAgLy8gbW92aW5nIHBhY2tldHMNCiAgY29uc3QgcD0odCowLjM1KSUxOw0KICAvLyBhbG9uZyBwdWxtb25hcnkgKGFwcHJveCkNCiAgZG90KGMsIGN4LTQwIC0gcCoxMjAsIGN5LTI1IC0gNjAqTWF0aC5zaW4ocCpNYXRoLlBJKSwgNywgInJnYmEoMTQ3LDE5NywyNTMsMC45KSIpOw0KICAvLyBhbG9uZyBzeXN0ZW1pYw0KICBkb3QoYywgY3grNDAgKyBwKjEyMCwgY3ktMjUgLSA2MCpNYXRoLnNpbihwKk1hdGguUEkpLCA3LCAicmdiYSgyMzksNjgsNjgsMC45KSIpOw0KDQogIGxhYmVsKGMsIHgrMjAsIHkrYmgtMTQsICJQdWxtb25hcnk6IGRlb3h5Z2VuYXRlZCDihpIgbHVuZ3Mg4oaSIG94eWdlbmF0ZWQg4oaSIGhlYXJ0OyBTeXN0ZW1pYzogaGVhcnQg4oaSIGJvZHkg4oaSIGhlYXJ0LiIsIDAuODUpOw0KfQ0KDQovKiA4KSBYeWxlbSArIFBobG9lbSArIHRyYW5zcGlyYXRpb24gcHVsbCAqLw0KZnVuY3Rpb24gYW5pbVh5bGVtUGhsb2VtKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJYeWxlbSB1cCAod2F0ZXIpICsgUGhsb2VtIGJvdGggd2F5cyAoZm9vZCkiKTsNCg0KICBjb25zdCBwYWQ9MTQ7DQogIGNvbnN0IHRpbGVXPSh3IC0gcGFkKjMpLzI7DQogIGNvbnN0IHRpbGVIPWgqMC42NDsNCiAgY29uc3QgeT1oKjAuMTY7DQoNCiAgZnVuY3Rpb24gdGlsZShpLHRpdGxlKXsNCiAgICBjb25zdCB4PXBhZCArIGkqKHRpbGVXK3BhZCk7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNykiOw0KICAgIHJvdW5kZWRSZWN0KGMseCx5LHRpbGVXLHRpbGVILDE0KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICBsYWJlbChjLCB4KzEwLCB5KzE4LCB0aXRsZSk7DQogICAgcmV0dXJuIHg7DQogIH0NCg0KICAvLyBYeWxlbQ0KICBjb25zdCB4MT10aWxlKDAsIlh5bGVtICh3YXRlci9taW5lcmFscyB1cHdhcmQpIik7DQogIGNvbnN0IHRydW5rWD14MSt0aWxlVyowLjU1LCB0cnVua1RvcD15KzcwLCB0cnVua0JvdD15K3RpbGVILTQwOw0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4yNSkiOw0KICBjLmxpbmVXaWR0aD0xNjsNCiAgYy5iZWdpblBhdGgoKTsgYy5tb3ZlVG8odHJ1bmtYLCB0cnVua0JvdCk7IGMubGluZVRvKHRydW5rWCwgdHJ1bmtUb3ApOyBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCiAgLy8geHlsZW0gdHViZSBpbnNpZGUNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMTQ3LDE5NywyNTMsMC4zNSkiOw0KICBjLmxpbmVXaWR0aD04Ow0KICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyh0cnVua1gsIHRydW5rQm90KTsgYy5saW5lVG8odHJ1bmtYLCB0cnVua1RvcCk7IGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KICAvLyB3YXRlciBkcm9wbGV0cyByaXNpbmcNCiAgZm9yKGxldCBpPTA7aTwxMjtpKyspew0KICAgIGNvbnN0IHA9KCh0KjAuNCArIGkqMC4wOCklMSk7DQogICAgZG90KGMsIHRydW5rWCwgdHJ1bmtCb3QgLSBwKih0cnVua0JvdC10cnVua1RvcCksIDQsICJyZ2JhKDE0NywxOTcsMjUzLDAuOSkiKTsNCiAgfQ0KICAvLyB0cmFuc3BpcmF0aW9uIGFycm93cyBhdCBsZWF2ZXMNCiAgZm9yKGxldCBpPTA7aTw2O2krKyl7DQogICAgY29uc3QgeHg9dHJ1bmtYLTcwK2kqMjg7DQogICAgbGluZShjLCB4eCwgdHJ1bmtUb3ArMzAsIHh4LCB0cnVua1RvcCsxMCwgMiwgInJnYmEoMTQ4LDE2MywxODQsMC4zNSkiKTsNCiAgICBkb3QoYywgeHgsIHRydW5rVG9wKzgsIDIsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOCkiKTsNCiAgfQ0KICBsYWJlbChjLCB4MSsxMCwgeSt0aWxlSC0xNCwgIlRyYW5zcGlyYXRpb24gcHVsbCBoZWxwcyB1cHdhcmQgbW92ZW1lbnQiLCAwLjg1KTsNCg0KICAvLyBQaGxvZW0NCiAgY29uc3QgeDI9dGlsZSgxLCJQaGxvZW0gKGZvb2QsIGJpZGlyZWN0aW9uYWwpIik7DQogIGNvbnN0IHN0ZW1YPXgyK3RpbGVXKjAuNDUsIHRvcD15KzcwLCBib3Q9eSt0aWxlSC00MDsNCiAgLy8gcGxhbnQgc3RlbQ0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4yNSkiOw0KICBjLmxpbmVXaWR0aD0xNjsNCiAgYy5iZWdpblBhdGgoKTsgYy5tb3ZlVG8oc3RlbVgsIGJvdCk7IGMubGluZVRvKHN0ZW1YLCB0b3ApOyBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCiAgLy8gcGhsb2VtIGxhbmUNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjM1KSI7DQogIGMubGluZVdpZHRoPTg7DQogIGMuYmVnaW5QYXRoKCk7IGMubW92ZVRvKHN0ZW1YKzE4LCBib3QpOyBjLmxpbmVUbyhzdGVtWCsxOCwgdG9wKTsgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQoNCiAgLy8gc3VnYXIgcGFja2V0cyBtb3ZlIHVwIGFuZCBkb3duIChiaWRpcmVjdGlvbmFsKQ0KICBmb3IobGV0IGk9MDtpPDEwO2krKyl7DQogICAgY29uc3QgcD0oKHQqMC4zNSArIGkqMC4xMCklMSk7DQogICAgY29uc3QgZGlyID0gKGklMj09PTApID8gMSA6IC0xOw0KICAgIGNvbnN0IHl5ID0gZGlyPjAgPyAoYm90IC0gcCooYm90LXRvcCkpIDogKHRvcCArIHAqKGJvdC10b3ApKTsNCiAgICBkb3QoYywgc3RlbVgrMTgsIHl5LCA0LCAicmdiYSgyNDUsMTU4LDExLDAuOTUpIik7DQogIH0NCiAgbGFiZWwoYywgeDIrMTAsIHkrdGlsZUgtMTQsICJGb29kIGZyb20gbGVhdmVzIOKGkiBncm93aW5nL3N0b3JhZ2UgcGFydHMgKHVzZXMgZW5lcmd5KSIsIDAuODUpOw0KfQ0KDQovKiA5KSBOZXBocm9uIGZpbHRyYXRpb24gKyByZWFic29ycHRpb24gKi8NCmZ1bmN0aW9uIGFuaW1OZXBocm9uKGMsdyxoLHQpew0KICBsYWJlbChjLCAxNCwgMjIsICJOZXBocm9uOiBmaWx0cmF0aW9uIOKGkiByZWFic29ycHRpb24g4oaSIHVyaW5lIik7DQoNCiAgY29uc3QgeD13KjAuMDgsIHk9aCowLjE2LCBidz13KjAuODQsIGJoPWgqMC42NjsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDcpIjsNCiAgcm91bmRlZFJlY3QoYyx4LHksYncsYmgsMTYpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KDQogIC8vIEJvd21hbidzIGNhcHN1bGUgKGN1cCkgKyBnbG9tZXJ1bHVzDQogIGNvbnN0IGJ4PXgrYncqMC4yNSwgYnk9eStiaCowLjM1Ow0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgxNDcsMTk3LDI1MywwLjM1KSI7DQogIGMubGluZVdpZHRoPTM7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMuYXJjKGJ4LGJ5LDQ1LE1hdGguUEkqMC4yLE1hdGguUEkqMS44KTsNCiAgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQogIGxhYmVsKGMsIGJ4LTQ0LCBieS02MCwgIkJvd21hbidzIGNhcHN1bGUiLCAwLjg1KTsNCg0KICAvLyBHbG9tZXJ1bHVzIChjYXBpbGxhcnkgYmFsbCkNCiAgZm9yKGxldCBpPTA7aTwzMDtpKyspew0KICAgIGNvbnN0IGE9aSooTWF0aC5QSSoyLzMwKTsNCiAgICBkb3QoYywgYngrTWF0aC5jb3MoYSkqMjAsIGJ5K01hdGguc2luKGEpKjE0LCAyLCAicmdiYSgyMzksNjgsNjgsMC43NSkiKTsNCiAgfQ0KDQogIC8vIFR1YnVsZSAoVS1zaGFwZSkNCiAgY29uc3QgdHg9eCtidyowLjQ1LCB0eT15K2JoKjAuMzA7DQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIjsNCiAgYy5saW5lV2lkdGg9MTA7DQogIGMubGluZUNhcD0icm91bmQiOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyhieCs0NSwgYnkpOw0KICBjLmJlemllckN1cnZlVG8odHgtMjAsIHR5LTMwLCB0eCsyMCwgdHkrMzAsIHR4LCB0eSs3MCk7DQogIGMuYmV6aWVyQ3VydmVUbyh0eC0yMCwgdHkrMTQwLCB0eCs3MCwgdHkrMTUwLCB4K2J3KjAuNjIsIHkrYmgqMC42MCk7DQogIGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KICBsYWJlbChjLCB4K2J3KjAuNTAsIHkrYmgqMC4xOCwgIlR1YnVsZSIsIDAuODUpOw0KDQogIC8vIENvbGxlY3RpbmcgZHVjdA0KICBjb25zdCBjZFg9eCtidyowLjcyLCBjZFRvcD15K2JoKjAuMjUsIGNkQm90PXkrYmgqMC43ODsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICBjLmxpbmVXaWR0aD0xNDsNCiAgYy5iZWdpblBhdGgoKTsgYy5tb3ZlVG8oY2RYLCBjZFRvcCk7IGMubGluZVRvKGNkWCwgY2RCb3QpOyBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCiAgbGFiZWwoYywgY2RYLTQyLCBjZFRvcC0xOCwgIkNvbGxlY3RpbmcgZHVjdCIsIDAuODUpOw0KDQogIC8vIEZsb3cgcGFydGljbGVzOg0KICAvLyByZWQgKGJsb29kIGluKSwgeWVsbG93IChmaWx0cmF0ZSksIGdyZWVuIChyZWFic29yYmVkKSwgZ3JleSAodXJpbmUpDQogIGNvbnN0IHA9KHQqMC4zNSklMTsNCiAgLy8gYmxvb2QgdG8gZ2xvbWVydWx1cw0KICBkb3QoYywgYngtOTAgKyBwKjkwLCBieS0xMCwgNSwgInJnYmEoMjM5LDY4LDY4LDAuOSkiKTsNCiAgLy8gZmlsdHJhdGUgaW50byBjYXBzdWxlIOKGkiB0dWJ1bGUNCiAgZG90KGMsIGJ4KzIwICsgcCoxMjAsIGJ5KzEwICsgMjAqTWF0aC5zaW4ocCo2LjI4KSwgNCwgInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIpOw0KICAvLyByZWFic29ycHRpb24gYmFjayB0byBibG9vZCAoZ3JlZW4gYXJyb3dzKQ0KICBmb3IobGV0IGk9MDtpPDY7aSsrKXsNCiAgICBjb25zdCBxPSgodCowLjUraSowLjEyKSUxKTsNCiAgICBkb3QoYywgdHgrMTAsIHR5KzYwICsgcSo4MCwgMywgInJnYmEoMzQsMTk3LDk0LDAuOTUpIik7DQogICAgbGluZShjLCB0eCsxMCwgdHkrNjAgKyBxKjgwLCB0eC0zMCwgdHkrNDAgKyBxKjgwLCAyLCAicmdiYSgzNCwxOTcsOTQsMC4zNSkiKTsNCiAgfQ0KICAvLyB1cmluZSBkb3duIGNvbGxlY3RpbmcgZHVjdA0KICBmb3IobGV0IGk9MDtpPDg7aSsrKXsNCiAgICBjb25zdCBxPSgodCowLjYraSowLjEpJTEpOw0KICAgIGRvdChjLCBjZFgsIGNkVG9wICsgcSooY2RCb3QtY2RUb3ApLCA0LCAicmdiYSgxNDgsMTYzLDE4NCwwLjkpIik7DQogIH0NCg0KICBsYWJlbChjLCB4KzIwLCB5K2JoLTE0LCAiQ29uY2VwdDogdXNlZnVsIHN1YnN0YW5jZXMgcmVhYnNvcmJlZDsgd2FzdGVzICsgZXhjZXNzIHdhdGVyIGZvcm0gdXJpbmUuIiwgMC44NSk7DQp9DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIElOSVQNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCnNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZSA9PiByZW5kZXJOYXYoZS50YXJnZXQudmFsdWUpKTsNCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiB7DQogIGNvbnN0IHQgPSB0b3BpY3MuZmluZCh4ID0+IHguaWQgPT09IGN1cnJlbnRUb3BpY0lkKTsNCiAgaWYodCkgc2V0dXBBbmltYXRpb24odC5hbmltYXRpb25UeXBlKTsNCn0pOw0KDQpyZW5kZXJOYXYoKTsNCnNlbGVjdFRvcGljKHRvcGljc1swXS5pZCk7DQo8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCg=="}, {"id": "ch6", "file": "ch6.html", "title": "Class 10 Science Ch 6 \u2013 Control and Coordination", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDYg4oCTIENvbnRyb2wgYW5kIENvb3JkaW5hdGlvbjwvdGl0bGU+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4NCiAgPHN0eWxlPg0KICAgICp7IGJveC1zaXppbmc6Ym9yZGVyLWJveDsgfQ0KICAgIGJvZHl7DQogICAgICBtYXJnaW46MDsNCiAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxTZWdvZSBVSSxSb2JvdG8sQXJpYWwsc2Fucy1zZXJpZjsNCiAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgxMjAwcHggNzAwcHggYXQgMjAlIDEwJSwgcmdiYSg5OSwxMDIsMjQxLDAuMjApLCB0cmFuc3BhcmVudCA1NSUpLA0KICAgICAgICAgICAgICAgICAgcmFkaWFsLWdyYWRpZW50KDkwMHB4IDYwMHB4IGF0IDgwJSAyMCUsIHJnYmEoMTYsMTg1LDEyOSwwLjE4KSwgdHJhbnNwYXJlbnQgNjAlKSwNCiAgICAgICAgICAgICAgICAgIGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwNTA4MTYgMCUsICMxZTFiNGIgMTAwJSk7DQogICAgICBjb2xvcjojZjFmNWY5Ow0KICAgICAgbWluLWhlaWdodDoxMDB2aDsNCiAgICB9DQogICAgaGVhZGVyew0KICAgICAgcGFkZGluZzogMThweCA1dnc7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTIpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpOw0KICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xMCk7DQogICAgICBwb3NpdGlvbjogc3RpY2t5OyB0b3A6MDsgei1pbmRleDogNTA7DQogICAgfQ0KICAgIGhlYWRlciBoMXsNCiAgICAgIG1hcmdpbjowIDAgOHB4Ow0KICAgICAgZm9udC1zaXplOiBjbGFtcCgxLjM1cmVtLCA0dncsIDEuOXJlbSk7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMjJjNTVlLCAjM2I4MmY2LCAjOGI1Y2Y2LCAjZjU5ZTBiKTsNCiAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOnRleHQ7DQogICAgICBiYWNrZ3JvdW5kLWNsaXA6dGV4dDsNCiAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOnRyYW5zcGFyZW50Ow0KICAgIH0NCiAgICAuY29udHJvbHN7DQogICAgICBkaXNwbGF5OmZsZXg7IGdhcDoxMnB4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGZsZXgtd3JhcDp3cmFwOw0KICAgIH0NCiAgICBpbnB1dFt0eXBlPSJzZWFyY2giXXsNCiAgICAgIHBhZGRpbmc6IDhweCAxNnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNDUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMjRweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC43NSk7DQogICAgICBjb2xvcjojZjFmNWY5Ow0KICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgbWluLXdpZHRoOiAyNjBweDsNCiAgICAgIG91dGxpbmU6bm9uZTsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl06OnBsYWNlaG9sZGVyeyBjb2xvcjojOTRhM2I4OyB9DQogICAgLnByb2dyZXNzeyBmb250LXNpemU6MC45cmVtOyBjb2xvcjojOTRhM2I4OyB9DQoNCiAgICAubGF5b3V0ew0KICAgICAgZGlzcGxheTpncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAzMzBweCAxZnI7DQogICAgICBnYXA6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxOHB4IDV2dyA2MHB4Ow0KICAgICAgbWF4LXdpZHRoOiAxNzUwcHg7DQogICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICB9DQogICAgQG1lZGlhIChtYXgtd2lkdGg6IDEwNTBweCl7IC5sYXlvdXR7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9IH0NCg0KICAgIG5hdnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45Mik7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjI4KTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTsNCiAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxNDBweCk7DQogICAgICBvdmVyZmxvdzphdXRvOw0KICAgIH0NCiAgICBuYXYgaDJ7DQogICAgICBmb250LXNpemU6IDAuOTVyZW07DQogICAgICBtYXJnaW46IDAgMCAxMnB4Ow0KICAgICAgY29sb3I6I2E1YjRmYzsNCiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgICBsZXR0ZXItc3BhY2luZzogMC4wNWVtOw0KICAgIH0NCiAgICAudG9waWMtbGlua3sNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBtYXJnaW46IDVweCAwOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGN1cnNvcjpwb2ludGVyOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIC4xOHMgZWFzZTsNCiAgICAgIHVzZXItc2VsZWN0Om5vbmU7DQogICAgfQ0KICAgIC50b3BpYy1saW5rOmhvdmVyew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMTQpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LDEzMCwyNDYsMC40NSk7DQogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNHB4KTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsuYWN0aXZlew0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzEwYjk4MSwgIzM0ZDM5OSk7DQogICAgICBjb2xvcjojMGYxNzJhOw0KICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDE4cHggcmdiYSgxNiwxODUsMTI5LDAuMjUpOw0KICAgIH0NCiAgICAudG9waWMtbGluayAudGFnew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogICAgICBwYWRkaW5nOiAycHggOHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBmb250LXNpemU6IDAuNzJyZW07DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuMzUpOw0KICAgICAgbWFyZ2luLWxlZnQ6IDhweDsNCiAgICB9DQoNCiAgICBtYWluew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkyKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7DQogICAgICBwYWRkaW5nOiAyMnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuMjgpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpOw0KICAgICAgYm94LXNoYWRvdzogMCAyMnB4IDcwcHggcmdiYSgwLDAsMCwwLjQ1KTsNCiAgICB9DQogICAgLmJhZGdlew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogICAgICBwYWRkaW5nOiA0cHggMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgZm9udC1zaXplOiAwLjc4cmVtOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNDUsMTU4LDExLDAuNTUpOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDUsMTU4LDExLDAuMTApOw0KICAgICAgY29sb3I6ICNmYmJmMjQ7DQogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgIH0NCiAgICBtYWluIGgyeyBtYXJnaW46IDZweCAwIDA7IGNvbG9yOiNlMGU3ZmY7IGZvbnQtc2l6ZTogMS40OHJlbTsgfQ0KICAgIC5zZWN0aW9ueyBtYXJnaW4tdG9wOiAyMnB4OyB9DQogICAgLnNlY3Rpb24gaDN7DQogICAgICBmb250LXNpemU6IDEuMDhyZW07DQogICAgICBjb2xvcjojYzRiNWZkOw0KICAgICAgbWFyZ2luOiAwIDAgMTBweDsNCiAgICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgIzhiNWNmNjsNCiAgICAgIHBhZGRpbmctbGVmdDogMTJweDsNCiAgICB9DQogICAgcCwgbGl7IGNvbG9yOiNlMmU4ZjA7IGZvbnQtc2l6ZTogMC45NnJlbTsgbGluZS1oZWlnaHQ6MS42NTsgfQ0KICAgIHVseyBwYWRkaW5nLWxlZnQ6IDIwcHg7IG1hcmdpbjogMTBweCAwIDA7IH0NCg0KICAgIC52aWRlby1jb250YWluZXJ7DQogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjQwKTsNCiAgICAgIGJhY2tncm91bmQ6ICMwZjE3MmE7DQogICAgICBhc3BlY3QtcmF0aW86IDE2Lzk7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgaWZyYW1leyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgYm9yZGVyOjA7IH0NCg0KICAgIC5hbmltLWNvbnRhaW5lcnsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMWUyOTNiIDAlLCAjMGYxNzJhIDEwMCUpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNTUpOw0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIG1hcmdpbjogMTJweCAwOw0KICAgIH0NCiAgICAuYW5pbS10b29sYmFyew0KICAgICAgZGlzcGxheTpmbGV4Ow0KICAgICAgZmxleC13cmFwOndyYXA7DQogICAgICBnYXA6MTBweDsNCiAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjsNCiAgICAgIGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgIGNvbG9yOiNhNWI0ZmM7DQogICAgICBmb250LXNpemU6IDAuODhyZW07DQogICAgfQ0KICAgIC5idG5zeyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGZsZXgtd3JhcDp3cmFwOyBhbGlnbi1pdGVtczpjZW50ZXI7IH0NCiAgICBidXR0b257DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4yMCk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC42NSk7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIHBhZGRpbmc6IDZweCAxNHB4Ow0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICAgIGN1cnNvcjpwb2ludGVyOw0KICAgICAgZm9udC1zaXplOiAwLjgycmVtOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIC4xOHM7DQogICAgfQ0KICAgIGJ1dHRvbjpob3ZlcnsgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMzUpOyB9DQogICAgYnV0dG9uOmRpc2FibGVkew0KICAgICAgb3BhY2l0eTowLjU7DQogICAgICBjdXJzb3I6bm90LWFsbG93ZWQ7DQogICAgfQ0KICAgIC5zbGlkZXJ7DQogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC42KTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC4yNSk7DQogICAgICBwYWRkaW5nOiA2cHggMTBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgY29sb3I6I2NiZDVlMTsNCiAgICAgIGZvbnQtc2l6ZTogMC44MnJlbTsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0icmFuZ2UiXXsgd2lkdGg6IDE1MHB4OyB9DQoNCiAgICBjYW52YXN7DQogICAgICB3aWR0aDoxMDAlOw0KICAgICAgaGVpZ2h0OiAzMzBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyMCUsIHJnYmEoNTksMTMwLDI0NiwwLjEyKSwgIzBmMTcyYSk7DQogICAgICBkaXNwbGF5OmJsb2NrOw0KICAgIH0NCiAgICAuY2FwdGlvbnsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNiwxODUsMTI5LDAuMDgpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNiwxODUsMTI5LDAuMjUpOw0KICAgICAgY29sb3I6I2QxZmFlNTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU1Ow0KICAgIH0NCg0KICAgIC5taW5kbWFwew0KICAgICAgZGlzcGxheTpncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMzBweCwgMWZyKSk7DQogICAgICBnYXA6IDEycHg7DQogICAgICBtYXJnaW4tdG9wOiAxMnB4Ow0KICAgIH0NCiAgICAubW0tbm9kZXsNCiAgICAgIHBhZGRpbmc6IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxMzksOTIsMjQ2LDAuMTQpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMzksOTIsMjQ2LDAuMzUpOw0KICAgICAgZm9udC1zaXplOiAwLjlyZW07DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgIH0NCiAgICAubW0tbm9kZSBzdHJvbmd7IGNvbG9yOiNjNGI1ZmQ7IH0NCg0KICAgIC5xdWl6ew0KICAgICAgbWFyZ2luLXRvcDogMThweDsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMCk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZjU5ZTBiOw0KICAgIH0NCiAgICAucXVpei1xdWVzdGlvbnsgZm9udC13ZWlnaHQ6IDcwMDsgbWFyZ2luLWJvdHRvbTogMTBweDsgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uew0KICAgICAgZGlzcGxheTpibG9jazsgd2lkdGg6MTAwJTsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwwLjM1KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC43NSk7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjE4czsNCiAgICAgIHRleHQtYWxpZ246bGVmdDsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b246aG92ZXJ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4xOCk7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjgwKTsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b24uY29ycmVjdHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjk1KTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMTcsMTE5LDYsMSk7DQogICAgICBjb2xvcjojMTExODI3Ow0KICAgICAgZm9udC13ZWlnaHQ6IDgwMDsNCiAgICB9DQogICAgLnF1aXotZXhwbGFpbnsNCiAgICAgIGRpc3BsYXk6bm9uZTsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMik7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgY29sb3I6I2ZkZTY4YTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICB9DQogICAgYXsgY29sb3I6IzYwYTVmYTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IH0NCiAgICBhOmhvdmVyeyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyB9DQogIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCjxoZWFkZXI+DQogIDxoMT5Db250cm9sIGFuZCBDb29yZGluYXRpb24g4oCTIENsYXNzIDEwIChDaGFwdGVyIDYpPC9oMT4NCiAgPGRpdiBjbGFzcz0iY29udHJvbHMiPg0KICAgIDxpbnB1dCB0eXBlPSJzZWFyY2giIGlkPSJzZWFyY2hJbnB1dCIgcGxhY2Vob2xkZXI9IlNlYXJjaDogc3luYXBzZSwgcmVmbGV4IGFyYywgY2VyZWJlbGx1bSwgYXV4aW4sIGluc3VsaW4uLi4iIC8+DQogICAgPHNwYW4gY2xhc3M9InByb2dyZXNzIj5Qcm9ncmVzczogPHNwYW4gaWQ9InByb2dDb3VudCI+MDwvc3Bhbj4vPHNwYW4gaWQ9InRvdGFsQ291bnQiPjA8L3NwYW4+IHRvcGljczwvc3Bhbj4NCiAgPC9kaXY+DQo8L2hlYWRlcj4NCg0KPGRpdiBjbGFzcz0ibGF5b3V0Ij4NCiAgPG5hdj4NCiAgICA8aDI+Q2hhcHRlciA2IFRvcGljczwvaDI+DQogICAgPGRpdiBpZD0idG9waWNMaXN0Ij48L2Rpdj4NCiAgPC9uYXY+DQoNCiAgPG1haW4+DQogICAgPGRpdiBpZD0idG9waWNDb250ZW50Ij48L2Rpdj4NCiAgPC9tYWluPg0KPC9kaXY+DQoNCjxzY3JpcHQ+DQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBWSURFTyAoU3VubGlrZSBTdHVkeSkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IGNoNlZpZGVvID0gew0KICB5dFdhdGNoOiAiaHR0cHM6Ly95b3V0dS5iZS9NZURqXzd0anBROCIsDQogIGVtYmVkOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvTWVEal83dGpwUTgiDQp9Ow0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBUT1BJQ1MgKE5DRVJULWFsaWduZWQpDQo9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpjb25zdCB0b3BpY3MgPSBbDQogIHsNCiAgICBpZDogIm5lZWQtY2MiLA0KICAgIHRpdGxlOiAiV2h5IENvbnRyb2wgJiBDb29yZGluYXRpb24gaXMgbmVlZGVkIiwNCiAgICB0eXBlOiAiSW50cm8iLA0KICAgIHZpZGVvVGltZTogIjAwOjM24oCTMDE6NDAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJzdGltdWx1c1Jlc3BvbnNlIiwNCiAgICBjb3JlTm90ZXM6ICJMaXZpbmcgb3JnYW5pc21zIHJlc3BvbmQgdG8gY2hhbmdlcyAoc3RpbXVsaSkgaW4gdGhlIGVudmlyb25tZW50IHVzaW5nIGNvbnRyb2xsZWQgYWN0aW9ucy4gSW4gbXVsdGljZWxsdWxhciBvcmdhbmlzbXMsIHNwZWNpYWxpc2VkIHN5c3RlbXMgY29vcmRpbmF0ZSBpbnB1dHMgYW5kIG91dHB1dHMuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJTdGltdWx1cyDihpIgcmVjZXB0b3Ig4oaSIGNvbnRyb2wgY2VudHJlIOKGkiBlZmZlY3RvciDihpIgcmVzcG9uc2UuIiwNCiAgICAgICJGYXN0IGNvbnRyb2w6IG5lcnZvdXMgc3lzdGVtIChlbGVjdHJpY2FsIGltcHVsc2VzKS4iLA0KICAgICAgIlNsb3cvbG9uZy1sYXN0aW5nIGNvbnRyb2w6IGhvcm1vbmVzIChjaGVtaWNhbCBtZXNzYWdlcykuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiMuKAkzMgbWFya3M6IHdyaXRlIHRoZSBzdGltdWx1cy1yZXNwb25zZSBwYXRod2F5IGFuZCB3aHkgY29vcmRpbmF0aW9uIGlzIG5lY2Vzc2FyeS4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiQ29ycmVjdCBvcmRlciBpczoiLA0KICAgICAgb3B0aW9uczogWyJFZmZlY3RvciDihpIgcmVjZXB0b3Ig4oaSIHJlc3BvbnNlIOKGkiBzdGltdWx1cyIsICJTdGltdWx1cyDihpIgcmVjZXB0b3Ig4oaSIGNvbnRyb2wgY2VudHJlIOKGkiBlZmZlY3RvciDihpIgcmVzcG9uc2UiLCAiU3RpbXVsdXMg4oaSIGVmZmVjdG9yIOKGkiByZWNlcHRvciDihpIgcmVzcG9uc2UiLCAiUmVzcG9uc2Ug4oaSIHN0aW11bHVzIOKGkiByZWNlcHRvciDihpIgZWZmZWN0b3IiXSwNCiAgICAgIGNvcnJlY3Q6IDEsDQogICAgICBleHBsYWluOiAiSW5mb3JtYXRpb24gaXMgZGV0ZWN0ZWQgZmlyc3QsIHByb2Nlc3NlZCwgdGhlbiBhY3Rpb24gaGFwcGVucy4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJuZXVyb24tc3luYXBzZSIsDQogICAgdGl0bGU6ICJOZXVyb24gKyBTeW5hcHNlICsgSW1wdWxzZSAoU3RlcC1ieS1zdGVwKSIsDQogICAgdHlwZTogIk5lcnZvdXMgc3lzdGVtIiwNCiAgICB2aWRlb1RpbWU6ICIwMTo0MOKAkzA5OjQwIiwNCiAgICBhbmltYXRpb25UeXBlOiAibmV1cm9uU3luYXBzZVN0ZXBzIiwNCiAgICBjb3JlTm90ZXM6ICJSZWNlcHRvcnMgZGV0ZWN0IHN0aW11bGksIGdlbmVyYXRpbmcgYW4gZWxlY3RyaWNhbCBpbXB1bHNlIGluIG5ldXJvbnMuIEF0IHN5bmFwc2VzLCBpbXB1bHNlcyBhcmUgcGFzc2VkIHVzaW5nIGNoZW1pY2FscyB0byBzdGFydCBhbiBpbXB1bHNlIGluIHRoZSBuZXh0IG5ldXJvbi4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkRlbmRyaXRlIHJlY2VpdmVzIGluZm9ybWF0aW9uOyBpbXB1bHNlIHRyYXZlbHMgY2VsbCBib2R5IOKGkiBheG9uLiIsDQogICAgICAiQXQgYXhvbiB0ZXJtaW5hbCwgY2hlbWljYWxzIGFyZSByZWxlYXNlZCBpbnRvIHN5bmFwc2UgZ2FwLiIsDQogICAgICAiTmV4dCBuZXVyb24ncyBkZW5kcml0ZSBzdGFydHMgYSBuZXcgaW1wdWxzZS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJIaWdoIHNjb3Jpbmc6IGRlZmluZSBzeW5hcHNlICsgZXhwbGFpbiB3aGF0IGhhcHBlbnMgdGhlcmU7IGRyYXcgYSBuZXVyb24uIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIlRoZSBnYXAgYmV0d2VlbiB0d28gbmV1cm9ucyBpcyBjYWxsZWQ6IiwNCiAgICAgIG9wdGlvbnM6IFsiQXhvbiIsICJEZW5kcml0ZSIsICJTeW5hcHNlIiwgIk5ldXJvbiJdLA0KICAgICAgY29ycmVjdDogMiwNCiAgICAgIGV4cGxhaW46ICJTeW5hcHNlIGlzIHRoZSBqdW5jdGlvbi9nYXAgd2hlcmUgY2hlbWljYWwgdHJhbnNtaXNzaW9uIG9jY3Vycy4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJyZWZsZXgtYXJjIiwNCiAgICB0aXRsZTogIlJlZmxleCBBY3Rpb24gJiBSZWZsZXggQXJjIChTcGluYWwgY29yZCkiLA0KICAgIHR5cGU6ICJOZXJ2b3VzIHN5c3RlbSIsDQogICAgdmlkZW9UaW1lOiAiMDk6NDDigJMxMzozMCIsDQogICAgYW5pbWF0aW9uVHlwZTogInJlZmxleEFyY1N0ZXBzIiwNCiAgICBjb3JlTm90ZXM6ICJSZWZsZXggYWN0aW9ucyBhcmUgcXVpY2ssIGF1dG9tYXRpYyByZXNwb25zZXMuIFJlZmxleCBhcmMgaXMgYSBwYXRod2F5IHdoZXJlIHRoZSBzcGluYWwgY29yZCBjb29yZGluYXRlcyB0aGUgaW1tZWRpYXRlIHJlc3BvbnNlIChicmFpbiBzdGlsbCBnZXRzIGluZm9ybWF0aW9uIGxhdGVyKS4iLA0KICAgIHBvaW50czogWw0KICAgICAgIkhvdCBvYmplY3Qg4oaSIHNraW4gcmVjZXB0b3Ig4oaSIHNlbnNvcnkgbmV1cm9uIOKGkiBzcGluYWwgY29yZCAocmVsYXkgbmV1cm9uKSDihpIgbW90b3IgbmV1cm9uIOKGkiBtdXNjbGUg4oaSIGhhbmQgd2l0aGRyYXdhbC4iLA0KICAgICAgIlJlZmxleGVzIHByb3RlY3QgYm9keSBieSBzYXZpbmcgdGltZSAobm8gY29uc2Npb3VzIHRoaW5raW5nIGZpcnN0KS4iLA0KICAgICAgIlJlZmxleCBhcmNzIGFyZSBmb3JtZWQgaW4gc3BpbmFsIGNvcmQuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiVmVyeSBjb21tb246IGRyYXcvbGFiZWwgcmVmbGV4IGFyYyBhbmQgZXhwbGFpbiBzZXF1ZW5jZS4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiUmVmbGV4IGFyY3MgYXJlIG1haW5seSBmb3JtZWQgaW46IiwNCiAgICAgIG9wdGlvbnM6IFsiQ2VyZWJydW0iLCAiU3BpbmFsIGNvcmQiLCAiQ2VyZWJlbGx1bSIsICJFYXIiXSwNCiAgICAgIGNvcnJlY3Q6IDEsDQogICAgICBleHBsYWluOiAiU3BpbmFsIGNvcmQgY29vcmRpbmF0ZXMgcXVpY2sgcmVmbGV4IHJlc3BvbnNlLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDogImh1bWFuLWJyYWluIiwNCiAgICB0aXRsZTogIkh1bWFuIEJyYWluIChGb3JlLCBNaWQsIEhpbmQpICsgRnVuY3Rpb25zIiwNCiAgICB0eXBlOiAiTmVydm91cyBzeXN0ZW0iLA0KICAgIHZpZGVvVGltZTogIjEzOjMw4oCTMTc6NDAiLA0KICAgIGFuaW1hdGlvblR5cGU6ICJicmFpbkhvdHNwb3RzIiwNCiAgICBjb3JlTm90ZXM6ICJCcmFpbiBpbnRlZ3JhdGVzIHNlbnNvcnkgaW5mb3JtYXRpb24gYW5kIHNlbmRzIGNvbW1hbmRzLiBGb3JlLWJyYWluIGhhbmRsZXMgdGhpbmtpbmcvdm9sdW50YXJ5IGFjdGlvbnM7IGhpbmQtYnJhaW4gaGVscHMgcG9zdHVyZS9iYWxhbmNlIGFuZCBpbnZvbHVudGFyeSBhY3Rpb25zLiIsDQogICAgcG9pbnRzOiBbDQogICAgICAiRm9yZS1icmFpbjogdGhpbmtpbmcsIHNlbnNvcnkgYXJlYXMsIHZvbHVudGFyeSBtb3RvciBjb250cm9sLiIsDQogICAgICAiTWlkLWJyYWluOiBzb21lIGludm9sdW50YXJ5IGFjdGlvbnMgYW5kIHByb2Nlc3NpbmcgKGNvbmNlcHQgbGV2ZWwpLiIsDQogICAgICAiSGluZC1icmFpbjogY2VyZWJlbGx1bSAoYmFsYW5jZS9wb3N0dXJlKSwgbWVkdWxsYSAoaW52b2x1bnRhcnkgbGlrZSBicmVhdGhpbmcvaGVhcnRiZWF0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICIx4oCTMiBtYXJrczogd2hpY2ggcGFydCBtYWludGFpbnMgcG9zdHVyZT8gd2hpY2ggY29udHJvbHMgaW52b2x1bnRhcnkgYWN0aW9ucz8iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiUGFydCBtYWludGFpbmluZyBwb3N0dXJlIGFuZCBiYWxhbmNlIGlzOiIsDQogICAgICBvcHRpb25zOiBbIkNlcmVicnVtIiwgIkNlcmViZWxsdW0iLCAiTWVkdWxsYSIsICJTcGluYWwgY29yZCJdLA0KICAgICAgY29ycmVjdDogMSwNCiAgICAgIGV4cGxhaW46ICJDZXJlYmVsbHVtIChoaW5kLWJyYWluKSBtYWludGFpbnMgcG9zdHVyZSBhbmQgYmFsYW5jZS4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJjbnMtcHJvdGVjdGlvbi1tdXNjbGUiLA0KICAgIHRpdGxlOiAiQ05TIFByb3RlY3Rpb24gKyBIb3cgbmVydmVzIGNhdXNlIG11c2NsZSBhY3Rpb24iLA0KICAgIHR5cGU6ICJOZXJ2b3VzIHN5c3RlbSIsDQogICAgdmlkZW9UaW1lOiAiMTc6NDDigJMxODo1MCIsDQogICAgYW5pbWF0aW9uVHlwZTogImNuc1Byb3RlY3Rpb25NdXNjbGUiLA0KICAgIGNvcmVOb3RlczogIkJyYWluIGlzIHByb3RlY3RlZCBieSBza3VsbCBhbmQgZmx1aWQ7IHNwaW5hbCBjb3JkIGJ5IHZlcnRlYnJhbCBjb2x1bW4uIE11c2NsZXMgbW92ZSB3aGVuIG5lcnZlIGltcHVsc2VzIGNhdXNlIG11c2NsZSBwcm90ZWlucyB0byBjaGFuZ2UgYXJyYW5nZW1lbnQgYW5kIHNob3J0ZW4uIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJTa3VsbCAoYm9ueSBib3gpICsgZmx1aWQgc2hvY2sgYWJzb3JwdGlvbiBwcm90ZWN0cyBicmFpbi4iLA0KICAgICAgIlZlcnRlYnJhbCBjb2x1bW4gcHJvdGVjdHMgc3BpbmFsIGNvcmQuIiwNCiAgICAgICJOZXVyb211c2N1bGFyIGp1bmN0aW9uIHRyYW5zbWl0cyBpbXB1bHNlIHRvIG11c2NsZSBmaWJyZXMuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiV3JpdGUgMiBwcm90ZWN0aW9ucyBmb3IgQ05TOyBkZWZpbmUgdm9sdW50YXJ5IHZzIGludm9sdW50YXJ5IG11c2NsZXMuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIlNwaW5hbCBjb3JkIGlzIHByb3RlY3RlZCBieToiLA0KICAgICAgb3B0aW9uczogWyJSaWJzIiwgIlZlcnRlYnJhbCBjb2x1bW4iLCAiU2t1bGwiLCAiUGVsdmlzIl0sDQogICAgICBjb3JyZWN0OiAxLA0KICAgICAgZXhwbGFpbjogIkJhY2tib25lL3ZlcnRlYnJhbCBjb2x1bW4gcHJvdGVjdHMgc3BpbmFsIGNvcmQuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAicGxhbnQtbW92ZW1lbnRzIiwNCiAgICB0aXRsZTogIkNvb3JkaW5hdGlvbiBpbiBQbGFudHM6IEltbWVkaWF0ZSB2cyBHcm93dGggbW92ZW1lbnRzIiwNCiAgICB0eXBlOiAiUGxhbnRzIiwNCiAgICB2aWRlb1RpbWU6ICIxODo1MOKAkzIxOjAwIiwNCiAgICBhbmltYXRpb25UeXBlOiAicGxhbnRNb3ZlRHVhbCIsDQogICAgY29yZU5vdGVzOiAiUGxhbnRzIHNob3cgdHdvIG1vdmVtZW50IHR5cGVzOiBpbW1lZGlhdGUgbW92ZW1lbnRzIChubyBncm93dGgsIGR1ZSB0byB3YXRlci90dXJnb3IgY2hhbmdlcykgYW5kIHRyb3BpYyBtb3ZlbWVudHMgKGRpcmVjdGlvbmFsIGdyb3d0aCkuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJNaW1vc2EgKHRvdWNoLW1lLW5vdCk6IGxlYXZlcyBmb2xkIGR1ZSB0byB3YXRlciBtb3ZlbWVudCBpbiBjZWxscy4iLA0KICAgICAgIlRyb3Bpc206IGdyb3d0aCB0b3dhcmRzL2F3YXkgZnJvbSBzdGltdWx1cyAobGlnaHQsIGdyYXZpdHksIHdhdGVyLCBjaGVtaWNhbHMpLiIsDQogICAgICAiVGVuZHJpbHMgY29pbCBhcm91bmQgc3VwcG9ydCBkdWUgdG8gdW5lcXVhbCBncm93dGguIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiRGlmZmVyZW5jZSBiZXR3ZWVuIE1pbW9zYSBsZWFmIG1vdmVtZW50IGFuZCBzaG9vdCBiZW5kaW5nIHRvd2FyZHMgbGlnaHQuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIk1vdmVtZW50IGluIE1pbW9zYSBsZWF2ZXMgaXMgbWFpbmx5IGR1ZSB0bzoiLA0KICAgICAgb3B0aW9uczogWyJQaG90b3N5bnRoZXNpcyIsICJHcm93dGgiLCAiQ2hhbmdlIGluIHdhdGVyICh0dXJnb3IpIGluIGNlbGxzIiwgIlNlZWQgZm9ybWF0aW9uIl0sDQogICAgICBjb3JyZWN0OiAyLA0KICAgICAgZXhwbGFpbjogIkl0IGlzIGEgcXVpY2sgbW92ZW1lbnQgaW5kZXBlbmRlbnQgb2YgZ3Jvd3RoLCBjYXVzZWQgYnkgd2F0ZXIvdHVyZ29yIGNoYW5nZS4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJ0cm9waXNtcy1hdXhpbiIsDQogICAgdGl0bGU6ICJUcm9waXNtcyArIEF1eGluIChQaG90b3Ryb3Bpc20gZXhwbGFpbmVkKSIsDQogICAgdHlwZTogIlBsYW50cyIsDQogICAgdmlkZW9UaW1lOiAiMjE6MDDigJMyMjo0MCIsDQogICAgYW5pbWF0aW9uVHlwZTogInBob3RvdHJvcGlzbUF1eGluIiwNCiAgICBjb3JlTm90ZXM6ICJBdXhpbiBwcm9tb3RlcyBjZWxsIGVsb25nYXRpb24uIEluIHBob3RvdHJvcGlzbSwgYXV4aW4gYWNjdW11bGF0ZXMgb24gdGhlIHNoYWRlZCBzaWRlLCBtYWtpbmcgdGhhdCBzaWRlIGVsb25nYXRlIG1vcmUsIGJlbmRpbmcgdGhlIHNob290IHRvd2FyZHMgbGlnaHQuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJQaG90b3Ryb3Bpc206IHNob290IGJlbmRzIHRvd2FyZHMgbGlnaHQ7IHJvb3QgdHlwaWNhbGx5IGF3YXkuIiwNCiAgICAgICJHZW90cm9waXNtOiByb290cyBncm93IGRvd253YXJkcywgc2hvb3RzIHVwd2FyZHMuIiwNCiAgICAgICJIeWRyb3Ryb3Bpc206IHJvb3RzIGdyb3cgdG93YXJkcyB3YXRlcjsgY2hlbW90cm9waXNtOiBwb2xsZW4gdHViZSBncm93cyB0b3dhcmRzIG92dWxlLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkV4cGxhaW4gcGhvdG90cm9waXNtIHdpdGggYXV4aW4gZGlzdHJpYnV0aW9uIChkaWFncmFtKS4iLA0KICAgIHF1aXo6IHsNCiAgICAgIHF1ZXN0aW9uOiAiQSBwbGFudCBzaG9vdCBiZW5kcyB0b3dhcmRzIGxpZ2h0IGJlY2F1c2U6IiwNCiAgICAgIG9wdGlvbnM6IFsiQXV4aW4gaXMgbW9yZSBvbiBpbGx1bWluYXRlZCBzaWRlIiwgIkF1eGluIGlzIG1vcmUgb24gc2hhZGVkIHNpZGUgY2F1c2luZyBlbG9uZ2F0aW9uIHRoZXJlIiwgIk5vIGhvcm1vbmVzIGFyZSBpbnZvbHZlZCIsICJSb290cyBwdXNoIGl0Il0sDQogICAgICBjb3JyZWN0OiAxLA0KICAgICAgZXhwbGFpbjogIkF1eGluIHNoaWZ0cyB0byBzaGFkZWQgc2lkZSDihpIgbW9yZSBlbG9uZ2F0aW9uIOKGkiBiZW5kaW5nIHRvd2FyZHMgbGlnaHQuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiAicGxhbnQtaG9ybW9uZXMiLA0KICAgIHRpdGxlOiAiUGxhbnQgSG9ybW9uZXMgKEF1eGluLCBHaWJiZXJlbGxpbiwgQ3l0b2tpbmluLCBBYnNjaXNpYyBhY2lkKSIsDQogICAgdHlwZTogIlBsYW50cyIsDQogICAgdmlkZW9UaW1lOiAiMjI6NDDigJMyNDowMCIsDQogICAgYW5pbWF0aW9uVHlwZTogInBsYW50SG9ybW9uZUNhcmRzIiwNCiAgICBjb3JlTm90ZXM6ICJQbGFudCBob3Jtb25lcyBjb29yZGluYXRlIGdyb3d0aCBhbmQgcmVzcG9uc2VzLiBTb21lIHByb21vdGUgZ3Jvd3RoIChhdXhpbiwgZ2liYmVyZWxsaW4sIGN5dG9raW5pbiksIHdoaWxlIG90aGVycyBpbmhpYml0IGdyb3d0aCAoYWJzY2lzaWMgYWNpZCkuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJBdXhpbjogY2VsbCBlbG9uZ2F0aW9uLCBwaG90b3Ryb3Bpc20uIiwNCiAgICAgICJHaWJiZXJlbGxpbnM6IHN0ZW0gZ3Jvd3RoLiIsDQogICAgICAiQ3l0b2tpbmluczogcHJvbW90ZSBjZWxsIGRpdmlzaW9uLiIsDQogICAgICAiQWJzY2lzaWMgYWNpZDogZ3Jvd3RoIGluaGliaXRpb247IHdpbHRpbmcgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDogIkV4YW1wbGUgb2YgYSBncm93dGgtcHJvbW90aW5nIGhvcm1vbmUgKyBncm93dGgtaW5oaWJpdGluZyBob3Jtb25lLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJXaGljaCBpcyBhIHBsYW50IGhvcm1vbmU/IiwNCiAgICAgIG9wdGlvbnM6IFsiSW5zdWxpbiIsICJUaHlyb3hpbmUiLCAiQWRyZW5hbGluZSIsICJDeXRva2luaW4iXSwNCiAgICAgIGNvcnJlY3Q6IDMsDQogICAgICBleHBsYWluOiAiQ3l0b2tpbmluIGlzIGEgcGxhbnQgaG9ybW9uZS4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJhbmltYWwtaG9ybW9uZXMiLA0KICAgIHRpdGxlOiAiSG9ybW9uZXMgaW4gQW5pbWFscyAoQWRyZW5hbGluZSwgVGh5cm94aW5lLCBJbnN1bGluLCBTZXggaG9ybW9uZXMpIiwNCiAgICB0eXBlOiAiRW5kb2NyaW5lIiwNCiAgICB2aWRlb1RpbWU6ICIyNDowMOKAk2VuZCIsDQogICAgYW5pbWF0aW9uVHlwZTogImVuZG9jcmluZU1hcCIsDQogICAgY29yZU5vdGVzOiAiRW5kb2NyaW5lIGdsYW5kcyByZWxlYXNlIGhvcm1vbmVzIGludG8gYmxvb2QgZm9yIGNoZW1pY2FsIGNvb3JkaW5hdGlvbi4gRXhhbXBsZXMgaW5jbHVkZSBhZHJlbmFsaW5lIChlbWVyZ2VuY3kpLCB0aHlyb3hpbmUgKG1ldGFib2xpc20pLCBpbnN1bGluIChibG9vZCBzdWdhcikuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJBZHJlbmFsaW5lIHByZXBhcmVzIGJvZHkgZm9yIGZpZ2h0L2ZsaWdodCAoaGVhcnQgcmF0ZSwgYnJlYXRoaW5nIGluY3JlYXNlKS4iLA0KICAgICAgIlRoeXJveGluZSBuZWVkcyBpb2RpbmU7IHJlZ3VsYXRlcyBtZXRhYm9saXNtIChnb2l0cmUgaWYgZGVmaWNpZW5jeSkuIiwNCiAgICAgICJJbnN1bGluIHJlZ3VsYXRlcyBibG9vZCBzdWdhcjsgZGVmaWNpZW5jeSBsZWFkcyB0byBkaWFiZXRlcyAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiAiVmVyeSBjb21tb246IGJvZHkgcmVzcG9uc2UgdG8gYWRyZW5hbGluZTsgd2h5IGlvZGlzZWQgc2FsdCBpcyBhZHZpc2VkOyB3aHkgaW5zdWxpbiBpbmplY3Rpb25zLiIsDQogICAgcXVpejogew0KICAgICAgcXVlc3Rpb246ICJJb2Rpc2VkIHNhbHQgaXMgYWR2aXNlZCBiZWNhdXNlIGlvZGluZSBpcyBuZWVkZWQgZm9yOiIsDQogICAgICBvcHRpb25zOiBbIkFkcmVuYWxpbmUiLCAiVGh5cm94aW5lIiwgIkluc3VsaW4iLCAiT2VzdHJvZ2VuIl0sDQogICAgICBjb3JyZWN0OiAxLA0KICAgICAgZXhwbGFpbjogIklvZGluZSBpcyBlc3NlbnRpYWwgdG8gbWFrZSB0aHlyb3hpbmUgaW4gdGh5cm9pZCBnbGFuZC4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ICJmZWVkYmFjayIsDQogICAgdGl0bGU6ICJGZWVkYmFjayBNZWNoYW5pc20gKEluc3VsaW4gZXhhbXBsZSkiLA0KICAgIHR5cGU6ICJFbmRvY3JpbmUiLA0KICAgIHZpZGVvVGltZTogIkVuZCIsDQogICAgYW5pbWF0aW9uVHlwZTogImZlZWRiYWNrTG9vcCIsDQogICAgY29yZU5vdGVzOiAiSG9ybW9uZSBsZXZlbHMgYXJlIGNvbnRyb2xsZWQgYnkgZmVlZGJhY2sgbWVjaGFuaXNtcy4gRXhhbXBsZTogcmlzaW5nIGJsb29kIHN1Z2FyIHRyaWdnZXJzIGluc3VsaW4gcmVsZWFzZTsgd2hlbiBzdWdhciBmYWxscywgaW5zdWxpbiByZWxlYXNlIHJlZHVjZXMuIiwNCiAgICBwb2ludHM6IFsNCiAgICAgICJLZWVwcyBpbnRlcm5hbCBjb25kaXRpb25zIHN0YWJsZSAoaG9tZW9zdGFzaXMgY29uY2VwdCkuIiwNCiAgICAgICJQcmV2ZW50cyBvdmVyLXNlY3JldGlvbi91bmRlci1zZWNyZXRpb24uIiwNCiAgICAgICJXb3JrcyBsaWtlIGEgY29udHJvbCBsb29wOiBzZW5zb3Ig4oaSIGNvbnRyb2xsZXIg4oaSIGFjdGlvbiDihpIgY29ycmVjdGlvbi4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6ICJFeHBsYWluIGZlZWRiYWNrIHdpdGggaW5zdWxpbiAoc2hvcnQgZmxvdykuIiwNCiAgICBxdWl6OiB7DQogICAgICBxdWVzdGlvbjogIkZlZWRiYWNrIG1lY2hhbmlzbSBtYWlubHkgaGVscHMgaW46IiwNCiAgICAgIG9wdGlvbnM6IFsiUmFuZG9tIHNlY3JldGlvbiBvZiBob3Jtb25lcyIsICJSZWd1bGF0aW5nIHRpbWluZyBhbmQgYW1vdW50IG9mIGhvcm1vbmUgcmVsZWFzZSIsICJTdG9wcGluZyBibG9vZCBmbG93IiwgIlByb2R1Y2luZyBuZXJ2ZXMiXSwNCiAgICAgIGNvcnJlY3Q6IDEsDQogICAgICBleHBsYWluOiAiRmVlZGJhY2sgbWFpbnRhaW5zIHByb3BlciBob3Jtb25lIGxldmVscyBieSByZWd1bGF0aW5nIHNlY3JldGlvbi4iDQogICAgfQ0KICB9DQpdOw0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBVSQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3QgdG9waWNMaXN0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNMaXN0Iik7DQpjb25zdCB0b3BpY0NvbnRlbnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3BpY0NvbnRlbnQiKTsNCmNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlYXJjaElucHV0Iik7DQpjb25zdCBwcm9nQ291bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9nQ291bnQiKTsNCmNvbnN0IHRvdGFsQ291bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3RhbENvdW50Iik7DQoNCnRvdGFsQ291bnRFbC50ZXh0Q29udGVudCA9IHRvcGljcy5sZW5ndGg7DQoNCmxldCBjdXJyZW50VG9waWNJZCA9IHRvcGljc1swXS5pZDsNCmxldCBjb21wbGV0ZWRUb3BpY3MgPSBuZXcgU2V0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNoNi1jb21wbGV0ZWQiKSB8fCAiW10iKSk7DQoNCmZ1bmN0aW9uIHJlbmRlck5hdihmaWx0ZXI9IiIpew0KICB0b3BpY0xpc3RFbC5pbm5lckhUTUwgPSAiIjsNCiAgY29uc3QgcSA9IGZpbHRlci50cmltKCkudG9Mb3dlckNhc2UoKTsNCiAgY29uc3QgZmlsdGVyZWQgPSB0b3BpY3MuZmlsdGVyKHQgPT4NCiAgICB0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LnR5cGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fA0KICAgIHQuY29yZU5vdGVzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LnBvaW50cy5qb2luKCIgIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKQ0KICApOw0KDQogIGZpbHRlcmVkLmZvckVhY2goKHQsIGlkeCkgPT4gew0KICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICBpdGVtLmNsYXNzTmFtZSA9ICJ0b3BpYy1saW5rIiArICh0LmlkID09PSBjdXJyZW50VG9waWNJZCA/ICIgYWN0aXZlIiA6ICIiKTsNCiAgICBpdGVtLmlubmVySFRNTCA9IGAke2lkeCsxfS4gJHt0LnRpdGxlfTxzcGFuIGNsYXNzPSJ0YWciPiR7dC50eXBlfTwvc3Bhbj5gOw0KICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBzZWxlY3RUb3BpYyh0LmlkKSk7DQogICAgdG9waWNMaXN0RWwuYXBwZW5kQ2hpbGQoaXRlbSk7DQogIH0pOw0KDQogIHByb2dDb3VudEVsLnRleHRDb250ZW50ID0gY29tcGxldGVkVG9waWNzLnNpemU7DQp9DQoNCmZ1bmN0aW9uIHNlbGVjdFRvcGljKGlkKXsNCiAgY29uc3QgdG9waWMgPSB0b3BpY3MuZmluZCh4ID0+IHguaWQgPT09IGlkKTsNCiAgaWYoIXRvcGljKSByZXR1cm47DQogIGN1cnJlbnRUb3BpY0lkID0gaWQ7DQogIGNvbXBsZXRlZFRvcGljcy5hZGQoaWQpOw0KICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2g2LWNvbXBsZXRlZCIsIEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oY29tcGxldGVkVG9waWNzKSkpOw0KICByZW5kZXJUb3BpYyh0b3BpYyk7DQogIHJlbmRlck5hdihzZWFyY2hJbnB1dC52YWx1ZSk7DQp9DQoNCmZ1bmN0aW9uIHJlbmRlclRvcGljKHRvcGljKXsNCiAgY29uc3QgcXVpeiA9IHRvcGljLnF1aXogPyBgDQogICAgPGRpdiBjbGFzcz0icXVpeiI+DQogICAgICA8ZGl2IGNsYXNzPSJxdWl6LXF1ZXN0aW9uIj4ke3RvcGljLnF1aXoucXVlc3Rpb259PC9kaXY+DQogICAgICA8ZGl2IGNsYXNzPSJxdWl6LW9wdGlvbnMiPg0KICAgICAgICAke3RvcGljLnF1aXoub3B0aW9ucy5tYXAoKG9wdCxpKT0+YDxidXR0b24gb25jbGljaz0iY2hlY2tRdWl6KCR7aX0sJHt0b3BpYy5xdWl6LmNvcnJlY3R9KSI+JHtvcHR9PC9idXR0b24+YCkuam9pbigiIil9DQogICAgICA8L2Rpdj4NCiAgICAgIDxkaXYgY2xhc3M9InF1aXotZXhwbGFpbiIgaWQ9InF1aXpFeHBsYWluIj4ke3RvcGljLnF1aXouZXhwbGFpbn08L2Rpdj4NCiAgICA8L2Rpdj4NCiAgYCA6ICIiOw0KDQogIHRvcGljQ29udGVudEVsLmlubmVySFRNTCA9IGANCiAgICA8ZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0iYmFkZ2UiPiR7dG9waWMudHlwZX08L2Rpdj4NCiAgICAgIDxoMj4ke3RvcGljLnRpdGxlfTwvaDI+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+TliBOb3RlcyAoTkNFUlQtZnJpZW5kbHkpPC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5jb3JlTm90ZXN9PC9wPg0KICAgICAgICA8dWw+JHt0b3BpYy5wb2ludHMubWFwKHA9PmA8bGk+JHtwfTwvbGk+YCkuam9pbigiIil9PC91bD4NCg0KICAgICAgICA8ZGl2IGNsYXNzPSJ2aWRlby1jb250YWluZXIiPg0KICAgICAgICAgIDxpZnJhbWUNCiAgICAgICAgICAgIHNyYz0iJHtjaDZWaWRlby5lbWJlZH0iDQogICAgICAgICAgICBhbGxvdz0iYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlIg0KICAgICAgICAgICAgYWxsb3dmdWxsc2NyZWVuDQogICAgICAgICAgPjwvaWZyYW1lPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IzkzYzVmZDtmb250LXNpemU6MC45cmVtOyI+DQogICAgICAgICAgU3VubGlrZSBTdHVkeSB2aWRlbzogPGEgaHJlZj0iJHtjaDZWaWRlby55dFdhdGNofSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiPiR7dG9waWMudmlkZW9UaW1lfTwvYT4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn46sIEJldHRlciBBbmltYXRpb24gKHN0ZXAtYnktc3RlcCk8L2gzPg0KICAgICAgICA8ZGl2IGNsYXNzPSJhbmltLWNvbnRhaW5lciI+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYW5pbS10b29sYmFyIj4NCiAgICAgICAgICAgIDxkaXY+QW5pbWF0aW9uOiA8c3Ryb25nPiR7dG9waWMuYW5pbWF0aW9uVHlwZX08L3N0cm9uZz48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bnMiPg0KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blBsYXkiIG9uY2xpY2s9InRvZ2dsZVBsYXkoKSI+UGF1c2U8L2J1dHRvbj4NCiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIG9uY2xpY2s9InJlcGxheSgpIj5SZXBsYXk8L2J1dHRvbj4NCiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5TdGVwIiBvbmNsaWNrPSJuZXh0U3RlcCgpIj5OZXh0IHN0ZXA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyIj4NCiAgICAgICAgICAgICAgICBTcGVlZA0KICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0ic3BlZWQiIHR5cGU9InJhbmdlIiBtaW49IjAuMiIgbWF4PSIyLjUiIHN0ZXA9IjAuMSIgdmFsdWU9IjEuMCIgLz4NCiAgICAgICAgICAgICAgICA8c3BhbiBpZD0ic3BlZWRWYWwiPjEuMMOXPC9zcGFuPg0KICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDxjYW52YXMgaWQ9ImFuaW1DYW52YXMiPjwvY2FudmFzPg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcHRpb24iIGlkPSJhbmltQ2FwdGlvbiI+PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+SoSBFeGFtIEhpbnQ8L2gzPg0KICAgICAgICA8cD4ke3RvcGljLm5jZXJ0SGludH08L3A+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn6egIFF1aWNrIE1pbmQgTWFwPC9oMz4NCiAgICAgICAgPGRpdiBjbGFzcz0ibWluZG1hcCI+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibW0tbm9kZSI+PHN0cm9uZz5OZXJ2b3VzPC9zdHJvbmc+PGJyLz5SZWNlcHRvciDihpIgbmV1cm9uIGltcHVsc2Ug4oaSIHN5bmFwc2Ug4oaSIGVmZmVjdG9yOyByZWZsZXggYXJjOyBicmFpbiByZWdpb25zLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+UGxhbnRzPC9zdHJvbmc+PGJyLz5JbW1lZGlhdGUgbW92ZW1lbnQgKHR1cmdvcikgdnMgdHJvcGlzbSAoZ3Jvd3RoKSArIGF1eGluLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+RW5kb2NyaW5lPC9zdHJvbmc+PGJyLz5Ib3Jtb25lcyBpbiBibG9vZDogYWRyZW5hbGluZSwgdGh5cm94aW5lLCBpbnN1bGluLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+RmVlZGJhY2s8L3N0cm9uZz48YnIvPk1haW50YWlucyBzdGFibGUgbGV2ZWxzIChlLmcuLCBpbnN1bGluIHZzIHN1Z2FyKS48L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgJHtxdWl6fQ0KICAgIDwvZGl2Pg0KICBgOw0KDQogIHNldHVwQW5pbWF0aW9uKHRvcGljLmFuaW1hdGlvblR5cGUpOw0KfQ0KDQp3aW5kb3cuY2hlY2tRdWl6ID0gZnVuY3Rpb24oc2VsZWN0ZWQsIGNvcnJlY3Qpew0KICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1aXotb3B0aW9ucyBidXR0b24iKTsNCiAgYnV0dG9ucy5mb3JFYWNoKChiLGkpPT57DQogICAgYi5kaXNhYmxlZCA9IHRydWU7DQogICAgaWYoaSA9PT0gY29ycmVjdCkgYi5jbGFzc0xpc3QuYWRkKCJjb3JyZWN0Iik7DQogIH0pOw0KICBjb25zdCBleCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6RXhwbGFpbiIpOw0KICBpZihleCkgZXguc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQp9Ow0KDQpzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGUgPT4gcmVuZGVyTmF2KGUudGFyZ2V0LnZhbHVlKSk7DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIENBTlZBUyBFTkdJTkUgKERQUi1zYWZlKQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KbGV0IGFuaW1DYW52YXM9bnVsbCwgY3R4PW51bGwsIHJhZj1udWxsLCB0MD0wOw0KbGV0IHBsYXlpbmc9dHJ1ZTsNCmxldCBzcGVlZD0xLjA7DQoNCmNvbnN0IHN0YXRlID0gew0KICBhbmltOiJzdGltdWx1c1Jlc3BvbnNlIiwNCiAgc3RlcDogMCwNCiAgc3RlcHM6IDEsICAgICAvLyB3aWxsIGJlIHNldCBieSBzY2VuZQ0KICBjYXB0aW9uOiAiIg0KfTsNCg0KZnVuY3Rpb24gZml0Q2FudmFzKGNhbnZhcywgY3R4KXsNCiAgY29uc3QgZHByID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7DQogIGNvbnN0IHIgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Ioci53aWR0aCAqIGRwcik7DQogIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHIuaGVpZ2h0ICogZHByKTsNCiAgY3R4LnNldFRyYW5zZm9ybShkcHIsMCwwLGRwciwwLDApOw0KICByZXR1cm4geyB3OnIud2lkdGgsIGg6ci5oZWlnaHQgfTsNCn0NCg0KZnVuY3Rpb24gcmVwbGF5KCl7DQogIHN0YXRlLnN0ZXAgPSAwOw0KICB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOw0KfQ0KZnVuY3Rpb24gdG9nZ2xlUGxheSgpew0KICBwbGF5aW5nID0gIXBsYXlpbmc7DQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5QbGF5IikudGV4dENvbnRlbnQgPSBwbGF5aW5nID8gIlBhdXNlIiA6ICJQbGF5IjsNCn0NCmZ1bmN0aW9uIG5leHRTdGVwKCl7DQogIGlmKHN0YXRlLnN0ZXBzIDw9IDEpIHJldHVybjsNCiAgc3RhdGUuc3RlcCA9IE1hdGgubWluKHN0YXRlLnN0ZXBzLTEsIHN0YXRlLnN0ZXAgKyAxKTsNCn0NCmZ1bmN0aW9uIHNldFN0ZXBCdXR0b24oKXsNCiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blN0ZXAiKTsNCiAgaWYoIWJ0bikgcmV0dXJuOw0KICBidG4uZGlzYWJsZWQgPSAhKHN0YXRlLnN0ZXBzID4gMSk7DQp9DQpmdW5jdGlvbiBzZXRDYXB0aW9uKHR4dCl7DQogIHN0YXRlLmNhcHRpb24gPSB0eHQ7DQogIGNvbnN0IGNhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbmltQ2FwdGlvbiIpOw0KICBpZihjYXApIGNhcC50ZXh0Q29udGVudCA9IHR4dDsNCn0NCg0KZnVuY3Rpb24gc2V0dXBBbmltYXRpb24odHlwZSl7DQogIHN0YXRlLmFuaW0gPSB0eXBlOw0KICBzdGF0ZS5zdGVwID0gMDsNCg0KICBhbmltQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuaW1DYW52YXMiKTsNCiAgY3R4ID0gYW5pbUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KICBmaXRDYW52YXMoYW5pbUNhbnZhcywgY3R4KTsNCg0KICBjb25zdCBzcGVlZFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVlZCIpOw0KICBjb25zdCBzcGVlZFZhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVlZFZhbCIpOw0KICBzcGVlZFNsaWRlci5vbmlucHV0ID0gKCkgPT4gew0KICAgIHNwZWVkID0gcGFyc2VGbG9hdChzcGVlZFNsaWRlci52YWx1ZSk7DQogICAgc3BlZWRWYWwudGV4dENvbnRlbnQgPSBzcGVlZC50b0ZpeGVkKDEpKyLDlyI7DQogIH07DQogIHNwZWVkID0gcGFyc2VGbG9hdChzcGVlZFNsaWRlci52YWx1ZSk7DQogIHNwZWVkVmFsLnRleHRDb250ZW50ID0gc3BlZWQudG9GaXhlZCgxKSsiw5ciOw0KDQogIC8vIGluaXQgc2NlbmUgc3RlcCBjb3VudA0KICBjb25zdCBzYyA9IHNjZW5lc1tzdGF0ZS5hbmltXSB8fCBzY2VuZXMuc3RpbXVsdXNSZXNwb25zZTsNCiAgc3RhdGUuc3RlcHMgPSBzYy5zdGVwcyB8fCAxOw0KICBzZXRTdGVwQnV0dG9uKCk7DQogIHNldENhcHRpb24oc2MuY2FwdGlvbiA/IHNjLmNhcHRpb24oc3RhdGUuc3RlcCkgOiAiIik7DQoNCiAgaWYocmFmKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpOw0KICB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICBjb25zdCBsb29wID0gKG5vdykgPT4gew0KICAgIGNvbnN0IGR0ID0gKChub3cgLSB0MCkgLyAxMDAwKSAqIHNwZWVkOw0KICAgIGNvbnN0IHt3LGh9ID0gZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQogICAgY29uc3Qgc2MgPSBzY2VuZXNbc3RhdGUuYW5pbV0gfHwgc2NlbmVzLnN0aW11bHVzUmVzcG9uc2U7DQoNCiAgICAvLyBrZWVwIHN0ZXAgY291bnQgc3luY2VkDQogICAgc3RhdGUuc3RlcHMgPSBzYy5zdGVwcyB8fCAxOw0KICAgIHNldFN0ZXBCdXR0b24oKTsNCg0KICAgIHNjLmRyYXcoY3R4LCB3LCBoLCBkdCwgc3RhdGUpOw0KDQogICAgLy8gY2FwdGlvbiB1cGRhdGUgKGJhc2VkIG9uIHN0ZXApDQogICAgaWYoc2MuY2FwdGlvbikgc2V0Q2FwdGlvbihzYy5jYXB0aW9uKHN0YXRlLnN0ZXAsIGR0KSk7DQogICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOw0KICB9Ow0KICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQp9DQoNCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiBzZXR1cEFuaW1hdGlvbihzdGF0ZS5hbmltKSk7DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIERSQVcgSEVMUEVSUw0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KZnVuY3Rpb24gYmcoYyx3LGgpew0KICBjb25zdCBnID0gYy5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsMCxoKTsNCiAgZy5hZGRDb2xvclN0b3AoMCwiIzBiMTIyMyIpOw0KICBnLmFkZENvbG9yU3RvcCgxLCIjMDUwODE2Iik7DQogIGMuZmlsbFN0eWxlPWc7DQogIGMuZmlsbFJlY3QoMCwwLHcsaCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMTApIjsNCiAgYy5maWxsUmVjdCgwLGgqMC43OCx3LGgqMC4yMik7DQp9DQpmdW5jdGlvbiBycihjLHgseSx3LGgscil7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgrcix5KTsNCiAgYy5hcmNUbyh4K3cseSx4K3cseStoLHIpOw0KICBjLmFyY1RvKHgrdyx5K2gseCx5K2gscik7DQogIGMuYXJjVG8oeCx5K2gseCx5LHIpOw0KICBjLmFyY1RvKHgseSx4K3cseSxyKTsNCiAgYy5jbG9zZVBhdGgoKTsNCn0NCmZ1bmN0aW9uIHBhbmVsKGMseCx5LHcsaCx0aXRsZSl7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA3KSI7DQogIHJyKGMseCx5LHcsaCwxNik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIjsNCiAgYy5zdHJva2UoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMTY1LDE4MCwyNTIsMC45NSkiOw0KICBjLmZvbnQ9ImJvbGQgMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KHRpdGxlLCB4KzEyLCB5KzE4KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBkb3QoYyx4LHkscixmaWxsKXsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5maWxsU3R5bGU9ZmlsbDsNCiAgYy5hcmMoeCx5LHIsMCxNYXRoLlBJKjIpOw0KICBjLmZpbGwoKTsNCn0NCmZ1bmN0aW9uIHN0cm9rZURvdChjLHgseSxyLGZpbGwsc3Ryb2tlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIixsdz0yKXsNCiAgYy5zYXZlKCk7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMuZmlsbFN0eWxlPWZpbGw7DQogIGMuYXJjKHgseSxyLDAsTWF0aC5QSSoyKTsNCiAgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9c3Ryb2tlOw0KICBjLmxpbmVXaWR0aD1sdzsNCiAgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBsaW5lKGMseDEseTEseDIseTIsdyxzdHJva2Upew0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT1zdHJva2U7DQogIGMubGluZVdpZHRoPXc7DQogIGMubGluZUNhcD0icm91bmQiOw0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4MSx5MSk7DQogIGMubGluZVRvKHgyLHkyKTsNCiAgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiB0ZXh0KGMseCx5LHQsYWxwaGE9MC45NSwgY29sb3I9InJnYmEoMTY1LDE4MCwyNTIsMSkiLCBib2xkPXRydWUpew0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9Y29sb3IucmVwbGFjZSgiMSkiLCBhbHBoYSsiKSIpOw0KICBjLmZvbnQ9KGJvbGQ/ImJvbGQgIjoiIikgKyAiMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KHQseCx5KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBhcnJvdyhjLHgxLHkxLHgyLHkyLGNvbG9yPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIil7DQogIGxpbmUoYyx4MSx5MSx4Mix5MiwzLGNvbG9yKTsNCiAgY29uc3QgYW5nPU1hdGguYXRhbjIoeTIteTEseDIteDEpOw0KICBjb25zdCBMPTEwOw0KICBsaW5lKGMseDIseTIseDItTWF0aC5jb3MoYW5nLTAuNSkqTCx5Mi1NYXRoLnNpbihhbmctMC41KSpMLDMsY29sb3IpOw0KICBsaW5lKGMseDIseTIseDItTWF0aC5jb3MoYW5nKzAuNSkqTCx5Mi1NYXRoLnNpbihhbmcrMC41KSpMLDMsY29sb3IpOw0KfQ0KZnVuY3Rpb24gY2xhbXAodixhLGIpeyByZXR1cm4gTWF0aC5tYXgoYSxNYXRoLm1pbihiLHYpKTsgfQ0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBTQ0VORVMgKEJldHRlciwgc3RlcC1ieS1zdGVwKQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3Qgc2NlbmVzID0ge307DQoNCi8qIFNjZW5lIDE6IFN0aW11bHVzLXJlc3BvbnNlIHBpcGVsaW5lICovDQpzY2VuZXMuc3RpbXVsdXNSZXNwb25zZSA9IHsNCiAgc3RlcHM6IDQsDQogIGNhcHRpb24oc3RlcCl7DQogICAgY29uc3QgY2FwcyA9IFsNCiAgICAgICJTdGVwIDE6IFN0aW11bHVzIGhhcHBlbnMgKGNoYW5nZSBpbiBlbnZpcm9ubWVudCkuIiwNCiAgICAgICJTdGVwIDI6IFJlY2VwdG9yIGRldGVjdHMgc3RpbXVsdXMgYW5kIHNlbmRzIGluZm9ybWF0aW9uLiIsDQogICAgICAiU3RlcCAzOiBDb250cm9sIGNlbnRyZSBwcm9jZXNzZXMgJiBkZWNpZGVzIHJlc3BvbnNlLiIsDQogICAgICAiU3RlcCA0OiBFZmZlY3RvciBhY3RzIOKGkiByZXNwb25zZSBpcyBwcm9kdWNlZC4iDQogICAgXTsNCiAgICByZXR1cm4gY2Fwc1tzdGVwXSB8fCBjYXBzWzBdOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA3LHk9aCowLjE4LGJ3PXcqMC44NixiaD1oKjAuNjA7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIlN0aW11bHVzIOKGkiBSZWNlcHRvciDihpIgQ29udHJvbCBjZW50cmUg4oaSIEVmZmVjdG9yIOKGkiBSZXNwb25zZSIpOw0KDQogICAgY29uc3Qgbm9kZXMgPSBbDQogICAgICB7bmFtZToiU3RpbXVsdXMiLCBjeDp4K2J3KjAuMTAsIGN5OnkrYmgqMC41MCwgY29sOiJyZ2JhKDI0NSwxNTgsMTEsMC44NSkifSwNCiAgICAgIHtuYW1lOiJSZWNlcHRvciIsIGN4OngrYncqMC4zMiwgY3k6eStiaCowLjUwLCBjb2w6InJnYmEoNTksMTMwLDI0NiwwLjg1KSJ9LA0KICAgICAge25hbWU6IkNvbnRyb2xcbmNlbnRyZSIsIGN4OngrYncqMC41NCwgY3k6eStiaCowLjUwLCBjb2w6InJnYmEoMTM5LDkyLDI0NiwwLjg1KSJ9LA0KICAgICAge25hbWU6IkVmZmVjdG9yIiwgY3g6eCtidyowLjc2LCBjeTp5K2JoKjAuNTAsIGNvbDoicmdiYSgxNiwxODUsMTI5LDAuODUpIn0sDQogICAgICB7bmFtZToiUmVzcG9uc2UiLCBjeDp4K2J3KjAuOTAsIGN5OnkrYmgqMC41MCwgY29sOiJyZ2JhKDM0LDE5Nyw5NCwwLjk1KSJ9DQogICAgXTsNCiAgICBjb25zdCBhY3RpdmVTdGVwID0gcy5zdGVwOw0KDQogICAgZm9yKGxldCBpPTA7aTxub2Rlcy5sZW5ndGg7aSsrKXsNCiAgICAgIGNvbnN0IG49bm9kZXNbaV07DQogICAgICBjb25zdCBnbG93ID0gKGk8PWFjdGl2ZVN0ZXApID8gMSA6IDAuMjU7DQogICAgICBzdHJva2VEb3QoYyxuLmN4LG4uY3ksMjIsIG4uY29sLnJlcGxhY2UoIjAuODUiLCAoMC4yNSswLjYqZ2xvdykudG9GaXhlZCgyKSksICJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIiwgMik7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuOTApIjsNCiAgICAgIGMuZm9udD0iYm9sZCAxMXB4IHN5c3RlbS11aSI7DQogICAgICBjLnRleHRBbGlnbj0iY2VudGVyIjsNCiAgICAgIGNvbnN0IGxpbmVzPW4ubmFtZS5zcGxpdCgiXG4iKTsNCiAgICAgIGxpbmVzLmZvckVhY2goKEwsaWkpPT5jLmZpbGxUZXh0KEwsIG4uY3gsIG4uY3krMzgraWkqMTIpKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgaWYoaTxub2Rlcy5sZW5ndGgtMSl7DQogICAgICAgIGNvbnN0IG54PW5vZGVzW2krMV0uY3g7DQogICAgICAgIGNvbnN0IGNvbCA9IChpPGFjdGl2ZVN0ZXApID8gInJnYmEoMzQsMTk3LDk0LDAuNTUpIiA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIjsNCiAgICAgICAgYXJyb3coYyxuLmN4KzI4LG4uY3ksbngtMjgsbi5jeSxjb2wpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIHBhcnRpY2xlIG1vdmVzIHRvIGlsbHVzdHJhdGUgZmxvdw0KICAgIGNvbnN0IHA9KHQqMC4zNSklMTsNCiAgICBjb25zdCBzZWdDb3VudD00Ow0KICAgIGNvbnN0IHNlZyA9IE1hdGgubWluKHNlZ0NvdW50LTEsIE1hdGguZmxvb3IocCpzZWdDb3VudCkpOw0KICAgIGNvbnN0IGxvY2FsID0gcCpzZWdDb3VudCAtIHNlZzsNCiAgICBjb25zdCBhID0gbm9kZXNbc2VnXSwgYj1ub2Rlc1tzZWcrMV07DQogICAgaWYoc2VnPD1hY3RpdmVTdGVwKXsNCiAgICAgIGNvbnN0IHB4PWEuY3ggKyAoYi5jeC1hLmN4KSpsb2NhbDsNCiAgICAgIGNvbnN0IHB5PWEuY3kgKyAoYi5jeS1hLmN5KSpsb2NhbDsNCiAgICAgIGRvdChjLHB4LHB5LDcsInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogU2NlbmUgMjogTmV1cm9uICsgU3luYXBzZSAoc3RlcCkgKi8NCnNjZW5lcy5uZXVyb25TeW5hcHNlU3RlcHMgPSB7DQogIHN0ZXBzOiA1LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBJbmZvcm1hdGlvbiBpcyByZWNlaXZlZCBhdCBkZW5kcml0ZSAocmVjZXB0b3IgZW5kKS4iLA0KICAgICAgIlN0ZXAgMjogRWxlY3RyaWNhbCBpbXB1bHNlIHRyYXZlbHMgdGhyb3VnaCBjZWxsIGJvZHkuIiwNCiAgICAgICJTdGVwIDM6IEltcHVsc2UgbW92ZXMgYWxvbmcgYXhvbiB0byBheG9uIHRlcm1pbmFsLiIsDQogICAgICAiU3RlcCA0OiBDaGVtaWNhbHMgcmVsZWFzZWQgaW50byBzeW5hcHNlIGdhcC4iLA0KICAgICAgIlN0ZXAgNTogTmV4dCBuZXVyb24gc3RhcnRzIGEgbmV3IGltcHVsc2UgKHNpZ25hbCBjb250aW51ZXMpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHBhZD0xNDsNCiAgICBjb25zdCB4PXBhZCwgeT1oKjAuMTYsIGJ3PXctcGFkKjIsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiTmV1cm9uIOKGkiBTeW5hcHNlIOKGkiBOZXh0IE5ldXJvbiAoQ2xpY2sgTmV4dCBzdGVwKSIpOw0KDQogICAgY29uc3QgbGVmdEN4ID0geCtidyowLjI2LCBtaWRZID0geStiaCowLjUyOw0KICAgIGNvbnN0IHJpZ2h0Q3ggPSB4K2J3KjAuNzQ7DQoNCiAgICAvLyBuZXVyb24gMQ0KICAgIC8vIGRlbmRyaXRlcw0KICAgIGZvcihsZXQgaT0wO2k8NztpKyspew0KICAgICAgY29uc3QgYW5nPS0xLjUgKyBpKjAuNDU7DQogICAgICBjb25zdCBkeD1sZWZ0Q3gtODAgKyBNYXRoLmNvcyhhbmcpKjM1Ow0KICAgICAgY29uc3QgZHk9bWlkWSArIE1hdGguc2luKGFuZykqMzU7DQogICAgICBsaW5lKGMsbGVmdEN4LTI1LG1pZFksZHgsZHksMywicmdiYSgyMjYsMjMyLDI0MCwwLjIyKSIpOw0KICAgICAgZG90KGMsZHgsZHksNCwicmdiYSg1OSwxMzAsMjQ2LDAuNTUpIik7DQogICAgfQ0KICAgIC8vIHNvbWENCiAgICBzdHJva2VEb3QoYyxsZWZ0Q3gsbWlkWSwyNiwicmdiYSg1OSwxMzAsMjQ2LDAuMTgpIik7DQogICAgdGV4dChjLGxlZnRDeC0yMCxtaWRZLTM2LCJDZWxsIGJvZHkiLDAuOSwicmdiYSgxNjUsMTgwLDI1MiwxKSIsdHJ1ZSk7DQogICAgLy8gYXhvbg0KICAgIGNvbnN0IGF4MT1sZWZ0Q3grMjYsIGF4Mj14K2J3KjAuNTAtMjQ7DQogICAgbGluZShjLGF4MSxtaWRZLGF4MixtaWRZLDYsInJnYmEoMjI2LDIzMiwyNDAsMC4yMikiKTsNCiAgICAvLyBteWVsaW4gc2VnbWVudHMNCiAgICBmb3IobGV0IGk9MDtpPDU7aSsrKXsNCiAgICAgIGNvbnN0IHN4PWF4MSsyMCtpKjQ1Ow0KICAgICAgcnIoYyxzeCxtaWRZLTE0LDI4LDI4LDEyKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMTApIjsNCiAgICAgIGMuZmlsbCgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjE1KSI7DQogICAgICBjLnN0cm9rZSgpOw0KICAgIH0NCiAgICB0ZXh0KGMsKGF4MStheDIpLzItMjAsbWlkWS0yOCwiQXhvbiIsMC45KTsNCg0KICAgIC8vIHN5bmFwc2UgZ2FwDQogICAgY29uc3Qgc3luWCA9IHgrYncqMC41MDsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyMzksNjgsNjgsMC4xMCkiOw0KICAgIHJyKGMsc3luWC0xMCxtaWRZLTM1LDIwLDcwLDEwKTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMzksNjgsNjgsMC4yNSkiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLHN5blgtMjIsbWlkWSs1NSwiU3luYXBzZSIsMC45LCJyZ2JhKDI0OCwxMTMsMTEzLDEpIix0cnVlKTsNCg0KICAgIC8vIG5ldXJvbiAyIChzaW1wbGUgZGVuZHJpdGUgKyBzb21hKQ0KICAgIC8vIGRlbmRyaXRlcyBvZiBuZXVyb24yDQogICAgZm9yKGxldCBpPTA7aTw3O2krKyl7DQogICAgICBjb25zdCBhbmc9LTEuNSArIGkqMC40NTsNCiAgICAgIGNvbnN0IGR4PXJpZ2h0Q3grODAgKyBNYXRoLmNvcyhhbmcpKjM1Ow0KICAgICAgY29uc3QgZHk9bWlkWSArIE1hdGguc2luKGFuZykqMzU7DQogICAgICBsaW5lKGMscmlnaHRDeCsyNSxtaWRZLGR4LGR5LDMsInJnYmEoMjI2LDIzMiwyNDAsMC4yMikiKTsNCiAgICAgIGRvdChjLGR4LGR5LDQsInJnYmEoMTYsMTg1LDEyOSwwLjU1KSIpOw0KICAgIH0NCiAgICBzdHJva2VEb3QoYyxyaWdodEN4LG1pZFksMjYsInJnYmEoMTYsMTg1LDEyOSwwLjE2KSIpOw0KICAgIHRleHQoYyxyaWdodEN4LTI4LG1pZFktMzYsIk5leHQgbmV1cm9uIiwwLjksInJnYmEoMTY1LDE4MCwyNTIsMSkiLHRydWUpOw0KDQogICAgLy8gc3RlcC1iYXNlZCBzaWduYWwNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCg0KICAgIC8vIFB1bHNlIG1hcmtlciAoZWxlY3RyaWNhbCBpbXB1bHNlKSDigJMgeWVsbG93IGRvdA0KICAgIGZ1bmN0aW9uIGltcHVsc2VBdChweCxweSxhbHBoYT0xKXsNCiAgICAgIGRvdChjLHB4LHB5LDcsYHJnYmEoMjUwLDIwNCwyMSwke2FscGhhfSlgKTsNCiAgICAgIGRvdChjLHB4KzIscHktMiwyLGByZ2JhKDI1NSwyNTUsMjU1LCR7MC43KmFscGhhfSlgKTsNCiAgICB9DQoNCiAgICAvLyBTdGVwIDE6IGRlbmRyaXRlDQogICAgaWYoc3RlcD49MCl7DQogICAgICBjb25zdCBhPTAuMzUrMC42NSooMC41KzAuNSpNYXRoLnNpbih0KjIuMCkpOw0KICAgICAgaWYoc3RlcD09PTApIGltcHVsc2VBdChsZWZ0Q3gtNzAsIG1pZFktMTUsIGEpOw0KICAgICAgaWYoc3RlcD4wKSBpbXB1bHNlQXQobGVmdEN4LTM1LCBtaWRZLCAwLjc1KTsNCiAgICAgIHRleHQoYyxsZWZ0Q3gtMTEwLG1pZFktNTUsIkRlbmRyaXRlIHJlY2VpdmVzIGlucHV0IiwwLjkpOw0KICAgIH0NCg0KICAgIC8vIFN0ZXAgMi0zOiBheG9uIHRyYXZlbA0KICAgIGlmKHN0ZXA+PTEpew0KICAgICAgY29uc3QgcCA9IGNsYW1wKCh0KjAuMzUpJTEsMCwxKTsNCiAgICAgIGlmKHN0ZXA9PT0xKXsNCiAgICAgICAgY29uc3QgcHggPSBsZWZ0Q3gtMTAgKyBwKjMwOw0KICAgICAgICBpbXB1bHNlQXQocHgsbWlkWSwwLjk1KTsNCiAgICAgICAgdGV4dChjLGxlZnRDeC0xMCxtaWRZKzc1LCJJbXB1bHNlIGVudGVycyBjZWxsIGJvZHkiLDAuOSk7DQogICAgICB9DQogICAgICBpZihzdGVwPT09Mil7DQogICAgICAgIGNvbnN0IHB4ID0gYXgxICsgcCooYXgyLWF4MSk7DQogICAgICAgIGltcHVsc2VBdChweCxtaWRZLDAuOTUpOw0KICAgICAgICB0ZXh0KGMseCtidyowLjI4LG1pZFkrNzUsIkltcHVsc2UgdHJhdmVscyBhbG9uZyBheG9uIiwwLjkpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIFN0ZXAgNDogbmV1cm90cmFuc21pdHRlcnMgYWNyb3NzIHN5bmFwc2UNCiAgICBpZihzdGVwPj0zKXsNCiAgICAgIGNvbnN0IHA9KHQqMC43KSUxOw0KICAgICAgY29uc3QgY291bnQ9MTA7DQogICAgICBmb3IobGV0IGk9MDtpPGNvdW50O2krKyl7DQogICAgICAgIGNvbnN0IHE9KHAraSowLjA4KSUxOw0KICAgICAgICBjb25zdCBweCA9IHN5blgtMjAgKyBxKjQwOw0KICAgICAgICBjb25zdCBweSA9IG1pZFktMjAgKyAoaSU1KSoxMDsNCiAgICAgICAgZG90KGMscHgscHksMywicmdiYSgyNDgsMTEzLDExMywwLjkpIik7DQogICAgICB9DQogICAgICB0ZXh0KGMsc3luWC0xMjAsbWlkWS03NSwiQ2hlbWljYWxzIHJlbGVhc2VkIChuZXVyb3RyYW5zbWl0dGVycykiLDAuOSwicmdiYSgyNDgsMTEzLDExMywxKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgLy8gU3RlcCA1OiBuZXcgaW1wdWxzZSBzdGFydHMgaW4gbmV4dCBuZXVyb24NCiAgICBpZihzdGVwPj00KXsNCiAgICAgIGNvbnN0IGE9MC4zNSswLjY1KigwLjUrMC41Kk1hdGguc2luKHQqMi4yKSk7DQogICAgICBpbXB1bHNlQXQocmlnaHRDeCszNSwgbWlkWSwgYSk7DQogICAgICB0ZXh0KGMscmlnaHRDeC00MCxtaWRZKzc1LCJOZXcgaW1wdWxzZSBzdGFydHMgaGVyZSIsMC45KTsNCiAgICB9DQoNCiAgICAvLyBsYWJlbHMNCiAgICB0ZXh0KGMsbGVmdEN4LTk4LG1pZFkrNTUsIk5ldXJvbiAxIiwwLjksInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KICAgIHRleHQoYyxyaWdodEN4LTMyLG1pZFkrNTUsIk5ldXJvbiAyIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICB9DQp9Ow0KDQovKiBTY2VuZSAzOiBSZWZsZXggYXJjIChzdGVwKSAqLw0Kc2NlbmVzLnJlZmxleEFyY1N0ZXBzID0gew0KICBzdGVwczogNiwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogSG90IG9iamVjdCBpcyB0b3VjaGVkIChzdGltdWx1cykuIiwNCiAgICAgICJTdGVwIDI6IFNraW4gcmVjZXB0b3IgZGV0ZWN0cyBoZWF0LiIsDQogICAgICAiU3RlcCAzOiBTZW5zb3J5IG5ldXJvbiBjYXJyaWVzIGltcHVsc2UgdG8gc3BpbmFsIGNvcmQuIiwNCiAgICAgICJTdGVwIDQ6IFJlbGF5IG5ldXJvbiBpbiBzcGluYWwgY29yZCBwYXNzZXMgc2lnbmFsIHRvIG1vdG9yIG5ldXJvbi4iLA0KICAgICAgIlN0ZXAgNTogTW90b3IgbmV1cm9uIHNlbmRzIGltcHVsc2UgdG8gbXVzY2xlIChlZmZlY3RvcikuIiwNCiAgICAgICJTdGVwIDY6IE11c2NsZSBjb250cmFjdHMg4oaSIGhhbmQgd2l0aGRyYXdzIChyZXNwb25zZSkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiUmVmbGV4IEFyYyAoTmV4dCBzdGVwKSIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQogICAgY29uc3QgaGFuZFg9eCtidyowLjE4LCBoYW5kWT15K2JoKjAuNTU7DQogICAgY29uc3QgZmxhbWVYPXgrYncqMC4xMCwgZmxhbWVZPXkrYmgqMC43MjsNCg0KICAgIC8vIGZsYW1lDQogICAgY29uc3QgZmxpY2s9MC41KzAuNSpNYXRoLnNpbih0KjMuMCk7DQogICAgYy5maWxsU3R5bGU9YHJnYmEoMjQ1LDE1OCwxMSwkezAuMjUrMC4zNSpmbGlja30pYDsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGZsYW1lWCwgZmxhbWVZKTsNCiAgICBjLnF1YWRyYXRpY0N1cnZlVG8oZmxhbWVYLTE1LCBmbGFtZVktMjUsIGZsYW1lWCwgZmxhbWVZLTU1LTE4KmZsaWNrKTsNCiAgICBjLnF1YWRyYXRpY0N1cnZlVG8oZmxhbWVYKzE4LCBmbGFtZVktMjUsIGZsYW1lWCwgZmxhbWVZKTsNCiAgICBjLmZpbGwoKTsNCiAgICBjLmZpbGxTdHlsZT1gcmdiYSgyMzksNjgsNjgsJHswLjIwKzAuMjgqZmxpY2t9KWA7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhmbGFtZVgsIGZsYW1lWSk7DQogICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKGZsYW1lWC0xMCwgZmxhbWVZLTE4LCBmbGFtZVgsIGZsYW1lWS0zNS0xMCpmbGljayk7DQogICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKGZsYW1lWCsxMiwgZmxhbWVZLTE4LCBmbGFtZVgsIGZsYW1lWSk7DQogICAgYy5maWxsKCk7DQogICAgdGV4dChjLCBmbGFtZVgtMTgsIGZsYW1lWSsyMiwgIkhvdCIsIDAuOSwgInJnYmEoMjUxLDE0Niw2MCwxKSIsIHRydWUpOw0KDQogICAgLy8gaGFuZCAoc2ltcGxlKQ0KICAgIGNvbnN0IHJldHJhY3QgPSAoc3RlcD49NSkgPyAoMTArMTgqKDAuNSswLjUqTWF0aC5zaW4odCozKSkpIDogMDsNCiAgICBjLnNhdmUoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIjsNCiAgICBjLmxpbmVXaWR0aD0xMDsNCiAgICBjLmxpbmVDYXA9InJvdW5kIjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGhhbmRYK3JldHJhY3QsIGhhbmRZKTsNCiAgICBjLmxpbmVUbyhoYW5kWCs3MCtyZXRyYWN0LCBoYW5kWS0xMCk7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGhhbmRYKzcwK3JldHJhY3QsIGhhbmRZLTEwKTsNCiAgICBjLmxpbmVUbyhoYW5kWCs5NStyZXRyYWN0LCBoYW5kWS0zNSk7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGhhbmRYKzcwK3JldHJhY3QsIGhhbmRZLTEwKTsNCiAgICBjLmxpbmVUbyhoYW5kWCsxMDArcmV0cmFjdCwgaGFuZFkpOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLCBoYW5kWC0yMCtyZXRyYWN0LCBoYW5kWS0yMCwgIkhhbmQiLCAwLjkpOw0KDQogICAgLy8gcmVjZXB0b3Igb24gc2tpbg0KICAgIGNvbnN0IHJ4PWhhbmRYKzYwK3JldHJhY3QsIHJ5PWhhbmRZLTEyOw0KICAgIHN0cm9rZURvdChjLCByeCwgcnksIDEwLCAicmdiYSg1OSwxMzAsMjQ2LDAuMjUpIiwgInJnYmEoNTksMTMwLDI0NiwwLjQ1KSIsIDIpOw0KICAgIHRleHQoYywgcngtMzUsIHJ5LTE4LCAiUmVjZXB0b3IiLCAwLjksICJyZ2JhKDE0NywxOTcsMjUzLDEpIiwgdHJ1ZSk7DQoNCiAgICAvLyBzcGluYWwgY29yZCAoY2VudHJlIGJveCkNCiAgICBjb25zdCBzeD14K2J3KjAuNTIsIHN5PXkrYmgqMC41MjsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgxMzksOTIsMjQ2LDAuMTApIjsNCiAgICBycihjLHN4LTcwLHN5LTU1LDE0MCwxMTAsMTgpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDEzOSw5MiwyNDYsMC4yOCkiOw0KICAgIGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLCBzeC00OCwgc3ktNjgsICJTcGluYWwgY29yZCIsIDAuOSwgInJnYmEoMTk2LDE4MSwyNTMsMSkiLCB0cnVlKTsNCiAgICBzdHJva2VEb3QoYywgc3gsIHN5LCAxMCwgInJnYmEoMTM5LDkyLDI0NiwwLjE4KSIsICJyZ2JhKDE5NiwxODEsMjUzLDAuMzUpIiwgMik7DQogICAgdGV4dChjLCBzeC0yOCwgc3krMzAsICJSZWxheVxubmV1cm9uIiwgMC45KTsNCg0KICAgIC8vIG11c2NsZSAoZWZmZWN0b3IpDQogICAgY29uc3QgbXg9eCtidyowLjgyLCBteT15K2JoKjAuNjI7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTYsMTg1LDEyOSwwLjEwKSI7DQogICAgcnIoYyxteC03MCxteS0zNSwxNDAsNzAsMTYpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4zMCkiOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLCBteC0zMCwgbXktNDgsICJNdXNjbGUiLCAwLjksICJyZ2JhKDE2NywyNDMsMjA4LDEpIiwgdHJ1ZSk7DQoNCiAgICAvLyBwYXRod2F5cw0KICAgIC8vIHNlbnNvcnkgbmV1cm9uOiByZWNlcHRvciAtPiBzcGluYWwgY29yZA0KICAgIGNvbnN0IHNlbnNDb2xvciA9IHN0ZXA+PTIgPyAicmdiYSg1OSwxMzAsMjQ2LDAuNTUpIiA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsNCiAgICBhcnJvdyhjLCByeCsxMiwgcnksIHN4LTcwLCBzeS0xMCwgc2Vuc0NvbG9yKTsNCiAgICB0ZXh0KGMsIHgrYncqMC4yOCwgeStiaCowLjM0LCAiU2Vuc29yeSBuZXVyb24iLCAwLjg1LCAicmdiYSgxNDcsMTk3LDI1MywxKSIsIHRydWUpOw0KDQogICAgLy8gbW90b3IgbmV1cm9uOiBzcGluYWwgY29yZCAtPiBtdXNjbGUNCiAgICBjb25zdCBtb3RDb2xvciA9IHN0ZXA+PTQgPyAicmdiYSgxNiwxODUsMTI5LDAuNTUpIiA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsNCiAgICBhcnJvdyhjLCBzeCs3MCwgc3krMTAsIG14LTcwLCBteS01LCBtb3RDb2xvcik7DQogICAgdGV4dChjLCB4K2J3KjAuNjAsIHkrYmgqMC43MCwgIk1vdG9yIG5ldXJvbiIsIDAuODUsICJyZ2JhKDE2NywyNDMsMjA4LDEpIiwgdHJ1ZSk7DQoNCiAgICAvLyBzaG93IG1vdmluZyBpbXB1bHNlIGRvdCBkZXBlbmRpbmcgb24gc3RlcA0KICAgIGZ1bmN0aW9uIG1vdmVEb3QoYXgsYXksYngsYnksc3BkLGFscGhhPTEpew0KICAgICAgY29uc3QgcD0odCpzcGQpJTE7DQogICAgICBkb3QoYywgYXggKyAoYngtYXgpKnAsIGF5KyhieS1heSkqcCwgNiwgYHJnYmEoMjUwLDIwNCwyMSwke2FscGhhfSlgKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPT09MCl7DQogICAgICB0ZXh0KGMsIHgrMTQsIHkrYmgtMTQsICJUb3VjaGluZyBob3Qgb2JqZWN0IHRyaWdnZXJzIGEgZmFzdCBwcm90ZWN0aXZlIHBhdGh3YXkuIiwgMC44NSk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTEpew0KICAgICAgLy8gaGlnaGxpZ2h0IHN0aW11bHVzIGNvbnRhY3QNCiAgICAgIGlmKHN0ZXA9PT0xKXsNCiAgICAgICAgZG90KGMsIGhhbmRYKzcyK3JldHJhY3QsIGhhbmRZLTEwLCA2LCAicmdiYSgyNDUsMTU4LDExLDAuOTUpIik7DQogICAgICAgIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIkhlYXQgc3RpbXVsdXMgZGV0ZWN0ZWQgYXQgc2tpbi4iLCAwLjg1KTsNCiAgICAgIH0NCiAgICB9DQogICAgaWYoc3RlcD09PTIpew0KICAgICAgbW92ZURvdChyeCxyeSxzeC03MCxzeS0xMCwwLjQ1LDEpOw0KICAgICAgdGV4dChjLCB4KzE0LCB5K2JoLTE0LCAiSW1wdWxzZSB0cmF2ZWxzIHRocm91Z2ggc2Vuc29yeSBuZXVyb24gdG8gc3BpbmFsIGNvcmQuIiwgMC44NSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT0zKXsNCiAgICAgIGRvdChjLCBzeCwgc3ksIDcsICJyZ2JhKDI1MCwyMDQsMjEsMC45NSkiKTsNCiAgICAgIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIlJlbGF5IG5ldXJvbiBpbiBzcGluYWwgY29yZCB0cmFuc2ZlcnMgc2lnbmFsIHF1aWNrbHkuIiwgMC44NSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT00KXsNCiAgICAgIG1vdmVEb3Qoc3grNzAsc3krMTAsbXgtNzAsbXktNSwwLjQ1LDEpOw0KICAgICAgdGV4dChjLCB4KzE0LCB5K2JoLTE0LCAiTW90b3IgbmV1cm9uIGNhcnJpZXMgaW1wdWxzZSB0byBtdXNjbGUuIiwgMC44NSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT01KXsNCiAgICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCozLjIpOw0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLmdsb2JhbEFscGhhPTAuMjUrMC4zNSpwdWxzZTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4zNSkiOw0KICAgICAgcnIoYyxteC03MCxteS0zNSwxNDAsNzAsMTYpOyBjLmZpbGwoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgdGV4dChjLCB4KzE0LCB5K2JoLTE0LCAiTXVzY2xlIGNvbnRyYWN0cyDihpIgaGFuZCB3aXRoZHJhd3MgKHJlc3BvbnNlKS4iLCAwLjg1KTsNCiAgICB9DQogIH0NCn07DQoNCi8qIFNjZW5lIDQ6IEJyYWluIGhvdHNwb3RzIChjbGljay1saWtlIHZpYSBzdGVwKSAqLw0Kc2NlbmVzLmJyYWluSG90c3BvdHMgPSB7DQogIHN0ZXBzOiA0LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiT3ZlcnZpZXc6IEJyYWluIGludGVncmF0ZXMgaW5mb3JtYXRpb24gYW5kIGNvbnRyb2xzIGFjdGlvbnMuIiwNCiAgICAgICJGb3JlLWJyYWluOiB0aGlua2luZyArIHNlbnNvcnkgaW50ZXJwcmV0YXRpb24gKyB2b2x1bnRhcnkgbW90b3IgY29udHJvbC4iLA0KICAgICAgIk1pZC1icmFpbjogc29tZSBpbnZvbHVudGFyeSBwcm9jZXNzaW5nL2xpbmtzIChjb25jZXB0LWxldmVsKS4iLA0KICAgICAgIkhpbmQtYnJhaW46IGNlcmViZWxsdW0gKGJhbGFuY2UpICsgbWVkdWxsYSAoaW52b2x1bnRhcnkgYWN0aW9ucykuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiQnJhaW4gKFVzZSBOZXh0IHN0ZXAgdG8gaGlnaGxpZ2h0IHBhcnRzKSIpOw0KDQogICAgY29uc3QgY3g9eCtidyowLjQ2LCBjeT15K2JoKjAuNTQ7DQoNCiAgICAvLyBicmFpbiBvdXRsaW5lDQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNikiOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5lbGxpcHNlKGN4LGN5LCAxODAsIDExNSwgLTAuMDgsIDAsIE1hdGguUEkqMik7DQogICAgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE4KSI7DQogICAgYy5saW5lV2lkdGg9MjsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KDQogICAgLy8gcmVnaW9ucw0KICAgIGNvbnN0IGZvcmUgPSB7eDogY3gtNjAsIHk6IGN5LTE1LCByeDoxMTAsIHJ5OjgwfTsNCiAgICBjb25zdCBtaWQgID0ge3g6IGN4KzU1LCB5OiBjeSsxMCwgcng6NTUsIHJ5OjQ1fTsNCiAgICBjb25zdCBoaW5kID0ge3g6IGN4KzEyMCwgeTogY3krNTUsIHJ4OjcwLCByeTo1NX07DQoNCiAgICBmdW5jdGlvbiByZWdpb24oUiwgYmFzZUNvbCl7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZmlsbFN0eWxlPWJhc2VDb2w7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgYy5lbGxpcHNlKFIueCxSLnksUi5yeCxSLnJ5LDAsMCxNYXRoLlBJKjIpOw0KICAgICAgYy5maWxsKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTUpIjsNCiAgICAgIGMubGluZVdpZHRoPTI7DQogICAgICBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgfQ0KDQogICAgcmVnaW9uKGZvcmUsInJnYmEoMTM5LDkyLDI0NiwwLjEwKSIpOw0KICAgIHJlZ2lvbihtaWQsInJnYmEoNTksMTMwLDI0NiwwLjEwKSIpOw0KICAgIHJlZ2lvbihoaW5kLCJyZ2JhKDE2LDE4NSwxMjksMC4xMCkiKTsNCg0KICAgIC8vIGhpZ2hsaWdodCBieSBzdGVwDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQogICAgZnVuY3Rpb24gZ2xvdyhSLGNvbG9yKXsNCiAgICAgIGNvbnN0IHA9MC41KzAuNSpNYXRoLnNpbih0KjIuMyk7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZ2xvYmFsQWxwaGE9MC4xOCswLjM1KnA7DQogICAgICBjLmZpbGxTdHlsZT1jb2xvcjsNCiAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICBjLmVsbGlwc2UoUi54LFIueSxSLnJ4KzEwLFIucnkrMTAsMCwwLE1hdGguUEkqMik7DQogICAgICBjLmZpbGwoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCiAgICBpZihzdGVwPT09MSkgZ2xvdyhmb3JlLCJyZ2JhKDEzOSw5MiwyNDYsMC41NSkiKTsNCiAgICBpZihzdGVwPT09MikgZ2xvdyhtaWQsInJnYmEoNTksMTMwLDI0NiwwLjU1KSIpOw0KICAgIGlmKHN0ZXA9PT0zKSBnbG93KGhpbmQsInJnYmEoMTYsMTg1LDEyOSwwLjU1KSIpOw0KDQogICAgLy8gbGFiZWxzDQogICAgdGV4dChjLCBmb3JlLngtMzUsIGZvcmUueS05MiwgIkZvcmUtYnJhaW4iLCAwLjk1LCAicmdiYSgxOTYsMTgxLDI1MywxKSIsIHRydWUpOw0KICAgIHRleHQoYywgbWlkLngtMjAsICBtaWQueS02MiwgICJNaWQtYnJhaW4iLCAgMC45NSwgInJnYmEoMTQ3LDE5NywyNTMsMSkiLCB0cnVlKTsNCiAgICB0ZXh0KGMsIGhpbmQueC0zMCwgaGluZC55LTcwLCAiSGluZC1icmFpbiIsIDAuOTUsICJyZ2JhKDE2NywyNDMsMjA4LDEpIiwgdHJ1ZSk7DQoNCiAgICAvLyBjZXJlYmVsbHVtICsgbWVkdWxsYSBkZXRhaWxzIGluIGhpbmQgYnJhaW4NCiAgICBjb25zdCBjZXJlYiA9IHt4OiBoaW5kLngrNSwgeTogaGluZC55KzE4fTsNCiAgICBjb25zdCBtZWQgPSB7eDogaGluZC54LTI4LCB5OiBoaW5kLnkrMzV9Ow0KICAgIHN0cm9rZURvdChjLCBjZXJlYi54LCBjZXJlYi55LCA5LCAicmdiYSgxNiwxODUsMTI5LDAuMTgpIik7DQogICAgc3Ryb2tlRG90KGMsIG1lZC54LCBtZWQueSwgOSwgInJnYmEoMTYsMTg1LDEyOSwwLjE4KSIpOw0KICAgIHRleHQoYywgY2VyZWIueCsxMiwgY2VyZWIueSs0LCAiQ2VyZWJlbGx1bSIsIDAuOSwgInJnYmEoMTY3LDI0MywyMDgsMSkiLCB0cnVlKTsNCiAgICB0ZXh0KGMsIG1lZC54LTYwLCBtZWQueSs0LCAiTWVkdWxsYSIsIDAuOSwgInJnYmEoMTY3LDI0MywyMDgsMSkiLCB0cnVlKTsNCg0KICAgIC8vIHNhbXBsZSBzaWduYWxzDQogICAgLy8gc2Vuc29yeSBpbiAtPiBmb3JlYnJhaW4NCiAgICBjb25zdCBwPSh0KjAuNTUpJTE7DQogICAgZG90KGMsIHgrNDAgKyBwKihmb3JlLngtKHgrNDApKSwgeStiaCowLjMwICsgMjAqTWF0aC5zaW4odCoxLjQpLCA0LCAicmdiYSgyNTAsMjA0LDIxLDAuOSkiKTsNCiAgICBhcnJvdyhjLCB4KzQwLCB5K2JoKjAuMzAsIGZvcmUueC1mb3JlLnJ4KzEwLCBmb3JlLnksICJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIik7DQogICAgdGV4dChjLCB4KzMwLCB5K2JoKjAuMjYsICJTZW5zb3J5IGlucHV0IiwgMC44NSk7DQoNCiAgICAvLyBtb3RvciBvdXQgZnJvbSBmb3JlYnJhaW4NCiAgICBhcnJvdyhjLCBmb3JlLngrZm9yZS5yeC0xMCwgZm9yZS55KzEwLCB4K2J3KjAuMjAsIHkrYmgqMC44NSwgInJnYmEoMjI2LDIzMiwyNDAsMC4yMikiKTsNCiAgICB0ZXh0KGMsIHgrYncqMC4yMC0yOCwgeStiaCowLjg2LCAiVm9sdW50YXJ5IGFjdGlvbiIsIDAuODUpOw0KICB9DQp9Ow0KDQovKiBTY2VuZSA1OiBDTlMgcHJvdGVjdGlvbiArIG5ldXJvbXVzY3VsYXIganVuY3Rpb24gKi8NCnNjZW5lcy5jbnNQcm90ZWN0aW9uTXVzY2xlID0gew0KICBzdGVwczogMywNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlByb3RlY3Rpb246IEJyYWluIGluIHNrdWxsICsgZmx1aWQgKHNob2NrIGFic29ycHRpb24pLiIsDQogICAgICAiUHJvdGVjdGlvbjogU3BpbmFsIGNvcmQgcHJvdGVjdGVkIGJ5IHZlcnRlYnJhbCBjb2x1bW4uIiwNCiAgICAgICJBY3Rpb246IE5lcnZlIGltcHVsc2Ug4oaSIG5ldXJvbXVzY3VsYXIganVuY3Rpb24g4oaSIG11c2NsZSBjb250cmFjdGlvbi4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCBwYWQ9MTQ7DQogICAgY29uc3QgdGlsZVc9KHcgLSBwYWQqNCkvMzsNCiAgICBjb25zdCB0aWxlSD1oKjAuNjY7DQogICAgY29uc3QgeT1oKjAuMTY7DQoNCiAgICBjb25zdCB4MT1wYWQsIHgyPXBhZCoyK3RpbGVXLCB4Mz1wYWQqMyt0aWxlVyoyOw0KICAgIHBhbmVsKGMseDEseSx0aWxlVyx0aWxlSCwiQnJhaW4gcHJvdGVjdGlvbiIpOw0KICAgIHBhbmVsKGMseDIseSx0aWxlVyx0aWxlSCwiU3BpbmFsIGNvcmQgcHJvdGVjdGlvbiIpOw0KICAgIHBhbmVsKGMseDMseSx0aWxlVyx0aWxlSCwiTmVydmUg4oaSIG11c2NsZSIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQoNCiAgICAvLyBCcmFpbiBpbiBza3VsbA0KICAgIGNvbnN0IGJ4PXgxK3RpbGVXKjAuNTAsIGJ5PXkrdGlsZUgqMC41MDsNCiAgICAvLyBza3VsbA0KICAgIGMuc2F2ZSgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiOw0KICAgIGMubGluZVdpZHRoPTY7DQogICAgYy5iZWdpblBhdGgoKTsgYy5hcmMoYngsYnksNzgsMCxNYXRoLlBJKjIpOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIC8vIGZsdWlkIGJhbGxvb24NCiAgICBjb25zdCBwdWxzZT0wLjUrMC41Kk1hdGguc2luKHQqMi4wKTsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT1gcmdiYSg1OSwxMzAsMjQ2LCR7MC4wOCswLjA4KnB1bHNlfSlgOw0KICAgIGMuYmVnaW5QYXRoKCk7IGMuYXJjKGJ4LGJ5LDY0LDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgLy8gYnJhaW4NCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgxMzksOTIsMjQ2LDAuMTIpIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoYngsYnksNTIsMzYsLTAuMSwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMTM5LDkyLDI0NiwwLjI1KSI7DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICB0ZXh0KGMsIHgxKzEyLCB5K3RpbGVILTE0LCAiU2t1bGwgKyBmbHVpZCBwcm90ZWN0IGJyYWluIiwgMC45KTsNCg0KICAgIGlmKHN0ZXA9PT0wKXsNCiAgICAgIGMuc2F2ZSgpOyBjLmdsb2JhbEFscGhhPTAuMjUrMC4zNSpwdWxzZTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjU1KSI7DQogICAgICBjLmxpbmVXaWR0aD0zOyBjLmJlZ2luUGF0aCgpOyBjLmFyYyhieCxieSw2NCwwLE1hdGguUEkqMik7IGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICB9DQoNCiAgICAvLyBTcGluYWwgY29yZCArIHZlcnRlYnJhbCBjb2x1bW4NCiAgICBjb25zdCBzeD14Mit0aWxlVyowLjUwLCBzeT15K3RpbGVIKjAuMjI7DQogICAgLy8gdmVydGVicmFlDQogICAgZm9yKGxldCBpPTA7aTw3O2krKyl7DQogICAgICBycihjLCBzeC00NSwgc3kraSo0NSwgOTAsIDM0LCAxMik7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA4KSI7IGMuZmlsbCgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE4KSI7IGMuc3Ryb2tlKCk7DQogICAgfQ0KICAgIC8vIHNwaW5hbCBjb3JkIGluc2lkZQ0KICAgIGMuc2F2ZSgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMTYsMTg1LDEyOSwwLjM1KSI7DQogICAgYy5saW5lV2lkdGg9MTA7DQogICAgYy5saW5lQ2FwPSJyb3VuZCI7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhzeCwgc3krMTApOw0KICAgIGMubGluZVRvKHN4LCBzeSs2KjQ1KzI0KTsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIHRleHQoYywgeDIrMTIsIHkrdGlsZUgtMTQsICJCYWNrYm9uZSBwcm90ZWN0cyBzcGluYWwgY29yZCIsIDAuOSk7DQoNCiAgICBpZihzdGVwPT09MSl7DQogICAgICBjLnNhdmUoKTsgYy5nbG9iYWxBbHBoYT0wLjI1KzAuMzUqcHVsc2U7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC41NSkiOw0KICAgICAgYy5saW5lV2lkdGg9MzsNCiAgICAgIGMuYmVnaW5QYXRoKCk7IGMubW92ZVRvKHN4LCBzeSsxMCk7IGMubGluZVRvKHN4LCBzeSs2KjQ1KzI0KTsgYy5zdHJva2UoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCg0KICAgIC8vIE5ldXJvbXVzY3VsYXIganVuY3Rpb24NCiAgICBjb25zdCBueD14Myt0aWxlVyowLjM1LCBueT15K3RpbGVIKjAuNTA7DQogICAgLy8gbmV1cm9uIGVuZA0KICAgIGxpbmUoYywgeDMrNDAsIG55LCBueCwgbnksIDYsICJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIik7DQogICAgc3Ryb2tlRG90KGMsIG54LCBueSwgMTYsICJyZ2JhKDU5LDEzMCwyNDYsMC4xNikiKTsNCiAgICAvLyBzeW5hcHNlIGdhcA0KICAgIHJyKGMsIG54KzE4LCBueS0yNCwgMTgsIDQ4LCAxMCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjM5LDY4LDY4LDAuMDgpIjsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMzksNjgsNjgsMC4yMikiOyBjLnN0cm9rZSgpOw0KICAgIC8vIG11c2NsZSBmaWJyZQ0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4xMCkiOw0KICAgIHJyKGMsIG54KzUwLCBueS00MCwgMTcwLCA4MCwgMTgpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4yNCkiOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIHRleHQoYywgbngrOTAsIG55LTUyLCAiTXVzY2xlIGZpYnJlIiwgMC45LCAicmdiYSgxNjcsMjQzLDIwOCwxKSIsIHRydWUpOw0KDQogICAgLy8gaW1wdWxzZSArIGNvbnRyYWN0aW9uDQogICAgY29uc3QgcD0odCowLjU1KSUxOw0KICAgIGRvdChjLCB4Mys0MCArIHAqKG54LSh4Mys0MCkpLCBueSwgNSwgInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQoNCiAgICBpZihzdGVwPT09Mil7DQogICAgICBjb25zdCBwdWxzZTI9MC41KzAuNSpNYXRoLnNpbih0KjMuMCk7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZ2xvYmFsQWxwaGE9MC4xNSswLjM1KnB1bHNlMjsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE2LDE4NSwxMjksMC4zNSkiOw0KICAgICAgcnIoYywgbngrNTAsIG55LTQwLCAxNzAqKDAuOTIrMC4wOCpwdWxzZTIpLCA4MCwgMTgpOw0KICAgICAgYy5maWxsKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICAgIC8vIG5ldXJvdHJhbnNtaXR0ZXJzDQogICAgICBmb3IobGV0IGk9MDtpPDEwO2krKyl7DQogICAgICAgIGNvbnN0IHE9KCh0KjAuOStpKjAuMTApJTEpOw0KICAgICAgICBkb3QoYywgbngrMjAgKyBxKjM1LCBueS0xNisoaSU1KSo4LCAzLCAicmdiYSgyNDgsMTEzLDExMywwLjkpIik7DQogICAgICB9DQogICAgfQ0KDQogICAgdGV4dChjLCB4MysxMiwgeSt0aWxlSC0xNCwgIkltcHVsc2UgdHJpZ2dlcnMgbXVzY2xlIGNvbnRyYWN0aW9uIiwgMC45KTsNCiAgfQ0KfTsNCg0KLyogU2NlbmUgNjogUGxhbnQgbW92ZW1lbnQgZHVhbCAoTWltb3NhIHZzIHRlbmRyaWwvZ3Jvd3RoKSAqLw0Kc2NlbmVzLnBsYW50TW92ZUR1YWwgPSB7DQogIHN0ZXBzOiAzLA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiSW1tZWRpYXRlIG1vdmVtZW50IChNaW1vc2EpOiB0dXJnb3IgY2hhbmdlICh3YXRlciBtb3ZlbWVudCksIG5vIGdyb3d0aC4iLA0KICAgICAgIkdyb3d0aCBtb3ZlbWVudDogdGVuZHJpbCBjb2lscyBhcm91bmQgc3VwcG9ydCBieSB1bmVxdWFsIGdyb3d0aC4iLA0KICAgICAgIlRyb3Bpc20gY29uY2VwdDogZGlyZWN0aW9uYWwgZ3Jvd3RoIGFwcGVhcnMgbGlrZSBtb3ZlbWVudC4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCBwYWQ9MTQ7DQogICAgY29uc3QgdGlsZVc9KHcgLSBwYWQqMykvMjsNCiAgICBjb25zdCB0aWxlSD1oKjAuNjY7DQogICAgY29uc3QgeT1oKjAuMTY7DQoNCiAgICBjb25zdCB4MT1wYWQsIHgyPXBhZCoyK3RpbGVXOw0KICAgIHBhbmVsKGMseDEseSx0aWxlVyx0aWxlSCwiTWltb3NhICh0b3VjaCkg4oCTIGZhc3QiKTsNCiAgICBwYW5lbChjLHgyLHksdGlsZVcsdGlsZUgsIlRlbmRyaWwgKHN1cHBvcnQpIOKAkyBncm93dGgiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgLy8gTWltb3NhIGxlYWZsZXRzIChvcGVuL2Nsb3NlKQ0KICAgIGNvbnN0IGN4PXgxK3RpbGVXKjAuNTIsIGN5PXkrdGlsZUgqMC41NTsNCiAgICBjb25zdCB0b3VjaCA9IChzdGVwPj0wKTsNCiAgICBjb25zdCBjbG9zZSA9IChzdGVwPT09MCkgPyAoMC41KzAuNSpNYXRoLnNpbih0KjIuMSkpIDogMTsgLy8gYW5pbWF0ZSBjbG9zaW5nIGluIHN0ZXAgMA0KICAgIGNvbnN0IG9wZW5uZXNzID0gKHN0ZXA9PT0wKSA/ICgxIC0gMC43NSpjbG9zZSkgOiAoc3RlcD49MSA/IDAuMzUgOiAxKTsNCg0KICAgIC8vIHN0ZW0NCiAgICBsaW5lKGMsIGN4LCBjeSs5MCwgY3gsIGN5LTYwLCA3LCAicmdiYSgzNCwxOTcsOTQsMC4yNSkiKTsNCiAgICAvLyBsZWFmIGF4aXMNCiAgICBsaW5lKGMsIGN4LCBjeS0yMCwgY3grMTQwLCBjeS02NSwgNSwgInJnYmEoMzQsMTk3LDk0LDAuMjUpIik7DQoNCiAgICAvLyBsZWFmbGV0cw0KICAgIGZvcihsZXQgaT0wO2k8MTA7aSsrKXsNCiAgICAgIGNvbnN0IHB4PWN4KzI1K2kqMTI7DQogICAgICBjb25zdCBweT1jeS0zMCAtIGkqMzsNCiAgICAgIC8vIHVwcGVyDQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMudHJhbnNsYXRlKHB4LHB5KTsNCiAgICAgIGMucm90YXRlKC0wLjkqb3Blbm5lc3MpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMzQsMTk3LDk0LDAuMTgpIjsNCiAgICAgIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZSgwLDAsMTYsNywwLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICAgIC8vIGxvd2VyDQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMudHJhbnNsYXRlKHB4LHB5KzE0KTsNCiAgICAgIGMucm90YXRlKDAuOSpvcGVubmVzcyk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4xOCkiOw0KICAgICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKDAsMCwxNiw3LDAsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCiAgICAvLyB0b3VjaCBmaW5nZXINCiAgICBkb3QoYywgY3grMTYwLCBjeS02OCwgMTAsICJyZ2JhKDI0NSwxNTgsMTEsMC43KSIpOw0KICAgIHRleHQoYywgY3grMTQ1LCBjeS04OCwgIlRvdWNoIiwgMC45LCAicmdiYSgyNTEsMTQ2LDYwLDEpIiwgdHJ1ZSk7DQoNCiAgICBpZihzdGVwPT09MCl7DQogICAgICAvLyB3YXRlciBhcnJvd3MNCiAgICAgIGZvcihsZXQgaT0wO2k8ODtpKyspew0KICAgICAgICBjb25zdCBweD1jeCs1MCtpKjE1Ow0KICAgICAgICBhcnJvdyhjLCBweCwgY3krMzUsIHB4LCBjeSs1NSwgInJnYmEoMTQ3LDE5NywyNTMsMC4yNSkiKTsNCiAgICAgIH0NCiAgICAgIHRleHQoYywgeDErMTIsIHkrdGlsZUgtMTQsICJDZWxscyBsb3NlIHdhdGVyIOKGkiBzaHJpbmsg4oaSIGxlYWYgZm9sZHMiLCAwLjkpOw0KICAgIH0gZWxzZSB7DQogICAgICB0ZXh0KGMsIHgxKzEyLCB5K3RpbGVILTE0LCAiTm8gZ3Jvd3RoIGludm9sdmVkIChmYXN0IHR1cmdvciBtb3ZlbWVudCkiLCAwLjkpOw0KICAgIH0NCg0KICAgIC8vIFRlbmRyaWwgY29pbGluZyBhcm91bmQgc3VwcG9ydCAoZ3Jvd3RoKQ0KICAgIGNvbnN0IHN4PXgyK3RpbGVXKjAuNTgsIHN5PXkrdGlsZUgqMC41NTsNCiAgICAvLyBzdXBwb3J0IHJvZA0KICAgIGMuc2F2ZSgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4yMikiOw0KICAgIGMubGluZVdpZHRoPTEwOw0KICAgIGMubGluZUNhcD0icm91bmQiOw0KICAgIGMuYmVnaW5QYXRoKCk7IGMubW92ZVRvKHN4KzcwLCBzeS05MCk7IGMubGluZVRvKHN4KzcwLCBzeSsxMTApOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIHRleHQoYywgc3grNDgsIHN5LTEwNSwgIlN1cHBvcnQiLCAwLjkpOw0KDQogICAgLy8gdGVuZHJpbCBzcGlyYWwNCiAgICBjb25zdCBjb2lscyA9IChzdGVwPj0xKSA/ICgwLjcgKyAwLjMqKDAuNSswLjUqTWF0aC5zaW4odCoxLjMpKSkgOiAwLjI7DQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4zNSkiOw0KICAgIGMubGluZVdpZHRoPTY7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjb25zdCBSPTgwOw0KICAgIGZvcihsZXQgYT0wOyBhPE1hdGguUEkqMiozKmNvaWxzOyBhKz0wLjE4KXsNCiAgICAgIGNvbnN0IHI9UiooMSAtIGEvKE1hdGguUEkqMiozKmNvaWxzKSkqMC45Ow0KICAgICAgY29uc3QgcHggPSBzeCArIDIwICsgTWF0aC5jb3MoYSkqcjsNCiAgICAgIGNvbnN0IHB5ID0gc3kgKyBNYXRoLnNpbihhKSpyKjAuNzsNCiAgICAgIGlmKGE9PT0wKSBjLm1vdmVUbyhweCxweSk7IGVsc2UgYy5saW5lVG8ocHgscHkpOw0KICAgIH0NCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KDQogICAgaWYoc3RlcD49MSl7DQogICAgICB0ZXh0KGMsIHgyKzEyLCB5K3RpbGVILTE0LCAiVW5lcXVhbCBncm93dGggY2F1c2VzIGNvaWxpbmcgYXJvdW5kIHN1cHBvcnQiLCAwLjkpOw0KICAgIH0gZWxzZSB7DQogICAgICB0ZXh0KGMsIHgyKzEyLCB5K3RpbGVILTE0LCAiR3Jvd3RoLWJhc2VkIG1vdmVtZW50IGlzIHNsb3dlciIsIDAuOSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiBTY2VuZSA3OiBQaG90b3Ryb3Bpc20gKyBBdXhpbiBkaXN0cmlidXRpb24gKi8NCnNjZW5lcy5waG90b3Ryb3Bpc21BdXhpbiA9IHsNCiAgc3RlcHM6IDQsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IExpZ2h0IGNvbWVzIGZyb20gb25lIHNpZGUuIiwNCiAgICAgICJTdGVwIDI6IEF1eGluIHNoaWZ0cyB0b3dhcmRzIHNoYWRlZCBzaWRlLiIsDQogICAgICAiU3RlcCAzOiBTaGFkZWQtc2lkZSBjZWxscyBlbG9uZ2F0ZSBtb3JlLiIsDQogICAgICAiU3RlcCA0OiBTaG9vdCBiZW5kcyB0b3dhcmRzIGxpZ2h0LiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA2LCB5PWgqMC4xNiwgYnc9dyowLjg4LCBiaD1oKjAuNjY7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIlBob3RvdHJvcGlzbSAoQXV4aW4pIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgLy8gbGlnaHQgc291cmNlDQogICAgY29uc3QgbHg9eCtidyowLjEyLCBseT15K2JoKjAuMjI7DQogICAgY29uc3QgZmxpY2s9MC41KzAuNSpNYXRoLnNpbih0KjIuMSk7DQogICAgZG90KGMsbHgsbHksMjAsYHJnYmEoMjUwLDIwNCwyMSwkezAuNjUrMC4yNSpmbGlja30pYCk7DQogICAgZm9yKGxldCBpPTA7aTw4O2krKyl7DQogICAgICBjb25zdCBhPWkqKE1hdGguUEkqMi84KTsNCiAgICAgIGxpbmUoYyxseCxseSxseCtNYXRoLmNvcyhhKSo0MCxseStNYXRoLnNpbihhKSo0MCwyLGByZ2JhKDI1MCwyMDQsMjEsJHswLjE4KzAuMjIqZmxpY2t9KWApOw0KICAgIH0NCiAgICB0ZXh0KGMsbHgtMTgsbHktMzAsIkxpZ2h0IiwwLjksInJnYmEoMjUzLDIzMCwxMzgsMSkiLHRydWUpOw0KDQogICAgLy8gcGxhbnQNCiAgICBjb25zdCBiYXNlWD14K2J3KjAuNTIsIGJhc2VZPXkrYmgqMC43ODsNCiAgICBsaW5lKGMsIGJhc2VYLCBiYXNlWSwgYmFzZVgsIHkrYmgqMC4yOCwgMTAsICJyZ2JhKDM0LDE5Nyw5NCwwLjI1KSIpOw0KICAgIC8vIGxlYXZlcw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjE4KSI7DQogICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGJhc2VYLTQ1LHkrYmgqMC40NSw2MCwyOCwtMC4zLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGJhc2VYKzQ1LHkrYmgqMC40NSw2MCwyOCwwLjMsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCg0KICAgIC8vIGF1eGluIGRpc3RyaWJ1dGlvbiBiYXJzIG9uIHN0ZW0NCiAgICBjb25zdCB0b3BZPXkrYmgqMC4zMjsNCiAgICBjb25zdCBzdGVtSD1iYXNlWS10b3BZOw0KICAgIGNvbnN0IHNoYWRlU2lkZSA9ICJyaWdodCI7IC8vIHNoYWRlZCBpcyBhd2F5IGZyb20gbGlnaHQgKGxpZ2h0IGF0IGxlZnQpDQogICAgY29uc3QgYXV4QmFzZSA9IDAuMzU7IC8vIGJhc2VsaW5lIGF1eGluIGxldmVsDQogICAgbGV0IGF1eExlZnQ9YXV4QmFzZSwgYXV4UmlnaHQ9YXV4QmFzZTsNCg0KICAgIGlmKHN0ZXA+PTEpeyBhdXhSaWdodCA9IDAuODU7IGF1eExlZnQgPSAwLjI1OyB9IC8vIHNoaWZ0IHRvIHNoYWRlZCBzaWRlDQoNCiAgICAvLyBkcmF3IGF1eGluIGluZGljYXRvcnMNCiAgICBmdW5jdGlvbiBhdXhCYXIocHgsIHZhbCwgY29sKXsNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC42NSkiOw0KICAgICAgcnIoYywgcHgtMTYsIHRvcFksIDMyLCBzdGVtSCwgMTQpOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4xNSkiOyBjLnN0cm9rZSgpOw0KICAgICAgY29uc3QgaD1zdGVtSCp2YWw7DQogICAgICBjLmZpbGxTdHlsZT1jb2w7DQogICAgICBjLmZpbGxSZWN0KHB4LTEyLCB0b3BZKyhzdGVtSC1oKSs2LCAyNCwgaC0xMik7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICB9DQogICAgYXV4QmFyKGJhc2VYLTI2LCBhdXhMZWZ0LCAicmdiYSgxMzksOTIsMjQ2LDAuMzUpIik7DQogICAgYXV4QmFyKGJhc2VYKzI2LCBhdXhSaWdodCwgInJnYmEoMTM5LDkyLDI0NiwwLjU1KSIpOw0KICAgIHRleHQoYywgYmFzZVgtNzAsIHRvcFktMTIsICJBdXhpbiAobGVmdCkiLDAuODUpOw0KICAgIHRleHQoYywgYmFzZVgrMTgsIHRvcFktMTIsICJBdXhpbiAocmlnaHQpIiwwLjg1KTsNCg0KICAgIC8vIGdyb3d0aCAvIGJlbmRpbmcNCiAgICBsZXQgYmVuZD0wOw0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgYmVuZCA9IDAuMTIgKyAwLjEwKigwLjUrMC41Kk1hdGguc2luKHQqMS4zKSk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTMpew0KICAgICAgYmVuZCA9IDAuMjggKyAwLjA4KigwLjUrMC41Kk1hdGguc2luKHQqMS4zKSk7DQogICAgfQ0KDQogICAgLy8gcmVkcmF3IHN0ZW0gYXMgY3VydmVkIG92ZXJsYXkgZm9yIGJlbmRpbmcgKHZpc3VhbCkNCiAgICBjLnNhdmUoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjU1KSI7DQogICAgYy5saW5lV2lkdGg9MTA7DQogICAgYy5saW5lQ2FwPSJyb3VuZCI7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhiYXNlWCwgYmFzZVkpOw0KICAgIGMucXVhZHJhdGljQ3VydmVUbyhiYXNlWCs4MCpiZW5kLCB5K2JoKjAuNjIsIGJhc2VYKzExMCpiZW5kLCB0b3BZKTsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KDQogICAgLy8gbGlnaHQgcmF5cw0KICAgIGlmKHN0ZXA+PTApew0KICAgICAgZm9yKGxldCBpPTA7aTw3O2krKyl7DQogICAgICAgIGFycm93KGMsIGx4KzQwLCBseSsxMCtpKjE4LCBiYXNlWC0xMjAsIGx5KzE1K2kqMTgsICJyZ2JhKDI1MCwyMDQsMjEsMC4xOCkiKTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBleHBsYW5hdGlvbiBsYWJlbHMNCiAgICBpZihzdGVwPT09MCkgdGV4dChjLCB4KzE0LCB5K2JoLTE0LCAiTGlnaHQgZnJvbSBvbmUgc2lkZSBzdGFydHMgdGhlIHByb2Nlc3MuIiwgMC45KTsNCiAgICBpZihzdGVwPT09MSkgdGV4dChjLCB4KzE0LCB5K2JoLTE0LCAiQXV4aW4gYWNjdW11bGF0ZXMgb24gdGhlIHNoYWRlZCBzaWRlIChhd2F5IGZyb20gbGlnaHQpLiIsIDAuOSk7DQogICAgaWYoc3RlcD09PTIpIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIlNoYWRlZCBzaWRlIGVsb25nYXRlcyBtb3JlIOKGkiB1bmVxdWFsIGdyb3d0aC4iLCAwLjkpOw0KICAgIGlmKHN0ZXA9PT0zKSB0ZXh0KGMsIHgrMTQsIHkrYmgtMTQsICJTaG9vdCBiZW5kcyB0b3dhcmRzIGxpZ2h0IChwaG90b3Ryb3Bpc20pLiIsIDAuOSk7DQogIH0NCn07DQoNCi8qIFNjZW5lIDg6IFBsYW50IGhvcm1vbmUgY2FyZHMgKGFuaW1hdGVkIGZvY3VzKSAqLw0Kc2NlbmVzLnBsYW50SG9ybW9uZUNhcmRzID0gew0KICBzdGVwczogNSwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICBjb25zdCBjYXJkcyA9IFsNCiAgICAgICJBdXhpbjogY2VsbCBlbG9uZ2F0aW9uOyBoZWxwcyBwaG90b3Ryb3Bpc20uIiwNCiAgICAgICJHaWJiZXJlbGxpbnM6IHN0ZW0gZ3Jvd3RoLiIsDQogICAgICAiQ3l0b2tpbmluczogcHJvbW90ZSBjZWxsIGRpdmlzaW9uLiIsDQogICAgICAiQWJzY2lzaWMgYWNpZDogaW5oaWJpdHMgZ3Jvd3RoOyB3aWx0aW5nIChjb25jZXB0KS4iLA0KICAgICAgIlN1bW1hcnk6IGdyb3d0aCBwcm9tb3RlcnMgdnMgaW5oaWJpdG9ycy4iDQogICAgXTsNCiAgICByZXR1cm4gY2FyZHNbc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiUGxhbnQgaG9ybW9uZXMgKE5leHQgc3RlcCkiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KICAgIGNvbnN0IGl0ZW1zID0gWw0KICAgICAge25hbWU6IkF1eGluIiwgY29sOiJyZ2JhKDEzOSw5MiwyNDYsMC4zNSkiLCBkZXNjOiJFbG9uZ2F0aW9uOyBwaG90b3Ryb3Bpc20ifSwNCiAgICAgIHtuYW1lOiJHaWJiZXJlbGxpbiIsIGNvbDoicmdiYSg1OSwxMzAsMjQ2LDAuMzUpIiwgZGVzYzoiU3RlbSBncm93dGgifSwNCiAgICAgIHtuYW1lOiJDeXRva2luaW4iLCBjb2w6InJnYmEoMTYsMTg1LDEyOSwwLjM1KSIsIGRlc2M6IkNlbGwgZGl2aXNpb24ifSwNCiAgICAgIHtuYW1lOiJBYnNjaXNpYyBhY2lkIiwgY29sOiJyZ2JhKDIzOSw2OCw2OCwwLjI1KSIsIGRlc2M6IkluaGliaXRzIGdyb3d0aCJ9DQogICAgXTsNCiAgICBjb25zdCBjYXJkVyA9IChidy00MCkvMjsNCiAgICBjb25zdCBjYXJkSCA9IChiaC00MCkvMjsNCg0KICAgIGZvcihsZXQgaT0wO2k8NDtpKyspew0KICAgICAgY29uc3QgY3ggPSB4KzIwICsgKGklMikqIChjYXJkVysyMCk7DQogICAgICBjb25zdCBjeSA9IHkrMzAgKyAoaT4xPyAoY2FyZEgrMjApOjApOw0KICAgICAgY29uc3QgYWN0aXZlID0gKHN0ZXA9PT1pKTsNCiAgICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCoyLjApOw0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgxNSwyMyw0MiwwLjU1KSI7DQogICAgICBycihjLGN4LGN5LGNhcmRXLGNhcmRILDE2KTsgYy5maWxsKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSBhY3RpdmUgPyAicmdiYSgyNTAsMjA0LDIxLDAuNjApIiA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsNCiAgICAgIGMubGluZVdpZHRoPSBhY3RpdmUgPyAyLjUgOiAyOw0KICAgICAgYy5zdHJva2UoKTsNCiAgICAgIC8vIGhlYWRlcg0KICAgICAgYy5maWxsU3R5bGU9YWN0aXZlID8gInJnYmEoMjUwLDIwNCwyMSwwLjk1KSIgOiAicmdiYSgyMjYsMjMyLDI0MCwwLjkwKSI7DQogICAgICBjLmZvbnQ9ImJvbGQgMTZweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dChpdGVtc1tpXS5uYW1lLCBjeCsxNCwgY3krMjgpOw0KICAgICAgLy8gY2hpcA0KICAgICAgYy5maWxsU3R5bGU9aXRlbXNbaV0uY29sOw0KICAgICAgcnIoYyxjeCsxNCxjeSs0MCwxMjAsMjIsOTk5KTsgYy5maWxsKCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjkwKSI7DQogICAgICBjLmZvbnQ9ImJvbGQgMTFweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dChpPDM/Ikdyb3d0aCBwcm9tb3RlciI6Ikdyb3d0aCBpbmhpYml0b3IiLCBjeCsyNCwgY3krNTYpOw0KICAgICAgLy8gZGVzYw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC44NSkiOw0KICAgICAgYy5mb250PSIxMnB4IHN5c3RlbS11aSI7DQogICAgICBjLmZpbGxUZXh0KGl0ZW1zW2ldLmRlc2MsIGN4KzE0LCBjeSs4OCk7DQogICAgICAvLyBzbWFsbCBwbGFudCBpY29uDQogICAgICBjb25zdCBweD1jeCtjYXJkVy01NSwgcHk9Y3krY2FyZEgtMzU7DQogICAgICBsaW5lKGMsIHB4LCBweSsyMCwgcHgsIHB5LTI1LCA2LCAicmdiYSgzNCwxOTcsOTQsMC4yMikiKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjE4KSI7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UocHgtMTgscHktNSwyMiwxMiwtMC40LDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UocHgrMTgscHktNSwyMiwxMiwwLjQsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCg0KICAgICAgaWYoYWN0aXZlKXsNCiAgICAgICAgYy5nbG9iYWxBbHBoYT0wLjE1KzAuMjUqcHVsc2U7DQogICAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDI1MCwyMDQsMjEsMC4zNSkiOw0KICAgICAgICBycihjLGN4LGN5LGNhcmRXLGNhcmRILDE2KTsgYy5maWxsKCk7DQogICAgICB9DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPT09NCl7DQogICAgICAvLyBzdW1tYXJ5IG92ZXJsYXkNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5nbG9iYWxBbHBoYT0wLjkyOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC44NikiOw0KICAgICAgcnIoYyx4K2J3KjAuMTgseStiaCowLjI4LGJ3KjAuNjQsYmgqMC4zMiwxOCk7IGMuZmlsbCgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE4KSI7IGMuc3Ryb2tlKCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjkyKSI7DQogICAgICBjLmZvbnQ9ImJvbGQgMTRweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dCgiUHJvbW90ZXJzOiBBdXhpbiwgR2liYmVyZWxsaW4sIEN5dG9raW5pbiIsIHgrYncqMC4xOCsxOCwgeStiaCowLjI4KzM0KTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIjsNCiAgICAgIGMuZm9udD0iMTJweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dCgiSW5oaWJpdG9yOiBBYnNjaXNpYyBhY2lkIChzdG9wcyBncm93dGg7IHdpbHRpbmcgY29uY2VwdCkuIiwgeCtidyowLjE4KzE4LCB5K2JoKjAuMjgrNjApOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiBTY2VuZSA5OiBFbmRvY3JpbmUgbWFwIChzaW1wbGlmaWVkKSAqLw0Kc2NlbmVzLmVuZG9jcmluZU1hcCA9IHsNCiAgc3RlcHM6IDUsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJFbmRvY3JpbmUgZ2xhbmRzIHJlbGVhc2UgaG9ybW9uZXMgaW50byBibG9vZCAoY2hlbWljYWwgY29vcmRpbmF0aW9uKS4iLA0KICAgICAgIkFkcmVuYWxpbmU6IGVtZXJnZW5jeSBob3Jtb25lIChmaWdodC9mbGlnaHQpLiIsDQogICAgICAiVGh5cm94aW5lOiBtZXRhYm9saXNtOyBuZWVkcyBpb2RpbmUgKGlvZGlzZWQgc2FsdCkuIiwNCiAgICAgICJJbnN1bGluOiBjb250cm9scyBibG9vZCBzdWdhcjsgZGVmaWNpZW5jeSDihpIgZGlhYmV0ZXMgKGNvbmNlcHQpLiIsDQogICAgICAiU2V4IGhvcm1vbmVzOiBwdWJlcnR5IGNoYW5nZXMgKHRlc3Rvc3Rlcm9uZS9lc3Ryb2dlbikuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiRW5kb2NyaW5lIGdsYW5kcyAoc2ltcGxpZmllZCBtYXApIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KICAgIGNvbnN0IGN4PXgrYncqMC41MiwgY3k9eStiaCowLjUwOw0KDQogICAgLy8gYm9keSBzaWxob3VldHRlIChzaW1wbGUpDQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE0KSI7DQogICAgYy5saW5lV2lkdGg9ODsNCiAgICBjLmxpbmVDYXA9InJvdW5kIjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGN4LCB5KzYwKTsgYy5saW5lVG8oY3gsIHkrYmgtMzApOyAvLyB0b3Jzbw0KICAgIGMuc3Ryb2tlKCk7DQogICAgLy8gc2hvdWxkZXJzDQogICAgbGluZShjLGN4LTcwLHkrMTEwLGN4KzcwLHkrMTEwLDEwLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMTIpIik7DQogICAgLy8gaGVhZA0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4xNikiOw0KICAgIGMubGluZVdpZHRoPTY7DQogICAgYy5iZWdpblBhdGgoKTsgYy5hcmMoY3gseSs3MCwyOCwwLE1hdGguUEkqMik7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQoNCiAgICAvLyBnbGFuZHMgcG9zaXRpb25zDQogICAgY29uc3QgZ2xhbmRzID0gWw0KICAgICAge25hbWU6IlBpdHVpdGFyeSIsIHg6Y3gsIHk6eSs2NSwgY29sOiJyZ2JhKDEzOSw5MiwyNDYsMC41NSkiLCBzaG93U3RlcDo0fSwNCiAgICAgIHtuYW1lOiJUaHlyb2lkIiwgeDpjeCwgeTp5KzEyMCwgY29sOiJyZ2JhKDU5LDEzMCwyNDYsMC41NSkiLCBzaG93U3RlcDoyfSwNCiAgICAgIHtuYW1lOiJBZHJlbmFsIiwgeDpjeC0zOCwgeTp5KzIyMCwgY29sOiJyZ2JhKDI0NSwxNTgsMTEsMC41NSkiLCBzaG93U3RlcDoxfSwNCiAgICAgIHtuYW1lOiJBZHJlbmFsIiwgeDpjeCszOCwgeTp5KzIyMCwgY29sOiJyZ2JhKDI0NSwxNTgsMTEsMC41NSkiLCBzaG93U3RlcDoxfSwNCiAgICAgIHtuYW1lOiJQYW5jcmVhcyIsIHg6Y3gsIHk6eSsyOTAsIGNvbDoicmdiYSgxNiwxODUsMTI5LDAuNTUpIiwgc2hvd1N0ZXA6M30sDQogICAgICB7bmFtZToiR29uYWRzIiwgeDpjeCwgeTp5KzM4MCwgY29sOiJyZ2JhKDIzOSw2OCw2OCwwLjQ1KSIsIHNob3dTdGVwOjR9DQogICAgXTsNCg0KICAgIC8vIGJsb29kIHN0cmVhbSBsaW5lDQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMzksNjgsNjgsMC4yMikiOw0KICAgIGMubGluZVdpZHRoPTc7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyh4K2J3KjAuMjUsIHkrYmgqMC43MCk7DQogICAgYy5iZXppZXJDdXJ2ZVRvKGN4LTgwLCB5K2JoKjAuNDAsIGN4KzgwLCB5K2JoKjAuNjAsIHgrYncqMC43OCwgeStiaCowLjMyKTsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KDQogICAgLy8gaG9ybW9uZSBwYXJ0aWNsZXMgbW92aW5nIGluIGJsb29kDQogICAgY29uc3QgcD0odCowLjU1KSUxOw0KICAgIGNvbnN0IGF4ID0geCtidyowLjI1ICsgcCooeCtidyowLjUzIC0gKHgrYncqMC4yNSkpOw0KICAgIGNvbnN0IGF5ID0geStiaCowLjcwIC0gMTIwKk1hdGguc2luKHAqTWF0aC5QSSk7DQogICAgZG90KGMsYXgsYXksNSwicmdiYSgyNDgsMTEzLDExMywwLjkpIik7DQoNCiAgICAvLyBkcmF3IGdsYW5kcyArIGhpZ2hsaWdodCBieSBzdGVwDQogICAgZm9yKGNvbnN0IGcgb2YgZ2xhbmRzKXsNCiAgICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCoyLjQgKyBnLngqMC4wMSk7DQogICAgICBzdHJva2VEb3QoYyxnLngsZy55LDEwLGcuY29sLnJlcGxhY2UoIjAuNTUiLCgwLjIwKzAuMjAqcHVsc2UpLnRvRml4ZWQoMikpKTsNCiAgICAgIC8vIHNob3cgbGFiZWwgb25seSBpZiByZWxldmFudCBzdGVwIHJlYWNoZWQNCiAgICAgIGNvbnN0IHNob3cgPSAoc3RlcD49Zy5zaG93U3RlcCk7DQogICAgICBpZihzaG93KXsNCiAgICAgICAgdGV4dChjLGcueCsxNCxnLnkrNCxnLm5hbWUsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBzdGVwLWJhc2VkIGV4cGxhbmF0aW9uIGhpZ2hsaWdodA0KICAgIGZ1bmN0aW9uIGhpZ2hsaWdodEFyb3VuZChweCxweSxjb2wpew0KICAgICAgY29uc3QgcHVsc2U9MC41KzAuNSpNYXRoLnNpbih0KjIuMSk7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZ2xvYmFsQWxwaGE9MC4xOCswLjM1KnB1bHNlOw0KICAgICAgYy5zdHJva2VTdHlsZT1jb2w7DQogICAgICBjLmxpbmVXaWR0aD0zOw0KICAgICAgYy5iZWdpblBhdGgoKTsgYy5hcmMocHgscHksMTgsMCxNYXRoLlBJKjIpOyBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgfQ0KDQogICAgaWYoc3RlcD09PTEpew0KICAgICAgaGlnaGxpZ2h0QXJvdW5kKGN4LTM4LHkrMjIwLCJyZ2JhKDI0NSwxNTgsMTEsMC44KSIpOw0KICAgICAgaGlnaGxpZ2h0QXJvdW5kKGN4KzM4LHkrMjIwLCJyZ2JhKDI0NSwxNTgsMTEsMC44KSIpOw0KICAgICAgdGV4dChjLCB4KzE0LCB5K2JoLTE0LCAiQWRyZW5hbGluZSBwcmVwYXJlcyBib2R5IGZvciBlbWVyZ2VuY3k6IGZhc3RlciBoZWFydGJlYXQgJiBicmVhdGhpbmcgKGNvbmNlcHQpLiIsIDAuOSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT0yKXsNCiAgICAgIGhpZ2hsaWdodEFyb3VuZChjeCx5KzEyMCwicmdiYSg1OSwxMzAsMjQ2LDAuOCkiKTsNCiAgICAgIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIlRoeXJveGluZSByZWd1bGF0ZXMgbWV0YWJvbGlzbTsgbmVlZHMgaW9kaW5lIChpb2Rpc2VkIHNhbHQpLiIsIDAuOSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT0zKXsNCiAgICAgIGhpZ2hsaWdodEFyb3VuZChjeCx5KzI5MCwicmdiYSgxNiwxODUsMTI5LDAuOCkiKTsNCiAgICAgIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIkluc3VsaW4gcmVndWxhdGVzIGJsb29kIHN1Z2FyIGxldmVsIChmZWVkYmFjay1jb250cm9sbGVkKS4iLCAwLjkpOw0KICAgIH0NCiAgICBpZihzdGVwPT09NCl7DQogICAgICBoaWdobGlnaHRBcm91bmQoY3gseSs2NSwicmdiYSgxMzksOTIsMjQ2LDAuOCkiKTsNCiAgICAgIGhpZ2hsaWdodEFyb3VuZChjeCx5KzM4MCwicmdiYSgyMzksNjgsNjgsMC44KSIpOw0KICAgICAgdGV4dChjLCB4KzE0LCB5K2JoLTE0LCAiUGl0dWl0YXJ5IGNvbnRyb2xzIGdyb3d0aCBob3Jtb25lOyBzZXggaG9ybW9uZXMgZHJpdmUgcHViZXJ0eSBjaGFuZ2VzLiIsIDAuOSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT0wKXsNCiAgICAgIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIkhvcm1vbmVzIHRyYXZlbCB2aWEgYmxvb2QgdG8gdGFyZ2V0IG9yZ2FucyAoc2xvd2VyIGJ1dCB3aWRlLXJlYWNoaW5nKS4iLCAwLjkpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogU2NlbmUgMTA6IEZlZWRiYWNrIGxvb3AgKGluc3VsaW4gdnMgZ2x1Y29zZSkgKi8NCnNjZW5lcy5mZWVkYmFja0xvb3AgPSB7DQogIHN0ZXBzOiA0LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBCbG9vZCBzdWdhciByaXNlcyBhZnRlciBhIG1lYWwuIiwNCiAgICAgICJTdGVwIDI6IFBhbmNyZWFzIGRldGVjdHMgcmlzZSBhbmQgcmVsZWFzZXMgaW5zdWxpbi4iLA0KICAgICAgIlN0ZXAgMzogQ2VsbHMgdGFrZSB1cCBnbHVjb3NlOyBzdWdhciBsZXZlbCBmYWxscy4iLA0KICAgICAgIlN0ZXAgNDogSW5zdWxpbiBzZWNyZXRpb24gcmVkdWNlcyAobmVnYXRpdmUgZmVlZGJhY2spLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA2LCB5PWgqMC4xNiwgYnc9dyowLjg4LCBiaD1oKjAuNjY7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIkZlZWRiYWNrIG1lY2hhbmlzbSAoSW5zdWxpbikg4oCTIE5leHQgc3RlcCIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQoNCiAgICAvLyBHcmFwaCBheGVzDQogICAgY29uc3QgZ3g9eCs3MCwgZ3k9eStiaC02MCwgZ3c9YnctMTQwLCBnaD1iaC0xMjA7DQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIwKSI7DQogICAgYy5saW5lV2lkdGg9MjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKGd4LCBneSk7DQogICAgYy5saW5lVG8oZ3gsIGd5LWdoKTsNCiAgICBjLmxpbmVUbyhneCtndywgZ3ktZ2gpOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLGd4LTQwLGd5LWdoKzEwLCJIaWdoIiwwLjg1KTsNCiAgICB0ZXh0KGMsZ3gtNDAsZ3ktNCwiTG93IiwwLjg1KTsNCiAgICB0ZXh0KGMsZ3grZ3ctMzAsZ3krMjAsIlRpbWUiLDAuODUpOw0KDQogICAgLy8gc3VnYXIgY3VydmUgKHN0ZXAtYmFzZWQpDQogICAgLy8gY3JlYXRlIGtleSBwb2ludHMgZGVwZW5kaW5nIG9uIHN0ZXANCiAgICBjb25zdCBwdHMgPSBbXTsNCiAgICAvLyBzdGFydCBsb3cgLT4gc3Bpa2UgLT4gZmFsbCAtPiBzdGFiaWxpc2UNCiAgICBwdHMucHVzaChbMC4wLCAwLjI1XSk7DQogICAgcHRzLnB1c2goWzAuMzUsIHN0ZXA+PTAgPyAoc3RlcD49MSA/IDAuOTAgOiAwLjc1KSA6IDAuNjBdKTsNCiAgICBwdHMucHVzaChbMC43MCwgc3RlcD49MiA/IDAuMzUgOiAwLjcwXSk7DQogICAgcHRzLnB1c2goWzEuMDAsIHN0ZXA+PTMgPyAwLjMwIDogMC41NV0pOw0KDQogICAgZnVuY3Rpb24gbWFwWCh1KXsgcmV0dXJuIGd4ICsgdSpndzsgfQ0KICAgIGZ1bmN0aW9uIG1hcFkodil7IHJldHVybiBneSAtIHYqZ2g7IH0NCg0KICAgIC8vIHN1Z2FyIGxpbmUNCiAgICBjLnNhdmUoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC43MCkiOw0KICAgIGMubGluZVdpZHRoPTQ7DQogICAgYy5saW5lQ2FwPSJyb3VuZCI7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhtYXBYKHB0c1swXVswXSksIG1hcFkocHRzWzBdWzFdKSk7DQogICAgZm9yKGxldCBpPTE7aTxwdHMubGVuZ3RoO2krKyl7DQogICAgICBjLnF1YWRyYXRpY0N1cnZlVG8oDQogICAgICAgIG1hcFgoKHB0c1tpLTFdWzBdK3B0c1tpXVswXSkvMiksDQogICAgICAgIG1hcFkoTWF0aC5tYXgocHRzW2ktMV1bMV0scHRzW2ldWzFdKSksDQogICAgICAgIG1hcFgocHRzW2ldWzBdKSwNCiAgICAgICAgbWFwWShwdHNbaV1bMV0pDQogICAgICApOw0KICAgIH0NCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIHRleHQoYywgZ3grMTAsIGd5LWdoLTEwLCAiQmxvb2Qgc3VnYXIiLCAwLjksICJyZ2JhKDI1MywyMzAsMTM4LDEpIiwgdHJ1ZSk7DQoNCiAgICAvLyBpbnN1bGluIHB1bHNlcyB3aGVuIHN1Z2FyIGhpZ2gNCiAgICBjb25zdCBpbnNPbiA9IChzdGVwPj0xICYmIHN0ZXA8PTIpOw0KICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCozLjApOw0KICAgIGNvbnN0IGl4PWd4K2d3KjAuNDUsIGl5PXkrYmgqMC4zMDsNCg0KICAgIC8vIHBhbmNyZWFzIGljb24NCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgxNiwxODUsMTI5LDAuMTApIjsNCiAgICBycihjLCBpeC04MCwgaXktMzAsIDE2MCwgNjAsIDE4KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgxNiwxODUsMTI5LDAuMjUpIjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICB0ZXh0KGMsIGl4LTM0LCBpeS00NCwgIlBhbmNyZWFzIiwgMC45LCAicmdiYSgxNjcsMjQzLDIwOCwxKSIsIHRydWUpOw0KDQogICAgaWYoaW5zT24pew0KICAgICAgZm9yKGxldCBpPTA7aTwxMjtpKyspew0KICAgICAgICBjb25zdCBwPSh0KjAuNyArIGkqMC4wOCklMTsNCiAgICAgICAgZG90KGMsIGl4LTYwICsgcCoxMjAsIGl5LTU1IC0gMzUqcCwgMywgYHJnYmEoNTksMTMwLDI0NiwkezAuMzUrMC40NSpwdWxzZX0pYCk7DQogICAgICB9DQogICAgICB0ZXh0KGMsIGl4LTQ4LCBpeSs0OCwgIkluc3VsaW4g4oaRIiwgMC45LCAicmdiYSgxNDcsMTk3LDI1MywxKSIsIHRydWUpOw0KICAgIH0gZWxzZSB7DQogICAgICB0ZXh0KGMsIGl4LTQ4LCBpeSs0OCwgIkluc3VsaW4gbm9ybWFsIiwgMC45KTsNCiAgICB9DQoNCiAgICAvLyBzdGVwIGxhYmVscw0KICAgIGlmKHN0ZXA9PT0wKSB0ZXh0KGMsIHgrMTQsIHkrYmgtMTQsICJBZnRlciBtZWFsIOKGkiBnbHVjb3NlIHJpc2VzLiIsIDAuOSk7DQogICAgaWYoc3RlcD09PTEpIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIlBhbmNyZWFzIHJlbGVhc2VzIG1vcmUgaW5zdWxpbi4iLCAwLjkpOw0KICAgIGlmKHN0ZXA9PT0yKSB0ZXh0KGMsIHgrMTQsIHkrYmgtMTQsICJDZWxscyB0YWtlIHVwIGdsdWNvc2Ug4oaSIGxldmVsIGZhbGxzLiIsIDAuOSk7DQogICAgaWYoc3RlcD09PTMpIHRleHQoYywgeCsxNCwgeStiaC0xNCwgIkFzIHN1Z2FyIG5vcm1hbGlzZXMsIGluc3VsaW4gc2VjcmV0aW9uIHJlZHVjZXMuIiwgMC45KTsNCiAgfQ0KfTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgSU5JVA0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KZnVuY3Rpb24gaW5pdCgpew0KICByZW5kZXJOYXYoKTsNCiAgc2VsZWN0VG9waWModG9waWNzWzBdLmlkKTsNCn0NCmluaXQoKTsNCjwvc2NyaXB0Pg0KPC9ib2R5Pg0KPC9odG1sPg0K"}, {"id": "ch7", "file": "ch7.html", "title": "Class 10 Science Ch 7 \u2013 How Do Organisms Reproduce?", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDcg4oCTIEhvdyBEbyBPcmdhbmlzbXMgUmVwcm9kdWNlPzwvdGl0bGU+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4NCiAgPHN0eWxlPg0KICAgICp7IGJveC1zaXppbmc6Ym9yZGVyLWJveDsgfQ0KICAgIGJvZHl7DQogICAgICBtYXJnaW46MDsNCiAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxTZWdvZSBVSSxSb2JvdG8sQXJpYWwsc2Fucy1zZXJpZjsNCiAgICAgIGJhY2tncm91bmQ6DQogICAgICAgIHJhZGlhbC1ncmFkaWVudCgxMTAwcHggNjgwcHggYXQgMTglIDEwJSwgcmdiYSgxNiwxODUsMTI5LDAuMTgpLCB0cmFuc3BhcmVudCA1NSUpLA0KICAgICAgICByYWRpYWwtZ3JhZGllbnQoOTAwcHggNjIwcHggYXQgODAlIDE2JSwgcmdiYSg1OSwxMzAsMjQ2LDAuMTgpLCB0cmFuc3BhcmVudCA2MCUpLA0KICAgICAgICByYWRpYWwtZ3JhZGllbnQoOTAwcHggNjAwcHggYXQgNTAlIDEwMCUsIHJnYmEoMjQ0LDYzLDk0LDAuMTQpLCB0cmFuc3BhcmVudCA1NSUpLA0KICAgICAgICBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMDUwODE2IDAlLCAjMWUxYjRiIDEwMCUpOw0KICAgICAgY29sb3I6I2YxZjVmOTsNCiAgICAgIG1pbi1oZWlnaHQ6MTAwdmg7DQogICAgfQ0KICAgIGhlYWRlcnsNCiAgICAgIHBhZGRpbmc6IDE4cHggNXZ3Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkyKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMTApOw0KICAgICAgcG9zaXRpb246IHN0aWNreTsgdG9wOjA7IHotaW5kZXg6IDUwOw0KICAgIH0NCiAgICBoZWFkZXIgaDF7DQogICAgICBtYXJnaW46MCAwIDhweDsNCiAgICAgIGZvbnQtc2l6ZTogY2xhbXAoMS4yNXJlbSwgNHZ3LCAxLjlyZW0pOw0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzIyYzU1ZSwgIzNiODJmNiwgI2Y1OWUwYiwgI2Y0M2Y1ZSk7DQogICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDp0ZXh0Ow0KICAgICAgYmFja2dyb3VuZC1jbGlwOnRleHQ7DQogICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjp0cmFuc3BhcmVudDsNCiAgICB9DQogICAgLmNvbnRyb2xzew0KICAgICAgZGlzcGxheTpmbGV4OyBnYXA6MTJweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBmbGV4LXdyYXA6d3JhcDsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl17DQogICAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzQsMTk3LDk0LDAuNDUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMjRweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC43NSk7DQogICAgICBjb2xvcjojZjFmNWY5Ow0KICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgbWluLXdpZHRoOiAyNjBweDsNCiAgICAgIG91dGxpbmU6bm9uZTsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl06OnBsYWNlaG9sZGVyeyBjb2xvcjojOTRhM2I4OyB9DQogICAgLnByb2dyZXNzeyBmb250LXNpemU6MC45cmVtOyBjb2xvcjojOTRhM2I4OyB9DQoNCiAgICAubGF5b3V0ew0KICAgICAgZGlzcGxheTpncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAzNDBweCAxZnI7DQogICAgICBnYXA6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxOHB4IDV2dyA2MHB4Ow0KICAgICAgbWF4LXdpZHRoOiAxNzUwcHg7DQogICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICB9DQogICAgQG1lZGlhIChtYXgtd2lkdGg6IDExMDBweCl7IC5sYXlvdXR7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9IH0NCg0KICAgIG5hdnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45Mik7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzQsMTk3LDk0LDAuMjUpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEycHgpOw0KICAgICAgbWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDE0MHB4KTsNCiAgICAgIG92ZXJmbG93OmF1dG87DQogICAgfQ0KICAgIG5hdiBoMnsNCiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgIG1hcmdpbjogMCAwIDEycHg7DQogICAgICBjb2xvcjojODZlZmFjOw0KICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1ZW07DQogICAgfQ0KICAgIC50b3BpYy1saW5rew0KICAgICAgZGlzcGxheTpibG9jazsNCiAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjE4cyBlYXNlOw0KICAgICAgdXNlci1zZWxlY3Q6bm9uZTsNCiAgICB9DQogICAgLnRvcGljLWxpbms6aG92ZXJ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDM0LDE5Nyw5NCwwLjEyKTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgzNCwxOTcsOTQsMC40MCk7DQogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNHB4KTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsuYWN0aXZlew0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzIyYzU1ZSwgIzM0ZDM5OSk7DQogICAgICBjb2xvcjojMGYxNzJhOw0KICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDE4cHggcmdiYSgzNCwxOTcsOTQsMC4yMik7DQogICAgfQ0KICAgIC50b3BpYy1saW5rIC50YWd7DQogICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsNCiAgICAgIHBhZGRpbmc6IDJweCA4cHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43MnJlbTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4zNSk7DQogICAgICBtYXJnaW4tbGVmdDogOHB4Ow0KICAgIH0NCg0KICAgIG1haW57DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTIpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsNCiAgICAgIHBhZGRpbmc6IDIycHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDM0LDE5Nyw5NCwwLjIyKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJveC1zaGFkb3c6IDAgMjJweCA3MHB4IHJnYmEoMCwwLDAsMC40NSk7DQogICAgfQ0KICAgIC5iYWRnZXsNCiAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogNHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43OHJlbTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjU1KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjEwKTsNCiAgICAgIGNvbG9yOiAjOTNjNWZkOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICB9DQogICAgbWFpbiBoMnsgbWFyZ2luOiA2cHggMCAwOyBjb2xvcjojZTJlOGYwOyBmb250LXNpemU6IDEuNDhyZW07IH0NCg0KICAgIC5zZWN0aW9ueyBtYXJnaW4tdG9wOiAyMnB4OyB9DQogICAgLnNlY3Rpb24gaDN7DQogICAgICBmb250LXNpemU6IDEuMDhyZW07DQogICAgICBjb2xvcjojYTViNGZjOw0KICAgICAgbWFyZ2luOiAwIDAgMTBweDsNCiAgICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgIzYwYTVmYTsNCiAgICAgIHBhZGRpbmctbGVmdDogMTJweDsNCiAgICB9DQogICAgcCwgbGl7IGNvbG9yOiNlMmU4ZjA7IGZvbnQtc2l6ZTogMC45NnJlbTsgbGluZS1oZWlnaHQ6MS42NTsgfQ0KICAgIHVseyBwYWRkaW5nLWxlZnQ6IDIwcHg7IG1hcmdpbjogMTBweCAwIDA7IH0NCg0KICAgIC52aWRlby1jb250YWluZXJ7DQogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjQwKTsNCiAgICAgIGJhY2tncm91bmQ6ICMwZjE3MmE7DQogICAgICBhc3BlY3QtcmF0aW86IDE2Lzk7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgaWZyYW1leyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgYm9yZGVyOjA7IH0NCg0KICAgIC5hbmltLWNvbnRhaW5lcnsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMWUyOTNiIDAlLCAjMGYxNzJhIDEwMCUpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzNCwxOTcsOTQsMC40NSk7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgbWFyZ2luOiAxMnB4IDA7DQogICAgfQ0KICAgIC5hbmltLXRvb2xiYXJ7DQogICAgICBkaXNwbGF5OmZsZXg7DQogICAgICBmbGV4LXdyYXA6d3JhcDsNCiAgICAgIGdhcDoxMHB4Ow0KICAgICAgYWxpZ24taXRlbXM6Y2VudGVyOw0KICAgICAganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47DQogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgY29sb3I6I2E3ZjNkMDsNCiAgICAgIGZvbnQtc2l6ZTogMC44OHJlbTsNCiAgICB9DQogICAgLmJ0bnN7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgZmxleC13cmFwOndyYXA7IGFsaWduLWl0ZW1zOmNlbnRlcjsgfQ0KICAgIGJ1dHRvbnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzQsMTk3LDk0LDAuMTYpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzNCwxOTcsOTQsMC41NSk7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIHBhZGRpbmc6IDZweCAxNHB4Ow0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICAgIGN1cnNvcjpwb2ludGVyOw0KICAgICAgZm9udC1zaXplOiAwLjgycmVtOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIC4xOHM7DQogICAgfQ0KICAgIGJ1dHRvbjpob3ZlcnsgYmFja2dyb3VuZDogcmdiYSgzNCwxOTcsOTQsMC4yOCk7IH0NCiAgICBidXR0b246ZGlzYWJsZWR7IG9wYWNpdHk6MC41OyBjdXJzb3I6bm90LWFsbG93ZWQ7IH0NCg0KICAgIC5zbGlkZXJ7DQogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC42KTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC4yNSk7DQogICAgICBwYWRkaW5nOiA2cHggMTBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgY29sb3I6I2NiZDVlMTsNCiAgICAgIGZvbnQtc2l6ZTogMC44MnJlbTsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0icmFuZ2UiXXsgd2lkdGg6IDE1MHB4OyB9DQoNCiAgICBjYW52YXN7DQogICAgICB3aWR0aDoxMDAlOw0KICAgICAgaGVpZ2h0OiAzNDBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyMCUsIHJnYmEoMzQsMTk3LDk0LDAuMTApLCAjMGYxNzJhKTsNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogICAgfQ0KICAgIC5jYXB0aW9uew0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4wOCk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4yNSk7DQogICAgICBjb2xvcjojZGJlYWZlOw0KICAgICAgZm9udC1zaXplOiAwLjkycmVtOw0KICAgICAgbGluZS1oZWlnaHQ6IDEuNTU7DQogICAgfQ0KDQogICAgLm1pbmRtYXB7DQogICAgICBkaXNwbGF5OmdyaWQ7DQogICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIzMHB4LCAxZnIpKTsNCiAgICAgIGdhcDogMTJweDsNCiAgICAgIG1hcmdpbi10b3A6IDEycHg7DQogICAgfQ0KICAgIC5tbS1ub2Rlew0KICAgICAgcGFkZGluZzogMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDM0LDE5Nyw5NCwwLjEwKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzQsMTk3LDk0LDAuMjgpOw0KICAgICAgZm9udC1zaXplOiAwLjlyZW07DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgIH0NCiAgICAubW0tbm9kZSBzdHJvbmd7IGNvbG9yOiM4NmVmYWM7IH0NCg0KICAgIC5xdWl6ew0KICAgICAgbWFyZ2luLXRvcDogMThweDsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMCk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZjU5ZTBiOw0KICAgIH0NCiAgICAucXVpei1xdWVzdGlvbnsgZm9udC13ZWlnaHQ6IDc1MDsgbWFyZ2luLWJvdHRvbTogMTBweDsgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uew0KICAgICAgZGlzcGxheTpibG9jazsgd2lkdGg6MTAwJTsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwwLjM1KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC43NSk7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjE4czsNCiAgICAgIHRleHQtYWxpZ246bGVmdDsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b246aG92ZXJ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4xOCk7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjgwKTsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b24uY29ycmVjdHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjk1KTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMTcsMTE5LDYsMSk7DQogICAgICBjb2xvcjojMTExODI3Ow0KICAgICAgZm9udC13ZWlnaHQ6IDg1MDsNCiAgICB9DQogICAgLnF1aXotZXhwbGFpbnsNCiAgICAgIGRpc3BsYXk6bm9uZTsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMik7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgY29sb3I6I2ZkZTY4YTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICB9DQogICAgYXsgY29sb3I6IzYwYTVmYTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IH0NCiAgICBhOmhvdmVyeyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyB9DQogIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCjxoZWFkZXI+DQogIDxoMT5Ib3cgRG8gT3JnYW5pc21zIFJlcHJvZHVjZT8g4oCTIENsYXNzIDEwIChDaGFwdGVyIDcpPC9oMT4NCiAgPGRpdiBjbGFzcz0iY29udHJvbHMiPg0KICAgIDxpbnB1dCB0eXBlPSJzZWFyY2giIGlkPSJzZWFyY2hJbnB1dCIgcGxhY2Vob2xkZXI9IlNlYXJjaDogRE5BIGNvcHlpbmcsIGZpc3Npb24sIGJ1ZGRpbmcsIHBvbGxlbiB0dWJlLCBwbGFjZW50YSwgY29udHJhY2VwdGlvbi4uLiIgLz4NCiAgICA8c3BhbiBjbGFzcz0icHJvZ3Jlc3MiPlByb2dyZXNzOiA8c3BhbiBpZD0icHJvZ0NvdW50Ij4wPC9zcGFuPi88c3BhbiBpZD0idG90YWxDb3VudCI+MDwvc3Bhbj4gdG9waWNzPC9zcGFuPg0KICA8L2Rpdj4NCjwvaGVhZGVyPg0KDQo8ZGl2IGNsYXNzPSJsYXlvdXQiPg0KICA8bmF2Pg0KICAgIDxoMj5DaGFwdGVyIDcgVG9waWNzPC9oMj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0xpc3QiPjwvZGl2Pg0KICA8L25hdj4NCg0KICA8bWFpbj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0NvbnRlbnQiPjwvZGl2Pg0KICA8L21haW4+DQo8L2Rpdj4NCg0KPHNjcmlwdD4NCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFZJREVPIChTdW5saWtlIFN0dWR5KQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3QgY2g3VmlkZW8gPSB7DQogIHl0V2F0Y2g6ICJodHRwczovL3lvdXR1LmJlL2U4QVhsYUkwRTY4IiwNCiAgZW1iZWQ6ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9lOEFYbGFJMEU2OCINCn07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFRPUElDUyAoTkNFUlQtYWxpZ25lZCkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljcyA9IFsNCiAgew0KICAgIGlkOiJpbnRyby1yZXByb2R1Y3Rpb24iLA0KICAgIHRpdGxlOiJXaGF0IGlzIHJlcHJvZHVjdGlvbj8gKyBETkEgY29weWluZyArIFZhcmlhdGlvbiIsDQogICAgdHlwZToiQmFzaWNzIiwNCiAgICB2aWRlb1RpbWU6IjAwOjQw4oCTMDM6MTAiLA0KICAgIGFuaW1hdGlvblR5cGU6ImRuYUNvcHlpbmdWYXJpYXRpb24iLA0KICAgIGNvcmVOb3RlczoiUmVwcm9kdWN0aW9uIG1ha2VzIG5ldyBpbmRpdmlkdWFscyBvZiB0aGUgc2FtZSBraW5kLiBUaGUgYmFzaWMgZXZlbnQgaXMgRE5BIGNvcHlpbmcgcGx1cyBjcmVhdGlvbiBvZiBhZGRpdGlvbmFsIGNlbGx1bGFyIHBhcnRzLCBhbmQgc21hbGwgZXJyb3JzIGluIGNvcHlpbmcgY2FuIGNhdXNlIHZhcmlhdGlvbi4iLA0KICAgIHBvaW50czpbDQogICAgICAiRE5BIGNvcHlpbmcgcGFzc2VzIGhlcmVkaXRhcnkgaW5mb3JtYXRpb24gdG8gdGhlIG5leHQgZ2VuZXJhdGlvbi4iLA0KICAgICAgIlZhcmlhdGlvbiBjYW4gaGVscCBhIHBvcHVsYXRpb24gc3Vydml2ZSBjaGFuZ2luZyBlbnZpcm9ubWVudHMuIiwNCiAgICAgICJBc2V4dWFsIHJlcHJvZHVjdGlvbjogb25lIHBhcmVudDsgc2V4dWFsIHJlcHJvZHVjdGlvbjogdHdvIHBhcmVudHMgKG1vcmUgdmFyaWF0aW9uKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IjLigJMzIG1hcmtzOiBleHBsYWluIHdoeSBETkEgY29weWluZyBpcyBlc3NlbnRpYWwgYW5kIGhvdyB2YXJpYXRpb25zIGFyaXNlLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiVmFyaWF0aW9uIGluIG9mZnNwcmluZyBjYW4gYmUgY2F1c2VkIGJ5OiIsDQogICAgICBvcHRpb25zOlsiT25seSBwZXJmZWN0IEROQSBjb3B5aW5nIiwiRXJyb3JzIGR1cmluZyBETkEgY29weWluZyIsIk9ubHkgY2xpbWF0ZSBjaGFuZ2VzIiwiT25seSBmb29kIl0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJDb3B5aW5nIGlzIG5vdCAxMDAlIGV4YWN0LCBzbyBzbWFsbCBkaWZmZXJlbmNlcyBjYW4gYXBwZWFyLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJhc2V4dWFsLWZpc3Npb24iLA0KICAgIHRpdGxlOiJBc2V4dWFsIHJlcHJvZHVjdGlvbjogRmlzc2lvbiAoYmluYXJ5ICYgbXVsdGlwbGUpIiwNCiAgICB0eXBlOiJBc2V4dWFsIiwNCiAgICB2aWRlb1RpbWU6IjAzOjEw4oCTMDY6MjAiLA0KICAgIGFuaW1hdGlvblR5cGU6ImZpc3Npb25TdGVwcyIsDQogICAgY29yZU5vdGVzOiJJbiBmaXNzaW9uLCBhIHNpbmdsZSBjZWxsIGRpdmlkZXMgdG8gZm9ybSBuZXcgaW5kaXZpZHVhbHMuIEJpbmFyeSBmaXNzaW9uIG1ha2VzIHR3byBjZWxsczsgbXVsdGlwbGUgZmlzc2lvbiBjYW4gbWFrZSBtYW55IGF0IG9uY2UgKGNvbmNlcHQgbGV2ZWwpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJCaW5hcnkgZmlzc2lvbjogb25lIGNlbGwg4oaSIHR3byAoZS5nLiwgYW1vZWJhL3BhcmFtZWNpdW0gY29uY2VwdCkuIiwNCiAgICAgICJNdWx0aXBsZSBmaXNzaW9uOiBvbmUgY2VsbCDihpIgbWFueSAoZS5nLiwgcGxhc21vZGl1bSBjb25jZXB0KS4iLA0KICAgICAgIkZhc3QgbWV0aG9kIGluIHVuaWNlbGx1bGFyIG9yZ2FuaXNtcy4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkRyYXcgYmluYXJ5IGZpc3Npb24gc3RlcHMgaW4gYW1vZWJhIChudWNsZXVzIGRpdmlzaW9uIOKGkiBjZWxsIGRpdmlzaW9uKS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IkJpbmFyeSBmaXNzaW9uIHByb2R1Y2VzOiIsDQogICAgICBvcHRpb25zOlsiTWFueSBzcG9yZXMiLCJUd28gZGF1Z2h0ZXIgY2VsbHMiLCJBIGJ1ZCBvbmx5IiwiU2VlZHMiXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IkJpbmFyeSBtZWFucyB0d287IG9uZSBwYXJlbnQgY2VsbCBzcGxpdHMgaW50byB0d28uIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6ImFzZXh1YWwtYnVkZGluZyIsDQogICAgdGl0bGU6IkFzZXh1YWwgcmVwcm9kdWN0aW9uOiBCdWRkaW5nIChZZWFzdC9IeWRyYSkiLA0KICAgIHR5cGU6IkFzZXh1YWwiLA0KICAgIHZpZGVvVGltZToiMDY6MjDigJMwODowNSIsDQogICAgYW5pbWF0aW9uVHlwZToiYnVkZGluZ1N0ZXBzIiwNCiAgICBjb3JlTm90ZXM6IkluIGJ1ZGRpbmcsIGEgc21hbGwgb3V0Z3Jvd3RoIChidWQpIGZvcm1zIG9uIHRoZSBwYXJlbnQuIEl0IGdyb3dzIGFuZCBtYXkgZGV0YWNoIHRvIGJlY29tZSBhIG5ldyBpbmRpdmlkdWFsLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJCdWQgZm9ybWF0aW9uIG9uIHBhcmVudCBib2R5L2NlbGwuIiwNCiAgICAgICJOdWNsZWFyIGRpdmlzaW9uICsgZ3Jvd3RoIG9mIGJ1ZC4iLA0KICAgICAgIkRldGFjaG1lbnQgKG9yIGNoYWluIGluIHllYXN0IGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiTGFiZWwgYnVkZGluZyBpbiB5ZWFzdC9oeWRyYSAocGFyZW50IOKGkiBidWQg4oaSIG5ldyBpbmRpdmlkdWFsKS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IkJ1ZGRpbmcgaXMgYmVzdCBzaG93biBieToiLA0KICAgICAgb3B0aW9uczpbIlJoaXpvcHVzIiwiWWVhc3QiLCJQbGFzbW9kaXVtIiwiUGVhIHBsYW50Il0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJZZWFzdCBjb21tb25seSByZXByb2R1Y2VzIGJ5IGJ1ZGRpbmcuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6ImFzZXh1YWwtZnJhZ21lbnRhdGlvbiIsDQogICAgdGl0bGU6IkFzZXh1YWwgcmVwcm9kdWN0aW9uOiBGcmFnbWVudGF0aW9uIChTcGlyb2d5cmEpIiwNCiAgICB0eXBlOiJBc2V4dWFsIiwNCiAgICB2aWRlb1RpbWU6IjA4OjA14oCTMDk6MDUiLA0KICAgIGFuaW1hdGlvblR5cGU6ImZyYWdtZW50YXRpb25TdGVwcyIsDQogICAgY29yZU5vdGVzOiJJbiBmcmFnbWVudGF0aW9uLCB0aGUgcGFyZW50IGJvZHkgYnJlYWtzIGludG8gcGllY2VzLCBhbmQgZWFjaCBwaWVjZSBjYW4gZ3JvdyBpbnRvIGEgbmV3IGluZGl2aWR1YWwgKGNvbW1vbiBpbiBzaW1wbGUgbXVsdGljZWxsdWxhciBvcmdhbmlzbXMgbGlrZSBhbGdhZSkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIkJvZHkgYnJlYWtzIGludG8gZnJhZ21lbnRzLiIsDQogICAgICAiRWFjaCBmcmFnbWVudCBncm93cyBieSBjZWxsIGRpdmlzaW9uLiIsDQogICAgICAiRXhhbXBsZSBjb25jZXB0OiBTcGlyb2d5cmEuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiIx4oCTMiBtYXJrczogZGVmaW5lIGZyYWdtZW50YXRpb24gd2l0aCBvbmUgZXhhbXBsZS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IkZyYWdtZW50YXRpb24gbWFpbmx5IG9jY3VycyBpbjoiLA0KICAgICAgb3B0aW9uczpbIlNpbXBsZSBhbGdhZSBsaWtlIFNwaXJvZ3lyYSIsIkh1bWFucyIsIkJpcmRzIiwiSW5zZWN0cyBvbmx5Il0sDQogICAgICBjb3JyZWN0OjAsDQogICAgICBleHBsYWluOiJJdCBpcyBjb21tb24gaW4gc2ltcGxlIG11bHRpY2VsbHVsYXIgb3JnYW5pc21zLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJhc2V4dWFsLXJlZ2VuZXJhdGlvbiIsDQogICAgdGl0bGU6IkFzZXh1YWwgcmVwcm9kdWN0aW9uOiBSZWdlbmVyYXRpb24gKFBsYW5hcmlhL0h5ZHJhIGNvbmNlcHQpIiwNCiAgICB0eXBlOiJBc2V4dWFsIiwNCiAgICB2aWRlb1RpbWU6IjA5OjA14oCTMTA6MjAiLA0KICAgIGFuaW1hdGlvblR5cGU6InJlZ2VuZXJhdGlvblN0ZXBzIiwNCiAgICBjb3JlTm90ZXM6IlJlZ2VuZXJhdGlvbiBpcyB0aGUgYWJpbGl0eSB0byByZWdyb3cgYm9keSBwYXJ0cy4gSW4gc29tZSBzaW1wbGUgb3JnYW5pc21zLCBhIGN1dCBwaWVjZSBjYW4gZ3JvdyBpbnRvIGEgY29tcGxldGUgb3JnYW5pc20gKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJTcGVjaWFsIGNlbGxzIGNhbiBkaXZpZGUgYW5kIGZvcm0gZGlmZmVyZW50IHRpc3N1ZXMuIiwNCiAgICAgICJVc2VmdWwgZm9yIHJlcGFpcjsgaW4gc29tZSBvcmdhbmlzbXMgY2FuIGZvcm0gd2hvbGUgbmV3IGluZGl2aWR1YWxzLiIsDQogICAgICAiRXhhbXBsZSBjb25jZXB0OiBwbGFuYXJpYS9oeWRyYS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkRvIG5vdCB3cml0ZSB0aGF0IHJlZ2VuZXJhdGlvbiBoYXBwZW5zIGluIGFsbCBhbmltYWxzOyBrZWVwIGl0IHRvIHNpbXBsZSBvcmdhbmlzbXMuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJSZWdlbmVyYXRpb24gbWVhbnM6IiwNCiAgICAgIG9wdGlvbnM6WyJNYWtpbmcgc2VlZHMiLCJSZXBhaXIvcmVncm93dGggb2YgYm9keSBwYXJ0cyIsIk9ubHkgZm9ybWluZyBwb2xsZW4iLCJPbmx5IHByb2R1Y2luZyBlZ2dzIl0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJJdCBpcyByZWdyb3d0aC9yZXBhaXI7IGluIHNvbWUgb3JnYW5pc21zIGl0IGNhbiBmb3JtIGEgZnVsbCBpbmRpdmlkdWFsLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJhc2V4dWFsLXZlZ3Byb3AiLA0KICAgIHRpdGxlOiJBc2V4dWFsIHJlcHJvZHVjdGlvbiBpbiBwbGFudHM6IFZlZ2V0YXRpdmUgcHJvcGFnYXRpb24iLA0KICAgIHR5cGU6IkFzZXh1YWwgKFBsYW50cykiLA0KICAgIHZpZGVvVGltZToiMTA6MjDigJMxMjoxMCIsDQogICAgYW5pbWF0aW9uVHlwZToidmVnZXRhdGl2ZVByb3BhZ2F0aW9uU3RlcHMiLA0KICAgIGNvcmVOb3RlczoiTmV3IHBsYW50cyBjYW4gZ3JvdyBmcm9tIHZlZ2V0YXRpdmUgcGFydHMgbGlrZSBzdGVtLCByb290LCBvciBsZWFmLiBJdCBjYW4gYmUgbmF0dXJhbCBvciBhcnRpZmljaWFsIChjdXR0aW5nLCBncmFmdGluZywgbGF5ZXJpbmcsIHRpc3N1ZSBjdWx0dXJlIGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJOYXR1cmFsOiBieSBzdGVtL3Jvb3QvbGVhZiAoZXhhbXBsZXMgZGVwZW5kIG9uIHRleHRib29rL3RlYWNoZXIpLiIsDQogICAgICAiQXJ0aWZpY2lhbDogY3V0dGluZywgZ3JhZnRpbmcsIGxheWVyaW5nLCB0aXNzdWUgY3VsdHVyZSAoY29uY2VwdCkuIiwNCiAgICAgICJQcm9kdWNlcyBnZW5ldGljYWxseSBzaW1pbGFyIHBsYW50czsgY2FuIGJlIHF1aWNrIGFuZCByZWxpYWJsZS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IldyaXRlIDIgYWR2YW50YWdlcyBvZiB2ZWdldGF0aXZlIHByb3BhZ2F0aW9uICsgb25lIG1ldGhvZCAoY3V0dGluZy9ncmFmdGluZykuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJWZWdldGF0aXZlIHByb3BhZ2F0aW9uIHVzZXM6IiwNCiAgICAgIG9wdGlvbnM6WyJPbmx5IGZsb3dlcnMiLCJTdGVtL3Jvb3QvbGVhZiBwYXJ0cyIsIk9ubHkgc3BvcmVzIiwiT25seSBwb2xsZW4iXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IlZlZ2V0YXRpdmUgcGFydHMgKG5vbi1yZXByb2R1Y3RpdmUgcGFydHMpIGNhbiBmb3JtIG5ldyBwbGFudHMuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6ImFzZXh1YWwtc3BvcmVzIiwNCiAgICB0aXRsZToiQXNleHVhbCByZXByb2R1Y3Rpb246IFNwb3JlIGZvcm1hdGlvbiAoUmhpem9wdXMgY29uY2VwdCkiLA0KICAgIHR5cGU6IkFzZXh1YWwiLA0KICAgIHZpZGVvVGltZToiMTI6MTDigJMxMzowMCIsDQogICAgYW5pbWF0aW9uVHlwZToic3BvcmVGb3JtYXRpb25TdGVwcyIsDQogICAgY29yZU5vdGVzOiJJbiBzcG9yZSBmb3JtYXRpb24sIGEgcGFyZW50IHByb2R1Y2VzIG1hbnkgdGlueSBzcG9yZXMgdGhhdCBjYW4gc3Vydml2ZSBoYXJzaCBjb25kaXRpb25zIGFuZCBnZXJtaW5hdGUgd2hlbiBjb25kaXRpb25zIGJlY29tZSBmYXZvcmFibGUgKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJTcG9yZXMgYXJlIHNtYWxsIGFuZCBsaWdodCDihpIgY2FuIGRpc3BlcnNlLiIsDQogICAgICAiUHJvdGVjdGl2ZSBjb3ZlcmluZyBoZWxwcyBzdXJ2aXZhbC4iLA0KICAgICAgIkV4YW1wbGUgY29uY2VwdDogUmhpem9wdXMgKGJyZWFkIG1vdWxkKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkRyYXcgc3BvcmFuZ2l1bSArIHNwb3JlIHJlbGVhc2UgKHNpbXBsZSBsYWJlbGxlZCBkaWFncmFtKS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IlNwb3JlcyBhcmUgdXNlZnVsIGJlY2F1c2UgdGhleToiLA0KICAgICAgb3B0aW9uczpbIkFyZSBhbHdheXMgYmlnIiwiU3Vydml2ZSB1bmZhdm91cmFibGUgY29uZGl0aW9ucyIsIkNhbm5vdCBkaXNwZXJzZSIsIk5lZWQgdHdvIHBhcmVudHMiXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IlByb3RlY3RpdmUgY292ZXJpbmcgaGVscHMgc3Vydml2YWwgdW50aWwgY29uZGl0aW9ucyBpbXByb3ZlLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJzZXh1YWwtcGxhbnRzLWZsb3dlciIsDQogICAgdGl0bGU6IlNleHVhbCByZXByb2R1Y3Rpb24gaW4gcGxhbnRzOiBGbG93ZXIgcGFydHMgKyBQb2xsaW5hdGlvbiIsDQogICAgdHlwZToiU2V4dWFsIChQbGFudHMpIiwNCiAgICB2aWRlb1RpbWU6IjEzOjAw4oCTMTY6MjAiLA0KICAgIGFuaW1hdGlvblR5cGU6ImZsb3dlclBvbGxpbmF0aW9uU3RlcHMiLA0KICAgIGNvcmVOb3RlczoiRmxvd2VycyBoYXZlIHJlcHJvZHVjdGl2ZSBwYXJ0czogc3RhbWVuIChtYWxlKSBhbmQgcGlzdGlsL2NhcnBlbCAoZmVtYWxlKS4gUG9sbGluYXRpb24gdHJhbnNmZXJzIHBvbGxlbiBmcm9tIGFudGhlciB0byBzdGlnbWEuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIlN0YW1lbjogYW50aGVyICsgZmlsYW1lbnQ7IGFudGhlciBtYWtlcyBwb2xsZW4uIiwNCiAgICAgICJQaXN0aWw6IHN0aWdtYSArIHN0eWxlICsgb3Zhcnk7IG92YXJ5IGNvbnRhaW5zIG92dWxlcyAoZmVtYWxlIGdhbWV0ZSBpbnNpZGUpLiIsDQogICAgICAiUG9sbGluYXRpb24gY2FuIGJlIHNlbGYgb3IgY3Jvc3MgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiVmVyeSBjb21tb24gZGlhZ3JhbTogbGFiZWxsZWQgZmxvd2VyIChzdGFtZW4sIHBpc3RpbCwgc3RpZ21hLCBzdHlsZSwgb3ZhcnkpLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiUG9sbGluYXRpb24gaXMgdHJhbnNmZXIgb2YgcG9sbGVuIGZyb206IiwNCiAgICAgIG9wdGlvbnM6WyJPdmFyeSB0byBhbnRoZXIiLCJBbnRoZXIgdG8gc3RpZ21hIiwiU3R5bGUgdG8gb3Z1bGUiLCJTZWVkIHRvIGZydWl0Il0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJQb2xsaW5hdGlvbjogYW50aGVyIOKGkiBzdGlnbWEuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6InNleHVhbC1wbGFudHMtZmVydGlsaXphdGlvbiIsDQogICAgdGl0bGU6IlBvbGxlbiB0dWJlICsgRmVydGlsaXNhdGlvbiAoY29uY2VwdCkiLA0KICAgIHR5cGU6IlNleHVhbCAoUGxhbnRzKSIsDQogICAgdmlkZW9UaW1lOiIxNjoyMOKAkzE3OjQwIiwNCiAgICBhbmltYXRpb25UeXBlOiJwb2xsZW5UdWJlRmVydGlsaXphdGlvblN0ZXBzIiwNCiAgICBjb3JlTm90ZXM6IkFmdGVyIHBvbGxpbmF0aW9uLCBwb2xsZW4gZ2VybWluYXRlcyBvbiBzdGlnbWEgYW5kIGZvcm1zIGEgcG9sbGVuIHR1YmUgdGhyb3VnaCBzdHlsZSB0byByZWFjaCB0aGUgb3Z1bGUsIHdoZXJlIGZlcnRpbGlzYXRpb24gZm9ybXMgdGhlIHp5Z290ZSAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIlBvbGxlbiB0dWJlIGNhcnJpZXMgbWFsZSBnYW1ldGUgdG8gb3Z1bGUuIiwNCiAgICAgICJGdXNpb24gb2YgbWFsZSBhbmQgZmVtYWxlIGdhbWV0ZXMgZm9ybXMgenlnb3RlLiIsDQogICAgICAiT3Z1bGUgYmVjb21lcyBzZWVkOyBvdmFyeSBiZWNvbWVzIGZydWl0IChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IldyaXRlIHNlcXVlbmNlOiBwb2xsaW5hdGlvbiDihpIgcG9sbGVuIHR1YmUg4oaSIGZlcnRpbGlzYXRpb24g4oaSIHNlZWQvZnJ1aXQgZm9ybWF0aW9uLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiUG9sbGVuIHR1YmUgZ3Jvd3MgdGhyb3VnaDoiLA0KICAgICAgb3B0aW9uczpbIlNlcGFsIiwiU3R5bGUiLCJQZXRhbCIsIkZydWl0Il0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJUaGUgdHViZSBncm93cyBkb3duIHRoZSBzdHlsZSB0byByZWFjaCB0aGUgb3Z1bGUuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6InNleHVhbC1wbGFudHMtZG91YmxlIiwNCiAgICB0aXRsZToiRG91YmxlIGZlcnRpbGlzYXRpb24gKGhpZ2gteWllbGQgY29uY2VwdCBkaWFncmFtKSIsDQogICAgdHlwZToiU2V4dWFsIChQbGFudHMpIiwNCiAgICB2aWRlb1RpbWU6IjE3OjQw4oCTMTg6MjUiLA0KICAgIGFuaW1hdGlvblR5cGU6ImRvdWJsZUZlcnRpbGl6YXRpb25TdGVwcyIsDQogICAgY29yZU5vdGVzOiJJbiBmbG93ZXJpbmcgcGxhbnRzLCB0d28gbWFsZSBnYW1ldGVzIGNhbiB0YWtlIHBhcnQ6IG9uZSBmdXNlcyB3aXRoIGVnZyAoenlnb3RlKSBhbmQgdGhlIG90aGVyIGZ1c2VzIHdpdGggcG9sYXIgbnVjbGVpIChlbmRvc3Blcm0gZm9ybWF0aW9uIGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJUd28gZnVzaW9ucyBvY2N1ciBpbnNpZGUgdGhlIG92dWxlIChjb25jZXB0KS4iLA0KICAgICAgIlp5Z290ZSDihpIgZW1icnlvOyBlbmRvc3Blcm0gc3VwcG9ydHMgZW1icnlvIChjb25jZXB0KS4iLA0KICAgICAgIkNhbGxlZCBkb3VibGUgZmVydGlsaXNhdGlvbiAoY29tbW9uIENCU0UgY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJJZiBhc2tlZCwgZHJhdyBhIHNpbXBsaWZpZWQgb3Z1bGUgYW5kIHNob3cgdHdvIGZ1c2lvbnMgKG5vdCB0b28gZGV0YWlsZWQpLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiRG91YmxlIGZlcnRpbGlzYXRpb24gbWVhbnM6IiwNCiAgICAgIG9wdGlvbnM6WyJUd28gcG9sbGluYXRpb25zIiwiVHdvIGZ1c2lvbnMgaW5zaWRlIG92dWxlIiwiVHdvIGZydWl0cyIsIlR3byBzdGVtcyJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiVHdvIGZ1c2lvbiBldmVudHMgb2NjdXI6IHp5Z290ZSArIGVuZG9zcGVybSAoY29uY2VwdCkuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6InB1YmVydHkiLA0KICAgIHRpdGxlOiJQdWJlcnR5IGNoYW5nZXMgKG92ZXJ2aWV3KSArIHJlcHJvZHVjdGl2ZSBtYXR1cml0eSIsDQogICAgdHlwZToiSHVtYW5zIiwNCiAgICB2aWRlb1RpbWU6IjE4OjI14oCTMTk6NTUiLA0KICAgIGFuaW1hdGlvblR5cGU6InB1YmVydHlDaGFuZ2VzIiwNCiAgICBjb3JlTm90ZXM6IlB1YmVydHkgaXMgdGhlIHN0YWdlIHdoZW4gdGhlIGJvZHkgYmVjb21lcyBjYXBhYmxlIG9mIHJlcHJvZHVjdGlvbi4gSG9ybW9uZXMgY2F1c2UgcGh5c2ljYWwgYW5kIGVtb3Rpb25hbCBjaGFuZ2VzIChjb25jZXB0KS4iLA0KICAgIHBvaW50czpbDQogICAgICAiR3Jvd3RoIHNwdXJ0LCBjaGFuZ2UgaW4gYm9keSBzaGFwZSwgaGFpciBncm93dGggaW4gc3BlY2lmaWMgcmVnaW9ucyAoY29uY2VwdCkuIiwNCiAgICAgICJWb2ljZSBjaGFuZ2UgaW4gYm95czsgYnJlYXN0IGRldmVsb3BtZW50ICYgbWVuc3RydWFsIGN5Y2xlIHN0YXJ0IGluIGdpcmxzIChjb25jZXB0KS4iLA0KICAgICAgIkdvbmFkcyBzdGFydCBwcm9kdWNpbmcgZ2FtZXRlcyAoc3Blcm1zL2VnZ3MpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiV3JpdGUgNCBjaGFuZ2VzIGF0IHB1YmVydHkgKGFueSA0KS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IkF0IHB1YmVydHksOiIsDQogICAgICBvcHRpb25zOlsiUmVwcm9kdWN0aXZlIG9yZ2FucyBzdG9wIHdvcmtpbmciLCJHYW1ldGUgcHJvZHVjdGlvbiBzdGFydHMgKGNvbmNlcHQpIiwiRE5BIGRpc2FwcGVhcnMiLCJObyBob3Jtb25lcyBhY3QiXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IlB1YmVydHkgdHJpZ2dlcnMgcmVwcm9kdWN0aXZlIG1hdHVyaXR5IGFuZCBnYW1ldGUgcHJvZHVjdGlvbiAoY29uY2VwdCkuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6Im1hbGUtc3lzdGVtIiwNCiAgICB0aXRsZToiTWFsZSByZXByb2R1Y3RpdmUgc3lzdGVtIChwYXRoIG9mIHNwZXJtKSArIGdsYW5kcyIsDQogICAgdHlwZToiSHVtYW5zIiwNCiAgICB2aWRlb1RpbWU6IjE5OjU14oCTMjI6MTUiLA0KICAgIGFuaW1hdGlvblR5cGU6Im1hbGVSZXByb2R1Y3RpdmVQYXRoIiwNCiAgICBjb3JlTm90ZXM6IlRlc3RlcyBwcm9kdWNlIHNwZXJtczsgc3Blcm1zIGFyZSB0cmFuc3BvcnRlZCB2aWEgZHVjdHMgYW5kIG1peGVkIHdpdGggc2VjcmV0aW9ucyBmcm9tIGdsYW5kcyB0byBmb3JtIHNlbWVuIChjb25jZXB0KS4iLA0KICAgIHBvaW50czpbDQogICAgICAiVGVzdGVzIChpbiBzY3JvdHVtKSBwcm9kdWNlIHNwZXJtczsgc2Nyb3R1bSBoZWxwcyBrZWVwIGxvd2VyIHRlbXBlcmF0dXJlIChjb25jZXB0KS4iLA0KICAgICAgIlZhcyBkZWZlcmVucyBjYXJyaWVzIHNwZXJtczsgdXJldGhyYSBpcyBjb21tb24gcGFzc2FnZSBmb3IgdXJpbmUgYW5kIHNlbWVuIChjb25jZXB0KS4iLA0KICAgICAgIlNlbWluYWwgdmVzaWNsZXMgKyBwcm9zdGF0ZSBhZGQgZmx1aWRzL251dHJpZW50cyBhbmQgaGVscCB0cmFuc3BvcnQgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiQ29tbW9uIDMtbWFyazogcm9sZSBvZiBzZW1pbmFsIHZlc2ljbGVzICYgcHJvc3RhdGU7IHdoeSB0ZXN0ZXMgYXJlIG91dHNpZGUgYm9keSBjYXZpdHkuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJUZXN0ZXMgYXJlIGluIHNjcm90dW0gbWFpbmx5IHRvOiIsDQogICAgICBvcHRpb25zOlsiSW5jcmVhc2UgYm9keSB0ZW1wZXJhdHVyZSIsIk1haW50YWluIGxvd2VyIHRlbXBlcmF0dXJlIGZvciBzcGVybSBmb3JtYXRpb24iLCJTdG9yZSB1cmluZSIsIk1ha2UgaW5zdWxpbiJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiU3Blcm0gZm9ybWF0aW9uIG5lZWRzIGEgc2xpZ2h0bHkgbG93ZXIgdGVtcGVyYXR1cmUgKGNvbmNlcHQpLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJmZW1hbGUtc3lzdGVtIiwNCiAgICB0aXRsZToiRmVtYWxlIHJlcHJvZHVjdGl2ZSBzeXN0ZW0gKyBmZXJ0aWxpc2F0aW9uIHNpdGUiLA0KICAgIHR5cGU6Ikh1bWFucyIsDQogICAgdmlkZW9UaW1lOiIyMjoxNeKAkzI0OjAwIiwNCiAgICBhbmltYXRpb25UeXBlOiJmZW1hbGVSZXByb2R1Y3RpdmVQYXRoIiwNCiAgICBjb3JlTm90ZXM6Ik92YXJpZXMgcHJvZHVjZSBlZ2dzIGFuZCBob3Jtb25lcy4gRmFsbG9waWFuIHR1YmVzIGNhcnJ5IHRoZSBlZ2c7IGZlcnRpbGlzYXRpb24gdXN1YWxseSBvY2N1cnMgaW4gdGhlIHR1YmUgKGNvbmNlcHQpLCBhbmQgZGV2ZWxvcG1lbnQgaGFwcGVucyBpbiB0aGUgdXRlcnVzLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJPdmFyeSByZWxlYXNlcyBlZ2c7IHR1YmUgdHJhbnNwb3J0cyBpdC4iLA0KICAgICAgIlV0ZXJ1cyBoYXMgYSB0aGljayBsaW5pbmcgZm9yIGltcGxhbnRhdGlvbiBhbmQgZGV2ZWxvcG1lbnQuIiwNCiAgICAgICJWYWdpbmEgcmVjZWl2ZXMgc3Blcm1zOyBhbHNvIHNlcnZlcyBhcyBiaXJ0aCBjYW5hbCAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJEaWFncmFtOiBsYWJlbCBvdmFyeSwgb3ZpZHVjdCAoZmFsbG9waWFuIHR1YmUpLCB1dGVydXMsIGNlcnZpeCwgdmFnaW5hLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiSW4gaHVtYW5zLCBmZXJ0aWxpc2F0aW9uIHVzdWFsbHkgb2NjdXJzIGluOiIsDQogICAgICBvcHRpb25zOlsiVXRlcnVzIiwiRmFsbG9waWFuIHR1YmUgKG92aWR1Y3QpIiwiVmFnaW5hIiwiT3Zhcnkgc3VyZmFjZSBvbmx5Il0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJUeXBpY2FsbHksIHRoZSBlZ2cgYW5kIHNwZXJtIG1lZXQgaW4gdGhlIG92aWR1Y3QgKGNvbmNlcHQpLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJpbXBsYW50YXRpb24tcGxhY2VudGEiLA0KICAgIHRpdGxlOiJaeWdvdGUg4oaSIGVtYnJ5byDihpIgaW1wbGFudGF0aW9uICsgcGxhY2VudGEgKGNvbmNlcHQpIiwNCiAgICB0eXBlOiJIdW1hbnMiLA0KICAgIHZpZGVvVGltZToiMjQ6MDDigJMyNTozMCIsDQogICAgYW5pbWF0aW9uVHlwZToiaW1wbGFudGF0aW9uUGxhY2VudGFTdGVwcyIsDQogICAgY29yZU5vdGVzOiJBZnRlciBmZXJ0aWxpc2F0aW9uLCB0aGUgenlnb3RlIGRpdmlkZXMsIGZvcm1zIGFuIGVtYnJ5bywgYW5kIGltcGxhbnRzIGluIHRoZSB1dGVydXMuIFBsYWNlbnRhIHN1cHBvcnRzIGV4Y2hhbmdlIG9mIG51dHJpZW50cyBhbmQgb3h5Z2VuIChjb25jZXB0KS4iLA0KICAgIHBvaW50czpbDQogICAgICAiSW1wbGFudGF0aW9uIG9jY3VycyBpbiB0aGljayB1dGVyaW5lIGxpbmluZy4iLA0KICAgICAgIlBsYWNlbnRhIGNvbm5lY3RzIG1vdGhlciBhbmQgZW1icnlvIGZvciBleGNoYW5nZSAoY29uY2VwdCkuIiwNCiAgICAgICJQcmVnbmFuY3kgZHVyYXRpb24gaXMgYWJvdXQgOSBtb250aHMgKGdlbmVyYWwpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiRXhwbGFpbiBwbGFjZW50YSByb2xlIGluIDIgbGluZXMgKyB3aGF0IGltcGxhbnRhdGlvbiBtZWFucy4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IkltcGxhbnRhdGlvbiBoYXBwZW5zIGluOiIsDQogICAgICBvcHRpb25zOlsiT3ZhcnkiLCJVdGVydXMgbGluaW5nIiwiVXJldGhyYSIsIkFudGhlciJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiRW1icnlvIGltcGxhbnRzIGluIHRoZSB1dGVyaW5lIHdhbGwvbGluaW5nLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJtZW5zdHJ1YXRpb24iLA0KICAgIHRpdGxlOiJNZW5zdHJ1YWwgY3ljbGUgKHdoYXQgaGFwcGVucyBpZiBmZXJ0aWxpc2F0aW9uIGRvZXMgbm90IG9jY3VyKSIsDQogICAgdHlwZToiSHVtYW5zIiwNCiAgICB2aWRlb1RpbWU6IjI1OjMw4oCTMjc6MDAiLA0KICAgIGFuaW1hdGlvblR5cGU6Im1lbnN0cnVhbEN5Y2xlVGltZWxpbmUiLA0KICAgIGNvcmVOb3RlczoiSWYgZmVydGlsaXNhdGlvbiBkb2VzIG5vdCBvY2N1ciwgdGhlIHV0ZXJpbmUgbGluaW5nIGJyZWFrcyBkb3duIGFuZCBpcyBzaGVkIGFzIG1lbnN0cnVhdGlvbiAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIlV0ZXJ1cyBwcmVwYXJlcyBsaW5pbmcgZWFjaCBjeWNsZSBmb3IgcG9zc2libGUgaW1wbGFudGF0aW9uLiIsDQogICAgICAiV2l0aG91dCBmZXJ0aWxpc2F0aW9uLCBsaW5pbmcgaXMgc2hlZCB3aXRoIGJsb29kIGFuZCBtdWN1cyAoY29uY2VwdCkuIiwNCiAgICAgICJDeWNsZSByZXBlYXRzICh0aW1pbmcgdmFyaWVzIGFtb25nIGluZGl2aWR1YWxzKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkV4cGxhaW4gbWVuc3RydWF0aW9uIGluIDPigJM0IGxpbmVzIChubyBuZWVkIGZvciBleGFjdCBkYXkgY291bnRzIHVubGVzcyB0ZWFjaGVyIGluc2lzdHMpLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiTWVuc3RydWF0aW9uIGlzIGNhdXNlZCBieToiLA0KICAgICAgb3B0aW9uczpbIkZlcnRpbGlzYXRpb24iLCJTaGVkZGluZyBvZiB1dGVyaW5lIGxpbmluZyB3aGVuIGZlcnRpbGlzYXRpb24gZG9lcyBub3Qgb2NjdXIiLCJTcG9yZSBmb3JtYXRpb24iLCJQb2xsaW5hdGlvbiJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiTGluaW5nIGlzIHNoZWQgd2hlbiBubyBpbXBsYW50YXRpb24gb2NjdXJzIChjb25jZXB0KS4iDQogICAgfQ0KICB9LA0KDQogIHsNCiAgICBpZDoicmVwcm9kdWN0aXZlLWhlYWx0aCIsDQogICAgdGl0bGU6IlJlcHJvZHVjdGl2ZSBoZWFsdGg6IFNURCArIGNvbnRyYWNlcHRpb24gKG92ZXJ2aWV3KSIsDQogICAgdHlwZToiUmVwcm9kdWN0aXZlIGhlYWx0aCIsDQogICAgdmlkZW9UaW1lOiIyNzowMOKAk2VuZCIsDQogICAgYW5pbWF0aW9uVHlwZToiY29udHJhY2VwdGlvbkFuZFNURCIsDQogICAgY29yZU5vdGVzOiJSZXByb2R1Y3RpdmUgaGVhbHRoIGluY2x1ZGVzIHBoeXNpY2FsLCBtZW50YWwsIGFuZCBzb2NpYWwgd2VsbC1iZWluZyByZWxhdGVkIHRvIHJlcHJvZHVjdGlvbi4gQ29udHJhY2VwdGlvbiBoZWxwcyBwcmV2ZW50IHVud2FudGVkIHByZWduYW5jeSwgYW5kIGJhcnJpZXJzIGFsc28gcmVkdWNlIHJpc2sgb2YgU1REcyAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIkJhcnJpZXIgbWV0aG9kcyAoZS5nLiwgY29uZG9tcyBjb25jZXB0KSBoZWxwIHJlZHVjZSBTVEQgdHJhbnNtaXNzaW9uIHJpc2suIiwNCiAgICAgICJDaGVtaWNhbC9ob3Jtb25hbCBwaWxscyAoY29uY2VwdCkgY2FuIHByZXZlbnQgcHJlZ25hbmN5IGJ1dCBtYXkgaGF2ZSBzaWRlIGVmZmVjdHMgKGNvbmNlcHQpLiIsDQogICAgICAiSVVEcyBhbmQgc3VyZ2ljYWwgbWV0aG9kcyBleGlzdCAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiIy4oCTMyBtYXJrczogd3JpdGUgMyBjb250cmFjZXB0aXZlIG1ldGhvZHMgKyBvbmUgYWR2YW50YWdlIG9mIGJhcnJpZXIgbWV0aG9kLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiV2hpY2ggbWV0aG9kIGFsc28gaGVscHMgcmVkdWNlIFNURHMgKGNvbmNlcHQpPyIsDQogICAgICBvcHRpb25zOlsiQmFycmllciBtZXRob2QgKGNvbmRvbSkiLCJPbmx5IElVRCIsIk9ubHkgc3VyZ2VyeSIsIk9ubHkgcG9sbGluYXRpb24iXSwNCiAgICAgIGNvcnJlY3Q6MCwNCiAgICAgIGV4cGxhaW46IkJhcnJpZXIgbWV0aG9kcyByZWR1Y2UgY2hhbmNlIG9mIFNUSSBzcHJlYWQgYnkgYmxvY2tpbmcgY29udGFjdCAoY29uY2VwdCkuIg0KICAgIH0NCiAgfQ0KXTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgVUkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljTGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljTGlzdCIpOw0KY29uc3QgdG9waWNDb250ZW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNDb250ZW50Iik7DQpjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpOw0KY29uc3QgcHJvZ0NvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ0NvdW50Iik7DQpjb25zdCB0b3RhbENvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG90YWxDb3VudCIpOw0KDQp0b3RhbENvdW50RWwudGV4dENvbnRlbnQgPSB0b3BpY3MubGVuZ3RoOw0KDQpsZXQgY3VycmVudFRvcGljSWQgPSB0b3BpY3NbMF0uaWQ7DQpsZXQgY29tcGxldGVkVG9waWNzID0gbmV3IFNldChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjaDctY29tcGxldGVkIikgfHwgIltdIikpOw0KDQpmdW5jdGlvbiByZW5kZXJOYXYoZmlsdGVyPSIiKXsNCiAgdG9waWNMaXN0RWwuaW5uZXJIVE1MID0gIiI7DQogIGNvbnN0IHEgPSBmaWx0ZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7DQogIGNvbnN0IGZpbHRlcmVkID0gdG9waWNzLmZpbHRlcih0ID0+DQogICAgdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC50eXBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LmNvcmVOb3Rlcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC5wb2ludHMuam9pbigiICIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkNCiAgKTsNCg0KICBmaWx0ZXJlZC5mb3JFYWNoKCh0LCBpZHgpID0+IHsNCiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgaXRlbS5jbGFzc05hbWUgPSAidG9waWMtbGluayIgKyAodC5pZCA9PT0gY3VycmVudFRvcGljSWQgPyAiIGFjdGl2ZSIgOiAiIik7DQogICAgaXRlbS5pbm5lckhUTUwgPSBgJHtpZHgrMX0uICR7dC50aXRsZX08c3BhbiBjbGFzcz0idGFnIj4ke3QudHlwZX08L3NwYW4+YDsNCiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gc2VsZWN0VG9waWModC5pZCkpOw0KICAgIHRvcGljTGlzdEVsLmFwcGVuZENoaWxkKGl0ZW0pOw0KICB9KTsNCg0KICBwcm9nQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbXBsZXRlZFRvcGljcy5zaXplOw0KfQ0KDQpmdW5jdGlvbiBzZWxlY3RUb3BpYyhpZCl7DQogIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQoeCA9PiB4LmlkID09PSBpZCk7DQogIGlmKCF0b3BpYykgcmV0dXJuOw0KICBjdXJyZW50VG9waWNJZCA9IGlkOw0KICBjb21wbGV0ZWRUb3BpY3MuYWRkKGlkKTsNCiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNoNy1jb21wbGV0ZWQiLCBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGNvbXBsZXRlZFRvcGljcykpKTsNCiAgcmVuZGVyVG9waWModG9waWMpOw0KICByZW5kZXJOYXYoc2VhcmNoSW5wdXQudmFsdWUpOw0KfQ0KDQpmdW5jdGlvbiByZW5kZXJUb3BpYyh0b3BpYyl7DQogIHRvcGljQ29udGVudEVsLmlubmVySFRNTCA9IGANCiAgICA8ZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0iYmFkZ2UiPiR7dG9waWMudHlwZX08L2Rpdj4NCiAgICAgIDxoMj4ke3RvcGljLnRpdGxlfTwvaDI+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+TliBOb3RlcyAoQ0JTRS1mcmllbmRseSk8L2gzPg0KICAgICAgICA8cD4ke3RvcGljLmNvcmVOb3Rlc308L3A+DQogICAgICAgIDx1bD4ke3RvcGljLnBvaW50cy5tYXAocD0+YDxsaT4ke3B9PC9saT5gKS5qb2luKCIiKX08L3VsPg0KDQogICAgICAgIDxkaXYgY2xhc3M9InZpZGVvLWNvbnRhaW5lciI+DQogICAgICAgICAgPGlmcmFtZQ0KICAgICAgICAgICAgc3JjPSIke2NoN1ZpZGVvLmVtYmVkfSINCiAgICAgICAgICAgIGFsbG93PSJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmUiDQogICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW4NCiAgICAgICAgICA+PC9pZnJhbWU+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjojOTNjNWZkO2ZvbnQtc2l6ZTowLjlyZW07Ij4NCiAgICAgICAgICBTdW5saWtlIFN0dWR5IHZpZGVvOiA8YSBocmVmPSIke2NoN1ZpZGVvLnl0V2F0Y2h9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciI+JHt0b3BpYy52aWRlb1RpbWV9PC9hPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfjqwgQmV0dGVyIEFuaW1hdGlvbiAoc3RlcC1ieS1zdGVwKTwvaDM+DQogICAgICAgIDxkaXYgY2xhc3M9ImFuaW0tY29udGFpbmVyIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJhbmltLXRvb2xiYXIiPg0KICAgICAgICAgICAgPGRpdj5BbmltYXRpb246IDxzdHJvbmc+JHt0b3BpYy5hbmltYXRpb25UeXBlfTwvc3Ryb25nPjwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRucyI+DQogICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuUGxheSIgb25jbGljaz0idG9nZ2xlUGxheSgpIj5QYXVzZTwvYnV0dG9uPg0KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0icmVwbGF5KCkiPlJlcGxheTwvYnV0dG9uPg0KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blN0ZXAiIG9uY2xpY2s9Im5leHRTdGVwKCkiPk5leHQgc3RlcDwvYnV0dG9uPg0KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXIiPg0KICAgICAgICAgICAgICAgIFNwZWVkDQogICAgICAgICAgICAgICAgPGlucHV0IGlkPSJzcGVlZCIgdHlwZT0icmFuZ2UiIG1pbj0iMC4yIiBtYXg9IjIuNSIgc3RlcD0iMC4xIiB2YWx1ZT0iMS4wIiAvPg0KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzcGVlZFZhbCI+MS4ww5c8L3NwYW4+DQogICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPGNhbnZhcyBpZD0iYW5pbUNhbnZhcyI+PC9jYW52YXM+DQogICAgICAgICAgPGRpdiBjbGFzcz0iY2FwdGlvbiIgaWQ9ImFuaW1DYXB0aW9uIj48L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn5KhIEV4YW0gSGludDwvaDM+DQogICAgICAgIDxwPiR7dG9waWMubmNlcnRIaW50fTwvcD4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfp6AgUXVpY2sgTWluZCBNYXA8L2gzPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtaW5kbWFwIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPkJhc2ljczwvc3Ryb25nPjxici8+RE5BIGNvcHlpbmcg4oaSIHZhcmlhdGlvbjsgYXNleHVhbCB2cyBzZXh1YWwuPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibW0tbm9kZSI+PHN0cm9uZz5Bc2V4dWFsPC9zdHJvbmc+PGJyLz5GaXNzaW9uLCBidWRkaW5nLCBmcmFnbWVudGF0aW9uLCByZWdlbmVyYXRpb24sIHZlZ2V0YXRpdmUgcHJvcGFnYXRpb24sIHNwb3Jlcy48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlBsYW50czwvc3Ryb25nPjxici8+Rmxvd2VyIHBhcnRzIOKGkiBwb2xsaW5hdGlvbiDihpIgcG9sbGVuIHR1YmUg4oaSIGZlcnRpbGlzYXRpb24g4oaSIHNlZWQvZnJ1aXQgKGNvbmNlcHQpLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+SHVtYW5zPC9zdHJvbmc+PGJyLz5QdWJlcnR5IOKGkiBzeXN0ZW1zIOKGkiBmZXJ0aWxpc2F0aW9uIOKGkiBpbXBsYW50YXRpb24g4oaSIG1lbnN0cnVhdGlvbiArIGNvbnRyYWNlcHRpb24uPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgICR7dG9waWMucXVpeiA/IGANCiAgICAgICAgPGRpdiBjbGFzcz0icXVpeiI+DQogICAgICAgICAgPGRpdiBjbGFzcz0icXVpei1xdWVzdGlvbiI+JHt0b3BpYy5xdWl6LnF1ZXN0aW9ufTwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9InF1aXotb3B0aW9ucyI+DQogICAgICAgICAgICAke3RvcGljLnF1aXoub3B0aW9ucy5tYXAoKG9wdCxpKT0+YDxidXR0b24gb25jbGljaz0iY2hlY2tRdWl6KCR7aX0sJHt0b3BpYy5xdWl6LmNvcnJlY3R9KSI+JHtvcHR9PC9idXR0b24+YCkuam9pbigiIil9DQogICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0icXVpei1leHBsYWluIiBpZD0icXVpekV4cGxhaW4iPiR7dG9waWMucXVpei5leHBsYWlufTwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgIGAgOiAiIn0NCiAgICA8L2Rpdj4NCiAgYDsNCg0KICBzZXR1cEFuaW1hdGlvbih0b3BpYy5hbmltYXRpb25UeXBlKTsNCn0NCg0Kd2luZG93LmNoZWNrUXVpeiA9IGZ1bmN0aW9uKHNlbGVjdGVkLCBjb3JyZWN0KXsNCiAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWl6LW9wdGlvbnMgYnV0dG9uIik7DQogIGJ1dHRvbnMuZm9yRWFjaCgoYixpKT0+ew0KICAgIGIuZGlzYWJsZWQgPSB0cnVlOw0KICAgIGlmKGkgPT09IGNvcnJlY3QpIGIuY2xhc3NMaXN0LmFkZCgiY29ycmVjdCIpOw0KICB9KTsNCiAgY29uc3QgZXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpekV4cGxhaW4iKTsNCiAgaWYoZXgpIGV4LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KfTsNCg0Kc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBlID0+IHJlbmRlck5hdihlLnRhcmdldC52YWx1ZSkpOw0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBDQU5WQVMgRU5HSU5FIChEUFItc2FmZSkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmxldCBhbmltQ2FudmFzPW51bGwsIGN0eD1udWxsLCByYWY9bnVsbCwgdDA9MDsNCmxldCBwbGF5aW5nPXRydWU7DQpsZXQgc3BlZWQ9MS4wOw0KDQpjb25zdCBzdGF0ZSA9IHsNCiAgYW5pbToiZG5hQ29weWluZ1ZhcmlhdGlvbiIsDQogIHN0ZXA6IDAsDQogIHN0ZXBzOiAxLA0KICBjYXB0aW9uOiAiIg0KfTsNCg0KZnVuY3Rpb24gZml0Q2FudmFzKGNhbnZhcywgY3R4KXsNCiAgY29uc3QgZHByID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7DQogIGNvbnN0IHIgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Ioci53aWR0aCAqIGRwcik7DQogIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHIuaGVpZ2h0ICogZHByKTsNCiAgY3R4LnNldFRyYW5zZm9ybShkcHIsMCwwLGRwciwwLDApOw0KICByZXR1cm4geyB3OnIud2lkdGgsIGg6ci5oZWlnaHQgfTsNCn0NCg0KZnVuY3Rpb24gcmVwbGF5KCl7IHN0YXRlLnN0ZXAgPSAwOyB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOyB9DQpmdW5jdGlvbiB0b2dnbGVQbGF5KCl7DQogIHBsYXlpbmcgPSAhcGxheWluZzsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blBsYXkiKS50ZXh0Q29udGVudCA9IHBsYXlpbmcgPyAiUGF1c2UiIDogIlBsYXkiOw0KfQ0KZnVuY3Rpb24gbmV4dFN0ZXAoKXsgaWYoc3RhdGUuc3RlcHMgPiAxKSBzdGF0ZS5zdGVwID0gTWF0aC5taW4oc3RhdGUuc3RlcHMtMSwgc3RhdGUuc3RlcCArIDEpOyB9DQpmdW5jdGlvbiBzZXRTdGVwQnV0dG9uKCl7DQogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5TdGVwIik7DQogIGlmKGJ0bikgYnRuLmRpc2FibGVkID0gIShzdGF0ZS5zdGVwcyA+IDEpOw0KfQ0KZnVuY3Rpb24gc2V0Q2FwdGlvbih0eHQpew0KICBzdGF0ZS5jYXB0aW9uID0gdHh0Ow0KICBjb25zdCBjYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5pbUNhcHRpb24iKTsNCiAgaWYoY2FwKSBjYXAudGV4dENvbnRlbnQgPSB0eHQ7DQp9DQoNCmZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHR5cGUpew0KICBzdGF0ZS5hbmltID0gdHlwZTsNCiAgc3RhdGUuc3RlcCA9IDA7DQoNCiAgYW5pbUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbmltQ2FudmFzIik7DQogIGN0eCA9IGFuaW1DYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCiAgZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQoNCiAgY29uc3Qgc3BlZWRTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlZWQiKTsNCiAgY29uc3Qgc3BlZWRWYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlZWRWYWwiKTsNCiAgc3BlZWRTbGlkZXIub25pbnB1dCA9ICgpID0+IHsNCiAgICBzcGVlZCA9IHBhcnNlRmxvYXQoc3BlZWRTbGlkZXIudmFsdWUpOw0KICAgIHNwZWVkVmFsLnRleHRDb250ZW50ID0gc3BlZWQudG9GaXhlZCgxKSsiw5ciOw0KICB9Ow0KICBzcGVlZCA9IHBhcnNlRmxvYXQoc3BlZWRTbGlkZXIudmFsdWUpOw0KICBzcGVlZFZhbC50ZXh0Q29udGVudCA9IHNwZWVkLnRvRml4ZWQoMSkrIsOXIjsNCg0KICBjb25zdCBzYyA9IHNjZW5lc1tzdGF0ZS5hbmltXSB8fCBzY2VuZXMuZG5hQ29weWluZ1ZhcmlhdGlvbjsNCiAgc3RhdGUuc3RlcHMgPSBzYy5zdGVwcyB8fCAxOw0KICBzZXRTdGVwQnV0dG9uKCk7DQogIHNldENhcHRpb24oc2MuY2FwdGlvbiA/IHNjLmNhcHRpb24oc3RhdGUuc3RlcCkgOiAiIik7DQoNCiAgaWYocmFmKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpOw0KICB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICBjb25zdCBsb29wID0gKG5vdykgPT4gew0KICAgIGNvbnN0IGR0ID0gKChub3cgLSB0MCkgLyAxMDAwKSAqIHNwZWVkOw0KICAgIGNvbnN0IHt3LGh9ID0gZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQoNCiAgICBjb25zdCBzYyA9IHNjZW5lc1tzdGF0ZS5hbmltXSB8fCBzY2VuZXMuZG5hQ29weWluZ1ZhcmlhdGlvbjsNCiAgICBzdGF0ZS5zdGVwcyA9IHNjLnN0ZXBzIHx8IDE7DQogICAgc2V0U3RlcEJ1dHRvbigpOw0KDQogICAgc2MuZHJhdyhjdHgsIHcsIGgsIGR0LCBzdGF0ZSwgcGxheWluZyk7DQoNCiAgICBpZihzYy5jYXB0aW9uKSBzZXRDYXB0aW9uKHNjLmNhcHRpb24oc3RhdGUuc3RlcCwgZHQpKTsNCiAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQogIH07DQogIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsNCn0NCg0Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsICgpID0+IHNldHVwQW5pbWF0aW9uKHN0YXRlLmFuaW0pKTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgRFJBVyBIRUxQRVJTDQo9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpmdW5jdGlvbiBiZyhjLHcsaCl7DQogIGNvbnN0IGcgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwwLGgpOw0KICBnLmFkZENvbG9yU3RvcCgwLCIjMGIxMjIzIik7DQogIGcuYWRkQ29sb3JTdG9wKDEsIiMwNTA4MTYiKTsNCiAgYy5maWxsU3R5bGU9ZzsNCiAgYy5maWxsUmVjdCgwLDAsdyxoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wOSkiOw0KICBjLmZpbGxSZWN0KDAsaCowLjc4LHcsaCowLjIyKTsNCn0NCmZ1bmN0aW9uIHJyKGMseCx5LHcsaCxyKXsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5tb3ZlVG8oeCtyLHkpOw0KICBjLmFyY1RvKHgrdyx5LHgrdyx5K2gscik7DQogIGMuYXJjVG8oeCt3LHkraCx4LHkraCxyKTsNCiAgYy5hcmNUbyh4LHkraCx4LHkscik7DQogIGMuYXJjVG8oeCx5LHgrdyx5LHIpOw0KICBjLmNsb3NlUGF0aCgpOw0KfQ0KZnVuY3Rpb24gcGFuZWwoYyx4LHksdyxoLHRpdGxlKXsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDYpIjsNCiAgcnIoYyx4LHksdyxoLDE2KTsgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4xOCkiOw0KICBjLnN0cm9rZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxMzQsMjM5LDE3MiwwLjk1KSI7DQogIGMuZm9udD0iYm9sZCAxMnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFRleHQodGl0bGUsIHgrMTIsIHkrMTgpOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIGRvdChjLHgseSxyLGZpbGwpew0KICBjLmJlZ2luUGF0aCgpOw0KICBjLmZpbGxTdHlsZT1maWxsOw0KICBjLmFyYyh4LHksciwwLE1hdGguUEkqMik7DQogIGMuZmlsbCgpOw0KfQ0KZnVuY3Rpb24gc3Ryb2tlRG90KGMseCx5LHIsZmlsbCxzdHJva2U9InJnYmEoMjI2LDIzMiwyNDAsMC4zMCkiLGx3PTIpew0KICBjLnNhdmUoKTsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5maWxsU3R5bGU9ZmlsbDsNCiAgYy5hcmMoeCx5LHIsMCxNYXRoLlBJKjIpOw0KICBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT1zdHJva2U7DQogIGMubGluZVdpZHRoPWx3Ow0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIGxpbmUoYyx4MSx5MSx4Mix5Mix3LHN0cm9rZSl7DQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPXN0cm9rZTsNCiAgYy5saW5lV2lkdGg9dzsNCiAgYy5saW5lQ2FwPSJyb3VuZCI7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgxLHkxKTsNCiAgYy5saW5lVG8oeDIseTIpOw0KICBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIGFycm93KGMseDEseTEseDIseTIsY29sb3I9InJnYmEoMjI2LDIzMiwyNDAsMC4zMCkiKXsNCiAgbGluZShjLHgxLHkxLHgyLHkyLDMsY29sb3IpOw0KICBjb25zdCBhbmc9TWF0aC5hdGFuMih5Mi15MSx4Mi14MSk7DQogIGNvbnN0IEw9MTA7DQogIGxpbmUoYyx4Mix5Mix4Mi1NYXRoLmNvcyhhbmctMC41KSpMLHkyLU1hdGguc2luKGFuZy0wLjUpKkwsMyxjb2xvcik7DQogIGxpbmUoYyx4Mix5Mix4Mi1NYXRoLmNvcyhhbmcrMC41KSpMLHkyLU1hdGguc2luKGFuZyswLjUpKkwsMyxjb2xvcik7DQp9DQpmdW5jdGlvbiB0ZXh0KGMseCx5LHQsYWxwaGE9MC45NSwgY29sb3I9InJnYmEoMTY1LDE4MCwyNTIsMSkiLCBib2xkPXRydWUpew0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9Y29sb3IucmVwbGFjZSgiMSkiLCBhbHBoYSsiKSIpOw0KICBjLmZvbnQ9KGJvbGQ/ImJvbGQgIjoiIikgKyAiMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KHQseCx5KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBjbGFtcCh2LGEsYil7IHJldHVybiBNYXRoLm1heChhLE1hdGgubWluKGIsdikpOyB9DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFNDRU5FUw0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3Qgc2NlbmVzID0ge307DQoNCi8qIDEpIEROQSBjb3B5aW5nICsgdmFyaWF0aW9uICovDQpzY2VuZXMuZG5hQ29weWluZ1ZhcmlhdGlvbiA9IHsNCiAgc3RlcHM6IDUsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFBhcmVudCBjZWxsIGhhcyBETkEgKGdlbmV0aWMgaW5mb3JtYXRpb24pLiIsDQogICAgICAiU3RlcCAyOiBETkEgY29weSBpcyBtYWRlIChub3QgYWx3YXlzIDEwMCUgZXhhY3QpLiIsDQogICAgICAiU3RlcCAzOiBDZWxsIGFsc28gbWFrZXMgZXh0cmEgY2VsbHVsYXIgcGFydHMuIiwNCiAgICAgICJTdGVwIDQ6IENlbGwgZGl2aWRlcyDihpIgdHdvIGRhdWdodGVyIGNlbGxzL29mZnNwcmluZyBjZWxscy4iLA0KICAgICAgIlN0ZXAgNTogU21hbGwgY29weWluZyBkaWZmZXJlbmNlcyBjYW4gY2F1c2UgdmFyaWF0aW9uLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiRE5BIGNvcHlpbmcg4oaSIGNlbGwgZGl2aXNpb24g4oaSIHZhcmlhdGlvbiAoTmV4dCBzdGVwKSIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQogICAgY29uc3QgY3g9eCtidyowLjI1LCBjeT15K2JoKjAuNTI7DQogICAgY29uc3QgY3gyPXgrYncqMC43MiwgY3kyPWN5Ow0KDQogICAgLy8gcGFyZW50IGNlbGwNCiAgICBzdHJva2VEb3QoYyxjeCxjeSw1MiwicmdiYSg1OSwxMzAsMjQ2LDAuMTApIiwicmdiYSg1OSwxMzAsMjQ2LDAuMzApIiwyKTsNCiAgICB0ZXh0KGMsY3gtMjgsY3ktNzAsIlBhcmVudCBjZWxsIiwwLjksInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KDQogICAgLy8gRE5BIGhlbGl4IChzaW1wbGlmaWVkKQ0KICAgIGZ1bmN0aW9uIGhlbGl4KHB4LHB5LHNjYWxlLG11dD1mYWxzZSl7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9bXV0PyJyZ2JhKDI0NCw2Myw5NCwwLjU1KSI6InJnYmEoMzQsMTk3LDk0LDAuNTUpIjsNCiAgICAgIGMubGluZVdpZHRoPTM7DQogICAgICBmb3IobGV0IGk9MDtpPDIyO2krKyl7DQogICAgICAgIGNvbnN0IHl5PXB5LTI4K2kqMzsNCiAgICAgICAgY29uc3QgeHg9cHggKyBNYXRoLnNpbihpKjAuNjUpKjE0KnNjYWxlOw0KICAgICAgICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyh4eC0xMipzY2FsZSx5eSk7IGMubGluZVRvKHh4KzEyKnNjYWxlLHl5KTsgYy5zdHJva2UoKTsNCiAgICAgIH0NCiAgICAgIGMuc3Ryb2tlU3R5bGU9bXV0PyJyZ2JhKDI0NCw2Myw5NCwwLjM1KSI6InJnYmEoMzQsMTk3LDk0LDAuMzUpIjsNCiAgICAgIGMubGluZVdpZHRoPTI7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgZm9yKGxldCBpPTA7aTw0MDtpKyspew0KICAgICAgICBjb25zdCB5eT1weS00MCtpKjIuMzsNCiAgICAgICAgY29uc3QgeHg9cHggKyBNYXRoLnNpbihpKjAuMzUpKjE0KnNjYWxlOw0KICAgICAgICBpZihpPT09MCkgYy5tb3ZlVG8oeHgseXkpOyBlbHNlIGMubGluZVRvKHh4LHl5KTsNCiAgICAgIH0NCiAgICAgIGMuc3Ryb2tlKCk7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgZm9yKGxldCBpPTA7aTw0MDtpKyspew0KICAgICAgICBjb25zdCB5eT1weS00MCtpKjIuMzsNCiAgICAgICAgY29uc3QgeHg9cHggKyBNYXRoLnNpbihpKjAuMzUrTWF0aC5QSSkqMTQqc2NhbGU7DQogICAgICAgIGlmKGk9PT0wKSBjLm1vdmVUbyh4eCx5eSk7IGVsc2UgYy5saW5lVG8oeHgseXkpOw0KICAgICAgfQ0KICAgICAgYy5zdHJva2UoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCiAgICBoZWxpeChjeCxjeSwxLGZhbHNlKTsNCg0KICAgIC8vIGNvcHlpbmcgYXJyb3cNCiAgICBhcnJvdyhjLCBjeCs2NSwgY3ksIGN4Mi02NSwgY3ksIHN0ZXA+PTEgPyAicmdiYSgyNTAsMjA0LDIxLDAuNDUpIiA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7DQogICAgdGV4dChjLChjeCtjeDIpLzItNDAsY3ktMTAsIkROQSBjb3B5aW5nIiwwLjg1LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCg0KICAgIC8vIGRhdWdodGVyIGNlbGxzIGFyZWENCiAgICBpZihzdGVwPj0zKXsNCiAgICAgIHN0cm9rZURvdChjLGN4Mi01NSxjeTIsNDYsInJnYmEoNTksMTMwLDI0NiwwLjA4KSIsInJnYmEoMjI2LDIzMiwyNDAsMC4yMCkiLDIpOw0KICAgICAgc3Ryb2tlRG90KGMsY3gyKzU1LGN5Miw0NiwicmdiYSg1OSwxMzAsMjQ2LDAuMDgpIiwicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIsMik7DQogICAgICB0ZXh0KGMsY3gyLTc4LGN5Mi03MCwiRGF1Z2h0ZXIgY2VsbHMiLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQoNCiAgICAgIC8vIEROQSBpbnNpZGUgZGF1Z2h0ZXJzDQogICAgICBjb25zdCBtdXRhdGUgPSAoc3RlcD49NCk7DQogICAgICBoZWxpeChjeDItNTUsY3kyLDAuOCxmYWxzZSk7DQogICAgICBoZWxpeChjeDIrNTUsY3kyLDAuOCxtdXRhdGUpOw0KDQogICAgICBpZihtdXRhdGUpew0KICAgICAgICBjb25zdCBwdWxzZT0wLjUrMC41Kk1hdGguc2luKHQqMi40KTsNCiAgICAgICAgZG90KGMsY3gyKzU1LGN5Mi0yOCw2LGByZ2JhKDI0NCw2Myw5NCwkezAuNCswLjUqcHVsc2V9KWApOw0KICAgICAgICB0ZXh0KGMsY3gyKzUsY3kyKzgwLCJTbWFsbCBjaGFuZ2UgPSB2YXJpYXRpb24iLDAuOSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIC8vIHNob3cgY29waWVkIGNlbGwgKHNpbmdsZSkgYmVmb3JlIHNwbGl0DQogICAgICBpZihzdGVwPj0xKXsNCiAgICAgICAgc3Ryb2tlRG90KGMsY3gyLGN5Miw1MiwicmdiYSgzNCwxOTcsOTQsMC4wOCkiLCJyZ2JhKDM0LDE5Nyw5NCwwLjI1KSIsMik7DQogICAgICAgIGhlbGl4KGN4MixjeTIsMSwgc3RlcD49MiA/IGZhbHNlIDogZmFsc2UpOw0KICAgICAgICB0ZXh0KGMsY3gyLTM0LGN5Mi03MCwiQ2VsbCB3aXRoIEROQSBjb3B5IiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgLy8gZXh0cmEgY2VsbHVsYXIgYXBwYXJhdHVzIGRvdHMNCiAgICAgIGNvbnN0IHA9MC41KzAuNSpNYXRoLnNpbih0KjMuMCk7DQogICAgICBmb3IobGV0IGk9MDtpPDEwO2krKyl7DQogICAgICAgIGNvbnN0IGFuZz1pKihNYXRoLlBJKjIvMTApOw0KICAgICAgICBkb3QoYyxjeDIrTWF0aC5jb3MoYW5nKSozNCwgY3kyK01hdGguc2luKGFuZykqMzQsIDMsIGByZ2JhKDE0OCwxNjMsMTg0LCR7MC4yNSswLjM1KnB9KWApOw0KICAgICAgfQ0KICAgICAgdGV4dChjLGN4Mi03MCxjeTIrNzgsIkV4dHJhIGNlbGx1bGFyIHBhcnRzIiwwLjksInJnYmEoMjAzLDIxMywyMjUsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogMikgRmlzc2lvbiAoYmluYXJ5ICYgbXVsdGlwbGUgY29uY2VwdCkgKi8NCnNjZW5lcy5maXNzaW9uU3RlcHMgPSB7DQogIHN0ZXBzOiA1LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBQYXJlbnQgdW5pY2VsbHVsYXIgb3JnYW5pc20uIiwNCiAgICAgICJTdGVwIDI6IE51Y2xldXMgZGl2aWRlcy4iLA0KICAgICAgIlN0ZXAgMzogQ2VsbCBjb25zdHJpY3RzL2RpdmlkZXMuIiwNCiAgICAgICJTdGVwIDQ6IFR3byBkYXVnaHRlciBjZWxscyAoYmluYXJ5IGZpc3Npb24pLiIsDQogICAgICAiU3RlcCA1OiBNdWx0aXBsZSBmaXNzaW9uIGNvbmNlcHQ6IG9uZSDihpIgbWFueSAoc2hvd24gYXMgYnVyc3QpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiRmlzc2lvbiAoYmluYXJ5ICsgbXVsdGlwbGUgY29uY2VwdCkg4oCTIE5leHQgc3RlcCIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQogICAgY29uc3QgY3g9eCtidyowLjQwLCBjeT15K2JoKjAuNTI7DQoNCiAgICAvLyBwYXJlbnQgY2VsbA0KICAgIGlmKHN0ZXA8PTIpew0KICAgICAgc3Ryb2tlRG90KGMsY3gsY3ksNjIsInJnYmEoNTksMTMwLDI0NiwwLjA4KSIsInJnYmEoMjI2LDIzMiwyNDAsMC4xOCkiLDIpOw0KICAgICAgdGV4dChjLGN4LTM1LGN5LTgyLCJQYXJlbnQgY2VsbCIsMC45LCJyZ2JhKDE0NywxOTcsMjUzLDEpIix0cnVlKTsNCg0KICAgICAgLy8gbnVjbGV1cw0KICAgICAgaWYoc3RlcD09PTApew0KICAgICAgICBkb3QoYyxjeCxjeSwxMCwicmdiYSgyNTAsMjA0LDIxLDAuOSkiKTsNCiAgICAgIH0NCiAgICAgIGlmKHN0ZXA+PTEpew0KICAgICAgICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCoyLjQpOw0KICAgICAgICBkb3QoYyxjeC0xNCxjeSwxMCwicmdiYSgyNTAsMjA0LDIxLDAuOSkiKTsNCiAgICAgICAgZG90KGMsY3grMTQsY3ksMTAsYHJnYmEoMjUwLDIwNCwyMSwkezAuNTUrMC4zNSpwfSlgKTsNCiAgICAgICAgdGV4dChjLGN4LTUyLGN5Kzg1LCJOdWNsZXVzIGRpdmlkZXMiLDAuOSwicmdiYSgyNTMsMjMwLDEzOCwxKSIsdHJ1ZSk7DQogICAgICB9DQogICAgICBpZihzdGVwPj0yKXsNCiAgICAgICAgY29uc3QgcD0wLjUrMC41Kk1hdGguc2luKHQqMi44KTsNCiAgICAgICAgYy5zYXZlKCk7DQogICAgICAgIGMuc3Ryb2tlU3R5bGU9YHJnYmEoMjQ0LDYzLDk0LCR7MC4yNSswLjMwKnB9KWA7DQogICAgICAgIGMubGluZVdpZHRoPTY7DQogICAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICAgIGMubW92ZVRvKGN4LCBjeS01OCk7DQogICAgICAgIGMubGluZVRvKGN4LCBjeSs1OCk7DQogICAgICAgIGMuc3Ryb2tlKCk7DQogICAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgICB0ZXh0KGMsY3gtNzAsY3krMTEwLCJDb25zdHJpY3Rpb24g4oaSIGRpdmlzaW9uIiwwLjksInJnYmEoMjUxLDExMywxMzMsMSkiLHRydWUpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGlmKHN0ZXA9PT0zKXsNCiAgICAgIGNvbnN0IGR4PTcwOw0KICAgICAgc3Ryb2tlRG90KGMsY3gtZHgsY3ksNTUsInJnYmEoMzQsMTk3LDk0LDAuMDgpIik7DQogICAgICBzdHJva2VEb3QoYyxjeCtkeCxjeSw1NSwicmdiYSgzNCwxOTcsOTQsMC4wOCkiKTsNCiAgICAgIGRvdChjLGN4LWR4LGN5LDEwLCJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICAgICAgZG90KGMsY3grZHgsY3ksMTAsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogICAgICBhcnJvdyhjLGN4LGN5LGN4LWR4KzIwLGN5LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIik7DQogICAgICBhcnJvdyhjLGN4LGN5LGN4K2R4LTIwLGN5LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIik7DQogICAgICB0ZXh0KGMsY3gtNzgsY3ktODIsIlR3byBkYXVnaHRlciBjZWxscyIsMC45LCJyZ2JhKDE2NywyNDMsMjA4LDEpIix0cnVlKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPT09NCl7DQogICAgICAvLyBtdWx0aXBsZSBmaXNzaW9uIGJ1cnN0IGNvbmNlcHQNCiAgICAgIGNvbnN0IGJ4PXgrYncqMC42OCwgYnk9eStiaCowLjUyOw0KICAgICAgc3Ryb2tlRG90KGMsYngsYnksNTgsInJnYmEoNTksMTMwLDI0NiwwLjA2KSIpOw0KICAgICAgZG90KGMsYngsYnksMTAsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogICAgICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCozLjEpOw0KICAgICAgZm9yKGxldCBpPTA7aTwxNjtpKyspew0KICAgICAgICBjb25zdCBhbmc9aSooTWF0aC5QSSoyLzE2KTsNCiAgICAgICAgY29uc3Qgcj03MCszMCpwOw0KICAgICAgICBkb3QoYyxieCtNYXRoLmNvcyhhbmcpKnIsIGJ5K01hdGguc2luKGFuZykqciowLjY1LCA4LCAicmdiYSgzNCwxOTcsOTQsMC4xOCkiKTsNCiAgICAgICAgZG90KGMsYngrTWF0aC5jb3MoYW5nKSpyLCBieStNYXRoLnNpbihhbmcpKnIqMC42NSwgMywgInJnYmEoMjUwLDIwNCwyMSwwLjg1KSIpOw0KICAgICAgfQ0KICAgICAgdGV4dChjLGJ4LTk1LGJ5LTgyLCJNdWx0aXBsZSBmaXNzaW9uIChjb25jZXB0KSIsMC45LCJyZ2JhKDE0NywxOTcsMjUzLDEpIix0cnVlKTsNCiAgICAgIHRleHQoYyxieC0xMjUsYnkrOTUsIk9uZSBwYXJlbnQg4oaSIG1hbnkgb2Zmc3ByaW5nIGNlbGxzIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogMykgQnVkZGluZyAqLw0Kc2NlbmVzLmJ1ZGRpbmdTdGVwcyA9IHsNCiAgc3RlcHM6IDQsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFBhcmVudCAoeWVhc3QvaHlkcmEgY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IFNtYWxsIGJ1ZCBmb3Jtcy4iLA0KICAgICAgIlN0ZXAgMzogQnVkIGdyb3dzIGFuZCBnZXRzIG51Y2xldXMvbWF0ZXJpYWwuIiwNCiAgICAgICJTdGVwIDQ6IEJ1ZCBkZXRhY2hlcyAob3IgZm9ybXMgY2hhaW4sIGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiQnVkZGluZyDigJMgTmV4dCBzdGVwIik7DQoNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCiAgICBjb25zdCBjeD14K2J3KjAuNDUsIGN5PXkrYmgqMC41NDsNCg0KICAgIC8vIHBhcmVudA0KICAgIHN0cm9rZURvdChjLGN4LGN5LDYyLCJyZ2JhKDEzOSw5MiwyNDYsMC4wOCkiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIiwyKTsNCiAgICB0ZXh0KGMsY3gtMzgsY3ktODIsIlBhcmVudCIsMC45LCJyZ2JhKDE5NiwxODEsMjUzLDEpIix0cnVlKTsNCg0KICAgIC8vIGJ1ZCBncm93dGgNCiAgICBsZXQgYnVkUj0wLCBidWRYPWN4KzU4LCBidWRZPWN5LTM1Ow0KICAgIGlmKHN0ZXA+PTEpIGJ1ZFIgPSAxODsNCiAgICBpZihzdGVwPj0yKSBidWRSID0gMzA7DQogICAgaWYoc3RlcD49MykgYnVkUiA9IDM2Ow0KDQogICAgaWYoc3RlcD49MSl7DQogICAgICBzdHJva2VEb3QoYyxidWRYLGJ1ZFksYnVkUiwicmdiYSgzNCwxOTcsOTQsMC4xMCkiLCJyZ2JhKDM0LDE5Nyw5NCwwLjI4KSIsMik7DQogICAgICAvLyBuZWNrDQogICAgICBsaW5lKGMsY3grNDAsY3ktMTAsYnVkWC1idWRSKzUsYnVkWStidWRSLTUsMTAsInJnYmEoMjI2LDIzMiwyNDAsMC4xMikiKTsNCiAgICAgIHRleHQoYyxidWRYLTE2LGJ1ZFktYnVkUi0xNCwiQnVkIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIC8vIG51Y2xldXMgdHJhbnNmZXIgY29uY2VwdA0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgY29uc3QgcD0wLjUrMC41Kk1hdGguc2luKHQqMi42KTsNCiAgICAgIGRvdChjLGN4LTEwLGN5LDEwLCJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICAgICAgZG90KGMsY3grMTIsY3ksMTAsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogICAgICBkb3QoYywgY3grMzAgKyBwKihidWRYLShjeCszMCkpKjAuNSwgY3ktMTAgKyBwKihidWRZLShjeS0xMCkpKjAuNSwgNSwgInJnYmEoMjUwLDIwNCwyMSwwLjg1KSIpOw0KICAgICAgdGV4dChjLGN4LTgwLGN5Kzk1LCJOdWNsZXVzL21hdGVyaWFsIHNoYXJlZCAoY29uY2VwdCkiLDAuOSwicmdiYSgyNTMsMjMwLDEzOCwxKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD49Myl7DQogICAgICAvLyBkZXRhY2ggZWZmZWN0DQogICAgICBjb25zdCBwdWxzZT0wLjUrMC41Kk1hdGguc2luKHQqMy4wKTsNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5nbG9iYWxBbHBoYT0wLjE4KzAuMjUqcHVsc2U7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NCw2Myw5NCwwLjYpIjsNCiAgICAgIGMubGluZVdpZHRoPTU7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgYy5hcmMoY3grNDUsY3ktMTUsMTYsMCxNYXRoLlBJKjIpOw0KICAgICAgYy5zdHJva2UoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgdGV4dChjLGN4LTQwLGN5KzEyMCwiQnVkIGNhbiBkZXRhY2gg4oaSIG5ldyBpbmRpdmlkdWFsIiwwLjksInJnYmEoMjUxLDExMywxMzMsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogNCkgRnJhZ21lbnRhdGlvbiAqLw0Kc2NlbmVzLmZyYWdtZW50YXRpb25TdGVwcyA9IHsNCiAgc3RlcHM6IDQsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFBhcmVudCBmaWxhbWVudCAoU3Bpcm9neXJhIGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBGaWxhbWVudCBicmVha3MgaW50byBmcmFnbWVudHMuIiwNCiAgICAgICJTdGVwIDM6IEVhY2ggZnJhZ21lbnQgZ3Jvd3MgYnkgY2VsbCBkaXZpc2lvbi4iLA0KICAgICAgIlN0ZXAgNDogTmV3IGZpbGFtZW50cyBmb3JtZWQuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJGcmFnbWVudGF0aW9uIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KICAgIGNvbnN0IGJhc2VZPXkrYmgqMC41NTsNCg0KICAgIGZ1bmN0aW9uIGZpbGFtZW50KHgwLGxlbixicm9rZW49ZmFsc2Upew0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjM1KSI7DQogICAgICBjLmxpbmVXaWR0aD0xMDsNCiAgICAgIGMubGluZUNhcD0icm91bmQiOw0KICAgICAgYy5iZWdpblBhdGgoKTsNCiAgICAgIGMubW92ZVRvKHgwLCBiYXNlWSk7DQogICAgICBjLmxpbmVUbyh4MCtsZW4sIGJhc2VZKTsNCiAgICAgIGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCg0KICAgICAgLy8gY2VsbHMgc2VnbWVudHMNCiAgICAgIGZvcihsZXQgaT0wO2k8TWF0aC5mbG9vcihsZW4vMzApO2krKyl7DQogICAgICAgIGxpbmUoYyx4MCtpKjMwLGJhc2VZLTE0LHgwK2kqMzAsYmFzZVkrMTQsMiwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIpOw0KICAgICAgfQ0KICAgICAgLy8gc3BpcmFsIGluc2lkZSAoY29uY2VwdCkNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMjUpIjsNCiAgICAgIGMubGluZVdpZHRoPTI7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgZm9yKGxldCBpPTA7aTxsZW47aSs9Nil7DQogICAgICAgIGNvbnN0IHh4PXgwK2k7DQogICAgICAgIGNvbnN0IHl5PWJhc2VZICsgTWF0aC5zaW4oaSowLjEyKSo4Ow0KICAgICAgICBpZihpPT09MCkgYy5tb3ZlVG8oeHgseXkpOyBlbHNlIGMubGluZVRvKHh4LHl5KTsNCiAgICAgIH0NCiAgICAgIGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPT09MCl7DQogICAgICBmaWxhbWVudCh4K2J3KjAuMjAsIGJ3KjAuNjApOw0KICAgICAgdGV4dChjLHgrYncqMC4yMCxiYXNlWS0zNSwiUGFyZW50IGZpbGFtZW50IiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA9PT0xKXsNCiAgICAgIGZpbGFtZW50KHgrYncqMC4xOCwgYncqMC42NCk7DQogICAgICAvLyBjcmFja3MNCiAgICAgIGZvcihjb25zdCBrIG9mIFswLjM1LDAuNTVdKXsNCiAgICAgICAgY29uc3QgeHg9eCtidyooMC4xOCswLjY0KmspOw0KICAgICAgICBjLnNhdmUoKTsNCiAgICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDQsNjMsOTQsMC4zNSkiOw0KICAgICAgICBjLmxpbmVXaWR0aD02Ow0KICAgICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgICBjLm1vdmVUbyh4eCxiYXNlWS0yNSk7DQogICAgICAgIGMubGluZVRvKHh4LGJhc2VZKzI1KTsNCiAgICAgICAgYy5zdHJva2UoKTsNCiAgICAgICAgYy5yZXN0b3JlKCk7DQogICAgICB9DQogICAgICB0ZXh0KGMseCtidyowLjE4LGJhc2VZLTM1LCJCcmVha3MgaW50byBmcmFnbWVudHMiLDAuOSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD49Mil7DQogICAgICBjb25zdCBzZWdzID0gWw0KICAgICAgICB7eDA6eCtidyowLjE2LCBsZW46YncqMC4yMn0sDQogICAgICAgIHt4MDp4K2J3KjAuNDIsIGxlbjpidyowLjE4fSwNCiAgICAgICAge3gwOngrYncqMC42NCwgbGVuOmJ3KjAuMjJ9DQogICAgICBdOw0KICAgICAgc2Vncy5mb3JFYWNoKHNlZz0+ZmlsYW1lbnQoc2VnLngwLCBzZWcubGVuKSk7DQogICAgICB0ZXh0KGMseCtidyowLjE2LGJhc2VZLTM1LCJGcmFnbWVudHMiLDAuOSwicmdiYSgxNjcsMjQzLDIwOCwxKSIsdHJ1ZSk7DQoNCiAgICAgIGlmKHN0ZXA9PT0yKXsNCiAgICAgICAgY29uc3QgcD0wLjUrMC41Kk1hdGguc2luKHQqMi44KTsNCiAgICAgICAgc2Vncy5mb3JFYWNoKHNlZz0+ew0KICAgICAgICAgIGZvcihsZXQgaT0wO2k8NDtpKyspew0KICAgICAgICAgICAgZG90KGMsIHNlZy54MCArIDE1ICsgaSooc2VnLmxlbi80KSwgYmFzZVkgLSAzNSAtIDEyKnAsIDMsICJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHRleHQoYyx4K2J3KjAuMTYsYmFzZVkrNjAsIkVhY2ggZnJhZ21lbnQgZ3Jvd3MgYnkgY2VsbCBkaXZpc2lvbiIsMC45LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCiAgICAgIH0NCiAgICAgIGlmKHN0ZXA9PT0zKXsNCiAgICAgICAgLy8gc2hvdyBsb25nZXIgbmV3IGZpbGFtZW50cyAoY29uY2VwdCkNCiAgICAgICAgZmlsYW1lbnQoeCtidyowLjE4LCBidyowLjI4KTsNCiAgICAgICAgZmlsYW1lbnQoeCtidyowLjU0LCBidyowLjI4KTsNCiAgICAgICAgdGV4dChjLHgrYncqMC4xOCxiYXNlWSs2MCwiTmV3IGZpbGFtZW50cyBmb3JtZWQgKGNvbmNlcHQpIiwwLjksInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg0KLyogNSkgUmVnZW5lcmF0aW9uICovDQpzY2VuZXMucmVnZW5lcmF0aW9uU3RlcHMgPSB7DQogIHN0ZXBzOiA0LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBPcmdhbmlzbSBpcyBjdXQgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBFYWNoIHBpZWNlIGhhcyBzcGVjaWFsIGNlbGxzIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogQ2VsbHMgZGl2aWRlIGFuZCBmb3JtIHRpc3N1ZXMuIiwNCiAgICAgICJTdGVwIDQ6IENvbXBsZXRlIG9yZ2FuaXNtIGNhbiBmb3JtIChpbiBzb21lIHNpbXBsZSBvcmdhbmlzbXMpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiUmVnZW5lcmF0aW9uIChjb25jZXB0KSDigJMgTmV4dCBzdGVwIik7DQoNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCiAgICBjb25zdCBjeT15K2JoKjAuNTU7DQoNCiAgICBmdW5jdGlvbiB3b3JtKHB4LHNjYWxlPTEpew0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4yOCkiOw0KICAgICAgYy5saW5lV2lkdGg9MTQqc2NhbGU7DQogICAgICBjLmxpbmVDYXA9InJvdW5kIjsNCiAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICBjLm1vdmVUbyhweC0xMjAqc2NhbGUsIGN5KTsNCiAgICAgIGMuYmV6aWVyQ3VydmVUbyhweC02MCpzY2FsZSwgY3ktNjAqc2NhbGUsIHB4KzQwKnNjYWxlLCBjeSs2MCpzY2FsZSwgcHgrMTIwKnNjYWxlLCBjeS0xMCpzY2FsZSk7DQogICAgICBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgICAvLyBleWVzIChjb25jZXB0KQ0KICAgICAgZG90KGMscHgtMTIwKnNjYWxlLGN5LTYqc2NhbGUsMypzY2FsZSwicmdiYSgyNTAsMjA0LDIxLDAuOSkiKTsNCiAgICAgIGRvdChjLHB4LTExMCpzY2FsZSxjeS0yKnNjYWxlLDMqc2NhbGUsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogICAgfQ0KDQogICAgaWYoc3RlcD09PTApew0KICAgICAgd29ybSh4K2J3KjAuNTAsMSk7DQogICAgICB0ZXh0KGMseCtidyowLjM2LGN5LTc1LCJQYXJlbnQgb3JnYW5pc20gKGNvbmNlcHQpIiwwLjksInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA9PT0xKXsNCiAgICAgIHdvcm0oeCtidyowLjUwLDEpOw0KICAgICAgLy8gY3V0IGxpbmVzDQogICAgICBmb3IoY29uc3QgayBvZiBbMC40NCwwLjU4XSl7DQogICAgICAgIGNvbnN0IHh4PXgrYncqazsNCiAgICAgICAgYy5zYXZlKCk7DQogICAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ0LDYzLDk0LDAuNDApIjsNCiAgICAgICAgYy5saW5lV2lkdGg9NjsNCiAgICAgICAgYy5iZWdpblBhdGgoKTsgYy5tb3ZlVG8oeHgsY3ktNTUpOyBjLmxpbmVUbyh4eCxjeSs1NSk7IGMuc3Ryb2tlKCk7DQogICAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgfQ0KICAgICAgdGV4dChjLHgrYncqMC4zOCxjeS03NSwiQ3V0IGludG8gcGllY2VzIiwwLjksInJnYmEoMjUxLDExMywxMzMsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgLy8gdGhyZWUgcGllY2VzDQogICAgICB3b3JtKHgrYncqMC4yOCwwLjU1KTsNCiAgICAgIHdvcm0oeCtidyowLjUwLDAuNTUpOw0KICAgICAgd29ybSh4K2J3KjAuNzIsMC41NSk7DQogICAgICB0ZXh0KGMseCtidyowLjM2LGN5LTkwLCJQaWVjZXMgKGNvbmNlcHQpIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KDQogICAgICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCoyLjQpOw0KICAgICAgaWYoc3RlcD09PTIpew0KICAgICAgICBmb3IoY29uc3QgcHggb2YgW3grYncqMC4yOCx4K2J3KjAuNTAseCtidyowLjcyXSl7DQogICAgICAgICAgZm9yKGxldCBpPTA7aTw4O2krKyl7DQogICAgICAgICAgICBkb3QoYywgcHgtNDAgKyBpKjEyLCBjeSs1NSwgMywgYHJnYmEoMzQsMTk3LDk0LCR7MC4yNSswLjQ1KnB9KWApOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0ZXh0KGMseCtidyowLjMwLGN5KzkwLCJTcGVjaWFsIGNlbGxzIGRpdmlkZSDihpIgcmVncm93dGggKGNvbmNlcHQpIiwwLjksInJnYmEoMTM0LDIzOSwxNzIsMSkiLHRydWUpOw0KICAgICAgfQ0KDQogICAgICBpZihzdGVwPT09Myl7DQogICAgICAgIHdvcm0oeCtidyowLjI4LDAuNzUpOw0KICAgICAgICB3b3JtKHgrYncqMC41MCwwLjc1KTsNCiAgICAgICAgd29ybSh4K2J3KjAuNzIsMC43NSk7DQogICAgICAgIHRleHQoYyx4K2J3KjAuMjQsY3krOTAsIkVhY2ggcGllY2UgY2FuIGZvcm0gY29tcGxldGUgb3JnYW5pc20gKG9ubHkgc29tZSBvcmdhbmlzbXMpIiwwLjksInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg0KLyogNikgVmVnZXRhdGl2ZSBwcm9wYWdhdGlvbiAqLw0Kc2NlbmVzLnZlZ2V0YXRpdmVQcm9wYWdhdGlvblN0ZXBzID0gew0KICBzdGVwczogNSwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogUGFyZW50IHBsYW50IGhhcyBzdGVtL2JyYW5jaGVzLiIsDQogICAgICAiU3RlcCAyOiBDdXR0aW5nOiBhIHBpZWNlIG9mIHN0ZW0gaXMgcGxhbnRlZC4iLA0KICAgICAgIlN0ZXAgMzogUm9vdHMgZm9ybSBmcm9tIGN1dHRpbmcgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBOZXcgcGxhbnQgZ3Jvd3MgKGdlbmV0aWNhbGx5IHNpbWlsYXIpLiIsDQogICAgICAiU3RlcCA1OiBHcmFmdGluZyBjb25jZXB0OiBzY2lvbiArIHN0b2NrIGpvaW5lZCAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJWZWdldGF0aXZlIHByb3BhZ2F0aW9uIChjdXR0aW5nICsgZ3JhZnRpbmcgY29uY2VwdCkg4oCTIE5leHQgc3RlcCIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQogICAgY29uc3QgZ3JvdW5kWT15K2JoKjAuNzg7DQogICAgbGluZShjLHgrMjAsZ3JvdW5kWSx4K2J3LTIwLGdyb3VuZFksNCwicmdiYSgxNDgsMTYzLDE4NCwwLjE4KSIpOw0KDQogICAgLy8gcGFyZW50IHBsYW50IChsZWZ0KQ0KICAgIGNvbnN0IHB4PXgrYncqMC4yMiwgcHk9Z3JvdW5kWTsNCiAgICBsaW5lKGMscHgscHkscHgseStiaCowLjM1LDEwLCJyZ2JhKDM0LDE5Nyw5NCwwLjI1KSIpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjE2KSI7DQogICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKHB4LTQ1LHkrYmgqMC40Miw1NSwyNSwtMC4zLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKHB4KzQ1LHkrYmgqMC40Miw1NSwyNSwwLjMsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICB0ZXh0KGMscHgtNTUseStiaCowLjMwLCJQYXJlbnQgcGxhbnQiLDAuOSwicmdiYSgxNjcsMjQzLDIwOCwxKSIsdHJ1ZSk7DQoNCiAgICAvLyBjdXR0aW5nIHBpZWNlIChjZW50ZXIpDQogICAgY29uc3QgY3g9eCtidyowLjUyOw0KICAgIGNvbnN0IGN1dFRvcD15K2JoKjAuNDY7DQogICAgaWYoc3RlcD49MSl7DQogICAgICBsaW5lKGMsY3gsZ3JvdW5kWS0xMCxjeCxjdXRUb3AsOSwicmdiYSgzNCwxOTcsOTQsMC4yNSkiKTsNCiAgICAgIC8vIGN1dCBtYXJrDQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ0LDYzLDk0LDAuMzUpIjsNCiAgICAgIGMubGluZVdpZHRoPTY7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyhjeC0xOCxjdXRUb3ApOyBjLmxpbmVUbyhjeCsxOCxjdXRUb3ApOyBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgICB0ZXh0KGMsY3gtMzgsY3V0VG9wLTE4LCJDdXR0aW5nIiwwLjksInJnYmEoMjUxLDExMywxMzMsMSkiLHRydWUpOw0KICAgIH0NCiAgICBpZihzdGVwPj0yKXsNCiAgICAgIC8vIHJvb3RzIGZyb20gY3V0dGluZyAoY29uY2VwdCkNCiAgICAgIGNvbnN0IHA9MC41KzAuNSpNYXRoLnNpbih0KjIuOCk7DQogICAgICBmb3IobGV0IGk9MDtpPDc7aSsrKXsNCiAgICAgICAgY29uc3QgZHg9LTE4K2kqNjsNCiAgICAgICAgbGluZShjLGN4K2R4LGdyb3VuZFktNixjeCtkeC04LGdyb3VuZFkrMjArMTIqcCwyLCJyZ2JhKDU5LDEzMCwyNDYsMC4yNSkiKTsNCiAgICAgIH0NCiAgICAgIHRleHQoYyxjeC02Mixncm91bmRZKzQ1LCJSb290cyBmb3JtIChjb25jZXB0KSIsMC45LCJyZ2JhKDE0NywxOTcsMjUzLDEpIix0cnVlKTsNCiAgICB9DQogICAgaWYoc3RlcD49Myl7DQogICAgICAvLyBuZXcgcGxhbnQgbGVhdmVzDQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4xNikiOw0KICAgICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGN4LTM4LGN1dFRvcCsyNSw0OCwyMCwtMC4zLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoY3grMzgsY3V0VG9wKzI1LDQ4LDIwLDAuMywwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgICAgdGV4dChjLGN4LTU4LHkrYmgqMC4zMCwiTmV3IHBsYW50IiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA9PT00KXsNCiAgICAgIC8vIGdyYWZ0aW5nIGNvbmNlcHQgKHJpZ2h0KQ0KICAgICAgY29uc3QgZ3g9eCtidyowLjgwOw0KICAgICAgbGluZShjLGd4LGdyb3VuZFktMTAsZ3gseStiaCowLjQwLDEwLCJyZ2JhKDM0LDE5Nyw5NCwwLjIyKSIpOw0KICAgICAgLy8gam9pbg0KICAgICAgY29uc3Qgank9eStiaCowLjU0Ow0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC40NSkiOw0KICAgICAgYy5saW5lV2lkdGg9MTA7DQogICAgICBjLmxpbmVDYXA9InJvdW5kIjsNCiAgICAgIGMuYmVnaW5QYXRoKCk7IGMubW92ZVRvKGd4LTIwLGp5KTsgYy5saW5lVG8oZ3grMjAsankpOyBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgICAvLyBzY2lvbg0KICAgICAgbGluZShjLGd4LCBqeSwgZ3gsIHkrYmgqMC4zNCwgOCwgInJnYmEoMzQsMTk3LDk0LDAuMjUpIik7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4xNikiOw0KICAgICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGd4LTMwLHkrYmgqMC4zOCw0MCwxOCwtMC4zLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoZ3grMzAseStiaCowLjM4LDQwLDE4LDAuMywwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgICAgdGV4dChjLGd4LTYwLHkrYmgqMC4zMCwiR3JhZnRpbmcgKGNvbmNlcHQpIiwwLjksInJnYmEoMjUzLDIzMCwxMzgsMSkiLHRydWUpOw0KICAgICAgdGV4dChjLGd4LTY0LGdyb3VuZFkrNDUsIlNjaW9uICsgc3RvY2sgam9pbmVkIiwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogNykgU3BvcmUgZm9ybWF0aW9uICovDQpzY2VuZXMuc3BvcmVGb3JtYXRpb25TdGVwcyA9IHsNCiAgc3RlcHM6IDUsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFBhcmVudCBmdW5ndXMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBTcG9yYW5naXVtIGZvcm1zIG9uIHN0YWxrLiIsDQogICAgICAiU3RlcCAzOiBTcG9yZXMgZGV2ZWxvcCBpbnNpZGUuIiwNCiAgICAgICJTdGVwIDQ6IFNwb3JhbmdpdW0gYnVyc3RzL3JlbGVhc2VzIHNwb3Jlcy4iLA0KICAgICAgIlN0ZXAgNTogU3BvcmVzIGRpc3BlcnNlIGFuZCBnZXJtaW5hdGUgd2hlbiBjb25kaXRpb25zIGFyZSBmYXZvcmFibGUuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJTcG9yZSBmb3JtYXRpb24gKFJoaXpvcHVzIGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KICAgIGNvbnN0IGdyb3VuZFk9eStiaCowLjc4Ow0KICAgIGxpbmUoYyx4KzIwLGdyb3VuZFkseCtidy0yMCxncm91bmRZLDQsInJnYmEoMTQ4LDE2MywxODQsMC4xOCkiKTsNCg0KICAgIC8vIG15Y2VsaXVtIChjb25jZXB0KQ0KICAgIGZvcihsZXQgaT0wO2k8MTA7aSsrKXsNCiAgICAgIGNvbnN0IHh4PXgrNTAraSo3MDsNCiAgICAgIGxpbmUoYyx4eCxncm91bmRZLHh4KzQwLGdyb3VuZFktMjAsMiwicmdiYSgyMjYsMjMyLDI0MCwwLjEwKSIpOw0KICAgICAgbGluZShjLHh4KzEwLGdyb3VuZFkseHgtMjAsZ3JvdW5kWS0yNSwyLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMTApIik7DQogICAgfQ0KDQogICAgY29uc3Qgc3g9eCtidyowLjQwLCBzeT15K2JoKjAuNTA7DQogICAgLy8gc3RhbGsNCiAgICBsaW5lKGMsc3gsZ3JvdW5kWS04LHN4LHN5LDEwLCJyZ2JhKDM0LDE5Nyw5NCwwLjIyKSIpOw0KDQogICAgLy8gc3BvcmFuZ2l1bQ0KICAgIGlmKHN0ZXA+PTEpew0KICAgICAgc3Ryb2tlRG90KGMsc3gsc3ksNDAsInJnYmEoNTksMTMwLDI0NiwwLjA4KSIsInJnYmEoNTksMTMwLDI0NiwwLjI1KSIsMik7DQogICAgICB0ZXh0KGMsc3gtNTUsc3ktNTUsIlNwb3JhbmdpdW0iLDAuOSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgLy8gc3BvcmVzIGluc2lkZQ0KICAgICAgZm9yKGxldCBpPTA7aTwxODtpKyspew0KICAgICAgICBjb25zdCBhbmc9aSooTWF0aC5QSSoyLzE4KTsNCiAgICAgICAgZG90KGMsc3grTWF0aC5jb3MoYW5nKSoxOCwgc3krTWF0aC5zaW4oYW5nKSoxOCwgMywgInJnYmEoMjUwLDIwNCwyMSwwLjg1KSIpOw0KICAgICAgfQ0KICAgICAgZG90KGMsc3gsc3ksMywicmdiYSgyNTAsMjA0LDIxLDAuODUpIik7DQogICAgICB0ZXh0KGMsc3gtNzAsc3krNzAsIlNwb3JlcyBkZXZlbG9wIGluc2lkZSIsMC45LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCiAgICB9DQogICAgaWYoc3RlcD49Myl7DQogICAgICAvLyBidXJzdCAmIHJlbGVhc2UNCiAgICAgIGNvbnN0IHA9MC41KzAuNSpNYXRoLnNpbih0KjMuMCk7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZ2xvYmFsQWxwaGE9MC4xNSswLjI1KnA7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NCw2Myw5NCwwLjcpIjsNCiAgICAgIGMubGluZVdpZHRoPTQ7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmFyYyhzeCxzeSw0NCwwLE1hdGguUEkqMik7IGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCg0KICAgICAgY29uc3QgY291bnQ9MjQ7DQogICAgICBmb3IobGV0IGk9MDtpPGNvdW50O2krKyl7DQogICAgICAgIGNvbnN0IGFuZz1pKihNYXRoLlBJKjIvY291bnQpOw0KICAgICAgICBjb25zdCByPTU1KzcwKigodCowLjI1K2kqMC4wMiklMSk7DQogICAgICAgIGRvdChjLCBzeCtNYXRoLmNvcyhhbmcpKnIsIHN5K01hdGguc2luKGFuZykqciowLjgsIDMsICJyZ2JhKDI1MCwyMDQsMjEsMC44NSkiKTsNCiAgICAgIH0NCiAgICAgIHRleHQoYyxzeC04MCxzeSsxMDAsIlJlbGVhc2UgJiBkaXNwZXJzYWwiLDAuOSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT00KXsNCiAgICAgIC8vIGdlcm1pbmF0aW9uIGNvbmNlcHQgKHJpZ2h0KQ0KICAgICAgY29uc3QgZ3g9eCtidyowLjc1LCBneT1ncm91bmRZLTIwOw0KICAgICAgc3Ryb2tlRG90KGMsZ3gsZ3ksMTAsInJnYmEoMjUwLDIwNCwyMSwwLjEyKSIsInJnYmEoMjUwLDIwNCwyMSwwLjQwKSIsMik7DQogICAgICBsaW5lKGMsZ3gsZ3ksZ3gsZ3ktNDAsNiwicmdiYSgzNCwxOTcsOTQsMC4yNSkiKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjE2KSI7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoZ3gtMjAsZ3ktNDAsMzAsMTQsLTAuMywwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGd4KzIwLGd5LTQwLDMwLDE0LDAuMywwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgICAgdGV4dChjLGd4LTU1LGd5LTcwLCJHZXJtaW5hdGlvbiAoY29uY2VwdCkiLDAuOSwicmdiYSgxNjcsMjQzLDIwOCwxKSIsdHJ1ZSk7DQogICAgICB0ZXh0KGMsZ3gtOTUsZ3krNTUsIkZhdm91cmFibGUgY29uZGl0aW9ucyDihpIgZ3Jvd3RoIiwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogOCkgRmxvd2VyICsgcG9sbGluYXRpb24gKi8NCnNjZW5lcy5mbG93ZXJQb2xsaW5hdGlvblN0ZXBzID0gew0KICBzdGVwczogNSwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogRmxvd2VyIGhhcyBzdGFtZW4gKG1hbGUpIGFuZCBwaXN0aWwgKGZlbWFsZSkuIiwNCiAgICAgICJTdGVwIDI6IEFudGhlciBwcm9kdWNlcyBwb2xsZW4gZ3JhaW5zLiIsDQogICAgICAiU3RlcCAzOiBQb2xsaW5hdGlvbiA9IHBvbGxlbiB0cmFuc2ZlciBhbnRoZXIg4oaSIHN0aWdtYS4iLA0KICAgICAgIlN0ZXAgNDogU2VsZiB2cyBjcm9zcyBwb2xsaW5hdGlvbiAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDU6IFBvbGxpbmF0aW9uIGFnZW50czogd2luZC93YXRlci9pbnNlY3RzIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMscGxheWluZyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA2LCB5PWgqMC4xNiwgYnc9dyowLjg4LCBiaD1oKjAuNjY7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIkZsb3dlciBwYXJ0cyArIHBvbGxpbmF0aW9uIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KICAgIGNvbnN0IGN4PXgrYncqMC41MCwgYmFzZVk9eStiaCowLjc4Ow0KDQogICAgLy8gc3RlbQ0KICAgIGxpbmUoYyxjeCxiYXNlWSxjeCx5K2JoKjAuNDIsMTAsInJnYmEoMzQsMTk3LDk0LDAuMjIpIik7DQoNCiAgICAvLyBwZXRhbHMNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyNDQsNjMsOTQsMC4xMCkiOw0KICAgIGZvcihsZXQgaT0wO2k8NTtpKyspew0KICAgICAgY29uc3QgYW5nPS1NYXRoLlBJLzIgKyBpKihNYXRoLlBJKjIvNSk7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgYy5lbGxpcHNlKGN4K01hdGguY29zKGFuZykqNTUsIHkrYmgqMC40NitNYXRoLnNpbihhbmcpKjM1LCA1NSwgMzAsIGFuZyowLjMsIDAsIE1hdGguUEkqMik7DQogICAgICBjLmZpbGwoKTsNCiAgICB9DQoNCiAgICAvLyBwaXN0aWwNCiAgICBsaW5lKGMsY3gseStiaCowLjYyLGN4LHkrYmgqMC40NCw4LCJyZ2JhKDU5LDEzMCwyNDYsMC4yMikiKTsNCiAgICBzdHJva2VEb3QoYyxjeCx5K2JoKjAuNDIsMTAsInJnYmEoNTksMTMwLDI0NiwwLjE0KSIsInJnYmEoNTksMTMwLDI0NiwwLjM1KSIsMik7DQogICAgdGV4dChjLGN4KzE0LHkrYmgqMC40Mis0LCJTdGlnbWEiLDAuOSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQogICAgLy8gb3ZhcnkNCiAgICBzdHJva2VEb3QoYyxjeCx5K2JoKjAuNjYsMTYsInJnYmEoNTksMTMwLDI0NiwwLjEwKSIsInJnYmEoNTksMTMwLDI0NiwwLjI1KSIsMik7DQogICAgdGV4dChjLGN4KzE4LHkrYmgqMC42Nis0LCJPdmFyeSIsMC45LCJyZ2JhKDE0NywxOTcsMjUzLDEpIix0cnVlKTsNCg0KICAgIC8vIHN0YW1lbnMNCiAgICBjb25zdCBheDE9Y3gtNzAsIGF4Mj1jeCs3MDsNCiAgICBsaW5lKGMsYXgxLGJhc2VZLTEwLGF4MSx5K2JoKjAuNTAsNiwicmdiYSgyNDUsMTU4LDExLDAuMjIpIik7DQogICAgbGluZShjLGF4MixiYXNlWS0xMCxheDIseStiaCowLjUwLDYsInJnYmEoMjQ1LDE1OCwxMSwwLjIyKSIpOw0KICAgIHN0cm9rZURvdChjLGF4MSx5K2JoKjAuNDgsMTIsInJnYmEoMjQ1LDE1OCwxMSwwLjEwKSIsInJnYmEoMjQ1LDE1OCwxMSwwLjM1KSIsMik7DQogICAgc3Ryb2tlRG90KGMsYXgyLHkrYmgqMC40OCwxMiwicmdiYSgyNDUsMTU4LDExLDAuMTApIiwicmdiYSgyNDUsMTU4LDExLDAuMzUpIiwyKTsNCiAgICB0ZXh0KGMsYXgxLTIwLHkrYmgqMC40OC0xOCwiQW50aGVyIiwwLjg1LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCg0KICAgIGlmKHN0ZXA+PTEpew0KICAgICAgZm9yKGxldCBpPTA7aTwxMDtpKyspew0KICAgICAgICBkb3QoYywgYXgxLTggKyAoaSU1KSo2LCB5K2JoKjAuNDgtOCArIE1hdGguZmxvb3IoaS81KSo2LCAyLjUsICJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICAgICAgfQ0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjMwLCJQb2xsZW4gZ3JhaW5zIiwwLjksInJnYmEoMjUzLDIzMCwxMzgsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgLy8gcG9sbGVuIHRyYW5zZmVyDQogICAgICBjb25zdCBwPSgodCowLjM1KSUxKTsNCiAgICAgIGZvcihsZXQgaT0wO2k8MTA7aSsrKXsNCiAgICAgICAgY29uc3QgcT0ocCtpKjAuMDgpJTE7DQogICAgICAgIGNvbnN0IHB4ID0gYXgxICsgKGN4LWF4MSkqcTsNCiAgICAgICAgY29uc3QgcHkgPSAoeStiaCowLjQ4KSArICh5K2JoKjAuNDItKHkrYmgqMC40OCkpKnEgLSAxOCpNYXRoLnNpbihxKk1hdGguUEkpOw0KICAgICAgICBkb3QoYyxweCxweSwyLjYsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogICAgICB9DQogICAgICBhcnJvdyhjLGF4MSsxOCx5K2JoKjAuNDgsY3gtMTgseStiaCowLjQyLCJyZ2JhKDI1MCwyMDQsMjEsMC4yNSkiKTsNCiAgICAgIHRleHQoYyx4KzE4LHkrYmgqMC4zNCwiUG9sbGluYXRpb246IGFudGhlciDihpIgc3RpZ21hIiwwLjksInJnYmEoMjUzLDIzMCwxMzgsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTMpew0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjM4LCJTZWxmIHBvbGxpbmF0aW9uOiBzYW1lIGZsb3dlcjsgQ3Jvc3M6IGRpZmZlcmVudCBmbG93ZXIgKGNvbmNlcHQpLiIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICB9DQogICAgaWYoc3RlcD49NCl7DQogICAgICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCoyLjApOw0KICAgICAgLy8gaW5zZWN0IGljb24gKGNvbmNlcHQpDQogICAgICBjb25zdCBpeD1jeCsxNjAsIGl5PXkrYmgqMC4zODsNCiAgICAgIGRvdChjLGl4LGl5LDgsYHJnYmEoMTQ4LDE2MywxODQsJHswLjI1KzAuMzUqcH0pYCk7DQogICAgICBkb3QoYyxpeC0xMixpeSw1LGByZ2JhKDE0OCwxNjMsMTg0LCR7MC4yNSswLjM1KnB9KWApOw0KICAgICAgZG90KGMsaXgrMTIsaXksNSxgcmdiYSgxNDgsMTYzLDE4NCwkezAuMjUrMC4zNSpwfSlgKTsNCiAgICAgIHRleHQoYyxjeCsxMTAseStiaCowLjM0LCJBZ2VudHMgKGNvbmNlcHQpOiB3aW5kL3dhdGVyL2luc2VjdHMiLDAuOSwicmdiYSgyMDMsMjEzLDIyNSwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiA5KSBQb2xsZW4gdHViZSArIGZlcnRpbGlzYXRpb24gY29uY2VwdCAqLw0Kc2NlbmVzLnBvbGxlblR1YmVGZXJ0aWxpemF0aW9uU3RlcHMgPSB7DQogIHN0ZXBzOiA1LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBQb2xsZW4gbGFuZHMgb24gc3RpZ21hIGFmdGVyIHBvbGxpbmF0aW9uLiIsDQogICAgICAiU3RlcCAyOiBQb2xsZW4gZ2VybWluYXRlcyBhbmQgZm9ybXMgcG9sbGVuIHR1YmUuIiwNCiAgICAgICJTdGVwIDM6IFR1YmUgZ3Jvd3MgdGhyb3VnaCBzdHlsZSB0byBvdmFyeS4iLA0KICAgICAgIlN0ZXAgNDogVHViZSByZWFjaGVzIG92dWxlIGFuZCBkZWxpdmVycyBtYWxlIGdhbWV0ZSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDU6IEZlcnRpbGlzYXRpb24gZm9ybXMgenlnb3RlIGluc2lkZSBvdnVsZSAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJQb2xsZW4gdHViZSDihpIgb3Z1bGUg4oaSIGZlcnRpbGlzYXRpb24gKGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KICAgIGNvbnN0IGN4PXgrYncqMC41MDsNCiAgICBjb25zdCBzdGlnbWFZPXkrYmgqMC4yNjsNCiAgICBjb25zdCBvdmFyeVk9eStiaCowLjcwOw0KDQogICAgLy8gc3RpZ21hICsgc3R5bGUgKyBvdmFyeQ0KICAgIHN0cm9rZURvdChjLGN4LHN0aWdtYVksMTIsInJnYmEoNTksMTMwLDI0NiwwLjEyKSIsInJnYmEoNTksMTMwLDI0NiwwLjM1KSIsMik7DQogICAgbGluZShjLGN4LHN0aWdtYVkrMTAsY3gsb3ZhcnlZLTIwLDgsInJnYmEoNTksMTMwLDI0NiwwLjE4KSIpOw0KICAgIHN0cm9rZURvdChjLGN4LG92YXJ5WSwyNiwicmdiYSg1OSwxMzAsMjQ2LDAuMTApIiwicmdiYSg1OSwxMzAsMjQ2LDAuMjUpIiwyKTsNCiAgICB0ZXh0KGMsY3grMTYsc3RpZ21hWSs0LCJTdGlnbWEiLDAuOSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQogICAgdGV4dChjLGN4KzE4LChzdGlnbWFZK292YXJ5WSkvMiwiU3R5bGUiLDAuOSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQogICAgdGV4dChjLGN4KzE4LG92YXJ5WSs0LCJPdmFyeSIsMC45LCJyZ2JhKDE0NywxOTcsMjUzLDEpIix0cnVlKTsNCg0KICAgIC8vIG92dWxlDQogICAgY29uc3Qgb3g9Y3grNTUsIG95PW92YXJ5WSsxMDsNCiAgICBzdHJva2VEb3QoYyxveCxveSwxMiwicmdiYSgzNCwxOTcsOTQsMC4xMCkiLCJyZ2JhKDM0LDE5Nyw5NCwwLjMwKSIsMik7DQogICAgdGV4dChjLG94KzE0LG95KzQsIk92dWxlIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KDQogICAgaWYoc3RlcD49MCl7DQogICAgICAvLyBwb2xsZW4gZ3JhaW4gb24gc3RpZ21hDQogICAgICBzdHJva2VEb3QoYyxjeC0zMixzdGlnbWFZLDEwLCJyZ2JhKDI0NSwxNTgsMTEsMC4xMCkiLCJyZ2JhKDI0NSwxNTgsMTEsMC4zNSkiLDIpOw0KICAgICAgZG90KGMsY3gtMzIsc3RpZ21hWSwzLCJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICAgICAgdGV4dChjLGN4LTkwLHN0aWdtYVktMTgsIlBvbGxlbiIsMC45LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPj0xKXsNCiAgICAgIC8vIHBvbGxlbiB0dWJlIHBhdGgNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMzUpIjsNCiAgICAgIGMubGluZVdpZHRoPTU7DQogICAgICBjLmxpbmVDYXA9InJvdW5kIjsNCiAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICBjLm1vdmVUbyhjeC0yNCwgc3RpZ21hWSs2KTsNCiAgICAgIGMucXVhZHJhdGljQ3VydmVUbyhjeC0xMCwgKHN0aWdtYVkrb3ZhcnlZKS8yLCBjeCszMCwgb3ZhcnlZLTEwKTsNCiAgICAgIGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICAgIHRleHQoYyx4KzE4LHkrYmgqMC4zNCwiUG9sbGVuIHR1YmUgZm9ybXMgKGNvbmNlcHQpIiwwLjksInJnYmEoMjUzLDIzMCwxMzgsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgLy8gZ3Jvd2luZyB0aXAgYW5pbWF0aW9uDQogICAgICBjb25zdCBwPSh0KjAuMjUpJTE7DQogICAgICBjb25zdCB0aXBYID0gKGN4LTI0KSArICg1NCkqcDsNCiAgICAgIGNvbnN0IHRpcFkgPSAoc3RpZ21hWSs2KSArIChvdmFyeVktMTYtKHN0aWdtYVkrNikpKnA7DQogICAgICBkb3QoYywgdGlwWCwgdGlwWSwgNCwgInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuMzgsIlR1YmUgZ3Jvd3MgdGhyb3VnaCBzdHlsZSB0b3dhcmRzIG92YXJ5IiwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTMpew0KICAgICAgLy8gdHViZSB0byBvdnVsZQ0KICAgICAgYXJyb3coYyxjeCsyNixvdmFyeVktMTIsb3gtMTIsb3ktOCwicmdiYSgyNDUsMTU4LDExLDAuMjUpIik7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuNDIsIk1hbGUgZ2FtZXRlIGRlbGl2ZXJlZCB0byBvdnVsZSAoY29uY2VwdCkiLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD09PTQpew0KICAgICAgLy8gZmVydGlsaXNhdGlvbiBzcGFyaw0KICAgICAgY29uc3QgcHVsc2U9MC41KzAuNSpNYXRoLnNpbih0KjMuMik7DQogICAgICBkb3QoYyxveCxveSw2LGByZ2JhKDM0LDE5Nyw5NCwkezAuMzUrMC40NSpwdWxzZX0pYCk7DQogICAgICBkb3QoYyxveCsyLG95LTIsMixgcmdiYSgyNTUsMjU1LDI1NSwkezAuNCswLjQqcHVsc2V9KWApOw0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjQ2LCJGZXJ0aWxpc2F0aW9uIOKGkiB6eWdvdGUgKGNvbmNlcHQpIiwwLjksInJnYmEoMTM0LDIzOSwxNzIsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogMTApIERvdWJsZSBmZXJ0aWxpc2F0aW9uIChzaW1wbGlmaWVkIGNvbmNlcHQpICovDQpzY2VuZXMuZG91YmxlRmVydGlsaXphdGlvblN0ZXBzID0gew0KICBzdGVwczogNCwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogT3Z1bGUgY29udGFpbnMgZWdnIGNlbGwgYW5kIHBvbGFyIG51Y2xlaSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IFR3byBtYWxlIGdhbWV0ZXMgZW50ZXIgdmlhIHBvbGxlbiB0dWJlIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogT25lIGZ1c2VzIHdpdGggZWdnIOKGkiB6eWdvdGUgKGVtYnJ5bykuIiwNCiAgICAgICJTdGVwIDQ6IE90aGVyIGZ1c2VzIHdpdGggcG9sYXIgbnVjbGVpIOKGkiBlbmRvc3Blcm0gKG51dHJpdGlvbikgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiRG91YmxlIGZlcnRpbGlzYXRpb24gKGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KICAgIGNvbnN0IG94PXgrYncqMC41Miwgb3k9eStiaCowLjUyOw0KDQogICAgLy8gb3Z1bGUgYm91bmRhcnkNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4wOCkiOw0KICAgIHJyKGMsb3gtMTUwLG95LTkwLDMwMCwxODAsMjApOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjI1KSI7DQogICAgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICB0ZXh0KGMsb3gtMjAsb3ktMTEwLCJPdnVsZSIsMC45LCJyZ2JhKDE2NywyNDMsMjA4LDEpIix0cnVlKTsNCg0KICAgIC8vIGVnZyBjZWxsIGFuZCBwb2xhciBudWNsZWkgKGNvbmNlcHQgZG90cykNCiAgICBzdHJva2VEb3QoYyxveC03MCxveSwxNCwicmdiYSg1OSwxMzAsMjQ2LDAuMTIpIiwicmdiYSg1OSwxMzAsMjQ2LDAuMzUpIiwyKTsNCiAgICB0ZXh0KGMsb3gtOTgsb3krMzQsIkVnZyIsMC45LCJyZ2JhKDE0NywxOTcsMjUzLDEpIix0cnVlKTsNCg0KICAgIHN0cm9rZURvdChjLG94KzcwLG95LTE4LDEwLCJyZ2JhKDEzOSw5MiwyNDYsMC4xMCkiLCJyZ2JhKDEzOSw5MiwyNDYsMC4zMikiLDIpOw0KICAgIHN0cm9rZURvdChjLG94KzkyLG95KzgsMTAsInJnYmEoMTM5LDkyLDI0NiwwLjEwKSIsInJnYmEoMTM5LDkyLDI0NiwwLjMyKSIsMik7DQogICAgdGV4dChjLG94KzMwLG95KzQwLCJQb2xhciBudWNsZWkiLDAuOSwicmdiYSgxOTYsMTgxLDI1MywxKSIsdHJ1ZSk7DQoNCiAgICBpZihzdGVwPj0xKXsNCiAgICAgIC8vIHR3byBtYWxlIGdhbWV0ZXMgZW50ZXJpbmcNCiAgICAgIGFycm93KGMsb3gtMTYwLG95LTYwLG94LTEyMCxveS0yMCwicmdiYSgyNDUsMTU4LDExLDAuMjUpIik7DQogICAgICBkb3QoYyxveC0xMjAsb3ktMjAsNSwicmdiYSgyNTAsMjA0LDIxLDAuOSkiKTsNCiAgICAgIGRvdChjLG94LTEyMCxveSsxMCw1LCJyZ2JhKDI1MCwyMDQsMjEsMC45KSIpOw0KICAgICAgdGV4dChjLG94LTE4NSxveS04NSwiVHdvIG1hbGUgZ2FtZXRlcyAoY29uY2VwdCkiLDAuOSwicmdiYSgyNTMsMjMwLDEzOCwxKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD49Mil7DQogICAgICAvLyBmdXNpb24gd2l0aCBlZ2cNCiAgICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCozLjApOw0KICAgICAgZG90KGMsb3gtNzAsb3ksNixgcmdiYSgzNCwxOTcsOTQsJHswLjM1KzAuNDUqcHVsc2V9KWApOw0KICAgICAgdGV4dChjLG94LTEyNSxveSs3OCwiRnVzaW9uIDE6IHp5Z290ZSIsMC45LCJyZ2JhKDEzNCwyMzksMTcyLDEpIix0cnVlKTsNCiAgICB9DQogICAgaWYoc3RlcD49Myl7DQogICAgICBjb25zdCBwdWxzZT0wLjUrMC41Kk1hdGguc2luKHQqMy4wKzEuMik7DQogICAgICBkb3QoYyxveCs4MCxveS01LDYsYHJnYmEoMjQ0LDYzLDk0LCR7MC4yNSswLjQ1KnB1bHNlfSlgKTsNCiAgICAgIHRleHQoYyxveCsxMCxveSs3OCwiRnVzaW9uIDI6IGVuZG9zcGVybSAoY29uY2VwdCkiLDAuOSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAxMSkgUHViZXJ0eSBjaGFuZ2VzIChzaW1wbGUgY29tcGFyaXNvbiBjYXJkcykgKi8NCnNjZW5lcy5wdWJlcnR5Q2hhbmdlcyA9IHsNCiAgc3RlcHM6IDMsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFB1YmVydHkgc3RhcnRzIHJlcHJvZHVjdGl2ZSBtYXR1cml0eSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IEJveXM6IHZvaWNlIGNoYW5nZSwgZmFjaWFsIGhhaXIsIHNwZXJtIHByb2R1Y3Rpb24gc3RhcnRzIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogR2lybHM6IGJyZWFzdCBkZXZlbG9wbWVudCwgbWVuc3RydWFsIGN5Y2xlIGJlZ2lucywgZWdnIG1hdHVyYXRpb24gKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiUHViZXJ0eSBjaGFuZ2VzIChjb25jZXB0KSDigJMgTmV4dCBzdGVwIik7DQoNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCiAgICBjb25zdCBjYXJkVz1idyowLjQwLCBjYXJkSD1iaCowLjU1Ow0KICAgIGNvbnN0IGN5PXkrYmgqMC4yMjsNCg0KICAgIGZ1bmN0aW9uIGNhcmQocHgsdGl0bGUsaXRlbXMsYWN0aXZlLGNvbCl7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE1LDIzLDQyLDAuNTUpIjsNCiAgICAgIHJyKGMscHgsY3ksY2FyZFcsY2FyZEgsMTYpOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9YWN0aXZlID8gY29sIDogInJnYmEoMjI2LDIzMiwyNDAsMC4xNikiOw0KICAgICAgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCg0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC45MikiOw0KICAgICAgYy5mb250PSJib2xkIDE2cHggc3lzdGVtLXVpIjsNCiAgICAgIGMuZmlsbFRleHQodGl0bGUsIHB4KzE0LCBjeSszMCk7DQoNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuODIpIjsNCiAgICAgIGMuZm9udD0iMTJweCBzeXN0ZW0tdWkiOw0KICAgICAgaXRlbXMuZm9yRWFjaCgoaXQsaSk9PiBjLmZpbGxUZXh0KCLigKIgIitpdCwgcHgrMTQsIGN5KzYwK2kqMTgpKTsNCg0KICAgICAgaWYoYWN0aXZlKXsNCiAgICAgICAgY29uc3QgcHVsc2U9MC41KzAuNSpNYXRoLnNpbih0KjIuNCk7DQogICAgICAgIGMuZ2xvYmFsQWxwaGE9MC4xMCswLjE4KnB1bHNlOw0KICAgICAgICBjLmZpbGxTdHlsZT1jb2w7DQogICAgICAgIHJyKGMscHgsY3ksY2FyZFcsY2FyZEgsMTYpOyBjLmZpbGwoKTsNCiAgICAgIH0NCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCg0KICAgIHRleHQoYyx4KzE4LHkrYmgqMC4xOCwiSG9ybW9uZXMgdHJpZ2dlciBjaGFuZ2VzIGF0IHB1YmVydHkgKGNvbmNlcHQpLiIsMC45LCJyZ2JhKDIwMywyMTMsMjI1LDEpIix0cnVlKTsNCg0KICAgIGNhcmQoeCtidyowLjA3LCJCb3lzIChjb25jZXB0KSIsWw0KICAgICAgIlZvaWNlIGRlZXBlbnMiLA0KICAgICAgIkhhaXIgZ3Jvd3RoIChmYWNlL2JvZHkpIiwNCiAgICAgICJTcGVybSBwcm9kdWN0aW9uIGJlZ2lucyINCiAgICBdLCBzdGVwPT09MSwgInJnYmEoNTksMTMwLDI0NiwwLjQ1KSIpOw0KDQogICAgY2FyZCh4K2J3KjAuNTMsIkdpcmxzIChjb25jZXB0KSIsWw0KICAgICAgIkJyZWFzdCBkZXZlbG9wbWVudCIsDQogICAgICAiTWVuc3RydWFsIGN5Y2xlIGJlZ2lucyIsDQogICAgICAiRWdnIG1hdHVyYXRpb24gYmVnaW5zIg0KICAgIF0sIHN0ZXA9PT0yLCAicmdiYSgyNDQsNjMsOTQsMC4zNSkiKTsNCiAgfQ0KfTsNCg0KLyogMTIpIE1hbGUgcmVwcm9kdWN0aXZlIHBhdGggKi8NCnNjZW5lcy5tYWxlUmVwcm9kdWN0aXZlUGF0aCA9IHsNCiAgc3RlcHM6IDUsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFRlc3RlcyBwcm9kdWNlIHNwZXJtcyAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IFNwZXJtcyB0cmF2ZWwgdGhyb3VnaCB2YXMgZGVmZXJlbnMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBTZW1pbmFsIHZlc2ljbGVzICsgcHJvc3RhdGUgYWRkIGZsdWlkcyAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDQ6IFNlbWVuIHBhc3NlcyB0aHJvdWdoIHVyZXRocmEgKGNvbW1vbiBwYXNzYWdlIGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA1OiBFamFjdWxhdGlvbiByZWxlYXNlcyBzZW1lbiAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJNYWxlIHJlcHJvZHVjdGl2ZSBzeXN0ZW0gKHNpbXBsaWZpZWQpIOKAkyBOZXh0IHN0ZXAiKTsNCg0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgY29uc3QgdHg9eCtidyowLjIyLCB0eT15K2JoKjAuNjI7DQogICAgY29uc3QgYng9eCtidyowLjUyLCBieT15K2JoKjAuNDU7DQogICAgY29uc3QgdXg9eCtidyowLjc4LCB1eT15K2JoKjAuNjI7DQoNCiAgICAvLyB0ZXN0ZXMNCiAgICBzdHJva2VEb3QoYyx0eCx0eSwxOCwicmdiYSg1OSwxMzAsMjQ2LDAuMTApIiwicmdiYSg1OSwxMzAsMjQ2LDAuMzApIiwyKTsNCiAgICBzdHJva2VEb3QoYyx0eCs0MCx0eSwxOCwicmdiYSg1OSwxMzAsMjQ2LDAuMTApIiwicmdiYSg1OSwxMzAsMjQ2LDAuMzApIiwyKTsNCiAgICB0ZXh0KGMsdHgtMTgsdHkrMzgsIlRlc3RlcyIsMC45LCJyZ2JhKDE0NywxOTcsMjUzLDEpIix0cnVlKTsNCg0KICAgIC8vIHZhcyBkZWZlcmVucyBwYXRoDQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE4KSI7DQogICAgYy5saW5lV2lkdGg9NzsNCiAgICBjLmxpbmVDYXA9InJvdW5kIjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKHR4KzQwLHR5LTEwKTsNCiAgICBjLnF1YWRyYXRpY0N1cnZlVG8oeCtidyowLjM4LHkrYmgqMC4zMCwgYngtNjAsIGJ5KTsNCiAgICBjLnF1YWRyYXRpY0N1cnZlVG8oYngtMjAsIGJ5KzQwLCBieCs0MCwgYnkrMzUpOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLHgrYncqMC4zMCx5K2JoKjAuMjYsIlZhcyBkZWZlcmVucyIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCg0KICAgIC8vIGdsYW5kcw0KICAgIHN0cm9rZURvdChjLGJ4LTM1LGJ5KzEwLDE0LCJyZ2JhKDI0NSwxNTgsMTEsMC4xMCkiLCJyZ2JhKDI0NSwxNTgsMTEsMC4zNSkiLDIpOw0KICAgIHN0cm9rZURvdChjLGJ4KzEwLGJ5KzQ1LDE0LCJyZ2JhKDI0NSwxNTgsMTEsMC4xMCkiLCJyZ2JhKDI0NSwxNTgsMTEsMC4zNSkiLDIpOw0KICAgIHRleHQoYyxieC05MixieS0xMCwiR2xhbmRzIChjb25jZXB0KSIsMC45LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCg0KICAgIC8vIHVyZXRocmEgdG8gb3V0c2lkZQ0KICAgIGxpbmUoYyxieCs0MCxieSszNSx1eCx1eSw5LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIik7DQogICAgdGV4dChjLHV4LTQ0LHV5KzM0LCJVcmV0aHJhIiwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KDQogICAgLy8gc3Blcm0gZG90cyBtb3ZlbWVudCBkZXBlbmRpbmcgb24gc3RlcA0KICAgIGZ1bmN0aW9uIG1vdmVBbG9uZ1BhdGgoYWxwaGE9MSl7DQogICAgICBjb25zdCBwPSgodCowLjMwKSUxKTsNCiAgICAgIC8vIHNpbXBsZSBwaWVjZXdpc2UgcGF0aA0KICAgICAgY29uc3QgUCA9IFsNCiAgICAgICAge3g6dHgrNDAseTp0eS0xMH0sDQogICAgICAgIHt4OngrYncqMC4zOCx5OnkrYmgqMC4zMH0sDQogICAgICAgIHt4OmJ4LTYwLHk6Ynl9LA0KICAgICAgICB7eDpieCs0MCx5OmJ5KzM1fSwNCiAgICAgICAge3g6dXgseTp1eX0NCiAgICAgIF07DQogICAgICBjb25zdCBzZWdDb3VudD1QLmxlbmd0aC0xOw0KICAgICAgY29uc3Qgc2VnPU1hdGgubWluKHNlZ0NvdW50LTEsIE1hdGguZmxvb3IocCpzZWdDb3VudCkpOw0KICAgICAgY29uc3QgbG9jYWw9cCpzZWdDb3VudC1zZWc7DQogICAgICBjb25zdCBhPVBbc2VnXSwgYj1QW3NlZysxXTsNCiAgICAgIGRvdChjLCBhLngrKGIueC1hLngpKmxvY2FsLCBhLnkrKGIueS1hLnkpKmxvY2FsLCA0LCBgcmdiYSgyNTAsMjA0LDIxLCR7YWxwaGF9KWApOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTApew0KICAgICAgY29uc3QgcHVsc2U9MC41KzAuNSpNYXRoLnNpbih0KjIuNik7DQogICAgICBpZihzdGVwPT09MCkgZG90KGMsdHgrMjAsdHktMTAsNCxgcmdiYSgyNTAsMjA0LDIxLCR7MC40KzAuNSpwdWxzZX0pYCk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTEpew0KICAgICAgaWYoc3RlcD09PTEpIG1vdmVBbG9uZ1BhdGgoMC45NSk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgY29uc3QgcHVsc2U9MC41KzAuNSpNYXRoLnNpbih0KjMuMik7DQogICAgICBkb3QoYyxieC0zNSxieSsxMCwzLGByZ2JhKDI0NSwxNTgsMTEsJHswLjI1KzAuNDUqcHVsc2V9KWApOw0KICAgICAgZG90KGMsYngrMTAsYnkrNDUsMyxgcmdiYSgyNDUsMTU4LDExLCR7MC4yNSswLjQ1KnB1bHNlfSlgKTsNCiAgICAgIHRleHQoYyx4KzE4LHkrYmgqMC44MiwiR2xhbmQgc2VjcmV0aW9ucyBhZGQgZmx1aWQvbnV0cmllbnRzIChjb25jZXB0KS4iLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTMpew0KICAgICAgaWYoc3RlcD09PTMpIG1vdmVBbG9uZ1BhdGgoMC45NSk7DQogICAgfQ0KICAgIGlmKHN0ZXA9PT00KXsNCiAgICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCozLjApOw0KICAgICAgZm9yKGxldCBpPTA7aTwxMDtpKyspew0KICAgICAgICBkb3QoYyx1eCsxMCtpKjgsdXktMTArTWF0aC5zaW4oaSkqNiwyLjYsYHJnYmEoMjUwLDIwNCwyMSwkezAuMzUrMC40NSpwdWxzZX0pYCk7DQogICAgICB9DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODIsIlNlbWVuIHJlbGVhc2VkIChjb25jZXB0KS4iLDAuOSwicmdiYSgxNjcsMjQzLDIwOCwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAxMykgRmVtYWxlIHJlcHJvZHVjdGl2ZSBwYXRoICovDQpzY2VuZXMuZmVtYWxlUmVwcm9kdWN0aXZlUGF0aCA9IHsNCiAgc3RlcHM6IDUsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IE92YXJ5IHJlbGVhc2VzIGVnZyAob3Z1bSkgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBFZ2cgZW50ZXJzIGZhbGxvcGlhbiB0dWJlIChvdmlkdWN0KS4iLA0KICAgICAgIlN0ZXAgMzogU3Blcm1zIHJlYWNoIHR1YmUgKGR1cmluZyBpbnRlcmNvdXJzZSBjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogRmVydGlsaXNhdGlvbiBpbiBvdmlkdWN0IChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNTogRW1icnlvIG1vdmVzIHRvIHV0ZXJ1cyBmb3IgaW1wbGFudGF0aW9uIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMscGxheWluZyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA2LCB5PWgqMC4xNiwgYnc9dyowLjg4LCBiaD1oKjAuNjY7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIkZlbWFsZSByZXByb2R1Y3RpdmUgc3lzdGVtIChzaW1wbGlmaWVkKSDigJMgTmV4dCBzdGVwIik7DQoNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCg0KICAgIGNvbnN0IG94PXgrYncqMC4yNSwgb3k9eStiaCowLjQ1Ow0KICAgIGNvbnN0IG94Mj14K2J3KjAuNzUsIG95Mj1veTsNCiAgICBjb25zdCB1eD14K2J3KjAuNTAsIHV5PXkrYmgqMC41ODsNCg0KICAgIC8vIG92YXJpZXMNCiAgICBzdHJva2VEb3QoYyxveCxveSwxOCwicmdiYSgyNDQsNjMsOTQsMC4xMCkiLCJyZ2JhKDI0NCw2Myw5NCwwLjMwKSIsMik7DQogICAgc3Ryb2tlRG90KGMsb3gyLG95MiwxOCwicmdiYSgyNDQsNjMsOTQsMC4xMCkiLCJyZ2JhKDI0NCw2Myw5NCwwLjMwKSIsMik7DQogICAgdGV4dChjLG94LTE4LG95LTI4LCJPdmFyeSIsMC45LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCg0KICAgIC8vIGZhbGxvcGlhbiB0dWJlcyB0byB1dGVydXMNCiAgICBjLnNhdmUoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsNCiAgICBjLmxpbmVXaWR0aD03Ow0KICAgIGMubGluZUNhcD0icm91bmQiOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5tb3ZlVG8ob3grMTgsb3kpOw0KICAgIGMucXVhZHJhdGljQ3VydmVUbyh4K2J3KjAuMzgseStiaCowLjIyLCB1eC01NSwgdXktMjApOw0KICAgIGMucXVhZHJhdGljQ3VydmVUbyh1eC0yMCwgdXktNSwgdXgsIHV5KTsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5tb3ZlVG8ob3gyLTE4LG95Mik7DQogICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHgrYncqMC42Mix5K2JoKjAuMjIsIHV4KzU1LCB1eS0yMCk7DQogICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHV4KzIwLCB1eS01LCB1eCwgdXkpOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLHV4LTYwLHkrYmgqMC4yMCwiT3ZpZHVjdHMiLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQoNCiAgICAvLyB1dGVydXMNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMDYpIjsNCiAgICBycihjLHV4LTcwLHV5LTIwLDE0MCwxNTAsMjQpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4yMCkiOw0KICAgIGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLHV4LTI1LHV5LTMwLCJVdGVydXMiLDAuOSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQoNCiAgICAvLyBjZXJ2aXggKyB2YWdpbmEgcGF0aCAoY29uY2VwdCkNCiAgICBsaW5lKGMsdXgsdXkrMTMwLHV4LHV5KzE4NSwxMCwicmdiYSgyMjYsMjMyLDI0MCwwLjE1KSIpOw0KICAgIHRleHQoYyx1eCsxNCx1eSsxNzAsIlZhZ2luYSAoY29uY2VwdCkiLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQoNCiAgICBpZihzdGVwPj0wKXsNCiAgICAgIC8vIGVnZyByZWxlYXNlDQogICAgICBjb25zdCBwdWxzZT0wLjUrMC41Kk1hdGguc2luKHQqMy4wKTsNCiAgICAgIGlmKHN0ZXA9PT0wKSBkb3QoYyxveCsyNCxveSs2LDYsYHJnYmEoMjUwLDIwNCwyMSwkezAuMzUrMC40NSpwdWxzZX0pYCk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTEpew0KICAgICAgLy8gZWdnIHRyYXZlbCBpbiB0dWJlDQogICAgICBjb25zdCBwPSh0KjAuMTgpJTE7DQogICAgICBjb25zdCBleCA9IG94KzE4ICsgKHV4LTU1LShveCsxOCkpKnA7DQogICAgICBjb25zdCBleSA9IG95ICsgKCh1eS0yMCktb3kpKnAgLSAzMCpNYXRoLnNpbihwKk1hdGguUEkpOw0KICAgICAgaWYoc3RlcD09PTEpIGRvdChjLGV4LGV5LDYsInJnYmEoMjUwLDIwNCwyMSwwLjkpIik7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODIsIkVnZyB0cmF2ZWxzIHRocm91Z2ggb3ZpZHVjdCAoY29uY2VwdCkuIiwwLjksInJnYmEoMjUzLDIzMCwxMzgsMSkiLHRydWUpOw0KICAgIH0NCiAgICBpZihzdGVwPj0yKXsNCiAgICAgIC8vIHNwZXJtIG1vdmluZyB1cHdhcmQgKGNvbmNlcHQpDQogICAgICBjb25zdCBwPSh0KjAuMjUpJTE7DQogICAgICBmb3IobGV0IGk9MDtpPDg7aSsrKXsNCiAgICAgICAgY29uc3Qgc3ggPSB1eCArIChpJTI/IC0xNjoxNik7DQogICAgICAgIGNvbnN0IHN5ID0gKHV5KzE4NSkgLSBwKjIyMCAtIGkqMTA7DQogICAgICAgIGRvdChjLHN4LHN5LDIuNCwicmdiYSgyNTAsMjA0LDIxLDAuNzUpIik7DQogICAgICB9DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODYsIlNwZXJtcyBtb3ZlIHVwd2FyZCAoY29uY2VwdCkuIiwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgIH0NCiAgICBpZihzdGVwPT09Myl7DQogICAgICAvLyBtZWV0IGluIHR1YmUgKGNvbmNlcHQpDQogICAgICBjb25zdCBmeD11eC0zMCwgZnk9dXktMjg7DQogICAgICBkb3QoYyxmeCxmeSw3LCJyZ2JhKDM0LDE5Nyw5NCwwLjg1KSIpOw0KICAgICAgZm9yKGxldCBpPTA7aTwxMDtpKyspIGRvdChjLGZ4KzEwK2kqNixmeS04K01hdGguc2luKGkpKjQsMi4yLCJyZ2JhKDI1MCwyMDQsMjEsMC44KSIpOw0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjgyLCJGZXJ0aWxpc2F0aW9uIGluIG92aWR1Y3QgKGNvbmNlcHQpLiIsMC45LCJyZ2JhKDEzNCwyMzksMTcyLDEpIix0cnVlKTsNCiAgICB9DQogICAgaWYoc3RlcD09PTQpew0KICAgICAgLy8gZW1icnlvIHRvIHV0ZXJ1cyAoY29uY2VwdCkNCiAgICAgIGNvbnN0IHA9KHQqMC4yMiklMTsNCiAgICAgIGNvbnN0IGV4ID0gKHV4LTMwKSArICh1eCAtICh1eC0zMCkpKnA7DQogICAgICBjb25zdCBleSA9ICh1eS0yOCkgKyAoKHV5KzMwKS0odXktMjgpKSpwOw0KICAgICAgc3Ryb2tlRG90KGMsZXgsZXksOCwicmdiYSgzNCwxOTcsOTQsMC4xMCkiLCJyZ2JhKDM0LDE5Nyw5NCwwLjM1KSIsMik7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODIsIkVtYnJ5byByZWFjaGVzIHV0ZXJ1cyBmb3IgaW1wbGFudGF0aW9uIChjb25jZXB0KS4iLDAuOSwicmdiYSgxNjcsMjQzLDIwOCwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAxNCkgSW1wbGFudGF0aW9uICsgcGxhY2VudGEgY29uY2VwdCAqLw0Kc2NlbmVzLmltcGxhbnRhdGlvblBsYWNlbnRhU3RlcHMgPSB7DQogIHN0ZXBzOiA0LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBFbWJyeW8gcmVhY2hlcyB1dGVydXMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBJbXBsYW50YXRpb24gaW4gdXRlcmluZSBsaW5pbmcgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBQbGFjZW50YSBmb3JtcyBmb3IgZXhjaGFuZ2UgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBCYWJ5IGRldmVsb3BzIHdpdGggbnV0cmllbnRzL294eWdlbiBmcm9tIG1vdGhlciAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJJbXBsYW50YXRpb24gKyBwbGFjZW50YSAoY29uY2VwdCkg4oCTIE5leHQgc3RlcCIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQogICAgY29uc3QgdXg9eCtidyowLjUwLCB1eT15K2JoKjAuNTI7DQoNCiAgICAvLyB1dGVydXMgY2F2aXR5DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjQ0LDYzLDk0LDAuMDYpIjsNCiAgICBycihjLHV4LTE3MCx1eS0xMTAsMzQwLDIyMCwyOCk7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ0LDYzLDk0LDAuMjApIjsNCiAgICBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIHRleHQoYyx1eC0yNCx1eS0xMzAsIlV0ZXJ1cyIsMC45LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCg0KICAgIC8vIHV0ZXJpbmUgbGluaW5nDQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDQsNjMsOTQsMC4yMikiOw0KICAgIGMubGluZVdpZHRoPTEwOw0KICAgIHJyKGMsdXgtMTYwLHV5LTEwMCwzMjAsMjAwLDI0KTsNCiAgICBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIHRleHQoYyx1eC0xNTAsdXkrMTMwLCJVdGVyaW5lIGxpbmluZyAoY29uY2VwdCkiLDAuOSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQoNCiAgICAvLyBlbWJyeW8NCiAgICBjb25zdCBleD11eC00MCwgZXk9dXktMjA7DQogICAgc3Ryb2tlRG90KGMsZXgsZXksMTQsInJnYmEoMzQsMTk3LDk0LDAuMTApIiwicmdiYSgzNCwxOTcsOTQsMC4zMCkiLDIpOw0KICAgIHRleHQoYyxleC0yNixleS0yMiwiRW1icnlvIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KDQogICAgaWYoc3RlcD49MSl7DQogICAgICAvLyBpbXBsYW50YXRpb24gaGlnaGxpZ2h0DQogICAgICBjb25zdCBwdWxzZT0wLjUrMC41Kk1hdGguc2luKHQqMy4wKTsNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5nbG9iYWxBbHBoYT0wLjE1KzAuMjUqcHVsc2U7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4zNSkiOw0KICAgICAgcnIoYyxleC0yOCxleS0yOCw1Niw1NiwxOCk7IGMuZmlsbCgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODIsIkltcGxhbnRhdGlvbiA9IGVtYmVkZGluZyBpbiB1dGVyaW5lIGxpbmluZyAoY29uY2VwdCkuIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgLy8gcGxhY2VudGEgcmVnaW9uDQogICAgICBjb25zdCBweD11eCs2MCwgcHk9dXktNjA7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4wOCkiOw0KICAgICAgcnIoYyxweC03MCxweS00MCwxNDAsODAsMTgpOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjIyKSI7IGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICAgIHRleHQoYyxweC0zMixweS01MCwiUGxhY2VudGEiLDAuOSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQoNCiAgICAgIC8vIGV4Y2hhbmdlIGFycm93cw0KICAgICAgYXJyb3coYyxweC04MCxweSxleCsxNCxleSwicmdiYSg1OSwxMzAsMjQ2LDAuMjApIik7DQogICAgICBhcnJvdyhjLGV4KzE0LGV5LHB4LTgwLHB5KzE4LCJyZ2JhKDI0NCw2Myw5NCwwLjE4KSIpOw0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjg2LCJFeGNoYW5nZTogbnV0cmllbnRzL294eWdlbiDihpQgd2FzdGVzIChjb25jZXB0KS4iLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD09PTMpew0KICAgICAgLy8gYmFieSBpY29uIChjb25jZXB0KQ0KICAgICAgY29uc3QgYng9dXgrMjAsIGJ5PXV5KzQwOw0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjEwKSI7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmFyYyhieCxieSwyNiwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgICAgYy5iZWdpblBhdGgoKTsgYy5hcmMoYngtMjAsYnktNiw4LDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLmFyYyhieCsyMCxieS02LDgsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjgyLCJEZXZlbG9wbWVudCBjb250aW51ZXMgaW4gdXRlcnVzIChjb25jZXB0KS4iLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAxNSkgTWVuc3RydWFsIGN5Y2xlIHRpbWVsaW5lIChjb25jZXB0KSAqLw0Kc2NlbmVzLm1lbnN0cnVhbEN5Y2xlVGltZWxpbmUgPSB7DQogIHN0ZXBzOiA0LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBVdGVydXMgcHJlcGFyZXMgbGluaW5nIGZvciBwb3NzaWJsZSBpbXBsYW50YXRpb24gKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBPdnVsYXRpb246IGVnZyByZWxlYXNlZCAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDM6IElmIGZlcnRpbGlzYXRpb24gZG9lcyBub3Qgb2NjdXIg4oaSIGxpbmluZyBicmVha3MgZG93bi4iLA0KICAgICAgIlN0ZXAgNDogTWVuc3RydWF0aW9uID0gc2hlZGRpbmcgb2YgbGluaW5nIHdpdGggYmxvb2QvbXVjdXMgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiTWVuc3RydWFsIGN5Y2xlIChjb25jZXB0IHRpbWVsaW5lKSDigJMgTmV4dCBzdGVwIik7DQoNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCiAgICAvLyB0aW1lbGluZSBsaW5lDQogICAgY29uc3QgdHg9eCs2MCwgdHk9eStiaCowLjU1LCB0dz1idy0xMjA7DQogICAgbGluZShjLHR4LHR5LHR4K3R3LHR5LDYsInJnYmEoMjI2LDIzMiwyNDAsMC4xOCkiKTsNCiAgICB0ZXh0KGMsdHgsdHktMjQsIkN5Y2xlIHRpbWVsaW5lIChjb25jZXB0KSIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCg0KICAgIGNvbnN0IG1hcmtzID0gWw0KICAgICAge3U6MC4xMCwgbGFiZWw6IkxpbmluZyBidWlsZHMifSwNCiAgICAgIHt1OjAuNDUsIGxhYmVsOiJPdnVsYXRpb24ifSwNCiAgICAgIHt1OjAuNzUsIGxhYmVsOiJObyBmZXJ0aWxpc2F0aW9uIn0sDQogICAgICB7dTowLjkyLCBsYWJlbDoiTWVuc3RydWF0aW9uIn0NCiAgICBdOw0KDQogICAgbWFya3MuZm9yRWFjaCgobSxpKT0+ew0KICAgICAgY29uc3QgcHg9dHgrbS51KnR3Ow0KICAgICAgY29uc3QgYWN0aXZlID0gKGk9PT1zdGVwKTsNCiAgICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCoyLjQpOw0KICAgICAgc3Ryb2tlRG90KGMscHgsdHksMTIsIGFjdGl2ZSA/ICJyZ2JhKDI1MCwyMDQsMjEsMC4xMikiIDogInJnYmEoNTksMTMwLDI0NiwwLjA2KSIsDQogICAgICAgIGFjdGl2ZSA/ICJyZ2JhKDI1MCwyMDQsMjEsMC41NSkiIDogInJnYmEoMjI2LDIzMiwyNDAsMC4xOCkiLDIpOw0KICAgICAgdGV4dChjLHB4LTM2LHR5KzM0LG0ubGFiZWwsMC45LCBhY3RpdmUgPyAicmdiYSgyNTMsMjMwLDEzOCwxKSIgOiAicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQogICAgICBpZihhY3RpdmUpew0KICAgICAgICBkb3QoYyxweCx0eS0yMCw0LGByZ2JhKDI1MCwyMDQsMjEsJHswLjM1KzAuNDUqcHVsc2V9KWApOw0KICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy8gdXRlcnVzIGxpbmluZyB0aGlja25lc3MgaWxsdXN0cmF0aW9uDQogICAgY29uc3QgdXg9eCtidyowLjUwLCB1eT15K2JoKjAuMzA7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjQ0LDYzLDk0LDAuMDYpIjsNCiAgICBycihjLHV4LTE2MCx1eS03MCwzMjAsMTQwLDI2KTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDQsNjMsOTQsMC4xOCkiOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIHRleHQoYyx1eC01MCx1eS04NSwiVXRlcnVzIChjb25jZXB0KSIsMC45LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCg0KICAgIGNvbnN0IHRoaWNrbmVzcyA9IFswLjI1LDAuNTUsMC40NSwwLjE4XVtzdGVwXTsNCiAgICBjLnNhdmUoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NCw2Myw5NCwwLjI4KSI7DQogICAgYy5saW5lV2lkdGg9MTArNDAqdGhpY2tuZXNzOw0KICAgIHJyKGMsdXgtMTUwLHV5LTYwLDMwMCwxMjAsMjIpOw0KICAgIGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQoNCiAgICBpZihzdGVwPT09Myl7DQogICAgICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCozLjApOw0KICAgICAgZm9yKGxldCBpPTA7aTwxNjtpKyspew0KICAgICAgICBkb3QoYyx1eC0xMjAraSoxNix1eSs3MCsxMCpNYXRoLnNpbihpKSwzLGByZ2JhKDI0NCw2Myw5NCwkezAuMTUrMC4zNSpwfSlgKTsNCiAgICAgIH0NCiAgICAgIHRleHQoYyx4KzE4LHkrYmgqMC44MiwiU2hlZGRpbmcgc2hvd24gYXMgcmVkIGRyb3BzIChjb25jZXB0KS4iLDAuOSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAxNikgQ29udHJhY2VwdGlvbiArIFNURCAoY2FyZHMpICovDQpzY2VuZXMuY29udHJhY2VwdGlvbkFuZFNURCA9IHsNCiAgc3RlcHM6IDUsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IEdvYWw6IHByZXZlbnQgdW53YW50ZWQgcHJlZ25hbmN5IGFuZCBtYWludGFpbiByZXByb2R1Y3RpdmUgaGVhbHRoIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMjogQmFycmllciBtZXRob2RzIChlLmcuLCBjb25kb20gY29uY2VwdCkgYmxvY2sgc3Blcm0gYW5kIHJlZHVjZSBTVEQgcmlzay4iLA0KICAgICAgIlN0ZXAgMzogSG9ybW9uYWwvY2hlbWljYWwgbWV0aG9kcyAocGlsbHMgY29uY2VwdCkgcHJldmVudCBwcmVnbmFuY3kgKG1heSBoYXZlIHNpZGUgZWZmZWN0cyBjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogSVVEcyAoZS5nLiwgY29wcGVyLVQgY29uY2VwdCkgcGxhY2VkIGluIHV0ZXJ1cyAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDU6IFN1cmdpY2FsIG1ldGhvZHM6IHZhc2VjdG9teS90dWJlY3RvbXkgKGNvbmNlcHQ7IHVzdWFsbHkgcGVybWFuZW50KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMscGxheWluZyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA2LCB5PWgqMC4xNiwgYnc9dyowLjg4LCBiaD1oKjAuNjY7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIkNvbnRyYWNlcHRpb24gKyBTVEQgcHJldmVudGlvbiAoY29uY2VwdCkg4oCTIE5leHQgc3RlcCIpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQoNCiAgICAvLyBzaGllbGQgaWNvbiAoU1REIHByZXZlbnRpb24gY29uY2VwdCkNCiAgICBjb25zdCBzaHg9eCs4MCwgc2h5PXkrOTA7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjEwKSI7DQogICAgYy5iZWdpblBhdGgoKTsNCiAgICBjLm1vdmVUbyhzaHgsc2h5KTsNCiAgICBjLmxpbmVUbyhzaHgrNDAsc2h5KzEwKTsNCiAgICBjLmxpbmVUbyhzaHgrMzUsc2h5KzU1KTsNCiAgICBjLnF1YWRyYXRpY0N1cnZlVG8oc2h4LHNoeSs5NSxzaHgtMzUsc2h5KzU1KTsNCiAgICBjLmxpbmVUbyhzaHgtNDAsc2h5KzEwKTsNCiAgICBjLmNsb3NlUGF0aCgpOw0KICAgIGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjI4KSI7DQogICAgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICB0ZXh0KGMsc2h4LTQyLHNoeSsxMTAsIlNURCByaXNrIOKGkyAoYmFycmllcikiLDAuOSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQoNCiAgICAvLyBjYXJkcw0KICAgIGNvbnN0IGNhcmRzID0gWw0KICAgICAge3RpdGxlOiJCYXJyaWVyIiwgY29sOiJyZ2JhKDM0LDE5Nyw5NCwwLjI4KSIsIGxpbmVzOlsiQmxvY2tzIHNwZXJtIGVudHJ5IiwiSGVscHMgcmVkdWNlIFNURCByaXNrIChjb25jZXB0KSJdfSwNCiAgICAgIHt0aXRsZToiUGlsbHMiLCBjb2w6InJnYmEoMjQ1LDE1OCwxMSwwLjI1KSIsIGxpbmVzOlsiSG9ybW9uYWwgY29udHJvbCAoY29uY2VwdCkiLCJNYXkgaGF2ZSBzaWRlIGVmZmVjdHMgKGNvbmNlcHQpIl19LA0KICAgICAge3RpdGxlOiJJVUQiLCBjb2w6InJnYmEoNTksMTMwLDI0NiwwLjIyKSIsIGxpbmVzOlsiUGxhY2VkIGluIHV0ZXJ1cyAoY29uY2VwdCkiLCJQcmV2ZW50cyBwcmVnbmFuY3kgKGNvbmNlcHQpIl19LA0KICAgICAge3RpdGxlOiJTdXJnZXJ5IiwgY29sOiJyZ2JhKDI0NCw2Myw5NCwwLjE4KSIsIGxpbmVzOlsiVmFzZWN0b215L3R1YmVjdG9teSAoY29uY2VwdCkiLCJVc3VhbGx5IHBlcm1hbmVudCAoY29uY2VwdCkiXX0NCiAgICBdOw0KDQogICAgY29uc3Qgc3RhcnRYPXgrYncqMC4yMCwgc3RhcnRZPXkrYmgqMC4yNDsNCiAgICBjb25zdCBnYXA9MTQ7DQogICAgY29uc3QgY2FyZFc9KGJ3KjAuNzggLSBnYXAqMykvMjsNCiAgICBjb25zdCBjYXJkSD0oYmgqMC42MCAtIGdhcCkvMjsNCg0KICAgIGZ1bmN0aW9uIGRyYXdDYXJkKHB4LHB5LGNhcmQsYWN0aXZlKXsNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC41NSkiOw0KICAgICAgcnIoYyxweCxweSxjYXJkVyxjYXJkSCwxNik7IGMuZmlsbCgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0gYWN0aXZlID8gInJnYmEoMjUwLDIwNCwyMSwwLjYwKSIgOiAicmdiYSgyMjYsMjMyLDI0MCwwLjE2KSI7DQogICAgICBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KDQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjkyKSI7DQogICAgICBjLmZvbnQ9ImJvbGQgMTZweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dChjYXJkLnRpdGxlLCBweCsxNCwgcHkrMjgpOw0KDQogICAgICBycihjLHB4KzE0LHB5KzQwLDEyMCwyMiw5OTkpOw0KICAgICAgYy5maWxsU3R5bGU9Y2FyZC5jb2w7IGMuZmlsbCgpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC45MCkiOw0KICAgICAgYy5mb250PSJib2xkIDExcHggc3lzdGVtLXVpIjsNCiAgICAgIGMuZmlsbFRleHQoIkNvbmNlcHQiLCBweCsyNCwgcHkrNTYpOw0KDQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjgyKSI7DQogICAgICBjLmZvbnQ9IjEycHggc3lzdGVtLXVpIjsNCiAgICAgIGNhcmQubGluZXMuZm9yRWFjaCgoTCxpKT0+IGMuZmlsbFRleHQoIuKAoiAiK0wsIHB4KzE0LCBweSs4NitpKjE4KSk7DQoNCiAgICAgIGlmKGFjdGl2ZSl7DQogICAgICAgIGNvbnN0IHB1bHNlPTAuNSswLjUqTWF0aC5zaW4odCoyLjYpOw0KICAgICAgICBjLmdsb2JhbEFscGhhPTAuMTArMC4yMCpwdWxzZTsNCiAgICAgICAgYy5maWxsU3R5bGU9InJnYmEoMjUwLDIwNCwyMSwwLjM1KSI7DQogICAgICAgIHJyKGMscHgscHksY2FyZFcsY2FyZEgsMTYpOyBjLmZpbGwoKTsNCiAgICAgIH0NCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCg0KICAgIGRyYXdDYXJkKHN0YXJ0WCwgc3RhcnRZLCBjYXJkc1swXSwgc3RlcD09PTEpOw0KICAgIGRyYXdDYXJkKHN0YXJ0WCtjYXJkVytnYXAsIHN0YXJ0WSwgY2FyZHNbMV0sIHN0ZXA9PT0yKTsNCiAgICBkcmF3Q2FyZChzdGFydFgsIHN0YXJ0WStjYXJkSCtnYXAsIGNhcmRzWzJdLCBzdGVwPT09Myk7DQogICAgZHJhd0NhcmQoc3RhcnRYK2NhcmRXK2dhcCwgc3RhcnRZK2NhcmRIK2dhcCwgY2FyZHNbM10sIHN0ZXA9PT00KTsNCg0KICAgIGlmKHN0ZXA9PT0wKXsNCiAgICAgIHRleHQoYyx4KzE4LHkrYmgqMC44MiwiQ2hvb3NlIG1ldGhvZHMgcmVzcG9uc2libHk7IGJhcnJpZXIgbWV0aG9kcyBhbHNvIGhlbHAgcmVkdWNlIFNURCBzcHJlYWQgKGNvbmNlcHQpLiIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIElOSVQNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmZ1bmN0aW9uIGluaXQoKXsNCiAgcmVuZGVyTmF2KCk7DQogIHNlbGVjdFRvcGljKHRvcGljc1swXS5pZCk7DQp9DQppbml0KCk7DQo8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCg=="}, {"id": "ch8", "file": "ch8.html", "title": "Class 10 Science Ch 8 \u2013 Heredity", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDgg4oCTIEhlcmVkaXR5PC90aXRsZT4NCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPg0KICA8c3R5bGU+DQogICAgKnsgYm94LXNpemluZzpib3JkZXItYm94OyB9DQogICAgYm9keXsNCiAgICAgIG1hcmdpbjowOw0KICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwtYXBwbGUtc3lzdGVtLFNlZ29lIFVJLFJvYm90byxBcmlhbCxzYW5zLXNlcmlmOw0KICAgICAgYmFja2dyb3VuZDoNCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KDExMDBweCA2ODBweCBhdCAxOCUgMTAlLCByZ2JhKDU5LDEzMCwyNDYsMC4xOCksIHRyYW5zcGFyZW50IDU1JSksDQogICAgICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA2MjBweCBhdCA4MiUgMTYlLCByZ2JhKDEzOSw5MiwyNDYsMC4xOCksIHRyYW5zcGFyZW50IDYwJSksDQogICAgICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA2MDBweCBhdCA1NSUgMTAwJSwgcmdiYSgyNDUsMTU4LDExLDAuMTQpLCB0cmFuc3BhcmVudCA1NSUpLA0KICAgICAgICBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMDUwODE2IDAlLCAjMWUxYjRiIDEwMCUpOw0KICAgICAgY29sb3I6I2YxZjVmOTsNCiAgICAgIG1pbi1oZWlnaHQ6MTAwdmg7DQogICAgfQ0KICAgIGhlYWRlcnsNCiAgICAgIHBhZGRpbmc6IDE4cHggNXZ3Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkyKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMTApOw0KICAgICAgcG9zaXRpb246IHN0aWNreTsgdG9wOjA7IHotaW5kZXg6IDUwOw0KICAgIH0NCiAgICBoZWFkZXIgaDF7DQogICAgICBtYXJnaW46MCAwIDhweDsNCiAgICAgIGZvbnQtc2l6ZTogY2xhbXAoMS4yNXJlbSwgNHZ3LCAxLjlyZW0pOw0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzNiODJmNiwgIzhiNWNmNiwgIzIyYzU1ZSwgI2Y1OWUwYik7DQogICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDp0ZXh0Ow0KICAgICAgYmFja2dyb3VuZC1jbGlwOnRleHQ7DQogICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjp0cmFuc3BhcmVudDsNCiAgICB9DQogICAgLmNvbnRyb2xzew0KICAgICAgZGlzcGxheTpmbGV4OyBnYXA6MTJweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBmbGV4LXdyYXA6d3JhcDsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl17DQogICAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjQ1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuNzUpOw0KICAgICAgY29sb3I6I2YxZjVmOTsNCiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgIG1pbi13aWR0aDogMjYwcHg7DQogICAgICBvdXRsaW5lOm5vbmU7DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InNlYXJjaCJdOjpwbGFjZWhvbGRlcnsgY29sb3I6Izk0YTNiODsgfQ0KICAgIC5wcm9ncmVzc3sgZm9udC1zaXplOjAuOXJlbTsgY29sb3I6Izk0YTNiODsgfQ0KDQogICAgLmxheW91dHsNCiAgICAgIGRpc3BsYXk6Z3JpZDsNCiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMzUwcHggMWZyOw0KICAgICAgZ2FwOiAxOHB4Ow0KICAgICAgcGFkZGluZzogMThweCA1dncgNjBweDsNCiAgICAgIG1heC13aWR0aDogMTc1MHB4Ow0KICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgfQ0KICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMTAwcHgpeyAubGF5b3V0eyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsgfSB9DQoNCiAgICBuYXZ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTIpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4yNSk7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7DQogICAgICBtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTQwcHgpOw0KICAgICAgb3ZlcmZsb3c6YXV0bzsNCiAgICB9DQogICAgbmF2IGgyew0KICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgbWFyZ2luOiAwIDAgMTJweDsNCiAgICAgIGNvbG9yOiM5M2M1ZmQ7DQogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDVlbTsNCiAgICB9DQogICAgLnRvcGljLWxpbmt7DQogICAgICBkaXNwbGF5OmJsb2NrOw0KICAgICAgcGFkZGluZzogMTBweCAxMnB4Ow0KICAgICAgbWFyZ2luOiA2cHggMDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMThzIGVhc2U7DQogICAgICB1c2VyLXNlbGVjdDpub25lOw0KICAgIH0NCiAgICAudG9waWMtbGluazpob3ZlcnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjEyKTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSg1OSwxMzAsMjQ2LDAuNDApOw0KICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDRweCk7DQogICAgfQ0KICAgIC50b3BpYy1saW5rLmFjdGl2ZXsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzYjgyZjYsICM2MGE1ZmEpOw0KICAgICAgY29sb3I6IzBmMTcyYTsNCiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoNTksMTMwLDI0NiwwLjIyKTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsgLnRhZ3sNCiAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogMnB4IDhweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgZm9udC1zaXplOiAwLjcycmVtOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjM1KTsNCiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7DQogICAgfQ0KDQogICAgbWFpbnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45Mik7DQogICAgICBib3JkZXItcmFkaXVzOiAyMHB4Ow0KICAgICAgcGFkZGluZzogMjJweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjIyKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJveC1zaGFkb3c6IDAgMjJweCA3MHB4IHJnYmEoMCwwLDAsMC40NSk7DQogICAgfQ0KICAgIC5iYWRnZXsNCiAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogNHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43OHJlbTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjQ1LDE1OCwxMSwwLjU1KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjEwKTsNCiAgICAgIGNvbG9yOiAjZmJiZjI0Ow0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICB9DQogICAgbWFpbiBoMnsgbWFyZ2luOiA2cHggMCAwOyBjb2xvcjojZTJlOGYwOyBmb250LXNpemU6IDEuNDhyZW07IH0NCg0KICAgIC5zZWN0aW9ueyBtYXJnaW4tdG9wOiAyMnB4OyB9DQogICAgLnNlY3Rpb24gaDN7DQogICAgICBmb250LXNpemU6IDEuMDhyZW07DQogICAgICBjb2xvcjojYTViNGZjOw0KICAgICAgbWFyZ2luOiAwIDAgMTBweDsNCiAgICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgIzhiNWNmNjsNCiAgICAgIHBhZGRpbmctbGVmdDogMTJweDsNCiAgICB9DQogICAgcCwgbGl7IGNvbG9yOiNlMmU4ZjA7IGZvbnQtc2l6ZTogMC45NnJlbTsgbGluZS1oZWlnaHQ6MS42NTsgfQ0KICAgIHVseyBwYWRkaW5nLWxlZnQ6IDIwcHg7IG1hcmdpbjogMTBweCAwIDA7IH0NCg0KICAgIC52aWRlby1jb250YWluZXJ7DQogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjQwKTsNCiAgICAgIGJhY2tncm91bmQ6ICMwZjE3MmE7DQogICAgICBhc3BlY3QtcmF0aW86IDE2Lzk7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgaWZyYW1leyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTsgYm9yZGVyOjA7IH0NCg0KICAgIC5hbmltLWNvbnRhaW5lcnsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMWUyOTNiIDAlLCAjMGYxNzJhIDEwMCUpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMzksOTIsMjQ2LDAuNDUpOw0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIG1hcmdpbjogMTJweCAwOw0KICAgIH0NCiAgICAuYW5pbS10b29sYmFyew0KICAgICAgZGlzcGxheTpmbGV4Ow0KICAgICAgZmxleC13cmFwOndyYXA7DQogICAgICBnYXA6MTBweDsNCiAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjsNCiAgICAgIGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgIGNvbG9yOiNjNGI1ZmQ7DQogICAgICBmb250LXNpemU6IDAuODhyZW07DQogICAgfQ0KICAgIC5idG5zeyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGZsZXgtd3JhcDp3cmFwOyBhbGlnbi1pdGVtczpjZW50ZXI7IH0NCiAgICBidXR0b257DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEzOSw5MiwyNDYsMC4xNik7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEzOSw5MiwyNDYsMC41NSk7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIHBhZGRpbmc6IDZweCAxNHB4Ow0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICAgIGN1cnNvcjpwb2ludGVyOw0KICAgICAgZm9udC1zaXplOiAwLjgycmVtOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIC4xOHM7DQogICAgfQ0KICAgIGJ1dHRvbjpob3ZlcnsgYmFja2dyb3VuZDogcmdiYSgxMzksOTIsMjQ2LDAuMjgpOyB9DQogICAgYnV0dG9uOmRpc2FibGVkeyBvcGFjaXR5OjAuNTsgY3Vyc29yOm5vdC1hbGxvd2VkOyB9DQoNCiAgICAuc2xpZGVyew0KICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuNik7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuMjUpOw0KICAgICAgcGFkZGluZzogNnB4IDEwcHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGNvbG9yOiNjYmQ1ZTE7DQogICAgICBmb250LXNpemU6IDAuODJyZW07DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InJhbmdlIl17IHdpZHRoOiAxNTBweDsgfQ0KDQogICAgY2FudmFzew0KICAgICAgd2lkdGg6MTAwJTsNCiAgICAgIGhlaWdodDogMzYwcHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjAlLCByZ2JhKDEzOSw5MiwyNDYsMC4xMCksICMwZjE3MmEpOw0KICAgICAgZGlzcGxheTpibG9jazsNCiAgICB9DQogICAgLmNhcHRpb257DQogICAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgICAgcGFkZGluZzogMTBweCAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzQsMTk3LDk0LDAuMDgpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzNCwxOTcsOTQsMC4yMik7DQogICAgICBjb2xvcjojZDFmYWU1Ow0KICAgICAgZm9udC1zaXplOiAwLjkycmVtOw0KICAgICAgbGluZS1oZWlnaHQ6IDEuNTU7DQogICAgfQ0KDQogICAgLm1pbmRtYXB7DQogICAgICBkaXNwbGF5OmdyaWQ7DQogICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIzMHB4LCAxZnIpKTsNCiAgICAgIGdhcDogMTJweDsNCiAgICAgIG1hcmdpbi10b3A6IDEycHg7DQogICAgfQ0KICAgIC5tbS1ub2Rlew0KICAgICAgcGFkZGluZzogMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4xMCk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4yOCk7DQogICAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgfQ0KICAgIC5tbS1ub2RlIHN0cm9uZ3sgY29sb3I6IzkzYzVmZDsgfQ0KDQogICAgLnF1aXp7DQogICAgICBtYXJnaW4tdG9wOiAxOHB4Ow0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjEwKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNmNTllMGI7DQogICAgfQ0KICAgIC5xdWl6LXF1ZXN0aW9ueyBmb250LXdlaWdodDogNzUwOyBtYXJnaW4tYm90dG9tOiAxMHB4OyB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b257DQogICAgICBkaXNwbGF5OmJsb2NrOyB3aWR0aDoxMDAlOw0KICAgICAgbWFyZ2luOiA2cHggMDsNCiAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuMzUpOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjc1KTsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMThzOw0KICAgICAgdGV4dC1hbGlnbjpsZWZ0Ow0KICAgIH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbjpob3ZlcnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjE4KTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSg1OSwxMzAsMjQ2LDAuODApOw0KICAgIH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbi5jb3JyZWN0ew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDUsMTU4LDExLDAuOTUpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDIxNywxMTksNiwxKTsNCiAgICAgIGNvbG9yOiMxMTE4Mjc7DQogICAgICBmb250LXdlaWdodDogODUwOw0KICAgIH0NCiAgICAucXVpei1leHBsYWluew0KICAgICAgZGlzcGxheTpub25lOw0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjEyKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgICBjb2xvcjojZmRlNjhhOw0KICAgICAgZm9udC1zaXplOiAwLjkycmVtOw0KICAgIH0NCiAgICBheyBjb2xvcjojNjBhNWZhOyB0ZXh0LWRlY29yYXRpb246bm9uZTsgfQ0KICAgIGE6aG92ZXJ7IHRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7IH0NCiAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KPGhlYWRlcj4NCiAgPGgxPkhlcmVkaXR5IOKAkyBDbGFzcyAxMCAoQ2hhcHRlciA4KTwvaDE+DQogIDxkaXYgY2xhc3M9ImNvbnRyb2xzIj4NCiAgICA8aW5wdXQgdHlwZT0ic2VhcmNoIiBpZD0ic2VhcmNoSW5wdXQiIHBsYWNlaG9sZGVyPSJTZWFyY2g6IGdlbmUsIGFsbGVsZSwgZ2Vub3R5cGUsIHBoZW5vdHlwZSwgbW9ub2h5YnJpZCwgbGF3IG9mIHNlZ3JlZ2F0aW9uLCBYWS4uLiIgLz4NCiAgICA8c3BhbiBjbGFzcz0icHJvZ3Jlc3MiPlByb2dyZXNzOiA8c3BhbiBpZD0icHJvZ0NvdW50Ij4wPC9zcGFuPi88c3BhbiBpZD0idG90YWxDb3VudCI+MDwvc3Bhbj4gdG9waWNzPC9zcGFuPg0KICA8L2Rpdj4NCjwvaGVhZGVyPg0KDQo8ZGl2IGNsYXNzPSJsYXlvdXQiPg0KICA8bmF2Pg0KICAgIDxoMj5DaGFwdGVyIDggVG9waWNzPC9oMj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0xpc3QiPjwvZGl2Pg0KICA8L25hdj4NCg0KICA8bWFpbj4NCiAgICA8ZGl2IGlkPSJ0b3BpY0NvbnRlbnQiPjwvZGl2Pg0KICA8L21haW4+DQo8L2Rpdj4NCg0KPHNjcmlwdD4NCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFZJREVPIChTdW5saWtlIFN0dWR5KQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3QgY2g4VmlkZW8gPSB7DQogIHl0V2F0Y2g6ICJodHRwczovL3lvdXR1LmJlL1gtU0pmQVNsc1dBIiwNCiAgZW1iZWQ6ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9YLVNKZkFTbHNXQSINCn07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFRPUElDUyAoSGVyZWRpdHktZm9jdXNlZCkNCiAgIChFdm9sdXRpb24gcGFydCByZW1vdmVkIGZvciBDQlNFIDIwMjUtMjY6IGtlZXAgaGVyZWRpdHkgb25seSkNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljcyA9IFsNCiAgew0KICAgIGlkOiJ2YXJpYXRpb24iLA0KICAgIHRpdGxlOiJWYXJpYXRpb246IG1lYW5pbmcgKyB3aHkgaXQgbWF0dGVycyIsDQogICAgdHlwZToiQmFzaWNzIiwNCiAgICB2aWRlb1RpbWU6IjAwOjI24oCTMDI6NTAiLA0KICAgIGFuaW1hdGlvblR5cGU6InZhcmlhdGlvblBvcHVsYXRpb24iLA0KICAgIGNvcmVOb3RlczoiVmFyaWF0aW9uIG1lYW5zIGRpZmZlcmVuY2VzIGluIHRyYWl0cyBhbW9uZyBpbmRpdmlkdWFscy4gVmFyaWF0aW9ucyBjYW4gYXJpc2UgZHVyaW5nIHJlcHJvZHVjdGlvbiBiZWNhdXNlIEROQSBjb3B5aW5nIGlzIG5vdCAxMDAlIGFjY3VyYXRlLCBhbmQgdGhleSBjYW4gaGVscCBzdXJ2aXZhbCBpbiBjaGFuZ2luZyBjb25kaXRpb25zLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJTZXh1YWwgcmVwcm9kdWN0aW9uIGdlbmVyYWxseSBjcmVhdGVzIG1vcmUgdmFyaWF0aW9uIHRoYW4gYXNleHVhbCByZXByb2R1Y3Rpb24uIiwNCiAgICAgICJWYXJpYXRpb24gY2FuIGhlbHAgYSBzcGVjaWVzIHN1cnZpdmUgaWYgdGhlIGVudmlyb25tZW50IGNoYW5nZXMuIiwNCiAgICAgICJIZXJlZGl0eSBleHBsYWlucyBob3cgdHJhaXRzIGFyZSBwYXNzZWQgdG8gb2Zmc3ByaW5nLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiMuKAkzMgbWFya3M6IGRlZmluZSB2YXJpYXRpb24gYW5kIHdyaXRlIDIgcmVhc29ucyB3aHkgaXQgaXMgaW1wb3J0YW50LiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiVmFyaWF0aW9uIG1haW5seSBoZWxwcyBhIHBvcHVsYXRpb24gdG86IiwNCiAgICAgIG9wdGlvbnM6WyJCZWNvbWUgaWRlbnRpY2FsIiwiU3Vydml2ZSBjaGFuZ2luZyBlbnZpcm9ubWVudCIsIlN0b3AgcmVwcm9kdWN0aW9uIiwiUmVtb3ZlIEROQSJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiVmFyaWF0aW9uIGNhbiBpbmNyZWFzZSBzdXJ2aXZhbCBjaGFuY2VzIHdoZW4gY29uZGl0aW9ucyBjaGFuZ2UuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6ImhlcmVkaXR5LWluaGVyaXRlZC1hY3F1aXJlZCIsDQogICAgdGl0bGU6IkhlcmVkaXR5ICsgaW5oZXJpdGVkIHZzIGFjcXVpcmVkIHRyYWl0cyIsDQogICAgdHlwZToiQmFzaWNzIiwNCiAgICB2aWRlb1RpbWU6IjAyOjUw4oCTMDU6MDUiLA0KICAgIGFuaW1hdGlvblR5cGU6ImluaGVyaXRlZFZzQWNxdWlyZWQiLA0KICAgIGNvcmVOb3RlczoiSGVyZWRpdHkgaXMgdGhlIHRyYW5zbWlzc2lvbiBvZiB0cmFpdHMgZnJvbSBwYXJlbnRzIHRvIG9mZnNwcmluZy4gSW5oZXJpdGVkIHRyYWl0cyBhcmUgY29udHJvbGxlZCBieSBnZW5lcyBhbmQgcGFzc2VkIHZpYSBnYW1ldGVzLCB3aGlsZSBhY3F1aXJlZCB0cmFpdHMgYXJlIGRldmVsb3BlZCBkdXJpbmcgbGlmZSBhbmQgYXJlIG5vdCBpbmhlcml0ZWQgKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJJbmhlcml0ZWQgdHJhaXRzOiBleWUgY29sb3IsIGJsb29kIGdyb3VwIChjb25jZXB0IGV4YW1wbGVzKS4iLA0KICAgICAgIkFjcXVpcmVkIHRyYWl0czogbGVhcm5pbmcgc2tpbGxzIChzd2ltbWluZy9jeWNsaW5nIGNvbmNlcHQpLiIsDQogICAgICAiR2VuZXMgYXJlIHVuaXRzIG9mIGhlcmVkaXR5IG9uIEROQS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkNvbW1vbiAyLW1hcms6IGRpZmZlcmVuY2UgYmV0d2VlbiBpbmhlcml0ZWQgYW5kIGFjcXVpcmVkIHRyYWl0cyB3aXRoIGV4YW1wbGUuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJXaGljaCBpcyBhbiBpbmhlcml0ZWQgdHJhaXQgKGNvbmNlcHQpPyIsDQogICAgICBvcHRpb25zOlsiQ3ljbGluZyBza2lsbCIsIlN3aW1taW5nIHNraWxsIiwiRXllIGNvbG9yIiwiTXVzY2xlIGJ5IGV4ZXJjaXNlIl0sDQogICAgICBjb3JyZWN0OjIsDQogICAgICBleHBsYWluOiJFeWUgY29sb3IgaXMgY29udHJvbGxlZCBieSBnZW5lcyAoY29uY2VwdCkuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6ImdlbmVzLWFsbGVsZXMtdGVybXMiLA0KICAgIHRpdGxlOiJLZXkgdGVybXM6IGdlbmUsIGFsbGVsZSwgZ2Vub3R5cGUsIHBoZW5vdHlwZSwgaG9tb3p5Z291cywgaGV0ZXJvenlnb3VzIiwNCiAgICB0eXBlOiJUZXJtaW5vbG9neSIsDQogICAgdmlkZW9UaW1lOiIwNTowNeKAkzA4OjIwIiwNCiAgICBhbmltYXRpb25UeXBlOiJ0ZXJtc0J1aWxkZXIiLA0KICAgIGNvcmVOb3RlczoiQSBnZW5lIGlzIGEgdW5pdCBvZiBoZXJlZGl0eS4gQWxsZWxlcyBhcmUgYWx0ZXJuYXRpdmUgZm9ybXMgb2YgdGhlIHNhbWUgZ2VuZS4gR2Vub3R5cGUgaXMgdGhlIGFsbGVsZSBjb21iaW5hdGlvbiAoVFQsIFR0LCB0dCksIGFuZCBwaGVub3R5cGUgaXMgdGhlIG9ic2VydmFibGUgdHJhaXQgKHRhbGwvZHdhcmYpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJEb21pbmFudCBhbGxlbGUgZXhwcmVzc2VzIGV2ZW4gaW4gaGV0ZXJvenlnb3VzIChUdCkuIiwNCiAgICAgICJSZWNlc3NpdmUgZXhwcmVzc2VzIG9ubHkgd2hlbiBib3RoIGFsbGVsZXMgYXJlIHJlY2Vzc2l2ZSAodHQpLiIsDQogICAgICAiSG9tb3p5Z291czogVFQgb3IgdHQ7IGhldGVyb3p5Z291czogVHQuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJXcml0ZSBkZWZpbml0aW9ucyBvZiBnZW5vdHlwZS9waGVub3R5cGUgKyBvbmUgZXhhbXBsZSBlYWNoLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiUGhlbm90eXBlIHJlZmVycyB0bzoiLA0KICAgICAgb3B0aW9uczpbIkROQSBvbmx5IiwiT2JzZXJ2YWJsZSB0cmFpdHMiLCJPbmx5IGFsbGVsZXMiLCJPbmx5IGNocm9tb3NvbWVzIGNvdW50Il0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJQaGVub3R5cGUgaXMgd2hhdCBpcyBvYnNlcnZlZCAoYXBwZWFyYW5jZS90cmFpdCkuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6Im1lbmRlbC13aHktcGVhIiwNCiAgICB0aXRsZToiTWVuZGVsICsgd2h5IHBlYSBwbGFudCB3YXMgdXNlZCIsDQogICAgdHlwZToiTWVuZGVsIiwNCiAgICB2aWRlb1RpbWU6IjA4OjIw4oCTMTA6MDAiLA0KICAgIGFuaW1hdGlvblR5cGU6InBlYVJlYXNvbnMiLA0KICAgIGNvcmVOb3RlczoiR3JlZ29yIE1lbmRlbCBwZXJmb3JtZWQgZXhwZXJpbWVudHMgb24gcGVhIHBsYW50cyBiZWNhdXNlIHRoZXkgaGF2ZSBjbGVhciBjb250cmFzdGluZyB0cmFpdHMsIGNhbiBzZWxmLXBvbGxpbmF0ZSwgYW5kIGNhbiBiZSBjcm9zcy1wb2xsaW5hdGVkIGVhc2lseSAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIk1hbnkgY2xlYXJseSB2aXNpYmxlIGNvbnRyYXN0aW5nIGNoYXJhY3RlcnMgKGUuZy4sIHRhbGwvZHdhcmY7IHJvdW5kL3dyaW5rbGVkKS4iLA0KICAgICAgIlNob3J0IGxpZmUgY3ljbGUgaGVscHMgc3R1ZHkgZ2VuZXJhdGlvbnMgZmFzdGVyIChjb25jZXB0KS4iLA0KICAgICAgIlNlbGYtcG9sbGluYXRpb24gbWFpbnRhaW5zIHB1cmUgbGluZXM7IG1hbnVhbCBjcm9zcy1wb2xsaW5hdGlvbiBpcyBlYXN5LiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiVmVyeSBjb21tb24gMy1tYXJrOiB3aHkgTWVuZGVsIHNlbGVjdGVkIHBlYSBwbGFudCAoYW55IDMgcG9pbnRzKS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246Ik9uZSByZWFzb24gTWVuZGVsIHVzZWQgcGVhIHBsYW50cyBpczoiLA0KICAgICAgb3B0aW9uczpbIlRoZXkgaGF2ZSBubyB0cmFpdHMiLCJUaGV5IHNob3cgY2xlYXIgY29udHJhc3RpbmcgdHJhaXRzIiwiVGhleSBjYW5ub3QgYmUgY3Jvc3NlZCIsIlRoZXkgbGl2ZSBmb3IgMjAwIHllYXJzIl0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJDb250cmFzdGluZyB0cmFpdHMgYXJlIGVhc3kgdG8gb2JzZXJ2ZSBhbmQgY291bnQuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6ImRvbWluYW50LXJlY2Vzc2l2ZSIsDQogICAgdGl0bGU6IkRvbWluYW50IHZzIHJlY2Vzc2l2ZSAoaWRlYSB0aHJvdWdoIGV4YW1wbGUpIiwNCiAgICB0eXBlOiJNZW5kZWwiLA0KICAgIHZpZGVvVGltZToiMTA6MDDigJMxMjowMCIsDQogICAgYW5pbWF0aW9uVHlwZToiZG9taW5hbnRSZWNlc3NpdmVSZXZlYWwiLA0KICAgIGNvcmVOb3RlczoiSW4gYSBwYWlyIG9mIGNvbnRyYXN0aW5nIHRyYWl0cywgdGhlIGRvbWluYW50IHRyYWl0IGV4cHJlc3NlcyBpbiBGMSBnZW5lcmF0aW9uLCB3aGlsZSB0aGUgcmVjZXNzaXZlIHRyYWl0IGNhbiByZW1haW4gaGlkZGVuIGFuZCByZWFwcGVhciBpbiBGMiBnZW5lcmF0aW9uLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJEb21pbmFudDogZXhwcmVzc2VkIGluIGhldGVyb3p5Z291cyBjb25kaXRpb24uIiwNCiAgICAgICJSZWNlc3NpdmU6IGV4cHJlc3NlZCBvbmx5IGluIGhvbW96eWdvdXMgcmVjZXNzaXZlLiIsDQogICAgICAiRjEgb2Z0ZW4gc2hvd3Mgb25seSBkb21pbmFudCB0cmFpdCAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJJZiBhc2tlZDogd2h5IHJlY2Vzc2l2ZSB0cmFpdCBub3Qgc2VlbiBpbiBGMT8gQmVjYXVzZSBkb21pbmFudCBtYXNrcyBpdCBpbiBoZXRlcm96eWdvdXMuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJBIHJlY2Vzc2l2ZSB0cmFpdCBhcHBlYXJzIGluOiIsDQogICAgICBvcHRpb25zOlsiVFQgb25seSIsIlR0IGFsd2F5cyIsInR0IGNvbmRpdGlvbiIsIkFueSBjb25kaXRpb24iXSwNCiAgICAgIGNvcnJlY3Q6MiwNCiAgICAgIGV4cGxhaW46IlJlY2Vzc2l2ZSB0cmFpdCBleHByZXNzZXMgb25seSB3aGVuIGJvdGggYWxsZWxlcyBhcmUgcmVjZXNzaXZlLiINCiAgICB9DQogIH0sDQoNCiAgew0KICAgIGlkOiJtb25vaHlicmlkIiwNCiAgICB0aXRsZToiTW9ub2h5YnJpZCBjcm9zcyAoUHVubmV0dCBzcXVhcmUpICsgcmF0aW9zIiwNCiAgICB0eXBlOiJNZW5kZWwiLA0KICAgIHZpZGVvVGltZToiMTI6MDDigJMxNTo0MCIsDQogICAgYW5pbWF0aW9uVHlwZToibW9ub2h5YnJpZFB1bm5ldHQiLA0KICAgIGNvcmVOb3RlczoiTW9ub2h5YnJpZCBjcm9zcyBpbnZvbHZlcyBvbmUgcGFpciBvZiBjb250cmFzdGluZyB0cmFpdHMuIEV4YW1wbGU6IFRUICh0YWxsKSDDlyB0dCAoZHdhcmYpIGdpdmVzIEYxIGFsbCBUdCAodGFsbCkuIEYxIHNlbGZpbmcgZ2l2ZXMgRjIgZ2Vub3R5cGljIHJhdGlvIDE6MjoxIGFuZCBwaGVub3R5cGljIHJhdGlvIDM6MSAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIlAgZ2VuZXJhdGlvbjogcHVyZSB0YWxsIChUVCkgw5cgcHVyZSBkd2FyZiAodHQpLiIsDQogICAgICAiRjE6IGFsbCB0YWxsIChUdCkgYmVjYXVzZSBUIGlzIGRvbWluYW50LiIsDQogICAgICAiRjI6IGdlbm90eXBlIDEgVFQgOiAyIFR0IDogMSB0dDsgcGhlbm90eXBlIDMgdGFsbCA6IDEgZHdhcmYgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiSGlnaCBzY29yaW5nOiBkcmF3IFB1bm5ldHQgc3F1YXJlIGZvciBUdCDDlyBUdCBhbmQgd3JpdGUgYm90aCByYXRpb3MuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJJbiBtb25vaHlicmlkIEYyLCBwaGVub3R5cGljIHJhdGlvIGlzIChjb25jZXB0KToiLA0KICAgICAgb3B0aW9uczpbIjE6MSIsIjM6MSIsIjk6MzozOjEiLCIxOjI6MSJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiTW9ub2h5YnJpZCBGMiBwaGVub3R5cGUgaXMgMyBkb21pbmFudCA6IDEgcmVjZXNzaXZlIChjb25jZXB0KS4iDQogICAgfQ0KICB9LA0KDQogIHsNCiAgICBpZDoiZGloeWJyaWQiLA0KICAgIHRpdGxlOiJEaWh5YnJpZCBjcm9zcyAoY29uY2VwdCkgKyBpbmRlcGVuZGVudCBhc3NvcnRtZW50IGlkZWEiLA0KICAgIHR5cGU6Ik1lbmRlbCIsDQogICAgdmlkZW9UaW1lOiIxNTo0MOKAkzE3OjIwIiwNCiAgICBhbmltYXRpb25UeXBlOiJkaWh5YnJpZENvbmNlcHRHcmlkIiwNCiAgICBjb3JlTm90ZXM6IkRpaHlicmlkIGNyb3NzIHN0dWRpZXMgdHdvIHRyYWl0cyB0b2dldGhlciAoZS5nLiwgc2VlZCBzaGFwZSBhbmQgc2VlZCBjb2xvcikuIEl0IHN1cHBvcnRzIHRoZSBpZGVhIHRoYXQgYWxsZWxlcyBvZiBkaWZmZXJlbnQgZ2VuZXMgYXNzb3J0IGluZGVwZW5kZW50bHkgKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJUd28gcGFpcnMgb2YgY29udHJhc3RpbmcgdHJhaXRzIHN0dWRpZWQgdG9nZXRoZXIuIiwNCiAgICAgICJGMSBzaG93cyBib3RoIGRvbWluYW50IHRyYWl0cyAoY29uY2VwdCkuIiwNCiAgICAgICJGMiBzaG93cyBuZXcgY29tYmluYXRpb25zIChjb25jZXB0IGV2aWRlbmNlIGZvciBpbmRlcGVuZGVudCBhc3NvcnRtZW50KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IklmIHlvdXIgdGVhY2hlciBzYXlzIDk6MzozOjEgaXMgbm90IG5lZWRlZCwganVzdCB3cml0ZTogbmV3IGNvbWJpbmF0aW9ucyBhcHBlYXIgZHVlIHRvIGluZGVwZW5kZW50IGFzc29ydG1lbnQuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJEaWh5YnJpZCBjcm9zcyBpbnZvbHZlczoiLA0KICAgICAgb3B0aW9uczpbIk9uZSB0cmFpdCIsIlR3byB0cmFpdHMiLCJUaHJlZSB0cmFpdHMiLCJObyBnZW5lcyJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiRGloeWJyaWQgPSB0d28gdHJhaXRzIHN0dWRpZWQgdG9nZXRoZXIuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6Im1lbmRlbC1sYXdzIiwNCiAgICB0aXRsZToiTWVuZGVs4oCZcyBsYXdzIChkb21pbmFuY2UsIHNlZ3JlZ2F0aW9uLCBpbmRlcGVuZGVudCBhc3NvcnRtZW50KSIsDQogICAgdHlwZToiTWVuZGVsIiwNCiAgICB2aWRlb1RpbWU6IjE3OjIw4oCTMjA6MjAiLA0KICAgIGFuaW1hdGlvblR5cGU6Im1lbmRlbExhd3NDYXJkcyIsDQogICAgY29yZU5vdGVzOiJNZW5kZWwgcHJvcG9zZWQgbGF3cyB0byBleHBsYWluIGluaGVyaXRhbmNlOiBkb21pbmFuY2UgKG9uZSB0cmFpdCBtYXNrcyBhbm90aGVyKSwgc2VncmVnYXRpb24gKGFsbGVsZXMgc2VwYXJhdGUgZHVyaW5nIGdhbWV0ZSBmb3JtYXRpb24pLCBhbmQgaW5kZXBlbmRlbnQgYXNzb3J0bWVudCAoZGlmZmVyZW50IGdlbmUgcGFpcnMgYXNzb3J0IGluZGVwZW5kZW50bHkpIChjb25jZXB0KS4iLA0KICAgIHBvaW50czpbDQogICAgICAiTGF3IG9mIGRvbWluYW5jZSBleHBsYWlucyBGMSBkb21pbmFudCBleHByZXNzaW9uLiIsDQogICAgICAiTGF3IG9mIHNlZ3JlZ2F0aW9uOiBnYW1ldGUgZ2V0cyBvbmx5IG9uZSBhbGxlbGUgZnJvbSBhIHBhaXIuIiwNCiAgICAgICJMYXcgb2YgaW5kZXBlbmRlbnQgYXNzb3J0bWVudDogYWxsZWxlcyBvZiBkaWZmZXJlbnQgZ2VuZXMgc2VwYXJhdGUgaW5kZXBlbmRlbnRseSAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJXcml0ZSBlYWNoIGxhdyBpbiAxIGxpbmUgKyBvbmUgc3VwcG9ydGluZyBleGFtcGxlIChUdCBnYW1ldGVzOiBUIGFuZCB0KS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IlNlZ3JlZ2F0aW9uIG1lYW5zOiIsDQogICAgICBvcHRpb25zOlsiQWxsZWxlcyBzdGF5IHRvZ2V0aGVyIGluIGdhbWV0ZXMiLCJHYW1ldGVzIGdldCBvbmx5IG9uZSBhbGxlbGUgb2YgYSBnZW5lIiwiT25seSBkb21pbmFudCBhbGxlbGVzIHBhc3MiLCJPbmx5IHJlY2Vzc2l2ZSBhbGxlbGVzIHBhc3MiXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IkFsbGVsZXMgc2VwYXJhdGUgZHVyaW5nIGdhbWV0ZSBmb3JtYXRpb247IGVhY2ggZ2FtZXRlIGdldHMgb25lIGFsbGVsZS4iDQogICAgfQ0KICB9LA0KDQogIHsNCiAgICBpZDoidHJhaXRzLWV4cHJlc3NlZCIsDQogICAgdGl0bGU6IkhvdyBkbyB0cmFpdHMgZ2V0IGV4cHJlc3NlZD8gKEdlbmUg4oaSIHByb3RlaW4g4oaSIHRyYWl0KSIsDQogICAgdHlwZToiQ29uY2VwdCIsDQogICAgdmlkZW9UaW1lOiIyMDoyMOKAkzIyOjEwIiwNCiAgICBhbmltYXRpb25UeXBlOiJnZW5lVG9Qcm90ZWluIiwNCiAgICBjb3JlTm90ZXM6IkdlbmVzIChETkEpIGNhcnJ5IGluZm9ybWF0aW9uIHRvIG1ha2UgcHJvdGVpbnMuIFByb3RlaW5zIGFmZmVjdCBzdHJ1Y3R1cmUvZnVuY3Rpb24gKGVuenltZXMsIGhvcm1vbmVzKSwgYW5kIHRoaXMgcmVzdWx0cyBpbiBvYnNlcnZhYmxlIHRyYWl0cyAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIkdlbmUgaXMgYSBETkEgc2VnbWVudCBjb2RpbmcgZm9yIGEgcHJvdGVpbi4iLA0KICAgICAgIlByb3RlaW4gZnVuY3Rpb24gY2FuIGluZmx1ZW5jZSB0cmFpdHMgKGUuZy4sIGVuenltZSBlZmZpY2llbmN5IGNvbmNlcHQpLiIsDQogICAgICAiRGlmZmVyZW50IGFsbGVsZXMgY2FuIG1ha2UgZGlmZmVyZW50IHByb3RlaW4gdmVyc2lvbnMgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiMiBtYXJrczogd3JpdGUg4oCYZ2VuZSBjb2RlcyBmb3IgcHJvdGVpbjsgcHJvdGVpbiBjb250cm9scyB0cmFpdOKAmSB3aXRoIGFuIGV4YW1wbGUgbGluZS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IkdlbmVzIGNvbnRyb2wgdHJhaXRzIG1haW5seSBieToiLA0KICAgICAgb3B0aW9uczpbIk1ha2luZyBibG9vZCBkaXJlY3RseSIsIkNvZGluZyBmb3IgcHJvdGVpbnMiLCJTdG9wcGluZyBjZWxsIGRpdmlzaW9uIiwiRGVzdHJveWluZyBjaHJvbW9zb21lcyJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiR2VuZXMgcHJvdmlkZSBpbnN0cnVjdGlvbnMgdG8gbWFrZSBwcm90ZWlucyB0aGF0IGFmZmVjdCB0cmFpdHMuIg0KICAgIH0NCiAgfSwNCg0KICB7DQogICAgaWQ6InNleC1kZXRlcm1pbmF0aW9uIiwNCiAgICB0aXRsZToiU2V4IGRldGVybWluYXRpb24gaW4gaHVtYW5zIChYWC9YWSkgKyB3aHkgZmF0aGVyIGRlY2lkZXMiLA0KICAgIHR5cGU6IkhpZ2gteWllbGQiLA0KICAgIHZpZGVvVGltZToiMjI6MTDigJNlbmQiLA0KICAgIGFuaW1hdGlvblR5cGU6InNleERldGVybWluYXRpb25YWSIsDQogICAgY29yZU5vdGVzOiJIdW1hbnMgaGF2ZSAyMyBwYWlycyBvZiBjaHJvbW9zb21lcyAoNDYgdG90YWwpLiBGZW1hbGVzIGFyZSBYWCBhbmQgbWFsZXMgYXJlIFhZLiBUaGUgbW90aGVy4oCZcyBlZ2cgYWx3YXlzIHByb3ZpZGVzIFgsIHdoaWxlIHRoZSBmYXRoZXLigJlzIHNwZXJtIHByb3ZpZGVzIFggb3IgWSwgc28gc2V4IG9mIHRoZSBjaGlsZCBkZXBlbmRzIG9uIHRoZSBzcGVybSAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIkF1dG9zb21lczogMjIgcGFpcnMgc2FtZSBpbiBtYWxlcyBhbmQgZmVtYWxlcyAoY29uY2VwdCkuIiwNCiAgICAgICJTZXggY2hyb21vc29tZXM6IG9uZSBwYWlyIChYWCBmZW1hbGU7IFhZIG1hbGUpLiIsDQogICAgICAiWC1zcGVybSArIFgtZWdnIOKGkiBYWCAoZmVtYWxlKTsgWS1zcGVybSArIFgtZWdnIOKGkiBYWSAobWFsZSkgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiVmVyeSBjb21tb24gMy1tYXJrOiBkcmF3IFgvWSBjcm9zcyAoUHVubmV0dCkgYW5kIGNvbmNsdWRlIHdoeSBmYXRoZXIgZGV0ZXJtaW5lcyBzZXguIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJJbiBodW1hbnMsIHNleCBvZiB0aGUgY2hpbGQgZGVwZW5kcyBvbjoiLA0KICAgICAgb3B0aW9uczpbIk1vdGhlciBvbmx5IiwiRmF0aGVyIG9ubHkgKFggb3IgWSBzcGVybSkiLCJDbGltYXRlIG9ubHkiLCJGb29kIG9ubHkiXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IkVnZyBhbHdheXMgZ2l2ZXMgWDsgc3Blcm0gY2FuIGdpdmUgWCBvciBZIChjb25jZXB0KS4iDQogICAgfQ0KICB9DQpdOw0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBVSQ0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3QgdG9waWNMaXN0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNMaXN0Iik7DQpjb25zdCB0b3BpY0NvbnRlbnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3BpY0NvbnRlbnQiKTsNCmNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlYXJjaElucHV0Iik7DQpjb25zdCBwcm9nQ291bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9nQ291bnQiKTsNCmNvbnN0IHRvdGFsQ291bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3RhbENvdW50Iik7DQoNCnRvdGFsQ291bnRFbC50ZXh0Q29udGVudCA9IHRvcGljcy5sZW5ndGg7DQoNCmxldCBjdXJyZW50VG9waWNJZCA9IHRvcGljc1swXS5pZDsNCmxldCBjb21wbGV0ZWRUb3BpY3MgPSBuZXcgU2V0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNoOC1jb21wbGV0ZWQiKSB8fCAiW10iKSk7DQoNCmZ1bmN0aW9uIHJlbmRlck5hdihmaWx0ZXI9IiIpew0KICB0b3BpY0xpc3RFbC5pbm5lckhUTUwgPSAiIjsNCiAgY29uc3QgcSA9IGZpbHRlci50cmltKCkudG9Mb3dlckNhc2UoKTsNCiAgY29uc3QgZmlsdGVyZWQgPSB0b3BpY3MuZmlsdGVyKHQgPT4NCiAgICB0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LnR5cGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fA0KICAgIHQuY29yZU5vdGVzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LnBvaW50cy5qb2luKCIgIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKQ0KICApOw0KDQogIGZpbHRlcmVkLmZvckVhY2goKHQsIGlkeCkgPT4gew0KICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICBpdGVtLmNsYXNzTmFtZSA9ICJ0b3BpYy1saW5rIiArICh0LmlkID09PSBjdXJyZW50VG9waWNJZCA/ICIgYWN0aXZlIiA6ICIiKTsNCiAgICBpdGVtLmlubmVySFRNTCA9IGAke2lkeCsxfS4gJHt0LnRpdGxlfTxzcGFuIGNsYXNzPSJ0YWciPiR7dC50eXBlfTwvc3Bhbj5gOw0KICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBzZWxlY3RUb3BpYyh0LmlkKSk7DQogICAgdG9waWNMaXN0RWwuYXBwZW5kQ2hpbGQoaXRlbSk7DQogIH0pOw0KDQogIHByb2dDb3VudEVsLnRleHRDb250ZW50ID0gY29tcGxldGVkVG9waWNzLnNpemU7DQp9DQoNCmZ1bmN0aW9uIHNlbGVjdFRvcGljKGlkKXsNCiAgY29uc3QgdG9waWMgPSB0b3BpY3MuZmluZCh4ID0+IHguaWQgPT09IGlkKTsNCiAgaWYoIXRvcGljKSByZXR1cm47DQogIGN1cnJlbnRUb3BpY0lkID0gaWQ7DQogIGNvbXBsZXRlZFRvcGljcy5hZGQoaWQpOw0KICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2g4LWNvbXBsZXRlZCIsIEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oY29tcGxldGVkVG9waWNzKSkpOw0KICByZW5kZXJUb3BpYyh0b3BpYyk7DQogIHJlbmRlck5hdihzZWFyY2hJbnB1dC52YWx1ZSk7DQp9DQoNCmZ1bmN0aW9uIHJlbmRlclRvcGljKHRvcGljKXsNCiAgdG9waWNDb250ZW50RWwuaW5uZXJIVE1MID0gYA0KICAgIDxkaXY+DQogICAgICA8ZGl2IGNsYXNzPSJiYWRnZSI+JHt0b3BpYy50eXBlfTwvZGl2Pg0KICAgICAgPGgyPiR7dG9waWMudGl0bGV9PC9oMj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn5OWIE5vdGVzIChIZXJlZGl0eS1vbmx5KTwvaDM+DQogICAgICAgIDxwPiR7dG9waWMuY29yZU5vdGVzfTwvcD4NCiAgICAgICAgPHVsPiR7dG9waWMucG9pbnRzLm1hcChwPT5gPGxpPiR7cH08L2xpPmApLmpvaW4oIiIpfTwvdWw+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0idmlkZW8tY29udGFpbmVyIj4NCiAgICAgICAgICA8aWZyYW1lDQogICAgICAgICAgICBzcmM9IiR7Y2g4VmlkZW8uZW1iZWR9Ig0KICAgICAgICAgICAgYWxsb3c9ImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSINCiAgICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbg0KICAgICAgICAgID48L2lmcmFtZT4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiM5M2M1ZmQ7Zm9udC1zaXplOjAuOXJlbTsiPg0KICAgICAgICAgIFN1bmxpa2UgU3R1ZHkgdmlkZW86IDxhIGhyZWY9IiR7Y2g4VmlkZW8ueXRXYXRjaH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj4ke3RvcGljLnZpZGVvVGltZX08L2E+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+OrCBCZXR0ZXIgQW5pbWF0aW9uIChzdGVwLWJ5LXN0ZXApPC9oMz4NCiAgICAgICAgPGRpdiBjbGFzcz0iYW5pbS1jb250YWluZXIiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImFuaW0tdG9vbGJhciI+DQogICAgICAgICAgICA8ZGl2PkFuaW1hdGlvbjogPHN0cm9uZz4ke3RvcGljLmFuaW1hdGlvblR5cGV9PC9zdHJvbmc+PC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJidG5zIj4NCiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5QbGF5IiBvbmNsaWNrPSJ0b2dnbGVQbGF5KCkiPlBhdXNlPC9idXR0b24+DQogICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJyZXBsYXkoKSI+UmVwbGF5PC9idXR0b24+DQogICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuU3RlcCIgb25jbGljaz0ibmV4dFN0ZXAoKSI+TmV4dCBzdGVwPC9idXR0b24+DQogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsaWRlciI+DQogICAgICAgICAgICAgICAgU3BlZWQNCiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9InNwZWVkIiB0eXBlPSJyYW5nZSIgbWluPSIwLjIiIG1heD0iMi41IiBzdGVwPSIwLjEiIHZhbHVlPSIxLjAiIC8+DQogICAgICAgICAgICAgICAgPHNwYW4gaWQ9InNwZWVkVmFsIj4xLjDDlzwvc3Bhbj4NCiAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8Y2FudmFzIGlkPSJhbmltQ2FudmFzIj48L2NhbnZhcz4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXB0aW9uIiBpZD0iYW5pbUNhcHRpb24iPjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfkqEgRXhhbSBIaW50PC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5uY2VydEhpbnR9PC9wPg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+noCBRdWljayBNaW5kIE1hcDwvaDM+DQogICAgICAgIDxkaXYgY2xhc3M9Im1pbmRtYXAiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+VmFyaWF0aW9uPC9zdHJvbmc+PGJyLz5EaWZmZXJlbmNlcyBpbiB0cmFpdHM7IGhlbHBzIHN1cnZpdmFsIChjb25jZXB0KS48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlRlcm1zPC9zdHJvbmc+PGJyLz5HZW5lLCBhbGxlbGUsIGdlbm90eXBlLCBwaGVub3R5cGUsIGhvbW8vaGV0ZXJvLjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1tLW5vZGUiPjxzdHJvbmc+TWVuZGVsPC9zdHJvbmc+PGJyLz5Nb25vaHlicmlkIOKGkiAzOjE7IHNlZ3JlZ2F0aW9uOyBpbmRlcGVuZGVudCBhc3NvcnRtZW50IChjb25jZXB0KS48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtbS1ub2RlIj48c3Ryb25nPlNleCBkZXRlcm1pbmF0aW9uPC9zdHJvbmc+PGJyLz5YWC9YWTsgZWdnIGFsd2F5cyBYOyBzcGVybSBYIG9yIFkgKGNvbmNlcHQpLjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICAke3RvcGljLnF1aXogPyBgDQogICAgICAgIDxkaXYgY2xhc3M9InF1aXoiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9InF1aXotcXVlc3Rpb24iPiR7dG9waWMucXVpei5xdWVzdGlvbn08L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6LW9wdGlvbnMiPg0KICAgICAgICAgICAgJHt0b3BpYy5xdWl6Lm9wdGlvbnMubWFwKChvcHQsaSk9PmA8YnV0dG9uIG9uY2xpY2s9ImNoZWNrUXVpeigke2l9LCR7dG9waWMucXVpei5jb3JyZWN0fSkiPiR7b3B0fTwvYnV0dG9uPmApLmpvaW4oIiIpfQ0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9InF1aXotZXhwbGFpbiIgaWQ9InF1aXpFeHBsYWluIj4ke3RvcGljLnF1aXouZXhwbGFpbn08L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICBgIDogIiJ9DQogICAgPC9kaXY+DQogIGA7DQoNCiAgc2V0dXBBbmltYXRpb24odG9waWMuYW5pbWF0aW9uVHlwZSk7DQp9DQoNCndpbmRvdy5jaGVja1F1aXogPSBmdW5jdGlvbihzZWxlY3RlZCwgY29ycmVjdCl7DQogIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucXVpei1vcHRpb25zIGJ1dHRvbiIpOw0KICBidXR0b25zLmZvckVhY2goKGIsaSk9PnsNCiAgICBiLmRpc2FibGVkID0gdHJ1ZTsNCiAgICBpZihpID09PSBjb3JyZWN0KSBiLmNsYXNzTGlzdC5hZGQoImNvcnJlY3QiKTsNCiAgfSk7DQogIGNvbnN0IGV4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1aXpFeHBsYWluIik7DQogIGlmKGV4KSBleC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCn07DQoNCnNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZSA9PiByZW5kZXJOYXYoZS50YXJnZXQudmFsdWUpKTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgQ0FOVkFTIEVOR0lORSAoRFBSLXNhZmUpDQo9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpsZXQgYW5pbUNhbnZhcz1udWxsLCBjdHg9bnVsbCwgcmFmPW51bGwsIHQwPTA7DQpsZXQgcGxheWluZz10cnVlOw0KbGV0IHNwZWVkPTEuMDsNCg0KY29uc3Qgc3RhdGUgPSB7IGFuaW06InZhcmlhdGlvblBvcHVsYXRpb24iLCBzdGVwOjAsIHN0ZXBzOjEgfTsNCg0KZnVuY3Rpb24gZml0Q2FudmFzKGNhbnZhcywgY3R4KXsNCiAgY29uc3QgZHByID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7DQogIGNvbnN0IHIgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Ioci53aWR0aCAqIGRwcik7DQogIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHIuaGVpZ2h0ICogZHByKTsNCiAgY3R4LnNldFRyYW5zZm9ybShkcHIsMCwwLGRwciwwLDApOw0KICByZXR1cm4geyB3OnIud2lkdGgsIGg6ci5oZWlnaHQgfTsNCn0NCg0KZnVuY3Rpb24gcmVwbGF5KCl7IHN0YXRlLnN0ZXAgPSAwOyB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOyB9DQpmdW5jdGlvbiB0b2dnbGVQbGF5KCl7DQogIHBsYXlpbmcgPSAhcGxheWluZzsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blBsYXkiKS50ZXh0Q29udGVudCA9IHBsYXlpbmcgPyAiUGF1c2UiIDogIlBsYXkiOw0KfQ0KZnVuY3Rpb24gbmV4dFN0ZXAoKXsgaWYoc3RhdGUuc3RlcHMgPiAxKSBzdGF0ZS5zdGVwID0gTWF0aC5taW4oc3RhdGUuc3RlcHMtMSwgc3RhdGUuc3RlcCArIDEpOyB9DQpmdW5jdGlvbiBzZXRTdGVwQnV0dG9uKCl7DQogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5TdGVwIik7DQogIGlmKGJ0bikgYnRuLmRpc2FibGVkID0gIShzdGF0ZS5zdGVwcyA+IDEpOw0KfQ0KZnVuY3Rpb24gc2V0Q2FwdGlvbih0eHQpew0KICBjb25zdCBjYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5pbUNhcHRpb24iKTsNCiAgaWYoY2FwKSBjYXAudGV4dENvbnRlbnQgPSB0eHQ7DQp9DQoNCmZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHR5cGUpew0KICBzdGF0ZS5hbmltID0gdHlwZTsNCiAgc3RhdGUuc3RlcCA9IDA7DQoNCiAgYW5pbUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbmltQ2FudmFzIik7DQogIGN0eCA9IGFuaW1DYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCiAgZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQoNCiAgY29uc3Qgc3BlZWRTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlZWQiKTsNCiAgY29uc3Qgc3BlZWRWYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlZWRWYWwiKTsNCiAgc3BlZWRTbGlkZXIub25pbnB1dCA9ICgpID0+IHsNCiAgICBzcGVlZCA9IHBhcnNlRmxvYXQoc3BlZWRTbGlkZXIudmFsdWUpOw0KICAgIHNwZWVkVmFsLnRleHRDb250ZW50ID0gc3BlZWQudG9GaXhlZCgxKSsiw5ciOw0KICB9Ow0KICBzcGVlZCA9IHBhcnNlRmxvYXQoc3BlZWRTbGlkZXIudmFsdWUpOw0KICBzcGVlZFZhbC50ZXh0Q29udGVudCA9IHNwZWVkLnRvRml4ZWQoMSkrIsOXIjsNCg0KICBjb25zdCBzYyA9IHNjZW5lc1tzdGF0ZS5hbmltXSB8fCBzY2VuZXMudmFyaWF0aW9uUG9wdWxhdGlvbjsNCiAgc3RhdGUuc3RlcHMgPSBzYy5zdGVwcyB8fCAxOw0KICBzZXRTdGVwQnV0dG9uKCk7DQogIHNldENhcHRpb24oc2MuY2FwdGlvbiA/IHNjLmNhcHRpb24oc3RhdGUuc3RlcCkgOiAiIik7DQoNCiAgaWYocmFmKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpOw0KICB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICBjb25zdCBsb29wID0gKG5vdykgPT4gew0KICAgIGNvbnN0IGR0ID0gKChub3cgLSB0MCkgLyAxMDAwKSAqIHNwZWVkOw0KICAgIGNvbnN0IHt3LGh9ID0gZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQoNCiAgICBjb25zdCBzYyA9IHNjZW5lc1tzdGF0ZS5hbmltXSB8fCBzY2VuZXMudmFyaWF0aW9uUG9wdWxhdGlvbjsNCiAgICBzdGF0ZS5zdGVwcyA9IHNjLnN0ZXBzIHx8IDE7DQogICAgc2V0U3RlcEJ1dHRvbigpOw0KDQogICAgc2MuZHJhdyhjdHgsIHcsIGgsIGR0LCBzdGF0ZSwgcGxheWluZyk7DQogICAgaWYoc2MuY2FwdGlvbikgc2V0Q2FwdGlvbihzYy5jYXB0aW9uKHN0YXRlLnN0ZXAsIGR0KSk7DQogICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOw0KICB9Ow0KICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQp9DQoNCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiBzZXR1cEFuaW1hdGlvbihzdGF0ZS5hbmltKSk7DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIERSQVcgSEVMUEVSUw0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KZnVuY3Rpb24gYmcoYyx3LGgpew0KICBjb25zdCBnID0gYy5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsMCxoKTsNCiAgZy5hZGRDb2xvclN0b3AoMCwiIzBiMTIyMyIpOw0KICBnLmFkZENvbG9yU3RvcCgxLCIjMDUwODE2Iik7DQogIGMuZmlsbFN0eWxlPWc7DQogIGMuZmlsbFJlY3QoMCwwLHcsaCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDkpIjsNCiAgYy5maWxsUmVjdCgwLGgqMC43OCx3LGgqMC4yMik7DQp9DQpmdW5jdGlvbiBycihjLHgseSx3LGgscil7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgrcix5KTsNCiAgYy5hcmNUbyh4K3cseSx4K3cseStoLHIpOw0KICBjLmFyY1RvKHgrdyx5K2gseCx5K2gscik7DQogIGMuYXJjVG8oeCx5K2gseCx5LHIpOw0KICBjLmFyY1RvKHgseSx4K3cseSxyKTsNCiAgYy5jbG9zZVBhdGgoKTsNCn0NCmZ1bmN0aW9uIHBhbmVsKGMseCx5LHcsaCx0aXRsZSl7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA2KSI7DQogIHJyKGMseCx5LHcsaCwxNik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsNCiAgYy5zdHJva2UoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMTQ3LDE5NywyNTMsMC45NSkiOw0KICBjLmZvbnQ9ImJvbGQgMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KHRpdGxlLCB4KzEyLCB5KzE4KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBkb3QoYyx4LHkscixmaWxsKXsNCiAgYy5iZWdpblBhdGgoKTsgYy5maWxsU3R5bGU9ZmlsbDsNCiAgYy5hcmMoeCx5LHIsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCn0NCmZ1bmN0aW9uIHN0cm9rZURvdChjLHgseSxyLGZpbGwsc3Ryb2tlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzApIixsdz0yKXsNCiAgYy5zYXZlKCk7DQogIGMuYmVnaW5QYXRoKCk7IGMuZmlsbFN0eWxlPWZpbGw7DQogIGMuYXJjKHgseSxyLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9c3Ryb2tlOyBjLmxpbmVXaWR0aD1sdzsgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBsaW5lKGMseDEseTEseDIseTIsdyxzdHJva2Upew0KICBjLnNhdmUoKTsgYy5zdHJva2VTdHlsZT1zdHJva2U7DQogIGMubGluZVdpZHRoPXc7IGMubGluZUNhcD0icm91bmQiOw0KICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyh4MSx5MSk7IGMubGluZVRvKHgyLHkyKTsgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBhcnJvdyhjLHgxLHkxLHgyLHkyLGNvbG9yPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzApIil7DQogIGxpbmUoYyx4MSx5MSx4Mix5MiwzLGNvbG9yKTsNCiAgY29uc3QgYW5nPU1hdGguYXRhbjIoeTIteTEseDIteDEpOw0KICBjb25zdCBMPTEwOw0KICBsaW5lKGMseDIseTIseDItTWF0aC5jb3MoYW5nLTAuNSkqTCx5Mi1NYXRoLnNpbihhbmctMC41KSpMLDMsY29sb3IpOw0KICBsaW5lKGMseDIseTIseDItTWF0aC5jb3MoYW5nKzAuNSkqTCx5Mi1NYXRoLnNpbihhbmcrMC41KSpMLDMsY29sb3IpOw0KfQ0KZnVuY3Rpb24gdGV4dChjLHgseSx0LGFscGhhPTAuOTUsIGNvbG9yPSJyZ2JhKDIyNiwyMzIsMjQwLDEpIiwgYm9sZD10cnVlKXsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPWNvbG9yLnJlcGxhY2UoIjEpIiwgYWxwaGErIikiKTsNCiAgYy5mb250PShib2xkPyJib2xkICI6IiIpICsgIjEycHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCh0LHgseSk7DQogIGMucmVzdG9yZSgpOw0KfQ0KZnVuY3Rpb24gY2xhbXAodixhLGIpeyByZXR1cm4gTWF0aC5tYXgoYSxNYXRoLm1pbihiLHYpKTsgfQ0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09DQogICBTQ0VORVMNCj09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHNjZW5lcyA9IHt9Ow0KDQovKiAxKSBWYXJpYXRpb24gcG9wdWxhdGlvbiAqLw0Kc2NlbmVzLnZhcmlhdGlvblBvcHVsYXRpb24gPSB7DQogIHN0ZXBzOiA0LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBBIHBvcHVsYXRpb24gaGFzIGluZGl2aWR1YWxzLiIsDQogICAgICAiU3RlcCAyOiBTbWFsbCBETkEtY29weSBjaGFuZ2VzIGNyZWF0ZSB2YXJpYXRpb25zIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogSWYgZW52aXJvbm1lbnQgY2hhbmdlcywgc29tZSB2YXJpYXRpb25zIGhlbHAgc3Vydml2YWwgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBTdXJ2aXZvcnMgcmVwcm9kdWNlIG1vcmUg4oaSIHZhcmlhdGlvbiBzcHJlYWRzIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMscGxheWluZyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA2LCB5PWgqMC4xNiwgYnc9dyowLjg4LCBiaD1oKjAuNjY7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIlZhcmlhdGlvbiBpbiBhIHBvcHVsYXRpb24gKGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCg0KICAgIGNvbnN0IGNvbHM9OCwgcm93cz0zOw0KICAgIGNvbnN0IHN0YXJ0WD14K2J3KjAuMTIsIHN0YXJ0WT15K2JoKjAuMzA7DQogICAgY29uc3QgZHg9YncqMC4xMCwgZHk9YmgqMC4xODsNCg0KICAgIGZvcihsZXQgcj0wO3I8cm93cztyKyspew0KICAgICAgZm9yKGxldCBjb2w9MDtjb2w8Y29scztjb2wrKyl7DQogICAgICAgIGNvbnN0IHB4PXN0YXJ0WCtjb2wqZHg7DQogICAgICAgIGNvbnN0IHB5PXN0YXJ0WStyKmR5Ow0KICAgICAgICBjb25zdCBpZHg9cipjb2xzK2NvbDsNCiAgICAgICAgY29uc3QgYmFzZT0icmdiYSg1OSwxMzAsMjQ2LDAuMTgpIjsNCiAgICAgICAgY29uc3QgdmFyQ29sID0gKGlkeCU3PT09MCkgPyAicmdiYSgzNCwxOTcsOTQsMC4yMCkiIDogYmFzZTsNCiAgICAgICAgY29uc3Qgc2hvd1ZhciA9IChzdGVwPj0xKTsNCiAgICAgICAgc3Ryb2tlRG90KGMscHgscHksMTIsIHNob3dWYXIgPyB2YXJDb2wgOiBiYXNlLCAicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIsMik7DQogICAgICAgIGlmKHNob3dWYXIgJiYgaWR4JTc9PT0wKXsNCiAgICAgICAgICBkb3QoYyxweCxweSw0LCJyZ2JhKDM0LDE5Nyw5NCwwLjc1KSIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIHRleHQoYyx4KzE4LHkrYmgqMC4yNCwiQmx1ZSA9IGNvbW1vbiB0cmFpdDsgR3JlZW4gZG90ID0gdmFyaWF0aW9uIChjb25jZXB0KS4iLDAuOSwicmdiYSgyMDMsMjEzLDIyNSwxKSIsdHJ1ZSk7DQoNCiAgICBpZihzdGVwPj0yKXsNCiAgICAgIC8vIGVudmlyb25tZW50IGNoYW5nZSAoaGVhdCB3YXZlIGljb24pDQogICAgICBjb25zdCBoeD14K2J3KjAuODIsIGh5PXkrYmgqMC4yNjsNCiAgICAgIGNvbnN0IHA9MC41KzAuNSpNYXRoLnNpbih0KjIuMik7DQogICAgICBkb3QoYyxoeCxoeSwxOCxgcmdiYSgyNDUsMTU4LDExLCR7MC4zNSswLjI1KnB9KWApOw0KICAgICAgZm9yKGxldCBpPTA7aTw3O2krKyl7DQogICAgICAgIGFycm93KGMsaHgtMzAsaHkrMjUraSoxNCxoeC0xMjAsaHkrMjUraSoxNCwicmdiYSgyNDUsMTU4LDExLDAuMTgpIik7DQogICAgICB9DQogICAgICB0ZXh0KGMsaHgtODAsaHktMzAsIkVudmlyb25tZW50IGNoYW5nZXMiLDAuOSwicmdiYSgyNTMsMjMwLDEzOCwxKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD49Myl7DQogICAgICAvLyBzaG93IG9ubHkgc29tZSBzdXJ2aXZlIChmYWRlIG90aGVycykNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5nbG9iYWxBbHBoYT0wLjU1Ow0KICAgICAgcnIoYyx4K2J3KjAuMDgseStiaCowLjI0LGJ3KjAuNjIsYmgqMC41NiwxOCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjI4KSI7DQogICAgICBjLmxpbmVXaWR0aD0yOw0KICAgICAgYy5zdHJva2UoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjg2LCJTb21lIHZhcmlhbnRzIHN1cnZpdmUgYmV0dGVyIGFuZCByZXByb2R1Y2UgbW9yZSAoY29uY2VwdCkuIiwwLjksInJnYmEoMTY3LDI0MywyMDgsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogMikgSW5oZXJpdGVkIHZzIGFjcXVpcmVkICovDQpzY2VuZXMuaW5oZXJpdGVkVnNBY3F1aXJlZCA9IHsNCiAgc3RlcHM6IDMsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IEluaGVyaXRlZCB0cmFpdHMgcGFzcyB2aWEgZ2VuZXMvZ2FtZXRlcyAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IEFjcXVpcmVkIHRyYWl0cyBkZXZlbG9wIGR1cmluZyBsaWZlIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogT25seSBpbmhlcml0ZWQgdHJhaXRzIGFyZSB0cmFuc21pdHRlZCB0byBuZXh0IGdlbmVyYXRpb24gKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiSW5oZXJpdGVkIHZzIGFjcXVpcmVkIHRyYWl0cyAoY29uY2VwdCkg4oCTIE5leHQgc3RlcCIpOw0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgY29uc3QgY2FyZFc9YncqMC40MiwgY2FyZEg9YmgqMC42MDsNCiAgICBjb25zdCBjeT15K2JoKjAuMjI7DQoNCiAgICBmdW5jdGlvbiBjYXJkKHB4LHRpdGxlLGxpbmVzLGFjdGl2ZSxjb2wpew0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgxNSwyMyw0MiwwLjU1KSI7DQogICAgICBycihjLHB4LGN5LGNhcmRXLGNhcmRILDE2KTsgYy5maWxsKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPWFjdGl2ZSA/IGNvbCA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMTYpIjsNCiAgICAgIGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjkyKSI7DQogICAgICBjLmZvbnQ9ImJvbGQgMTZweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dCh0aXRsZSwgcHgrMTQsIGN5KzMwKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuODIpIjsNCiAgICAgIGMuZm9udD0iMTJweCBzeXN0ZW0tdWkiOw0KICAgICAgbGluZXMuZm9yRWFjaCgoTCxpKT0+IGMuZmlsbFRleHQoIuKAoiAiK0wsIHB4KzE0LCBjeSs2MitpKjE4KSk7DQogICAgICBpZihhY3RpdmUpew0KICAgICAgICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCoyLjQpOw0KICAgICAgICBjLmdsb2JhbEFscGhhPTAuMTArMC4yMCpwOw0KICAgICAgICBjLmZpbGxTdHlsZT1jb2w7DQogICAgICAgIHJyKGMscHgsY3ksY2FyZFcsY2FyZEgsMTYpOyBjLmZpbGwoKTsNCiAgICAgIH0NCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCg0KICAgIGNhcmQoeCtidyowLjA3LCJJbmhlcml0ZWQgKGdlbmVzKSIsWw0KICAgICAgIlBhc3MgcGFyZW50IOKGkiBvZmZzcHJpbmciLA0KICAgICAgIlZpYSBnYW1ldGVzIiwNCiAgICAgICJFeGFtcGxlOiBleWUgY29sb3VyIChjb25jZXB0KSINCiAgICBdLCBzdGVwPT09MCB8fCBzdGVwPT09MiwgInJnYmEoNTksMTMwLDI0NiwwLjM1KSIpOw0KDQogICAgY2FyZCh4K2J3KjAuNTEsIkFjcXVpcmVkIChsaWZlKSIsWw0KICAgICAgIkRldmVsb3BzIGR1cmluZyBsaWZldGltZSIsDQogICAgICAiTm90IHZpYSBETkEgaW4gZ2FtZXRlcyIsDQogICAgICAiRXhhbXBsZTogY3ljbGluZyBza2lsbCAoY29uY2VwdCkiDQogICAgXSwgc3RlcD09PTEsICJyZ2JhKDI0NSwxNTgsMTEsMC4zMCkiKTsNCg0KICAgIGlmKHN0ZXA9PT0yKXsNCiAgICAgIGFycm93KGMseCtidyowLjMyLHkrYmgqMC42Mix4K2J3KjAuNjgseStiaCowLjYyLCJyZ2JhKDM0LDE5Nyw5NCwwLjIyKSIpOw0KICAgICAgdGV4dChjLHgrYncqMC4zNyx5K2JoKjAuNjYsIk9ubHkgaW5oZXJpdGVkIHRyYWl0cyB0cmFuc21pdCIsMC45NSwicmdiYSgxNjcsMjQzLDIwOCwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAzKSBLZXkgdGVybXMgYnVpbGRlciAqLw0Kc2NlbmVzLnRlcm1zQnVpbGRlciA9IHsNCiAgc3RlcHM6IDYsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IEdlbmUgPSB1bml0IG9mIGhlcmVkaXR5IChETkEgc2VnbWVudCkuIiwNCiAgICAgICJTdGVwIDI6IEFsbGVsZXMgPSBkaWZmZXJlbnQgZm9ybXMgb2YgYSBnZW5lIChUIC8gdCkuIiwNCiAgICAgICJTdGVwIDM6IEdlbm90eXBlID0gYWxsZWxlIGNvbWJpbmF0aW9uIChUVCwgVHQsIHR0KS4iLA0KICAgICAgIlN0ZXAgNDogUGhlbm90eXBlID0gb2JzZXJ2YWJsZSB0cmFpdCAodGFsbC9kd2FyZikuIiwNCiAgICAgICJTdGVwIDU6IEhvbW96eWdvdXMgPSBUVCBvciB0dC4iLA0KICAgICAgIlN0ZXAgNjogSGV0ZXJvenlnb3VzID0gVHQuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJUZXJtaW5vbG9neSAoYnVpbGQgc3RlcC1ieS1zdGVwKSDigJMgTmV4dCBzdGVwIik7DQoNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCiAgICBjb25zdCBjeD14K2J3KjAuNTAsIGN5PXkrYmgqMC40ODsNCg0KICAgIC8vIEROQSBzdHJpcA0KICAgIHJyKGMsY3gtMjIwLGN5LTExMCw0NDAsNjAsMTYpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4wOCkiOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsgYy5zdHJva2UoKTsNCiAgICB0ZXh0KGMsY3gtMjA1LGN5LTEyNSwiRE5BIiwwLjksInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KDQogICAgLy8gZ2VuZSBoaWdobGlnaHQgc2VnbWVudA0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjEyKSI7DQogICAgcnIoYyxjeC02MCxjeS0xMDIsMTIwLDQ0LDE0KTsgYy5maWxsKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgaWYoc3RlcD49MCkgdGV4dChjLGN4LTMwLGN5LTc1LCJHZW5lIiwwLjk1LCJyZ2JhKDE2NywyNDMsMjA4LDEpIix0cnVlKTsNCg0KICAgIC8vIGFsbGVsZXMgY2FyZHMNCiAgICBpZihzdGVwPj0xKXsNCiAgICAgIHN0cm9rZURvdChjLGN4LTEyMCxjeS0yMCwyMiwicmdiYSgxMzksOTIsMjQ2LDAuMTApIiwicmdiYSgxMzksOTIsMjQ2LDAuMzApIiwyKTsNCiAgICAgIHN0cm9rZURvdChjLGN4KzEyMCxjeS0yMCwyMiwicmdiYSgxMzksOTIsMjQ2LDAuMTApIiwicmdiYSgxMzksOTIsMjQ2LDAuMzApIiwyKTsNCiAgICAgIHRleHQoYyxjeC0xMjgsY3ktMTYsIlQiLDAuOTUsInJnYmEoMTk2LDE4MSwyNTMsMSkiLHRydWUpOw0KICAgICAgdGV4dChjLGN4KzExMixjeS0xNiwidCIsMC45NSwicmdiYSgxOTYsMTgxLDI1MywxKSIsdHJ1ZSk7DQogICAgICB0ZXh0KGMsY3gtNzAsY3krMTAsIkFsbGVsZXMgb2Ygc2FtZSBnZW5lIiwwLjksInJnYmEoMTk2LDE4MSwyNTMsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIC8vIGdlbm90eXBlIGNvbWJpbmF0aW9ucw0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgcnIoYyxjeC0yMjAsY3krNDAsNDQwLDExMCwxOCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMDYpIjsgYy5maWxsKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsgYy5zdHJva2UoKTsNCiAgICAgIHRleHQoYyxjeC0yMDUsY3krNjAsIkdlbm90eXBlIGV4YW1wbGVzOiIsMC45LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCg0KICAgICAgY29uc3QgZ3MgPSBbIlRUIiwiVHQiLCJ0dCJdOw0KICAgICAgZ3MuZm9yRWFjaCgoZyxpKT0+ew0KICAgICAgICBjb25zdCBweD1jeC0xMzAraSoxMzAsIHB5PWN5KzEwNTsNCiAgICAgICAgc3Ryb2tlRG90KGMscHgscHksMjAsInJnYmEoMjQ1LDE1OCwxMSwwLjEwKSIsInJnYmEoMjQ1LDE1OCwxMSwwLjMwKSIsMik7DQogICAgICAgIHRleHQoYyxweC0xMixweSs0LGcsMC45NSwicmdiYSgyNTMsMjMwLDEzOCwxKSIsdHJ1ZSk7DQogICAgICB9KTsNCiAgICB9DQoNCiAgICBpZihzdGVwPj0zKXsNCiAgICAgIHRleHQoYyxjeC0yMDAsY3krMTcwLCJQaGVub3R5cGUgKG9ic2VydmFibGUpOiBUVC9UdCDihpIgVGFsbCwgdHQg4oaSIER3YXJmIChjb25jZXB0KS4iLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTQpew0KICAgICAgdGV4dChjLGN4LTIwMCxjeSsxOTUsIkhvbW96eWdvdXM6IFRUIG9yIHR0IChzYW1lIGFsbGVsZXMpLiIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICB9DQogICAgaWYoc3RlcD49NSl7DQogICAgICB0ZXh0KGMsY3gtMjAwLGN5KzIyMCwiSGV0ZXJvenlnb3VzOiBUdCAoZGlmZmVyZW50IGFsbGVsZXMpLiIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qIDQpIFBlYSByZWFzb25zICovDQpzY2VuZXMucGVhUmVhc29ucyA9IHsNCiAgc3RlcHM6IDQsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IENvbnRyYXN0aW5nIHRyYWl0cyBhcmUgY2xlYXJseSB2aXNpYmxlLiIsDQogICAgICAiU3RlcCAyOiBTZWxmIHBvbGxpbmF0aW9uIG1haW50YWlucyBwdXJlIGxpbmVzIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogQ3Jvc3MgcG9sbGluYXRpb24gY2FuIGJlIGRvbmUgZWFzaWx5IChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogU2hvcnQgbGlmZSBjeWNsZSBoZWxwcyBzdHVkeSBtYW55IGdlbmVyYXRpb25zIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMscGxheWluZyl7DQogICAgYmcoYyx3LGgpOw0KICAgIGNvbnN0IHg9dyowLjA2LCB5PWgqMC4xNiwgYnc9dyowLjg4LCBiaD1oKjAuNjY7DQogICAgcGFuZWwoYyx4LHksYncsYmgsIldoeSBNZW5kZWwgdXNlZCBwZWEgcGxhbnQgKGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCg0KICAgIGNvbnN0IGNhcmRXPShidy02MCkvMiwgY2FyZEg9KGJoLTcwKS8yOw0KICAgIGNvbnN0IHN4PXgrMjAsIHN5PXkrMzA7DQoNCiAgICBjb25zdCBjYXJkcyA9IFsNCiAgICAgIHt0OiJDbGVhciBjb250cmFzdGluZyB0cmFpdHMiLCBjb2w6InJnYmEoNTksMTMwLDI0NiwwLjI1KSIsIGxpbmVzOlsiVGFsbCB2cyBkd2FyZiAoY29uY2VwdCkiLCJSb3VuZCB2cyB3cmlua2xlZCAoY29uY2VwdCkiXX0sDQogICAgICB7dDoiU2VsZiBwb2xsaW5hdGlvbiIsIGNvbDoicmdiYSgzNCwxOTcsOTQsMC4yMCkiLCBsaW5lczpbIlB1cmUgbGluZXMgcG9zc2libGUgKGNvbmNlcHQpIiwiU2FtZSBmbG93ZXIgcG9sbGluYXRlcyBpdHNlbGYgKGNvbmNlcHQpIl19LA0KICAgICAge3Q6IkVhc3kgY3Jvc3MgcG9sbGluYXRpb24iLCBjb2w6InJnYmEoMjQ1LDE1OCwxMSwwLjE4KSIsIGxpbmVzOlsiTWFudWFsIGNyb3NzaW5nIHBvc3NpYmxlIChjb25jZXB0KSIsIkNvbnRyb2xsZWQgZXhwZXJpbWVudHMgKGNvbmNlcHQpIl19LA0KICAgICAge3Q6IlNob3J0IGxpZmUgY3ljbGUiLCBjb2w6InJnYmEoMTM5LDkyLDI0NiwwLjE4KSIsIGxpbmVzOlsiTWFueSBnZW5lcmF0aW9ucyBxdWlja2x5IChjb25jZXB0KSIsIkNvdW50aW5nIHJhdGlvcyBlYXNpZXIgKGNvbmNlcHQpIl19DQogICAgXTsNCg0KICAgIGZ1bmN0aW9uIGRyYXdDYXJkKGksYWN0aXZlKXsNCiAgICAgIGNvbnN0IHB4ID0gc3ggKyAoaSUyKSooY2FyZFcrMjApOw0KICAgICAgY29uc3QgcHkgPSBzeSArIChpPjE/IChjYXJkSCsyMCk6MCk7DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE1LDIzLDQyLDAuNTUpIjsNCiAgICAgIHJyKGMscHgscHksY2FyZFcsY2FyZEgsMTYpOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9YWN0aXZlID8gInJnYmEoMjUwLDIwNCwyMSwwLjYwKSIgOiAicmdiYSgyMjYsMjMyLDI0MCwwLjE2KSI7DQogICAgICBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KDQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjkyKSI7DQogICAgICBjLmZvbnQ9ImJvbGQgMTRweCBzeXN0ZW0tdWkiOw0KICAgICAgYy5maWxsVGV4dChjYXJkc1tpXS50LCBweCsxNCwgcHkrMjYpOw0KDQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjgyKSI7DQogICAgICBjLmZvbnQ9IjEycHggc3lzdGVtLXVpIjsNCiAgICAgIGNhcmRzW2ldLmxpbmVzLmZvckVhY2goKEwsayk9PiBjLmZpbGxUZXh0KCLigKIgIitMLCBweCsxNCwgcHkrNTYrayoxOCkpOw0KDQogICAgICBpZihhY3RpdmUpew0KICAgICAgICBjb25zdCBwPTAuNSswLjUqTWF0aC5zaW4odCoyLjQpOw0KICAgICAgICBjLmdsb2JhbEFscGhhPTAuMTArMC4xOCpwOw0KICAgICAgICBjLmZpbGxTdHlsZT1jYXJkc1tpXS5jb2w7DQogICAgICAgIHJyKGMscHgscHksY2FyZFcsY2FyZEgsMTYpOyBjLmZpbGwoKTsNCiAgICAgIH0NCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCg0KICAgIGZvcihsZXQgaT0wO2k8NDtpKyspIGRyYXdDYXJkKGksIGk9PT1zdGVwKTsNCiAgfQ0KfTsNCg0KLyogNSkgRG9taW5hbnQgdnMgcmVjZXNzaXZlIHJldmVhbCAqLw0Kc2NlbmVzLmRvbWluYW50UmVjZXNzaXZlUmV2ZWFsID0gew0KICBzdGVwczogNCwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogVHdvIGFsbGVsZXM6IFQgKGRvbWluYW50KSwgdCAocmVjZXNzaXZlKS4iLA0KICAgICAgIlN0ZXAgMjogSGV0ZXJvenlnb3VzIFR0IHNob3dzIGRvbWluYW50IHBoZW5vdHlwZSAodGFsbCkuIiwNCiAgICAgICJTdGVwIDM6IFJlY2Vzc2l2ZSB0cmFpdCBhcHBlYXJzIG9ubHkgaW4gdHQuIiwNCiAgICAgICJTdGVwIDQ6IFJlY2Vzc2l2ZSBjYW4gcmVhcHBlYXIgaW4gRjIgZ2VuZXJhdGlvbiAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJEb21pbmFudCB2cyByZWNlc3NpdmUgKGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCg0KICAgIGNvbnN0IGN4PXgrYncqMC41MCwgY3k9eStiaCowLjUwOw0KDQogICAgLy8gYWxsZWxlIGNoaXBzDQogICAgc3Ryb2tlRG90KGMsY3gtMTUwLGN5LTcwLDIyLCJyZ2JhKDEzOSw5MiwyNDYsMC4xMCkiLCJyZ2JhKDEzOSw5MiwyNDYsMC4zMCkiLDIpOw0KICAgIHN0cm9rZURvdChjLGN4LTkwLGN5LTcwLDIyLCJyZ2JhKDEzOSw5MiwyNDYsMC4xMCkiLCJyZ2JhKDEzOSw5MiwyNDYsMC4zMCkiLDIpOw0KICAgIHRleHQoYyxjeC0xNTgsY3ktNjYsIlQiLDAuOTUsInJnYmEoMTk2LDE4MSwyNTMsMSkiLHRydWUpOw0KICAgIHRleHQoYyxjeC05OCxjeS02NiwidCIsMC45NSwicmdiYSgxOTYsMTgxLDI1MywxKSIsdHJ1ZSk7DQogICAgdGV4dChjLGN4LTE5MCxjeS05NSwiQWxsZWxlcyIsMC45LCJyZ2JhKDE5NiwxODEsMjUzLDEpIix0cnVlKTsNCg0KICAgIC8vIGdlbm90eXBlIGJsb2Nrcw0KICAgIGZ1bmN0aW9uIGdlbm8ocHgsbGFiZWwsZGVzYyxhY3RpdmUsY29sb3Ipew0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgxNSwyMyw0MiwwLjU1KSI7DQogICAgICBycihjLHB4LGN5LTIwLDIwMCwxMjAsMTgpOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9YWN0aXZlID8gInJnYmEoMjUwLDIwNCwyMSwwLjYwKSIgOiAicmdiYSgyMjYsMjMyLDI0MCwwLjE2KSI7DQogICAgICBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC45MikiOw0KICAgICAgYy5mb250PSJib2xkIDE4cHggc3lzdGVtLXVpIjsNCiAgICAgIGMuZmlsbFRleHQobGFiZWwsIHB4KzE2LCBjeSsxOCk7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjgyKSI7DQogICAgICBjLmZvbnQ9IjEycHggc3lzdGVtLXVpIjsNCiAgICAgIGMuZmlsbFRleHQoZGVzYywgcHgrMTYsIGN5KzQ0KTsNCiAgICAgIGlmKGFjdGl2ZSl7DQogICAgICAgIGNvbnN0IHA9MC41KzAuNSpNYXRoLnNpbih0KjIuNCk7DQogICAgICAgIGMuZ2xvYmFsQWxwaGE9MC4xMCswLjIwKnA7DQogICAgICAgIGMuZmlsbFN0eWxlPWNvbG9yOw0KICAgICAgICBycihjLHB4LGN5LTIwLDIwMCwxMjAsMTgpOyBjLmZpbGwoKTsNCiAgICAgIH0NCiAgICAgIGMucmVzdG9yZSgpOw0KICAgIH0NCg0KICAgIGdlbm8oeCtidyowLjE4LCJUdCIsIlBoZW5vdHlwZTogVGFsbCAoZG9taW5hbnQpIiwgc3RlcD09PTEsICJyZ2JhKDM0LDE5Nyw5NCwwLjIwKSIpOw0KICAgIGdlbm8oeCtidyowLjU2LCJ0dCIsIlBoZW5vdHlwZTogRHdhcmYgKHJlY2Vzc2l2ZSkiLCBzdGVwPT09MiwgInJnYmEoMjQ0LDYzLDk0LDAuMTYpIik7DQoNCiAgICBpZihzdGVwPT09Myl7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODYsIkluIEYyLCBzb21lIG9mZnNwcmluZyBiZWNvbWUgdHQsIHNvIHJlY2Vzc2l2ZSB0cmFpdCBhcHBlYXJzIGFnYWluIChjb25jZXB0KS4iLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiA2KSBNb25vaHlicmlkIFB1bm5ldHQgKGF1dG8tZmlsbCkgKi8NCnNjZW5lcy5tb25vaHlicmlkUHVubmV0dCA9IHsNCiAgc3RlcHM6IDYsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFA6IFRUICh0YWxsKSDDlyB0dCAoZHdhcmYpLiIsDQogICAgICAiU3RlcCAyOiBHYW1ldGVzOiBUVCDihpIgVCBvbmx5OyB0dCDihpIgdCBvbmx5IChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogRjE6IGFsbCBUdCAodGFsbCkuIiwNCiAgICAgICJTdGVwIDQ6IFNlbGZpbmcgRjE6IFR0IMOXIFR0LiIsDQogICAgICAiU3RlcCA1OiBQdW5uZXR0IHNxdWFyZSBmaWxscyDihpIgVFQsIFR0LCBUdCwgdHQuIiwNCiAgICAgICJTdGVwIDY6IEYyIHJhdGlvczogZ2Vub3R5cGUgMToyOjE7IHBoZW5vdHlwZSAzOjEgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE0LCBidz13KjAuODgsIGJoPWgqMC43MDsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiTW9ub2h5YnJpZCBjcm9zcyAoUHVubmV0dCkg4oCTIE5leHQgc3RlcCIpOw0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgLy8gdG9wOiBQIGNyb3NzDQogICAgdGV4dChjLHgrMjAseSszOCwiUCBnZW5lcmF0aW9uOiIsMC45NSwicmdiYSgyMDMsMjEzLDIyNSwxKSIsdHJ1ZSk7DQogICAgc3Ryb2tlRG90KGMseCsxNjAseSszNiwxNiwicmdiYSgzNCwxOTcsOTQsMC4xMCkiLCJyZ2JhKDM0LDE5Nyw5NCwwLjMwKSIsMik7DQogICAgdGV4dChjLHgrMTUyLHkrNDAsIlRUIiwwLjk1LCJyZ2JhKDE2NywyNDMsMjA4LDEpIix0cnVlKTsNCiAgICB0ZXh0KGMseCsxOTAseSs0Miwiw5ciLDAuOTUsInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgIHN0cm9rZURvdChjLHgrMjM1LHkrMzYsMTYsInJnYmEoMjQ0LDYzLDk0LDAuMDgpIiwicmdiYSgyNDQsNjMsOTQsMC4yOCkiLDIpOw0KICAgIHRleHQoYyx4KzIyNyx5KzQwLCJ0dCIsMC45NSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQoNCiAgICBpZihzdGVwPj0xKXsNCiAgICAgIHRleHQoYyx4KzIwLHkrNzQsIkdhbWV0ZXM6IiwwLjk1LCJyZ2JhKDIwMywyMTMsMjI1LDEpIix0cnVlKTsNCiAgICAgIHRleHQoYyx4KzE1MCx5Kzc0LCJUIiwwLjk1LCJyZ2JhKDE2NywyNDMsMjA4LDEpIix0cnVlKTsNCiAgICAgIHRleHQoYyx4KzIzMCx5Kzc0LCJ0IiwwLjk1LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPj0yKXsNCiAgICAgIHRleHQoYyx4KzIwLHkrMTEwLCJGMToiLDAuOTUsInJnYmEoMjAzLDIxMywyMjUsMSkiLHRydWUpOw0KICAgICAgdGV4dChjLHgrMTUwLHkrMTEwLCJBbGwgVHQgKFRhbGwpIiwwLjk1LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBQdW5uZXR0IHNxdWFyZSBmb3IgVHQgeCBUdA0KICAgIGNvbnN0IGd4PXgrYncqMC4yMCwgZ3k9eStiaCowLjMwOw0KICAgIGNvbnN0IHNpemU9TWF0aC5taW4oYncqMC42MiwgYmgqMC41NSk7DQogICAgY29uc3QgY2VsbD1zaXplLzM7DQoNCiAgICAvLyBncmlkDQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE4KSI7DQogICAgYy5saW5lV2lkdGg9MjsNCiAgICBycihjLGd4LGd5LHNpemUsc2l6ZSwxNCk7IGMuc3Ryb2tlKCk7DQogICAgZm9yKGxldCBpPTE7aTwzO2krKyl7DQogICAgICBsaW5lKGMsZ3graSpjZWxsLGd5LGd4K2kqY2VsbCxneStzaXplLDIsInJnYmEoMjI2LDIzMiwyNDAsMC4xOCkiKTsNCiAgICAgIGxpbmUoYyxneCxneStpKmNlbGwsZ3grc2l6ZSxneStpKmNlbGwsMiwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIpOw0KICAgIH0NCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGhlYWRlcnMNCiAgICB0ZXh0KGMsZ3grY2VsbCsxMixneStjZWxsLTEyLCJUIiwwLjk1LCJyZ2JhKDE2NywyNDMsMjA4LDEpIix0cnVlKTsNCiAgICB0ZXh0KGMsZ3grY2VsbCoyKzEyLGd5K2NlbGwtMTIsInQiLDAuOTUsInJnYmEoMjUxLDExMywxMzMsMSkiLHRydWUpOw0KICAgIHRleHQoYyxneCsxMixneStjZWxsKzE4LCJUIiwwLjk1LCJyZ2JhKDE2NywyNDMsMjA4LDEpIix0cnVlKTsNCiAgICB0ZXh0KGMsZ3grMTIsZ3krY2VsbCoyKzE4LCJ0IiwwLjk1LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCg0KICAgIGlmKHN0ZXA+PTMpew0KICAgICAgdGV4dChjLHgrMjAsZ3ktMTgsIkYxIHNlbGZpbmc6IFR0IMOXIFR0IiwwLjk1LCJyZ2JhKDI1MywyMzAsMTM4LDEpIix0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBmaWxsIGNlbGxzIGJ5IHN0ZXANCiAgICBjb25zdCBjZWxscyA9IFsNCiAgICAgIHtyOjEsYzoxLHZhbDoiVFQiLCBjb2w6InJnYmEoMTY3LDI0MywyMDgsMSkifSwNCiAgICAgIHtyOjEsYzoyLHZhbDoiVHQiLCBjb2w6InJnYmEoMjI2LDIzMiwyNDAsMSkifSwNCiAgICAgIHtyOjIsYzoxLHZhbDoiVHQiLCBjb2w6InJnYmEoMjI2LDIzMiwyNDAsMSkifSwNCiAgICAgIHtyOjIsYzoyLHZhbDoidHQiLCBjb2w6InJnYmEoMjUxLDExMywxMzMsMSkifQ0KICAgIF07DQogICAgY29uc3QgZmlsbENvdW50ID0gKHN0ZXA+PTQpID8gTWF0aC5taW4oNCwgMSArIE1hdGguZmxvb3IoKCh0KjAuNTUpJTEpKjUpKSA6IDA7DQogICAgY29uc3Qgc2hvd0FsbCA9IHN0ZXA+PTU7DQoNCiAgICBjb25zdCBuID0gc2hvd0FsbCA/IDQgOiAoc3RlcD09PTQgPyBmaWxsQ291bnQgOiAwKTsNCiAgICBmb3IobGV0IGk9MDtpPG47aSsrKXsNCiAgICAgIGNvbnN0IGNjPWNlbGxzW2ldOw0KICAgICAgY29uc3QgcHg9Z3grY2MuYypjZWxsK2NlbGwqMC4zMDsNCiAgICAgIGNvbnN0IHB5PWd5K2NjLnIqY2VsbCtjZWxsKjAuNjI7DQogICAgICB0ZXh0KGMscHgscHksY2MudmFsLDAuOTUsY2MuY29sLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTUpew0KICAgICAgdGV4dChjLHgrMjAsZ3krc2l6ZSszNCwiRjIgZ2Vub3R5cGUgcmF0aW86IDEgVFQgOiAyIFR0IDogMSB0dCAoY29uY2VwdCkuIiwwLjk1LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICAgIHRleHQoYyx4KzIwLGd5K3NpemUrNTgsIkYyIHBoZW5vdHlwZSByYXRpbzogMyBUYWxsIDogMSBEd2FyZiAoY29uY2VwdCkuIiwwLjk1LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qIDcpIERpaHlicmlkIGNvbmNlcHQgZ3JpZCAqLw0Kc2NlbmVzLmRpaHlicmlkQ29uY2VwdEdyaWQgPSB7DQogIHN0ZXBzOiA0LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBUd28gdHJhaXRzIHRvZ2V0aGVyIChlLmcuLCBzaGFwZSBSL3IgYW5kIGNvbG9yIFkveSkgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBGMSBzaG93cyBkb21pbmFudCB0cmFpdHMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBJbiBGMiwgbmV3IGNvbWJpbmF0aW9ucyBhcHBlYXIgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBUaGlzIHN1cHBvcnRzIGluZGVwZW5kZW50IGFzc29ydG1lbnQgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiRGloeWJyaWQgY3Jvc3MgKGNvbmNlcHQgdmlldykg4oCTIE5leHQgc3RlcCIpOw0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgdGV4dChjLHgrMjAseSs0MiwiVHJhaXRzOiIsMC45NSwicmdiYSgyMDMsMjEzLDIyNSwxKSIsdHJ1ZSk7DQogICAgdGV4dChjLHgrOTAseSs0MiwiU2hhcGUgKFIvcikgKyBDb2xvciAoWS95KSAoY29uY2VwdCkiLDAuOTUsInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KDQogICAgY29uc3QgY29tYm9zID0gWw0KICAgICAge3Q6IlJvdW5kIFllbGxvdyIsIGNvbDoicmdiYSgyNTMsMjMwLDEzOCwxKSJ9LA0KICAgICAge3Q6IlJvdW5kIEdyZWVuIiwgY29sOiJyZ2JhKDE2NywyNDMsMjA4LDEpIn0sDQogICAgICB7dDoiV3JpbmtsZWQgWWVsbG93IiwgY29sOiJyZ2JhKDI1MywyMzAsMTM4LDEpIn0sDQogICAgICB7dDoiV3JpbmtsZWQgR3JlZW4iLCBjb2w6InJnYmEoMTY3LDI0MywyMDgsMSkifQ0KICAgIF07DQogICAgY29uc3QgZ3JpZFg9eCtidyowLjE4LCBncmlkWT15K2JoKjAuMzA7DQogICAgY29uc3QgYm94Vz1idyowLjY0LCBib3hIPWJoKjAuNDI7DQoNCiAgICBycihjLGdyaWRYLGdyaWRZLGJveFcsYm94SCwxOCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC41NSkiOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTYpIjsgYy5zdHJva2UoKTsNCg0KICAgIGZvcihsZXQgaT0wO2k8NDtpKyspew0KICAgICAgY29uc3QgcHg9Z3JpZFggKyAoaSUyKSooYm94Vy8yKTsNCiAgICAgIGNvbnN0IHB5PWdyaWRZICsgKGk+MSA/IChib3hILzIpIDogMCk7DQogICAgICBycihjLHB4KzEyLHB5KzEyLGJveFcvMi0yNCxib3hILzItMjQsMTQpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjA2KSI7IGMuZmlsbCgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE0KSI7IGMuc3Ryb2tlKCk7DQogICAgICBpZihzdGVwPj0yKXsNCiAgICAgICAgdGV4dChjLHB4KzI4LHB5KzQ0LGNvbWJvc1tpXS50LDAuOTUsY29tYm9zW2ldLmNvbCx0cnVlKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRleHQoYyxweCsyOCxweSs0NCwiKGNvbWJpbmF0aW9uKSIsMC44LCJyZ2JhKDE0OCwxNjMsMTg0LDEpIix0cnVlKTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICBpZihzdGVwPj0zKXsNCiAgICAgIHRleHQoYyx4KzIwLHkrYmgqMC44NiwiTmV3IGNvbWJpbmF0aW9ucyBpbiBGMiBzdWdnZXN0IGluZGVwZW5kZW50IGFzc29ydG1lbnQgKGNvbmNlcHQpLiIsMC45NSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiA4KSBNZW5kZWwgbGF3cyBjYXJkcyAqLw0Kc2NlbmVzLm1lbmRlbExhd3NDYXJkcyA9IHsNCiAgc3RlcHM6IDMsDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IExhdyBvZiBkb21pbmFuY2UgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBMYXcgb2Ygc2VncmVnYXRpb24gKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBMYXcgb2YgaW5kZXBlbmRlbnQgYXNzb3J0bWVudCAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzLHBsYXlpbmcpew0KICAgIGJnKGMsdyxoKTsNCiAgICBjb25zdCB4PXcqMC4wNiwgeT1oKjAuMTYsIGJ3PXcqMC44OCwgYmg9aCowLjY2Ow0KICAgIHBhbmVsKGMseCx5LGJ3LGJoLCJNZW5kZWzigJlzIGxhd3MgKGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCg0KICAgIGNvbnN0IGNhcmRzID0gWw0KICAgICAge3RpdGxlOiJEb21pbmFuY2UiLCBsaW5lczpbIkluIEYxLCBkb21pbmFudCB0cmFpdCBhcHBlYXJzIChjb25jZXB0KS4iLCJEb21pbmFudCBtYXNrcyByZWNlc3NpdmUgaW4gaGV0ZXJvenlnb3VzLiJdLCBjb2w6InJnYmEoMzQsMTk3LDk0LDAuMTgpIn0sDQogICAgICB7dGl0bGU6IlNlZ3JlZ2F0aW9uIiwgbGluZXM6WyJBbGxlbGVzIHNlcGFyYXRlIGR1cmluZyBnYW1ldGUgZm9ybWF0aW9uIChjb25jZXB0KS4iLCJFYWNoIGdhbWV0ZSBnZXRzIG9uZSBhbGxlbGUuIl0sIGNvbDoicmdiYSg1OSwxMzAsMjQ2LDAuMTgpIn0sDQogICAgICB7dGl0bGU6IkluZGVwZW5kZW50IGFzc29ydG1lbnQiLCBsaW5lczpbIkFsbGVsZXMgb2YgZGlmZmVyZW50IGdlbmVzIGFzc29ydCBpbmRlcGVuZGVudGx5IChjb25jZXB0KS4iLCJFeHBsYWlucyBuZXcgY29tYmluYXRpb25zIGluIGRpaHlicmlkIGNyb3NzLiJdLCBjb2w6InJnYmEoMjQ1LDE1OCwxMSwwLjE0KSJ9DQogICAgXTsNCg0KICAgIGNvbnN0IGNhcmRXPShidy00MCkvMywgY2FyZEg9YmgqMC42MDsNCiAgICBjb25zdCBzdGFydFg9eCsyMCwgc3RhcnRZPXkrYmgqMC4yMjsNCg0KICAgIGZvcihsZXQgaT0wO2k8MztpKyspew0KICAgICAgY29uc3QgcHg9c3RhcnRYK2kqKGNhcmRXKzEwKTsNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC41NSkiOw0KICAgICAgcnIoYyxweCxzdGFydFksY2FyZFcsY2FyZEgsMTYpOyBjLmZpbGwoKTsNCiAgICAgIGNvbnN0IGFjdGl2ZSA9IChpPT09c3RlcCk7DQogICAgICBjLnN0cm9rZVN0eWxlPWFjdGl2ZSA/ICJyZ2JhKDI1MCwyMDQsMjEsMC42MCkiIDogInJnYmEoMjI2LDIzMiwyNDAsMC4xNikiOw0KICAgICAgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCg0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC45MikiOw0KICAgICAgYy5mb250PSJib2xkIDE2cHggc3lzdGVtLXVpIjsNCiAgICAgIGMuZmlsbFRleHQoY2FyZHNbaV0udGl0bGUsIHB4KzE0LCBzdGFydFkrMjgpOw0KDQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjgyKSI7DQogICAgICBjLmZvbnQ9IjEycHggc3lzdGVtLXVpIjsNCiAgICAgIGNhcmRzW2ldLmxpbmVzLmZvckVhY2goKEwsayk9PiBjLmZpbGxUZXh0KCLigKIgIitMLCBweCsxNCwgc3RhcnRZKzYwK2sqMTgpKTsNCg0KICAgICAgaWYoYWN0aXZlKXsNCiAgICAgICAgY29uc3QgcD0wLjUrMC41Kk1hdGguc2luKHQqMi40KTsNCiAgICAgICAgYy5nbG9iYWxBbHBoYT0wLjEwKzAuMTgqcDsNCiAgICAgICAgYy5maWxsU3R5bGU9Y2FyZHNbaV0uY29sOw0KICAgICAgICBycihjLHB4LHN0YXJ0WSxjYXJkVyxjYXJkSCwxNik7IGMuZmlsbCgpOw0KICAgICAgfQ0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiA5KSBHZW5lIC0+IHByb3RlaW4gLT4gdHJhaXQgKi8NCnNjZW5lcy5nZW5lVG9Qcm90ZWluID0gew0KICBzdGVwczogNSwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogRE5BIGNvbnRhaW5zIGdlbmUgKGluc3RydWN0aW9uKS4iLA0KICAgICAgIlN0ZXAgMjogR2VuZSBjb2RlcyBmb3IgcHJvdGVpbi4iLA0KICAgICAgIlN0ZXAgMzogUHJvdGVpbiB3b3JrcyBhcyBlbnp5bWUvaG9ybW9uZS9zdHJ1Y3R1cmUgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBQcm90ZWluIGVmZmljaWVuY3kgYWZmZWN0cyB0cmFpdCAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDU6IERpZmZlcmVudCBhbGxlbGVzIOKGkiBkaWZmZXJlbnQgcHJvdGVpbnMg4oaSIGRpZmZlcmVudCB0cmFpdHMgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE2LCBidz13KjAuODgsIGJoPWgqMC42NjsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiVHJhaXQgZXhwcmVzc2lvbjogZ2VuZSDihpIgcHJvdGVpbiDihpIgdHJhaXQgKGNvbmNlcHQpIOKAkyBOZXh0IHN0ZXAiKTsNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCg0KICAgIGNvbnN0IG5vZGVzID0gWw0KICAgICAge25hbWU6IkROQSAvIEdlbmUiLCBjb2w6InJnYmEoNTksMTMwLDI0NiwwLjI1KSJ9LA0KICAgICAge25hbWU6IlByb3RlaW4iLCBjb2w6InJnYmEoMzQsMTk3LDk0LDAuMjApIn0sDQogICAgICB7bmFtZToiVHJhaXQgKHBoZW5vdHlwZSkiLCBjb2w6InJnYmEoMjQ1LDE1OCwxMSwwLjE4KSJ9DQogICAgXTsNCiAgICBjb25zdCBweD1beCtidyowLjIyLCB4K2J3KjAuNTAsIHgrYncqMC43OF07DQogICAgY29uc3QgcHk9eStiaCowLjUyOw0KDQogICAgZm9yKGxldCBpPTA7aTwzO2krKyl7DQogICAgICBjb25zdCBhY3RpdmUgPSAoaTw9c3RlcC8yKTsNCiAgICAgIHN0cm9rZURvdChjLHB4W2ldLHB5LDI4LG5vZGVzW2ldLmNvbCwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIsMik7DQogICAgICB0ZXh0KGMscHhbaV0tNDAscHkrNTIsbm9kZXNbaV0ubmFtZSwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgICAgaWYoaTwyKXsNCiAgICAgICAgYXJyb3coYyxweFtpXSszNCxweSxweFtpKzFdLTM0LHB5LCBhY3RpdmUgPyAicmdiYSgyNTAsMjA0LDIxLDAuMzApIiA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIik7DQogICAgICB9DQogICAgfQ0KDQogICAgaWYoc3RlcD49Mil7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODIsIlByb3RlaW5zIGNvbnRyb2wgY2hlbWljYWwgcmVhY3Rpb25zICYgYm9keSBmdW5jdGlvbnMgKGNvbmNlcHQpLiIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICB9DQogICAgaWYoc3RlcD49Myl7DQogICAgICB0ZXh0KGMseCsxOCx5K2JoKjAuODYsIkRpZmZlcmVudCBhbGxlbGVzIGNhbiBjaGFuZ2UgcHJvdGVpbiBlZmZpY2llbmN5IOKGkiB0cmFpdCBjaGFuZ2VzIChjb25jZXB0KS4iLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAxMCkgU2V4IGRldGVybWluYXRpb24gWFkgKi8NCnNjZW5lcy5zZXhEZXRlcm1pbmF0aW9uWFkgPSB7DQogIHN0ZXBzOiA2LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBGZW1hbGUgPSBYWDsgTWFsZSA9IFhZIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMjogRWdnIGFsd2F5cyBjYXJyaWVzIFggKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBTcGVybXMgYXJlIG9mIHR3byB0eXBlczogWCBhbmQgWSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDQ6IFggc3Blcm0gKyBYIGVnZyDihpIgWFggKGdpcmwpIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNTogWSBzcGVybSArIFggZWdnIOKGkiBYWSAoYm95KSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDY6IFRoZXJlZm9yZSBmYXRoZXIgZGV0ZXJtaW5lcyBzZXggb2YgY2hpbGQgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyxwbGF5aW5nKXsNCiAgICBiZyhjLHcsaCk7DQogICAgY29uc3QgeD13KjAuMDYsIHk9aCowLjE0LCBidz13KjAuODgsIGJoPWgqMC43MDsNCiAgICBwYW5lbChjLHgseSxidyxiaCwiU2V4IGRldGVybWluYXRpb24gaW4gaHVtYW5zIChYWC9YWSkg4oCTIE5leHQgc3RlcCIpOw0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgLy8gcGFyZW50cw0KICAgIGNvbnN0IGZ4PXgrYncqMC4yNSwgZnk9eStiaCowLjMwOw0KICAgIGNvbnN0IG14PXgrYncqMC4yNSwgbXk9eStiaCowLjU4Ow0KDQogICAgdGV4dChjLGZ4LTQwLGZ5LTMwLCJGZW1hbGUgKFhYKSIsMC45LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCiAgICBzdHJva2VEb3QoYyxmeCxmeSwyMiwicmdiYSgyNDQsNjMsOTQsMC4xMCkiLCJyZ2JhKDI0NCw2Myw5NCwwLjMwKSIsMik7DQogICAgdGV4dChjLGZ4LTEyLGZ5KzQsIlhYIiwwLjk1LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCg0KICAgIHRleHQoYyxteC00MCxteS0zMCwiTWFsZSAoWFkpIiwwLjksInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KICAgIHN0cm9rZURvdChjLG14LG15LDIyLCJyZ2JhKDU5LDEzMCwyNDYsMC4xMCkiLCJyZ2JhKDU5LDEzMCwyNDYsMC4zMCkiLDIpOw0KICAgIHRleHQoYyxteC0xMixteSs0LCJYWSIsMC45NSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQoNCiAgICAvLyBnYW1ldGVzDQogICAgY29uc3QgZWdnWD14K2J3KjAuNDUsIGVnZ1k9eStiaCowLjMwOw0KICAgIGNvbnN0IHNwWDE9eCtidyowLjQ1LCBzcFkxPXkrYmgqMC41NjsNCiAgICBjb25zdCBzcFgyPXgrYncqMC40NSwgc3BZMj15K2JoKjAuNjQ7DQoNCiAgICBpZihzdGVwPj0xKXsNCiAgICAgIGFycm93KGMsZngrMjgsZnksZWdnWC0yOCxlZ2dZLCJyZ2JhKDI0NCw2Myw5NCwwLjIyKSIpOw0KICAgICAgc3Ryb2tlRG90KGMsZWdnWCxlZ2dZLDE4LCJyZ2JhKDI0NCw2Myw5NCwwLjA4KSIsInJnYmEoMjQ0LDYzLDk0LDAuMzApIiwyKTsNCiAgICAgIHRleHQoYyxlZ2dYLTYsZWdnWSs0LCJYIiwwLjk1LCJyZ2JhKDI1MSwxMTMsMTMzLDEpIix0cnVlKTsNCiAgICAgIHRleHQoYyxlZ2dYKzIyLGVnZ1krNCwiRWdnIiwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA+PTIpew0KICAgICAgYXJyb3coYyxteCsyOCxteSxzcFgxLTI4LHNwWTEsInJnYmEoNTksMTMwLDI0NiwwLjIyKSIpOw0KICAgICAgYXJyb3coYyxteCsyOCxteSxzcFgyLTI4LHNwWTIsInJnYmEoNTksMTMwLDI0NiwwLjIyKSIpOw0KDQogICAgICBzdHJva2VEb3QoYyxzcFgxLHNwWTEsMTYsInJnYmEoNTksMTMwLDI0NiwwLjA4KSIsInJnYmEoNTksMTMwLDI0NiwwLjMwKSIsMik7DQogICAgICBzdHJva2VEb3QoYyxzcFgyLHNwWTIsMTYsInJnYmEoNTksMTMwLDI0NiwwLjA4KSIsInJnYmEoNTksMTMwLDI0NiwwLjMwKSIsMik7DQogICAgICB0ZXh0KGMsc3BYMS02LHNwWTErNCwiWCIsMC45NSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQogICAgICB0ZXh0KGMsc3BYMi02LHNwWTIrNCwiWSIsMC45NSwicmdiYSgxNDcsMTk3LDI1MywxKSIsdHJ1ZSk7DQogICAgICB0ZXh0KGMsc3BYMisyNCxzcFkyKzQsIlNwZXJtcyIsMC45LCJyZ2JhKDIyNiwyMzIsMjQwLDEpIix0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBvdXRjb21lcw0KICAgIGNvbnN0IG94PXgrYncqMC43Miwgb3k9eStiaCowLjQyOw0KICAgIGNvbnN0IG94Mj14K2J3KjAuNzIsIG95Mj15K2JoKjAuNjI7DQoNCiAgICBycihjLG94LTExMCxveS01MCwyMjAsOTAsMTgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE1LDIzLDQyLDAuNTUpIjsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE2KSI7IGMuc3Ryb2tlKCk7DQoNCiAgICBycihjLG94Mi0xMTAsb3kyLTUwLDIyMCw5MCwxOCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC41NSkiOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTYpIjsgYy5zdHJva2UoKTsNCg0KICAgIGlmKHN0ZXA+PTMpew0KICAgICAgYXJyb3coYyxlZ2dYKzIyLGVnZ1ksb3gtMTEwLG95LTYsInJnYmEoMjUwLDIwNCwyMSwwLjIyKSIpOw0KICAgICAgYXJyb3coYyxzcFgxKzE4LHNwWTEsb3gtMTEwLG95KzIwLCJyZ2JhKDI1MCwyMDQsMjEsMC4yMikiKTsNCiAgICAgIHRleHQoYyxveC00MCxveS04LCJYWCIsMC45NSwicmdiYSgyNTEsMTEzLDEzMywxKSIsdHJ1ZSk7DQogICAgICB0ZXh0KGMsb3gtNzAsb3krMjIsIkdpcmwgKGNvbmNlcHQpIiwwLjksInJnYmEoMjI2LDIzMiwyNDAsMSkiLHRydWUpOw0KICAgIH0NCiAgICBpZihzdGVwPj00KXsNCiAgICAgIGFycm93KGMsZWdnWCsyMixlZ2dZLG94Mi0xMTAsb3kyLTYsInJnYmEoMjUwLDIwNCwyMSwwLjIyKSIpOw0KICAgICAgYXJyb3coYyxzcFgyKzE4LHNwWTIsb3gyLTExMCxveTIrMjAsInJnYmEoMjUwLDIwNCwyMSwwLjIyKSIpOw0KICAgICAgdGV4dChjLG94Mi00MCxveTItOCwiWFkiLDAuOTUsInJnYmEoMTQ3LDE5NywyNTMsMSkiLHRydWUpOw0KICAgICAgdGV4dChjLG94Mi03MCxveTIrMjIsIkJveSAoY29uY2VwdCkiLDAuOSwicmdiYSgyMjYsMjMyLDI0MCwxKSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHN0ZXA+PTUpew0KICAgICAgdGV4dChjLHgrMTgseStiaCowLjg4LCJFZ2cgYWx3YXlzIFg7IHNwZXJtIFggb3IgWSDihpIgZmF0aGVyIGRldGVybWluZXMgc2V4IChjb25jZXB0KS4iLDAuOTUsInJnYmEoMjUzLDIzMCwxMzgsMSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgSU5JVA0KPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KZnVuY3Rpb24gaW5pdCgpew0KICByZW5kZXJOYXYoKTsNCiAgc2VsZWN0VG9waWModG9waWNzWzBdLmlkKTsNCn0NCmluaXQoKTsNCjwvc2NyaXB0Pg0KPC9ib2R5Pg0KPC9odG1sPg0K"}, {"id": "ch9", "file": "ch9.html", "title": "Class 10 \u2013 Light: Reflection & Refraction (Ray Diagrams)", "b64": "PCFkb2N0eXBlIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0idXRmLTgiIC8+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xIiAvPg0KICA8dGl0bGU+Q2xhc3MgMTAg4oCTIExpZ2h0OiBSZWZsZWN0aW9uICYgUmVmcmFjdGlvbiAoUmF5IERpYWdyYW1zKTwvdGl0bGU+DQogIDxzdHlsZT4NCiAgICA6cm9vdHsNCiAgICAgIC0tYmcwOiMwNTA4MTY7IC0tYmcxOiMwYjEyMjM7IC0tY2FyZDpyZ2JhKDE1LDIzLDQyLC45Mik7DQogICAgICAtLWxpbmU6cmdiYSgyMjYsMjMyLDI0MCwuMTYpOyAtLWluazojZTJlOGYwOyAtLW11dGVkOiM5NGEzYjg7DQogICAgICAtLWJsdWU6IzYwYTVmYTsgLS12aW86I2E3OGJmYTsgLS1ncmVlbjojMzRkMzk5OyAtLWFtYmVyOiNmYmJmMjQ7IC0tcmVkOiNmYjcxODU7DQogICAgfQ0KICAgICp7Ym94LXNpemluZzpib3JkZXItYm94fQ0KICAgIGJvZHl7DQogICAgICBtYXJnaW46MDsgY29sb3I6dmFyKC0taW5rKTsNCiAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxTZWdvZSBVSSxSb2JvdG8sQXJpYWwsc2Fucy1zZXJpZjsNCiAgICAgIGJhY2tncm91bmQ6DQogICAgICAgIHJhZGlhbC1ncmFkaWVudCgxMTAwcHggNjgwcHggYXQgMTglIDEwJSwgcmdiYSg1OSwxMzAsMjQ2LC4xOCksIHRyYW5zcGFyZW50IDU1JSksDQogICAgICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA2MjBweCBhdCA4MiUgMTYlLCByZ2JhKDEzOSw5MiwyNDYsLjE4KSwgdHJhbnNwYXJlbnQgNjAlKSwNCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KDkwMHB4IDYwMHB4IGF0IDU1JSAxMDAlLCByZ2JhKDI0NSwxNTgsMTEsLjE0KSwgdHJhbnNwYXJlbnQgNTUlKSwNCiAgICAgICAgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tYmcwKSAwJSwgIzFlMWI0YiAxMDAlKTsNCiAgICAgIG1pbi1oZWlnaHQ6MTAwdmg7DQogICAgfQ0KICAgIGhlYWRlcnsNCiAgICAgIHBhZGRpbmc6MTZweCA1dnc7DQogICAgICBwb3NpdGlvbjpzdGlja3k7IHRvcDowOyB6LWluZGV4OjUwOw0KICAgICAgYmFja2dyb3VuZDpyZ2JhKDE1LDIzLDQyLC45Mik7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6Ymx1cigxNHB4KTsNCiAgICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsNCiAgICB9DQogICAgaGVhZGVyIGgxew0KICAgICAgbWFyZ2luOjAgMCA4cHg7DQogICAgICBmb250LXNpemU6Y2xhbXAoMS4ycmVtLDR2dywxLjlyZW0pOw0KICAgICAgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCMzYjgyZjYsIzhiNWNmNiwjMjJjNTVlLCNmNTllMGIpOw0KICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6dGV4dDsgYmFja2dyb3VuZC1jbGlwOnRleHQ7IC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOnRyYW5zcGFyZW50Ow0KICAgIH0NCiAgICAuY29udHJvbHN7ZGlzcGxheTpmbGV4OyBnYXA6MTJweDsgZmxleC13cmFwOndyYXA7IGFsaWduLWl0ZW1zOmNlbnRlcn0NCiAgICBpbnB1dFt0eXBlPSJzZWFyY2giXXsNCiAgICAgIHBhZGRpbmc6OHB4IDE2cHg7IGJvcmRlci1yYWRpdXM6OTk5cHg7DQogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwuNDUpOw0KICAgICAgYmFja2dyb3VuZDpyZ2JhKDE1LDIzLDQyLC43NSk7IGNvbG9yOnZhcigtLWluayk7DQogICAgICBvdXRsaW5lOm5vbmU7IG1pbi13aWR0aDoyNjBweDsNCiAgICB9DQogICAgaW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOnZhcigtLW11dGVkKX0NCiAgICAubGF5b3V0ew0KICAgICAgZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDM2MHB4IDFmcjsNCiAgICAgIGdhcDoxNnB4OyBwYWRkaW5nOjE2cHggNXZ3IDU2cHg7DQogICAgICBtYXgtd2lkdGg6MTgwMHB4OyBtYXJnaW46MCBhdXRvOw0KICAgIH0NCiAgICBAbWVkaWEobWF4LXdpZHRoOjExMDBweCl7IC5sYXlvdXR7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmcn0gfQ0KICAgIG5hdiwgbWFpbnsNCiAgICAgIGJhY2tncm91bmQ6dmFyKC0tY2FyZCk7DQogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwuMjIpOw0KICAgICAgYm9yZGVyLXJhZGl1czoxOHB4Ow0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE0cHgpOw0KICAgICAgYm94LXNoYWRvdzogMCAxOHB4IDYwcHggcmdiYSgwLDAsMCwuNDIpOw0KICAgIH0NCiAgICBuYXZ7IHBhZGRpbmc6MTRweDsgbWF4LWhlaWdodDpjYWxjKDEwMHZoIC0gMTQwcHgpOyBvdmVyZmxvdzphdXRvOyB9DQogICAgbmF2IGgyew0KICAgICAgbWFyZ2luOjAgMCAxMHB4OyBmb250LXNpemU6Ljk1cmVtOw0KICAgICAgY29sb3I6IzkzYzVmZDsgdGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlOyBsZXR0ZXItc3BhY2luZzouMDZlbTsNCiAgICB9DQogICAgLnRvcGljew0KICAgICAgcGFkZGluZzoxMHB4IDEycHg7IGJvcmRlci1yYWRpdXM6MTJweDsgY3Vyc29yOnBvaW50ZXI7DQogICAgICBib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50OyB1c2VyLXNlbGVjdDpub25lOw0KICAgICAgdHJhbnNpdGlvbjphbGwgLjE4cyBlYXNlOw0KICAgIH0NCiAgICAudG9waWM6aG92ZXJ7IGJhY2tncm91bmQ6cmdiYSg1OSwxMzAsMjQ2LC4xMCk7IGJvcmRlci1jb2xvcjpyZ2JhKDU5LDEzMCwyNDYsLjM1KTsgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoNHB4KTsgfQ0KICAgIC50b3BpYy5hY3RpdmV7DQogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIzNiODJmNiwjNjBhNWZhKTsNCiAgICAgIGNvbG9yOiMwZjE3MmE7IGJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDsNCiAgICAgIGJveC1zaGFkb3c6MCA4cHggMThweCByZ2JhKDU5LDEzMCwyNDYsLjIyKTsNCiAgICB9DQogICAgLnRvcGljIHNtYWxseyBvcGFjaXR5Oi44NSB9DQogICAgbWFpbnsgcGFkZGluZzoxOHB4OyB9DQogICAgLmJhZGdlew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7IHBhZGRpbmc6NHB4IDEycHg7IGJvcmRlci1yYWRpdXM6OTk5cHg7DQogICAgICBmb250LXNpemU6Ljc4cmVtOyBjb2xvcjojZmJiZjI0Ow0KICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI0NSwxNTgsMTEsLjU1KTsNCiAgICAgIGJhY2tncm91bmQ6cmdiYSgyNDUsMTU4LDExLC4xMCk7DQogICAgICBtYXJnaW4tYm90dG9tOjhweDsNCiAgICB9DQogICAgaDJ7IG1hcmdpbjogNnB4IDAgMDsgZm9udC1zaXplOjEuNDVyZW07IH0NCiAgICAudHdvew0KICAgICAgZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDEuMjVmciAuNzVmcjsgZ2FwOjE0cHg7DQogICAgICBtYXJnaW4tdG9wOjE0cHg7DQogICAgfQ0KICAgIEBtZWRpYShtYXgtd2lkdGg6MTEwMHB4KXsgLnR3b3sgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmcjsgfSB9DQogICAgLnBhbmVsew0KICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDEzOSw5MiwyNDYsLjM4KTsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMzAsNDEsNTksLjcyKSwgcmdiYSgxNSwyMyw0MiwuODUpKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6MTZweDsNCiAgICAgIHBhZGRpbmc6MTJweDsNCiAgICB9DQogICAgLnBhbmVsIGgzew0KICAgICAgbWFyZ2luOjAgMCAxMHB4OyBmb250LXNpemU6MS4wNXJlbTsgY29sb3I6I2M0YjVmZDsNCiAgICAgIGJvcmRlci1sZWZ0OjNweCBzb2xpZCAjOGI1Y2Y2OyBwYWRkaW5nLWxlZnQ6MTBweDsNCiAgICB9DQogICAgLm5vdGV7IGNvbG9yOnZhcigtLWluayk7IGxpbmUtaGVpZ2h0OjEuNjsgZm9udC1zaXplOi45NnJlbTsgbWFyZ2luOjA7IH0NCiAgICB1bHsgbWFyZ2luOjEwcHggMCAwOyBwYWRkaW5nLWxlZnQ6MThweDsgfQ0KICAgIGxpeyBjb2xvcjp2YXIoLS1pbmspOyBsaW5lLWhlaWdodDoxLjU1OyBmb250LXNpemU6Ljk1cmVtOyB9DQogICAgLnRvb2xyb3d7DQogICAgICBkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBmbGV4LXdyYXA6d3JhcDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsNCiAgICAgIG1hcmdpbi1ib3R0b206OHB4OyBjb2xvcjojZGRkNmZlOyBmb250LXNpemU6Ljg2cmVtOw0KICAgIH0NCiAgICAuYnRuc3sgZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBmbGV4LXdyYXA6d3JhcDsgYWxpZ24taXRlbXM6Y2VudGVyOyB9DQogICAgYnV0dG9uew0KICAgICAgYmFja2dyb3VuZDpyZ2JhKDEzOSw5MiwyNDYsLjE2KTsgY29sb3I6dmFyKC0taW5rKTsNCiAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgxMzksOTIsMjQ2LC41NSk7DQogICAgICBib3JkZXItcmFkaXVzOjk5OXB4OyBwYWRkaW5nOjZweCAxNHB4Ow0KICAgICAgY3Vyc29yOnBvaW50ZXI7IHRyYW5zaXRpb246YWxsIC4xOHM7IGZvbnQtc2l6ZTouODJyZW07DQogICAgfQ0KICAgIGJ1dHRvbjpob3ZlcnsgYmFja2dyb3VuZDpyZ2JhKDEzOSw5MiwyNDYsLjI4KTsgfQ0KICAgIGJ1dHRvbjpkaXNhYmxlZHsgb3BhY2l0eTouNTsgY3Vyc29yOm5vdC1hbGxvd2VkOyB9DQogICAgLnNsaWRlcnN7IGRpc3BsYXk6Z3JpZDsgZ2FwOjEwcHg7IG1hcmdpbi10b3A6MTBweDsgfQ0KICAgIC5zbGlkZXJ7DQogICAgICBkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDEuM2ZyIC41ZnI7DQogICAgICBnYXA6OHB4OyBhbGlnbi1pdGVtczpjZW50ZXI7DQogICAgICBiYWNrZ3JvdW5kOnJnYmEoMTUsMjMsNDIsLjU1KTsNCiAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwuMjIpOw0KICAgICAgYm9yZGVyLXJhZGl1czoxNHB4Ow0KICAgICAgcGFkZGluZzo4cHggMTBweDsNCiAgICAgIGNvbG9yOiNjYmQ1ZTE7IGZvbnQtc2l6ZTouODJyZW07DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InJhbmdlIl17IHdpZHRoOjEwMCU7IH0NCiAgICBjYW52YXN7DQogICAgICB3aWR0aDoxMDAlOyBoZWlnaHQ6NDIwcHg7IGRpc3BsYXk6YmxvY2s7DQogICAgICBib3JkZXItcmFkaXVzOjE0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyMCUsIHJnYmEoMTM5LDkyLDI0NiwuMTApLCAjMGYxNzJhKTsNCiAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgyMjYsMjMyLDI0MCwuMTApOw0KICAgIH0NCiAgICAuY2FwdGlvbnsNCiAgICAgIG1hcmdpbi10b3A6MTBweDsNCiAgICAgIHBhZGRpbmc6MTBweCAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czoxMnB4Ow0KICAgICAgYmFja2dyb3VuZDpyZ2JhKDM0LDE5Nyw5NCwuMDcpOw0KICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDM0LDE5Nyw5NCwuMjIpOw0KICAgICAgY29sb3I6I2QxZmFlNTsNCiAgICAgIGZvbnQtc2l6ZTouOTJyZW07IGxpbmUtaGVpZ2h0OjEuNTU7DQogICAgfQ0KICAgIC52aWRlb3sNCiAgICAgIGJvcmRlci1yYWRpdXM6MTRweDsgb3ZlcmZsb3c6aGlkZGVuOw0KICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsLjM1KTsNCiAgICAgIGJhY2tncm91bmQ6IzBmMTcyYTsgYXNwZWN0LXJhdGlvOjE2Lzk7DQogICAgfQ0KICAgIGlmcmFtZXsgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IGJvcmRlcjowOyB9DQogICAgLm1pbml7DQogICAgICBtYXJnaW4tdG9wOjEwcHg7DQogICAgICBjb2xvcjp2YXIoLS1tdXRlZCk7DQogICAgICBmb250LXNpemU6Ljg4cmVtOw0KICAgIH0NCiAgICBheyBjb2xvcjp2YXIoLS1ibHVlKTsgdGV4dC1kZWNvcmF0aW9uOm5vbmUgfQ0KICAgIGE6aG92ZXJ7IHRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUgfQ0KICAgIC5waWxsew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7IHBhZGRpbmc6MnB4IDhweDsgYm9yZGVyLXJhZGl1czo5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTouNzRyZW07IG1hcmdpbi1sZWZ0OjhweDsNCiAgICAgIGJhY2tncm91bmQ6cmdiYSgwLDAsMCwuMzUpOyBjb2xvcjojZTJlOGYwOw0KICAgIH0NCiAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KPGhlYWRlcj4NCiAgPGgxPkxpZ2h0OiBSZWZsZWN0aW9uICYgUmVmcmFjdGlvbiDigJMgUmF5IERpYWdyYW1zIChDbGFzcyAxMCk8L2gxPg0KICA8ZGl2IGNsYXNzPSJjb250cm9scyI+DQogICAgPGlucHV0IGlkPSJzZWFyY2giIHR5cGU9InNlYXJjaCIgcGxhY2Vob2xkZXI9IlNlYXJjaDogcGxhbmUgbWlycm9yLCBjb25jYXZlLCBjb252ZXgsIHNpZ24gY29udmVudGlvbiwgc2xhYiwgU25lbGwsIGxlbnMuLi4iIC8+DQogICAgPGRpdiBzdHlsZT0iY29sb3I6Izk0YTNiODtmb250LXNpemU6LjlyZW07Ij5BY2N1cmF0ZSBkaWFncmFtIG1vZGVzICsgaW50ZXJhY3RpdmUgc2xpZGVyczwvZGl2Pg0KICA8L2Rpdj4NCjwvaGVhZGVyPg0KDQo8ZGl2IGNsYXNzPSJsYXlvdXQiPg0KICA8bmF2Pg0KICAgIDxoMj5Ub3BpY3M8L2gyPg0KICAgIDxkaXYgaWQ9InRvcGljcyI+PC9kaXY+DQogIDwvbmF2Pg0KDQogIDxtYWluPg0KICAgIDxkaXYgaWQ9ImNvbnRlbnQiPjwvZGl2Pg0KICA8L21haW4+DQo8L2Rpdj4NCg0KPHNjcmlwdD4NCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogICBEQVRBICh0b3BpYyBzdHJ1Y3R1cmUpDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KY29uc3QgWVQgPSB7DQogIHdhdGNoOiAiaHR0cHM6Ly95b3V0dS5iZS9NZTVlaE5jdlVMdyIsDQogIGVtYmVkOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvTWU1ZWhOY3ZVTHciDQp9Ow0KDQpjb25zdCBUT1BJQ1MgPSBbDQogIHsNCiAgICBpZDoibGF3cy1yZWZsZWN0aW9uIiwNCiAgICB0aXRsZToiTGF3cyBvZiByZWZsZWN0aW9uIChwbGFuZSBtaXJyb3IpIiwNCiAgICB0YWc6IlJlZmxlY3Rpb24iLA0KICAgIG5vdGVzOlsNCiAgICAgICJJbnRlcmFjdGl2ZTogc2V0IGluY2lkZW5jZSBhbmdsZSBhbmQgc2VlIHJlZmxlY3RlZCByYXkgd2l0aCBpID0gci4iLA0KICAgICAgIlNob3dzIGluY2lkZW50IHJheSwgbm9ybWFsLCByZWZsZWN0ZWQgcmF5IChzaW5nbGUtcGxhbmUgZGlhZ3JhbSkuIg0KICAgIF0sDQogICAgYW5pbWF0aW9uOiJwbGFuZVJlZmxlY3Rpb24iDQogIH0sDQogIHsNCiAgICBpZDoicGxhbmUtbWlycm9yLWltYWdlIiwNCiAgICB0aXRsZToiUGxhbmUgbWlycm9yIGltYWdlICh2aXJ0dWFsLCBlcmVjdCwgbGF0ZXJhbGx5IGludmVydGVkIGNvbmNlcHQpIiwNCiAgICB0YWc6IlJlZmxlY3Rpb24iLA0KICAgIG5vdGVzOlsNCiAgICAgICJJbnRlcmFjdGl2ZTogbW92ZSBvYmplY3Q7IGltYWdlIGFwcGVhcnMgc3ltbWV0cmljIGJlaGluZCBtaXJyb3IuIiwNCiAgICAgICJTaG93cyB3aHkgaW1hZ2UgaXMgdmlydHVhbCAoZGFzaGVkIGJhY2t3YXJkIGV4dGVuc2lvbnMpLiINCiAgICBdLA0KICAgIGFuaW1hdGlvbjoicGxhbmVNaXJyb3JJbWFnZSINCiAgfSwNCiAgew0KICAgIGlkOiJzcGhlcmljYWwtdGVybXMiLA0KICAgIHRpdGxlOiJTcGhlcmljYWwgbWlycm9yczogUCwgRiwgQywgUiwgcHJpbmNpcGFsIGF4aXMiLA0KICAgIHRhZzoiU3BoZXJpY2FsIG1pcnJvcnMiLA0KICAgIG5vdGVzOlsNCiAgICAgICJTd2l0Y2ggY29uY2F2ZS9jb252ZXggYW5kIGFkanVzdCBmb2NhbCBsZW5ndGguIiwNCiAgICAgICJEaXNwbGF5cyBwb2xlIFAsIGZvY3VzIEYsIGNlbnRyZSBDIGFuZCBSID0gMmYgbWFya2Vycy4iDQogICAgXSwNCiAgICBhbmltYXRpb246Im1pcnJvclRlcm1zIg0KICB9LA0KICB7DQogICAgaWQ6ImNvbmNhdmUtcmF5IiwNCiAgICB0aXRsZToiQ29uY2F2ZSBtaXJyb3IgcmF5IGRpYWdyYW0gKGFsbCA2IGNhc2VzKSIsDQogICAgdGFnOiJDb25jYXZlIG1pcnJvciIsDQogICAgbm90ZXM6Ww0KICAgICAgIlBpY2sgYSBwcmVzZXQgY2FzZSAo4oieLCBiZXlvbmQgQywgYXQgQywgYmV0d2VlbiBDJkYsIGF0IEYsIGJldHdlZW4gUCZGKS4iLA0KICAgICAgIlVzZXMgbWlycm9yIGZvcm11bGEgKyBtYWduaWZpY2F0aW9uIHRvIHBsYWNlIGltYWdlIHBvaW50LCB0aGVuIGRyYXdzIHN0YW5kYXJkIHJheXMuIg0KICAgIF0sDQogICAgYW5pbWF0aW9uOiJjb25jYXZlQ2FzZXMiDQogIH0sDQogIHsNCiAgICBpZDoiY29udmV4LXJheSIsDQogICAgdGl0bGU6IkNvbnZleCBtaXJyb3IgcmF5IGRpYWdyYW0gKDIgY2FzZXMpIiwNCiAgICB0YWc6IkNvbnZleCBtaXJyb3IiLA0KICAgIG5vdGVzOlsNCiAgICAgICJPYmplY3QgYXQgaW5maW5pdHkgb3IgZmluaXRlIGRpc3RhbmNlLiIsDQogICAgICAiVmlydHVhbCwgZXJlY3QsIGRpbWluaXNoZWQgaW1hZ2UgYmVoaW5kIG1pcnJvci4iDQogICAgXSwNCiAgICBhbmltYXRpb246ImNvbnZleENhc2VzIg0KICB9LA0KICB7DQogICAgaWQ6InNpZ24tbWlycm9yIiwNCiAgICB0aXRsZToiTmV3IENhcnRlc2lhbiBzaWduIGNvbnZlbnRpb24gKG1pcnJvcnMpIiwNCiAgICB0YWc6Ik51bWVyaWNhbHMiLA0KICAgIG5vdGVzOlsNCiAgICAgICJNb3ZlIG9iamVjdCBhbmQgc2VlIHUgKG5lZ2F0aXZlKSwgdiBzaWduLCBhbmQgZiBzaWduIHVwZGF0ZS4iLA0KICAgICAgIk1hdGNoZXMgTkNFUlQgY29udmVudGlvbjogcmlnaHQgKCt4KSwgbGVmdCAo4oiSeCk7IGFib3ZlIGF4aXMgKCt5KSwgYmVsb3cgKOKIknkpLiINCiAgICBdLA0KICAgIGFuaW1hdGlvbjoic2lnbkNvbnZlbnRpb25NaXJyb3IiDQogIH0sDQogIHsNCiAgICBpZDoibWlycm9yLWZvcm11bGEiLA0KICAgIHRpdGxlOiJNaXJyb3IgZm9ybXVsYSArIG1hZ25pZmljYXRpb24gKGNhbGN1bGF0b3IgKyBkaWFncmFtKSIsDQogICAgdGFnOiJOdW1lcmljYWxzIiwNCiAgICBub3RlczpbDQogICAgICAiRW50ZXIgdSBhbmQgZjsgYXV0by1jb21wdXRlIHYgdXNpbmcgMS9mID0gMS92ICsgMS91LiIsDQogICAgICAiU2hvd3MgbSA9IOKIknYvdSBhbmQgaW1hZ2UgaGVpZ2h0IHNpZ24gKGludmVydGVkID0gbmVnYXRpdmUpLiINCiAgICBdLA0KICAgIGFuaW1hdGlvbjoibWlycm9yRm9ybXVsYSINCiAgfSwNCiAgew0KICAgIGlkOiJyZWZyYWN0aW9uLXNsYWIiLA0KICAgIHRpdGxlOiJSZWZyYWN0aW9uIHRocm91Z2ggcmVjdGFuZ3VsYXIgZ2xhc3Mgc2xhYiIsDQogICAgdGFnOiJSZWZyYWN0aW9uIiwNCiAgICBub3RlczpbDQogICAgICAiVXNlcyBTbmVsbOKAmXMgbGF3IHRvIGJlbmQgYXQgZmlyc3Qgc3VyZmFjZSBhbmQgdW5iZW5kIGF0IHNlY29uZC4iLA0KICAgICAgIkVtZXJnZW50IHJheSBiZWNvbWVzIHBhcmFsbGVsIHRvIGluY2lkZW50OyBsYXRlcmFsIHNoaWZ0IHNob3duLiINCiAgICBdLA0KICAgIGFuaW1hdGlvbjoiZ2xhc3NTbGFiIg0KICB9LA0KICB7DQogICAgaWQ6InNuZWxsLW4iLA0KICAgIHRpdGxlOiJTbmVsbOKAmXMgbGF3ICsgcmVmcmFjdGl2ZSBpbmRleCAobiA9IGMvdikiLA0KICAgIHRhZzoiUmVmcmFjdGlvbiIsDQogICAgbm90ZXM6Ww0KICAgICAgIkFkanVzdCBuIChhaXLihpJtZWRpdW0pIGFuZCBzZWUgYW5nbGUgciBjaGFuZ2UuIiwNCiAgICAgICJTaG93cyBzcGVlZCByZWR1Y3Rpb24gaWRlYSB1c2luZyBuID0gYy92LiINCiAgICBdLA0KICAgIGFuaW1hdGlvbjoic25lbGxJbmRleCINCiAgfSwNCiAgew0KICAgIGlkOiJsZW5zLXJheSIsDQogICAgdGl0bGU6IkxlbnNlczogY29udmV4IHZzIGNvbmNhdmUgKGJhc2ljIHJheSBkaWFncmFtcykiLA0KICAgIHRhZzoiTGVuc2VzIiwNCiAgICBub3RlczpbDQogICAgICAiVGhpbiBsZW5zIHJheSBkaWFncmFtIHdpdGggb3B0aWNhbCBjZW50cmUgYW5kIGZvY2FsIHBvaW50cy4iLA0KICAgICAgIlVzZXMgbGVucyBmb3JtdWxhIDEvZiA9IDEvdiDiiJIgMS91IGFuZCBtYWduaWZpY2F0aW9uIG0gPSB2L3UuIg0KICAgIF0sDQogICAgYW5pbWF0aW9uOiJsZW5zRGlhZ3JhbXMiDQogIH0NCl07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogICBVSQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljcyIpOw0KY29uc3QgY29udGVudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRlbnQiKTsNCmNvbnN0IHNlYXJjaEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlYXJjaCIpOw0KDQpsZXQgY3VycmVudElkID0gVE9QSUNTWzBdLmlkOw0KDQpmdW5jdGlvbiByZW5kZXJOYXYoZmlsdGVyPSIiKXsNCiAgdG9waWNzRWwuaW5uZXJIVE1MID0gIiI7DQogIGNvbnN0IHEgPSBmaWx0ZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7DQogIGNvbnN0IGxpc3QgPSBUT1BJQ1MuZmlsdGVyKHQgPT4gKHQudGl0bGUrdC50YWcrdC5ub3Rlcy5qb2luKCIgIikpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkpOw0KICBsaXN0LmZvckVhY2goKHQsIGlkeCkgPT4gew0KICAgIGNvbnN0IGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICBkLmNsYXNzTmFtZSA9ICJ0b3BpYyIgKyAodC5pZD09PWN1cnJlbnRJZCA/ICIgYWN0aXZlIiA6ICIiKTsNCiAgICBkLmlubmVySFRNTCA9IGAke2lkeCsxfS4gJHt0LnRpdGxlfTxzcGFuIGNsYXNzPSJwaWxsIj4ke3QudGFnfTwvc3Bhbj48YnI+PHNtYWxsPiR7dC5ub3Rlc1swXX08L3NtYWxsPmA7DQogICAgZC5vbmNsaWNrID0gKCkgPT4gc2VsZWN0VG9waWModC5pZCk7DQogICAgdG9waWNzRWwuYXBwZW5kQ2hpbGQoZCk7DQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBzZWxlY3RUb3BpYyhpZCl7DQogIGN1cnJlbnRJZCA9IGlkOw0KICBjb25zdCB0ID0gVE9QSUNTLmZpbmQoeD0+eC5pZD09PWlkKTsNCiAgcmVuZGVyTmF2KHNlYXJjaEVsLnZhbHVlKTsNCiAgcmVuZGVyVG9waWModCk7DQp9DQoNCnNlYXJjaEVsLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZSA9PiByZW5kZXJOYXYoZS50YXJnZXQudmFsdWUpKTsNCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIENhbnZhcyBlbmdpbmUNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpsZXQgY2FudmFzLCBjdHgsIHJhZj1udWxsLCB0MD0wOw0KbGV0IHBsYXlpbmc9dHJ1ZTsNCg0KY29uc3Qgc2ltID0gew0KICBtb2RlOiJwbGFuZVJlZmxlY3Rpb24iLA0KICBzdGVwOjAsDQogIHN0ZXBzOjEsDQogIHBhcmFtczp7fQ0KfTsNCg0KZnVuY3Rpb24gZml0Q2FudmFzKCl7DQogIGNvbnN0IGRwciA9IE1hdGgubWF4KDEsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpOw0KICBjb25zdCByID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOw0KICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKHIud2lkdGgqZHByKTsNCiAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3Ioci5oZWlnaHQqZHByKTsNCiAgY3R4LnNldFRyYW5zZm9ybShkcHIsMCwwLGRwciwwLDApOw0KICByZXR1cm4ge3c6ci53aWR0aCxoOnIuaGVpZ2h0fTsNCn0NCg0KZnVuY3Rpb24gYmcodyxoKXsNCiAgY29uc3QgZyA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsMCxoKTsNCiAgZy5hZGRDb2xvclN0b3AoMCwiIzBiMTIyMyIpOw0KICBnLmFkZENvbG9yU3RvcCgxLCIjMDUwODE2Iik7DQogIGN0eC5maWxsU3R5bGU9ZzsgY3R4LmZpbGxSZWN0KDAsMCx3LGgpOw0KICBjdHguZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDgpIjsNCiAgY3R4LmZpbGxSZWN0KDAsaCowLjc4LHcsaCowLjIyKTsNCn0NCg0KZnVuY3Rpb24gcnIoeCx5LHcsaCxyKXsNCiAgY3R4LmJlZ2luUGF0aCgpOw0KICBjdHgubW92ZVRvKHgrcix5KTsNCiAgY3R4LmFyY1RvKHgrdyx5LHgrdyx5K2gscik7DQogIGN0eC5hcmNUbyh4K3cseStoLHgseStoLHIpOw0KICBjdHguYXJjVG8oeCx5K2gseCx5LHIpOw0KICBjdHguYXJjVG8oeCx5LHgrdyx5LHIpOw0KICBjdHguY2xvc2VQYXRoKCk7DQp9DQoNCmZ1bmN0aW9uIHBhbmVsKHgseSx3LGgsdGl0bGUpew0KICBjdHguc2F2ZSgpOw0KICBjdHguZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDYpIjsNCiAgcnIoeCx5LHcsaCwxNik7IGN0eC5maWxsKCk7DQogIGN0eC5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE2KSI7DQogIGN0eC5saW5lV2lkdGg9MS41OyBjdHguc3Ryb2tlKCk7DQogIGN0eC5maWxsU3R5bGU9InJnYmEoMTQ3LDE5NywyNTMsMC45NSkiOw0KICBjdHguZm9udD0iNzAwIDEycHggc3lzdGVtLXVpIjsNCiAgY3R4LmZpbGxUZXh0KHRpdGxlLCB4KzEyLCB5KzE4KTsNCiAgY3R4LnJlc3RvcmUoKTsNCn0NCg0KZnVuY3Rpb24gbGluZSh4MSx5MSx4Mix5Mixjb2xvcj0icmdiYSgyMjYsMjMyLDI0MCwwLjMwKSIsdz0yLGRhc2g9bnVsbCl7DQogIGN0eC5zYXZlKCk7DQogIGN0eC5zdHJva2VTdHlsZT1jb2xvcjsgY3R4LmxpbmVXaWR0aD13OyBjdHgubGluZUNhcD0icm91bmQiOw0KICBpZihkYXNoKSBjdHguc2V0TGluZURhc2goZGFzaCk7DQogIGN0eC5iZWdpblBhdGgoKTsgY3R4Lm1vdmVUbyh4MSx5MSk7IGN0eC5saW5lVG8oeDIseTIpOyBjdHguc3Ryb2tlKCk7DQogIGN0eC5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIGFycm93KHgxLHkxLHgyLHkyLGNvbG9yPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzApIil7DQogIGxpbmUoeDEseTEseDIseTIsY29sb3IsMik7DQogIGNvbnN0IGFuZz1NYXRoLmF0YW4yKHkyLXkxLHgyLXgxKTsNCiAgY29uc3QgTD0xMDsNCiAgbGluZSh4Mix5Mix4Mi1NYXRoLmNvcyhhbmctMC41KSpMLHkyLU1hdGguc2luKGFuZy0wLjUpKkwsY29sb3IsMik7DQogIGxpbmUoeDIseTIseDItTWF0aC5jb3MoYW5nKzAuNSkqTCx5Mi1NYXRoLnNpbihhbmcrMC41KSpMLGNvbG9yLDIpOw0KfQ0KDQpmdW5jdGlvbiBkb3QoeCx5LHIsZmlsbD0icmdiYSgyMjYsMjMyLDI0MCwwLjc1KSIsc3Ryb2tlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIil7DQogIGN0eC5zYXZlKCk7DQogIGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyh4LHksciwwLE1hdGguUEkqMik7DQogIGN0eC5maWxsU3R5bGU9ZmlsbDsgY3R4LmZpbGwoKTsNCiAgY3R4LnN0cm9rZVN0eWxlPXN0cm9rZTsgY3R4LmxpbmVXaWR0aD0yOyBjdHguc3Ryb2tlKCk7DQogIGN0eC5yZXN0b3JlKCk7DQp9DQoNCmZ1bmN0aW9uIHRleHQoeCx5LHMsY29sb3I9InJnYmEoMjI2LDIzMiwyNDAsMC45MikiLGJvbGQ9dHJ1ZSl7DQogIGN0eC5zYXZlKCk7DQogIGN0eC5maWxsU3R5bGU9Y29sb3I7DQogIGN0eC5mb250PShib2xkPyI3MDAgIjoiIikgKyAiMTJweCBzeXN0ZW0tdWkiOw0KICBjdHguZmlsbFRleHQocyx4LHkpOw0KICBjdHgucmVzdG9yZSgpOw0KfQ0KDQpmdW5jdGlvbiBjbGFtcCh2LGEsYil7IHJldHVybiBNYXRoLm1heChhLE1hdGgubWluKGIsdikpOyB9DQpmdW5jdGlvbiByYWQoZGVnKXsgcmV0dXJuIGRlZypNYXRoLlBJLzE4MDsgfQ0KZnVuY3Rpb24gZGVnKHIpeyByZXR1cm4gcioxODAvTWF0aC5QSTsgfQ0KDQpmdW5jdGlvbiB0b2dnbGVQbGF5KCl7DQogIHBsYXlpbmc9IXBsYXlpbmc7DQogIGNvbnN0IGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blBsYXkiKTsNCiAgaWYoYikgYi50ZXh0Q29udGVudCA9IHBsYXlpbmcgPyAiUGF1c2UiIDogIlBsYXkiOw0KfQ0KZnVuY3Rpb24gcmVwbGF5KCl7IHNpbS5zdGVwPTA7IHQwPXBlcmZvcm1hbmNlLm5vdygpOyB9DQpmdW5jdGlvbiBuZXh0U3RlcCgpeyBzaW0uc3RlcCA9IE1hdGgubWluKHNpbS5zdGVwcy0xLCBzaW0uc3RlcCsxKTsgfQ0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgUmVuZGVyaW5nIHRvcGljIGNvbnRlbnQNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQpmdW5jdGlvbiByZW5kZXJUb3BpYyh0b3BpYyl7DQogIGNvbnRlbnRFbC5pbm5lckhUTUwgPSBgDQogICAgPGRpdiBjbGFzcz0iYmFkZ2UiPiR7dG9waWMudGFnfTwvZGl2Pg0KICAgIDxoMj4ke3RvcGljLnRpdGxlfTwvaDI+DQoNCiAgICA8ZGl2IGNsYXNzPSJ0d28iPg0KICAgICAgPGRpdiBjbGFzcz0icGFuZWwiPg0KICAgICAgICA8aDM+RGlhZ3JhbSArIGNvbnRyb2xzPC9oMz4NCiAgICAgICAgPGRpdiBjbGFzcz0idG9vbHJvdyI+DQogICAgICAgICAgPGRpdj5Nb2RlOiA8c3Ryb25nPiR7dG9waWMuYW5pbWF0aW9ufTwvc3Ryb25nPjwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bnMiPg0KICAgICAgICAgICAgPGJ1dHRvbiBpZD0iYnRuUGxheSIgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJ0b2dnbGVQbGF5KCkiPlBhdXNlPC9idXR0b24+DQogICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0icmVwbGF5KCkiPlJlcGxheTwvYnV0dG9uPg0KICAgICAgICAgICAgPGJ1dHRvbiBpZD0iYnRuU3RlcCIgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJuZXh0U3RlcCgpIj5OZXh0IHN0ZXA8L2J1dHRvbj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxjYW52YXMgaWQ9ImMiPjwvY2FudmFzPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjYXB0aW9uIiBpZD0iY2FwdGlvbiI+PC9kaXY+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVycyIgaWQ9InNsaWRlcnMiPjwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InBhbmVsIj4NCiAgICAgICAgPGgzPlF1aWNrIG5vdGVzPC9oMz4NCiAgICAgICAgPHAgY2xhc3M9Im5vdGUiPiR7dG9waWMubm90ZXNbMF19PC9wPg0KICAgICAgICA8dWw+DQogICAgICAgICAgJHt0b3BpYy5ub3Rlcy5zbGljZSgxKS5tYXAoeD0+YDxsaT4ke3h9PC9saT5gKS5qb2luKCIiKX0NCiAgICAgICAgPC91bD4NCiAgICAgICAgPGRpdiBzdHlsZT0iaGVpZ2h0OjEycHgiPjwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJ2aWRlbyI+DQogICAgICAgICAgPGlmcmFtZSBzcmM9IiR7WVQuZW1iZWR9IiBhbGxvdz0iYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJtaW5pIj5WaWRlbyByZWZlcmVuY2U6IDxhIGhyZWY9IiR7WVQud2F0Y2h9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciI+U3VubGlrZSBTdHVkeSDigJMgTGlnaHQgUmVmbGVjdGlvbiAmIFJlZnJhY3Rpb248L2E+PC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgYDsNCg0KICBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYyIpOw0KICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCg0KICBzaW0ubW9kZSA9IHRvcGljLmFuaW1hdGlvbjsNCiAgc2ltLnN0ZXAgPSAwOw0KICBzaW0uc3RlcHMgPSBTQ0VORVNbc2ltLm1vZGVdPy5zdGVwcyB8fCAxOw0KICBwbGF5aW5nID0gdHJ1ZTsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blBsYXkiKS50ZXh0Q29udGVudCA9ICJQYXVzZSI7DQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5TdGVwIikuZGlzYWJsZWQgPSAhKHNpbS5zdGVwcz4xKTsNCg0KICBidWlsZFNsaWRlcnMoc2ltLm1vZGUpOw0KDQogIGlmKHJhZikgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTsNCiAgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsNCiAgY29uc3QgbG9vcCA9IChub3cpPT57DQogICAgY29uc3QgZHQgPSAobm93IC0gdDApLzEwMDA7DQogICAgY29uc3Qge3csaH0gPSBmaXRDYW52YXMoKTsNCiAgICBiZyh3LGgpOw0KDQogICAgY29uc3Qgc2MgPSBTQ0VORVNbc2ltLm1vZGVdIHx8IFNDRU5FUy5wbGFuZVJlZmxlY3Rpb247DQogICAgc2ltLnN0ZXBzID0gc2Muc3RlcHMgfHwgMTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuU3RlcCIpLmRpc2FibGVkID0gIShzaW0uc3RlcHM+MSk7DQoNCiAgICBpZihwbGF5aW5nICYmIHNjLnRpY2spIHNjLnRpY2soZHQsIHNpbSk7DQogICAgc2MuZHJhdyh3LGgsZHQsc2ltKTsNCg0KICAgIGNvbnN0IGNhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXB0aW9uIik7DQogICAgY2FwLnRleHRDb250ZW50ID0gc2MuY2FwdGlvbiA/IHNjLmNhcHRpb24oc2ltLGR0KSA6ICIiOw0KICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsNCiAgfTsNCiAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOw0KfQ0KDQp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCk9PiB7DQogIGlmKCFjYW52YXMpIHJldHVybjsNCiAgLy8ganVzdCBsZXQgbmV4dCBmcmFtZSByZWZpdA0KfSk7DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogICBTbGlkZXJzIChwZXIgc2NlbmUpDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KZnVuY3Rpb24gc2xpZGVyUm93KGlkLGxhYmVsLG1pbixtYXgsc3RlcCx2YWx1ZSxmbXQpew0KICByZXR1cm4gYA0KICAgIDxkaXYgY2xhc3M9InNsaWRlciI+DQogICAgICA8ZGl2PiR7bGFiZWx9PC9kaXY+DQogICAgICA8aW5wdXQgaWQ9IiR7aWR9IiB0eXBlPSJyYW5nZSIgbWluPSIke21pbn0iIG1heD0iJHttYXh9IiBzdGVwPSIke3N0ZXB9IiB2YWx1ZT0iJHt2YWx1ZX0iPg0KICAgICAgPGRpdiBpZD0iJHtpZH12IiBzdHlsZT0idGV4dC1hbGlnbjpyaWdodDtjb2xvcjojZTJlOGYwIj4ke2ZtdCh2YWx1ZSl9PC9kaXY+DQogICAgPC9kaXY+DQogIGA7DQp9DQoNCmZ1bmN0aW9uIGJ1aWxkU2xpZGVycyhtb2RlKXsNCiAgY29uc3QgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlcnMiKTsNCiAgYm94LmlubmVySFRNTCA9ICIiOw0KICBjb25zdCBzYyA9IFNDRU5FU1ttb2RlXTsNCiAgc2ltLnBhcmFtcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2M/LmRlZmF1bHRzIHx8IHt9KSk7DQoNCiAgY29uc3QgYWRkID0gKGh0bWwpPT4gYm94Lmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwgaHRtbCk7DQoNCiAgaWYobW9kZT09PSJwbGFuZVJlZmxlY3Rpb24iKXsNCiAgICBhZGQoc2xpZGVyUm93KCJhbmciLCJBbmdsZSBvZiBpbmNpZGVuY2UgaSAoZGVnKSIsNSw4MCwxLCBzaW0ucGFyYW1zLmksIHY9PmAke01hdGgucm91bmQodil9wrBgKSk7DQogICAgaG9vaygiYW5nIiwgdiA9PiBzaW0ucGFyYW1zLmkgPSBwYXJzZUZsb2F0KHYpKTsNCiAgfQ0KDQogIGlmKG1vZGU9PT0icGxhbmVNaXJyb3JJbWFnZSIpew0KICAgIGFkZChzbGlkZXJSb3coIm9iangiLCJPYmplY3QgZGlzdGFuY2UgKGNtKSIsMTAsMTIwLDEsIHNpbS5wYXJhbXMudUFicywgdj0+YCR7TWF0aC5yb3VuZCh2KX0gY21gKSk7DQogICAgYWRkKHNsaWRlclJvdygiaCIsIk9iamVjdCBoZWlnaHQgKGNtKSIsMTAsNzAsMSwgc2ltLnBhcmFtcy5oLCB2PT5gJHtNYXRoLnJvdW5kKHYpfSBjbWApKTsNCiAgICBob29rKCJvYmp4Iiwgdj0+IHNpbS5wYXJhbXMudUFicz1wYXJzZUZsb2F0KHYpKTsNCiAgICBob29rKCJoIiwgdj0+IHNpbS5wYXJhbXMuaD1wYXJzZUZsb2F0KHYpKTsNCiAgfQ0KDQogIGlmKG1vZGU9PT0ibWlycm9yVGVybXMiKXsNCiAgICBhZGQoc2xpZGVyUm93KCJ0eXBlIiwiTWlycm9yIHR5cGUgKDA9Y29uY2F2ZSwgMT1jb252ZXgpIiwwLDEsMSwgc2ltLnBhcmFtcy5raW5kLCB2PT4gKHBhcnNlSW50KHYpPT09MCA/ICJDb25jYXZlIiA6ICJDb252ZXgiKSkpOw0KICAgIGFkZChzbGlkZXJSb3coImYiLCJ8ZnwgZm9jYWwgbGVuZ3RoIChjbSkiLDEwLDgwLDEsIHNpbS5wYXJhbXMuZkFicywgdj0+YCR7TWF0aC5yb3VuZCh2KX0gY21gKSk7DQogICAgaG9vaygidHlwZSIsIHY9PiBzaW0ucGFyYW1zLmtpbmQ9cGFyc2VJbnQodikpOw0KICAgIGhvb2soImYiLCB2PT4gc2ltLnBhcmFtcy5mQWJzPXBhcnNlRmxvYXQodikpOw0KICB9DQoNCiAgaWYobW9kZT09PSJjb25jYXZlQ2FzZXMiKXsNCiAgICBhZGQoc2xpZGVyUm93KCJjYXNlIiwiQ2FzZSAoMC4uNSkiLDAsNSwxLCBzaW0ucGFyYW1zLmNhc2VJZCwgdj0+ew0KICAgICAgY29uc3QgbmFtZXM9WyJPYmplY3QgYXQg4oieIiwiQmV5b25kIEMiLCJBdCBDIiwiQmV0d2VlbiBDICYgRiIsIkF0IEYiLCJCZXR3ZWVuIFAgJiBGIl07DQogICAgICByZXR1cm4gbmFtZXNbcGFyc2VJbnQodildIHx8IHY7DQogICAgfSkpOw0KICAgIGFkZChzbGlkZXJSb3coImYiLCJ8ZnwgKGNtKSIsMTAsODAsMSwgc2ltLnBhcmFtcy5mQWJzLCB2PT5gJHtNYXRoLnJvdW5kKHYpfSBjbWApKTsNCiAgICBhZGQoc2xpZGVyUm93KCJoIiwiT2JqZWN0IGhlaWdodCAoY20pIiwxMCw3MCwxLCBzaW0ucGFyYW1zLmgsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGhvb2soImNhc2UiLCB2PT4gc2ltLnBhcmFtcy5jYXNlSWQ9cGFyc2VJbnQodikpOw0KICAgIGhvb2soImYiLCB2PT4gc2ltLnBhcmFtcy5mQWJzPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soImgiLCB2PT4gc2ltLnBhcmFtcy5oPXBhcnNlRmxvYXQodikpOw0KICB9DQoNCiAgaWYobW9kZT09PSJjb252ZXhDYXNlcyIpew0KICAgIGFkZChzbGlkZXJSb3coImNhc2UiLCJDYXNlICgwLi4xKSIsMCwxLDEsIHNpbS5wYXJhbXMuY2FzZUlkLCB2PT57DQogICAgICBjb25zdCBuYW1lcz1bIk9iamVjdCBhdCDiiJ4iLCJGaW5pdGUgZGlzdGFuY2UiXTsNCiAgICAgIHJldHVybiBuYW1lc1twYXJzZUludCh2KV0gfHwgdjsNCiAgICB9KSk7DQogICAgYWRkKHNsaWRlclJvdygiZiIsImYgKGNtKSAoY29udmV4KSIsMTAsODAsMSwgc2ltLnBhcmFtcy5mQWJzLCB2PT5gJHtNYXRoLnJvdW5kKHYpfSBjbWApKTsNCiAgICBhZGQoc2xpZGVyUm93KCJ1IiwiT2JqZWN0IGRpc3RhbmNlIHx1fCAoY20pIiwyMCwyMDAsMSwgc2ltLnBhcmFtcy51QWJzLCB2PT5gJHtNYXRoLnJvdW5kKHYpfSBjbWApKTsNCiAgICBhZGQoc2xpZGVyUm93KCJoIiwiT2JqZWN0IGhlaWdodCAoY20pIiwxMCw3MCwxLCBzaW0ucGFyYW1zLmgsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGhvb2soImNhc2UiLCB2PT4gc2ltLnBhcmFtcy5jYXNlSWQ9cGFyc2VJbnQodikpOw0KICAgIGhvb2soImYiLCB2PT4gc2ltLnBhcmFtcy5mQWJzPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soInUiLCB2PT4gc2ltLnBhcmFtcy51QWJzPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soImgiLCB2PT4gc2ltLnBhcmFtcy5oPXBhcnNlRmxvYXQodikpOw0KICB9DQoNCiAgaWYobW9kZT09PSJzaWduQ29udmVudGlvbk1pcnJvciIpew0KICAgIGFkZChzbGlkZXJSb3coImtpbmQiLCJNaXJyb3IgKDA9Y29uY2F2ZSwxPWNvbnZleCkiLDAsMSwxLCBzaW0ucGFyYW1zLmtpbmQsIHY9PiAocGFyc2VJbnQodik9PT0wID8gIkNvbmNhdmUiIDogIkNvbnZleCIpKSk7DQogICAgYWRkKHNsaWRlclJvdygiZiIsInxmfCAoY20pIiwxMCw4MCwxLCBzaW0ucGFyYW1zLmZBYnMsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGFkZChzbGlkZXJSb3coInUiLCJPYmplY3QgZGlzdGFuY2UgfHV8IChjbSkiLDE1LDIwMCwxLCBzaW0ucGFyYW1zLnVBYnMsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGhvb2soImtpbmQiLCB2PT4gc2ltLnBhcmFtcy5raW5kPXBhcnNlSW50KHYpKTsNCiAgICBob29rKCJmIiwgdj0+IHNpbS5wYXJhbXMuZkFicz1wYXJzZUZsb2F0KHYpKTsNCiAgICBob29rKCJ1Iiwgdj0+IHNpbS5wYXJhbXMudUFicz1wYXJzZUZsb2F0KHYpKTsNCiAgfQ0KDQogIGlmKG1vZGU9PT0ibWlycm9yRm9ybXVsYSIpew0KICAgIGFkZChzbGlkZXJSb3coImtpbmQiLCJNaXJyb3IgKDA9Y29uY2F2ZSwxPWNvbnZleCkiLDAsMSwxLCBzaW0ucGFyYW1zLmtpbmQsIHY9PiAocGFyc2VJbnQodik9PT0wID8gIkNvbmNhdmUiIDogIkNvbnZleCIpKSk7DQogICAgYWRkKHNsaWRlclJvdygiZiIsInxmfCAoY20pIiwxMCw4MCwxLCBzaW0ucGFyYW1zLmZBYnMsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGFkZChzbGlkZXJSb3coInUiLCJPYmplY3QgZGlzdGFuY2UgfHV8IChjbSkiLDE1LDI1MCwxLCBzaW0ucGFyYW1zLnVBYnMsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGFkZChzbGlkZXJSb3coImgiLCJPYmplY3QgaGVpZ2h0IChjbSkiLDEwLDcwLDEsIHNpbS5wYXJhbXMuaCwgdj0+YCR7TWF0aC5yb3VuZCh2KX0gY21gKSk7DQogICAgaG9vaygia2luZCIsIHY9PiBzaW0ucGFyYW1zLmtpbmQ9cGFyc2VJbnQodikpOw0KICAgIGhvb2soImYiLCB2PT4gc2ltLnBhcmFtcy5mQWJzPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soInUiLCB2PT4gc2ltLnBhcmFtcy51QWJzPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soImgiLCB2PT4gc2ltLnBhcmFtcy5oPXBhcnNlRmxvYXQodikpOw0KICB9DQoNCiAgaWYobW9kZT09PSJnbGFzc1NsYWIiKXsNCiAgICBhZGQoc2xpZGVyUm93KCJpIiwiSW5jaWRlbmNlIGFuZ2xlIGkgKGRlZykiLDUsODAsMSwgc2ltLnBhcmFtcy5pLCB2PT5gJHtNYXRoLnJvdW5kKHYpfcKwYCkpOw0KICAgIGFkZChzbGlkZXJSb3coIm4iLCJuIChnbGFzcykiLDEuMTAsMS45MCwwLjAxLCBzaW0ucGFyYW1zLm4yLCB2PT5gJHtwYXJzZUZsb2F0KHYpLnRvRml4ZWQoMil9YCkpOw0KICAgIGFkZChzbGlkZXJSb3coInQiLCJTbGFiIHRoaWNrbmVzcyAodW5pdHMpIiw0MCwxNDAsMSwgc2ltLnBhcmFtcy50aGljaywgdj0+YCR7TWF0aC5yb3VuZCh2KX1gKSk7DQogICAgaG9vaygiaSIsIHY9PiBzaW0ucGFyYW1zLmk9cGFyc2VGbG9hdCh2KSk7DQogICAgaG9vaygibiIsIHY9PiBzaW0ucGFyYW1zLm4yPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soInQiLCB2PT4gc2ltLnBhcmFtcy50aGljaz1wYXJzZUZsb2F0KHYpKTsNCiAgfQ0KDQogIGlmKG1vZGU9PT0ic25lbGxJbmRleCIpew0KICAgIGFkZChzbGlkZXJSb3coImkiLCJJbmNpZGVuY2UgYW5nbGUgaSAoZGVnKSIsNSw4MCwxLCBzaW0ucGFyYW1zLmksIHY9PmAke01hdGgucm91bmQodil9wrBgKSk7DQogICAgYWRkKHNsaWRlclJvdygibiIsIlJlZnJhY3RpdmUgaW5kZXggbiIsMS4wMCwyLjQyLDAuMDEsIHNpbS5wYXJhbXMubiwgdj0+YCR7cGFyc2VGbG9hdCh2KS50b0ZpeGVkKDIpfWApKTsNCiAgICBhZGQoc2xpZGVyUm93KCJjIiwiYyAow5cxMF44IG0vcykiLDIuMCwzLjAsMC4wNSwgc2ltLnBhcmFtcy5jOCwgdj0+YCR7cGFyc2VGbG9hdCh2KS50b0ZpeGVkKDIpfWApKTsNCiAgICBob29rKCJpIiwgdj0+IHNpbS5wYXJhbXMuaT1wYXJzZUZsb2F0KHYpKTsNCiAgICBob29rKCJuIiwgdj0+IHNpbS5wYXJhbXMubj1wYXJzZUZsb2F0KHYpKTsNCiAgICBob29rKCJjIiwgdj0+IHNpbS5wYXJhbXMuYzg9cGFyc2VGbG9hdCh2KSk7DQogIH0NCg0KICBpZihtb2RlPT09ImxlbnNEaWFncmFtcyIpew0KICAgIGFkZChzbGlkZXJSb3coImtpbmQiLCJMZW5zICgwPWNvbnZleCwgMT1jb25jYXZlKSIsMCwxLDEsIHNpbS5wYXJhbXMua2luZCwgdj0+IChwYXJzZUludCh2KT09PTAgPyAiQ29udmV4IChjb252ZXJnaW5nKSIgOiAiQ29uY2F2ZSAoZGl2ZXJnaW5nKSIpKSk7DQogICAgYWRkKHNsaWRlclJvdygiZiIsInxmfCAoY20pIiwxMCw4MCwxLCBzaW0ucGFyYW1zLmZBYnMsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGFkZChzbGlkZXJSb3coInUiLCJPYmplY3QgZGlzdGFuY2UgfHV8IChjbSkiLDE1LDIyMCwxLCBzaW0ucGFyYW1zLnVBYnMsIHY9PmAke01hdGgucm91bmQodil9IGNtYCkpOw0KICAgIGFkZChzbGlkZXJSb3coImgiLCJPYmplY3QgaGVpZ2h0IChjbSkiLDEwLDcwLDEsIHNpbS5wYXJhbXMuaCwgdj0+YCR7TWF0aC5yb3VuZCh2KX0gY21gKSk7DQogICAgaG9vaygia2luZCIsIHY9PiBzaW0ucGFyYW1zLmtpbmQ9cGFyc2VJbnQodikpOw0KICAgIGhvb2soImYiLCB2PT4gc2ltLnBhcmFtcy5mQWJzPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soInUiLCB2PT4gc2ltLnBhcmFtcy51QWJzPXBhcnNlRmxvYXQodikpOw0KICAgIGhvb2soImgiLCB2PT4gc2ltLnBhcmFtcy5oPXBhcnNlRmxvYXQodikpOw0KICB9DQp9DQoNCmZ1bmN0aW9uIGhvb2soaWQsIGZuKXsNCiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7DQogIGNvbnN0IG91dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKyJ2Iik7DQogIGlmKCFlbCkgcmV0dXJuOw0KICBlbC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGU9PnsNCiAgICBmbihlLnRhcmdldC52YWx1ZSk7DQogICAgaWYob3V0KXsNCiAgICAgIC8vIGtlZXAgZm9ybWF0dGluZyBpbiBzeW5jIHVzaW5nIGN1cnJlbnQgZm9ybWF0dGVyIGZyb20gbGFiZWwgcm93DQogICAgICBvdXQudGV4dENvbnRlbnQgPSBvdXQudGV4dENvbnRlbnQ7IC8vIHdpbGwgdXBkYXRlIGluIG5leHQgZnJhbWUgdmlhIHJlYnVpbGQ/IG5vDQogICAgICAvLyBxdWljayB1cGRhdGU6DQogICAgICAvLyBmaW5kIHRoZSBzbGlkZXIncyBmb3JtYXR0ZXIgZnJvbSBjdXJyZW50IHNjZW5lIGJ5IHJlLXJlbmRlcmluZyB2YWx1ZSB0ZXh0Og0KICAgICAgLy8gc2ltcGxlc3Q6IGp1c3Qgc2V0IGFzIHJhdyBoZXJlOyB0aGUgc2NlbmUgY2FwdGlvbiBzaG93cyBleGFjdCB2YWx1ZXMgYW55d2F5Lg0KICAgICAgb3V0LnRleHRDb250ZW50ID0gZS50YXJnZXQudmFsdWU7DQogICAgfQ0KICAgIC8vIGltcHJvdmU6IHVwZGF0ZSBuaWNlbHk6DQogICAgLy8gcmVidWlsZCBzbGlkZXJzIGlzbid0IG5lZWRlZDsgY2FwdGlvbnMgZGlzcGxheSBjb21wdXRlZCB2YWx1ZXMuDQogIH0pOw0KfQ0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgUGh5c2ljcyBoZWxwZXJzIChzaWduIGNvbnZlbnRpb25zKQ0KICAgTWlycm9yOiAxL2YgPSAxL3YgKyAxL3UNCiAgIE1hZ25pZmljYXRpb246IG0gPSAtdi91DQogICBMZW5zOiAxL2YgPSAxL3YgLSAxL3UgID0+IDEvdiA9IDEvZiArIDEvdQ0KICAgTWFnbmlmaWNhdGlvbiBsZW5zOiBtID0gdi91DQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KZnVuY3Rpb24gbWlycm9yU29sdmUodSwgZil7DQogIC8vIHUsIGYgaW4gY20gKHNpZ25lZCkuIFJldHVybiB2LCBtLg0KICAvLyBoYW5kbGUgdSB+IGYgKGltYWdlIGF0IGluZmluaXR5KQ0KICBjb25zdCBlcHM9MWUtNjsNCiAgY29uc3QgaW52diA9ICgxL2YpIC0gKDEvdSk7DQogIGlmKE1hdGguYWJzKGludnYpIDwgZXBzKSByZXR1cm4ge3Y6SW5maW5pdHksIG06SW5maW5pdHl9Ow0KICBjb25zdCB2ID0gMS9pbnZ2Ow0KICBjb25zdCBtID0gLXYvdTsNCiAgcmV0dXJuIHt2LG19Ow0KfQ0KDQpmdW5jdGlvbiBsZW5zU29sdmUodSwgZil7DQogIC8vIDEvZiA9IDEvdiAtIDEvdSA9PiAxL3YgPSAxL2YgKyAxL3UNCiAgY29uc3QgZXBzPTFlLTY7DQogIGNvbnN0IGludnYgPSAoMS9mKSArICgxL3UpOw0KICBpZihNYXRoLmFicyhpbnZ2KSA8IGVwcykgcmV0dXJuIHt2OkluZmluaXR5LCBtOkluZmluaXR5fTsNCiAgY29uc3QgdiA9IDEvaW52djsNCiAgY29uc3QgbSA9IHYvdTsNCiAgcmV0dXJuIHt2LG19Ow0KfQ0KDQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgUmF5L2RpYWdyYW0gaGVscGVycw0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmZ1bmN0aW9uIHdvcmxkVG9DYW52YXMoeCx5LCBXKXsNCiAgLy8gV29ybGQgeCx5IGluICJjbS1saWtlIHVuaXRzIjsgbWlycm9yL2xlbnMgYXQgeD0wLg0KICBjb25zdCB7Y3gsY3ksc2NhbGV9ID0gVzsNCiAgcmV0dXJuIHtYOiBjeCArIHgqc2NhbGUsIFk6IGN5IC0geSpzY2FsZX07DQp9DQoNCmZ1bmN0aW9uIGRyYXdBeGlzKFcpew0KICBjb25zdCB7dyxoLCBjeCwgY3l9ID0gVzsNCiAgbGluZSgzMCxjeSwgdy0zMCwgY3ksICJyZ2JhKDE0OCwxNjMsMTg0LDAuMTgpIiwgMik7DQogIHRleHQoMzQsIGN5LTEwLCAiUHJpbmNpcGFsIGF4aXMiLCAicmdiYSgxNDgsMTYzLDE4NCwwLjg1KSIsIGZhbHNlKTsNCiAgLy8gK3ggYW5kIC14IGhpbnRzDQogIHRleHQody03NSwgY3ktMTAsICIreCIsICJyZ2JhKDE0OCwxNjMsMTg0LDAuNzUpIiwgdHJ1ZSk7DQogIHRleHQoNDAsIGN5LTEwLCAiLXgiLCAicmdiYSgxNDgsMTYzLDE4NCwwLjc1KSIsIHRydWUpOw0KfQ0KDQpmdW5jdGlvbiBkcmF3T2JqZWN0KFcsIHgsIGhPYmosIGxhYmVsPSJPYmplY3QiKXsNCiAgY29uc3QgQSA9IHdvcmxkVG9DYW52YXMoeCwwLFcpOw0KICBjb25zdCBCID0gd29ybGRUb0NhbnZhcyh4LGhPYmosVyk7DQogIGxpbmUoQS5YLEEuWSwgQi5YLEIuWSwgInJnYmEoNTksMTMwLDI0NiwwLjg1KSIsIDMpOw0KICBhcnJvdyhBLlgsQS5ZLCBCLlgsQi5ZLCAicmdiYSg1OSwxMzAsMjQ2LDAuODUpIik7DQogIGRvdChCLlgsQi5ZLDQsInJnYmEoNTksMTMwLDI0NiwwLjk1KSIpOw0KICB0ZXh0KEIuWC0yMCwgQi5ZLTEwLCBsYWJlbCwgInJnYmEoMTQ3LDE5NywyNTMsMC45NSkiLCB0cnVlKTsNCn0NCg0KZnVuY3Rpb24gZHJhd0ltYWdlKFcsIHgsIGhJbWcsIGlzVmlydHVhbCwgbGFiZWw9IkltYWdlIil7DQogIGNvbnN0IEEgPSB3b3JsZFRvQ2FudmFzKHgsMCxXKTsNCiAgY29uc3QgQiA9IHdvcmxkVG9DYW52YXMoeCxoSW1nLFcpOw0KICBjb25zdCBjb2wgPSBpc1ZpcnR1YWwgPyAicmdiYSgyNDUsMTU4LDExLDAuOTUpIiA6ICJyZ2JhKDM0LDE5Nyw5NCwwLjk1KSI7DQogIGxpbmUoQS5YLEEuWSwgQi5YLEIuWSwgY29sLCAzKTsNCiAgYXJyb3coQS5YLEEuWSwgQi5YLEIuWSwgY29sKTsNCiAgZG90KEIuWCxCLlksNCxjb2wpOw0KICB0ZXh0KEIuWC0xOCwgQi5ZLTEwLCBsYWJlbCwgY29sLCB0cnVlKTsNCiAgaWYoaXNWaXJ0dWFsKXsNCiAgICB0ZXh0KEIuWC00MiwgQi5ZKzE4LCAiKHZpcnR1YWwpIiwgInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLCB0cnVlKTsNCiAgfWVsc2V7DQogICAgdGV4dChCLlgtMzYsIEIuWSsxOCwgIihyZWFsKSIsICJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIiwgdHJ1ZSk7DQogIH0NCn0NCg0KZnVuY3Rpb24gZHJhd01pcnJvcihXLCBraW5kLCBmKXsNCiAgLy8ga2luZDogMCBjb25jYXZlIChyZWZsZWN0aW5nIHNpZGUgbGVmdCksIDEgY29udmV4IChyZWZsZWN0aW5nIHNpZGUgbGVmdCBidXQgYnVsZ2luZyBvdXR3YXJkKQ0KICBjb25zdCB7Y3gsY3ksc2NhbGUsdyxofSA9IFc7DQogIGNvbnN0IFAgPSB3b3JsZFRvQ2FudmFzKDAsMCxXKTsNCiAgLy8gZHJhdyBtaXJyb3IgYXJjDQogIGN0eC5zYXZlKCk7DQogIGN0eC5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjU1KSI7DQogIGN0eC5saW5lV2lkdGg9MzsNCiAgY3R4LmJlZ2luUGF0aCgpOw0KICBjb25zdCBIID0gMi43KnNjYWxlOyAvLyBoYWxmLWhlaWdodCBpbiBweA0KICBjb25zdCB4MCA9IFAuWDsNCg0KICBpZihraW5kPT09MCl7DQogICAgLy8gY29uY2F2ZTogYXJjIG9wZW5zIHRvIGxlZnQNCiAgICBjdHguYXJjKHgwICsgMi4yKnNjYWxlLCBQLlksIDIuMipzY2FsZSwgcmFkKDExMCksIHJhZCgyNTApLCBmYWxzZSk7DQogIH0gZWxzZSB7DQogICAgLy8gY29udmV4OiBhcmMgb3BlbnMgdG8gcmlnaHQNCiAgICBjdHguYXJjKHgwIC0gMi4yKnNjYWxlLCBQLlksIDIuMipzY2FsZSwgcmFkKC03MCksIHJhZCg3MCksIGZhbHNlKTsNCiAgfQ0KICBjdHguc3Ryb2tlKCk7DQogIC8vIHNoYWRlIGJhY2sgc2lkZSBsaWdodGx5DQogIGN0eC5zdHJva2VTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjE4KSI7DQogIGN0eC5saW5lV2lkdGg9NzsNCiAgY3R4LnNldExpbmVEYXNoKFsxMCwxMF0pOw0KICBjdHguYmVnaW5QYXRoKCk7DQogIGlmKGtpbmQ9PT0wKXsNCiAgICBjdHguYXJjKHgwICsgMi4yKnNjYWxlLCBQLlksIDIuMipzY2FsZSwgcmFkKDExMCksIHJhZCgyNTApLCBmYWxzZSk7DQogIH1lbHNlew0KICAgIGN0eC5hcmMoeDAgLSAyLjIqc2NhbGUsIFAuWSwgMi4yKnNjYWxlLCByYWQoLTcwKSwgcmFkKDcwKSwgZmFsc2UpOw0KICB9DQogIGN0eC5zdHJva2UoKTsNCiAgY3R4LnNldExpbmVEYXNoKFtdKTsNCiAgY3R4LnJlc3RvcmUoKTsNCg0KICBkb3QoUC5YLFAuWSw0LCJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIik7DQogIHRleHQoUC5YKzgsUC5ZLTEwLCJQIiwicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIsdHJ1ZSk7DQoNCiAgLy8gRm9jdXMgYW5kIEMgbWFya2Vycw0KICBjb25zdCBGID0gd29ybGRUb0NhbnZhcyhmLDAsVyk7DQogIGNvbnN0IEMgPSB3b3JsZFRvQ2FudmFzKDIqZiwwLFcpOw0KICBkb3QoRi5YLEYuWSw0LCJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIik7DQogIGRvdChDLlgsQy5ZLDQsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiKTsNCiAgdGV4dChGLlgtNixGLlktMTAsIkYiLCJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIix0cnVlKTsNCiAgdGV4dChDLlgtNixDLlktMTAsIkMiLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCg0KICAvLyBzbWFsbCB0aWNrcyBvbiBheGlzDQogIGxpbmUoRi5YLCBGLlktOCwgRi5YLCBGLlkrOCwgInJnYmEoMTY3LDI0MywyMDgsMC40NSkiLCAyKTsNCiAgbGluZShDLlgsIEMuWS04LCBDLlgsIEMuWSs4LCAicmdiYSgyNTMsMjMwLDEzOCwwLjQ1KSIsIDIpOw0KfQ0KDQpmdW5jdGlvbiBkcmF3TGVucyhXLCBraW5kLCBmKXsNCiAgLy8ga2luZDogMCBjb252ZXgsIDEgY29uY2F2ZQ0KICBjb25zdCBPID0gd29ybGRUb0NhbnZhcygwLDAsVyk7DQogIGN0eC5zYXZlKCk7DQogIGN0eC5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjU1KSI7DQogIGN0eC5saW5lV2lkdGg9MzsNCiAgY3R4LmJlZ2luUGF0aCgpOw0KICBjb25zdCBoPTIuNypXLnNjYWxlOw0KDQogIC8vIGxlbnMgb3V0bGluZTogdHdvIGFyY3MNCiAgY29uc3QgeD1PLlgsIHk9Ty5ZOw0KICBpZihraW5kPT09MCl7DQogICAgLy8gY29udmV4DQogICAgY3R4Lm1vdmVUbyh4LCB5LWgpOw0KICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgrMS4yKlcuc2NhbGUsIHksIHgsIHkraCk7DQogICAgY3R4Lm1vdmVUbyh4LCB5LWgpOw0KICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgtMS4yKlcuc2NhbGUsIHksIHgsIHkraCk7DQogIH1lbHNlew0KICAgIC8vIGNvbmNhdmUNCiAgICBjdHgubW92ZVRvKHgsIHktaCk7DQogICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeC0xLjIqVy5zY2FsZSwgeSwgeCwgeStoKTsNCiAgICBjdHgubW92ZVRvKHgsIHktaCk7DQogICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCsxLjIqVy5zY2FsZSwgeSwgeCwgeStoKTsNCiAgfQ0KICBjdHguc3Ryb2tlKCk7DQogIGN0eC5yZXN0b3JlKCk7DQoNCiAgZG90KE8uWCxPLlksNCwicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIpOw0KICB0ZXh0KE8uWCs4LE8uWS0xMCwiTyIsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiLHRydWUpOw0KDQogIC8vIGZvY2kgKHRoaW4gbGVucyk6IEYxIGF0IC1mLCBGMiBhdCArZg0KICBjb25zdCBGMSA9IHdvcmxkVG9DYW52YXMoLWYsMCxXKTsNCiAgY29uc3QgRjIgPSB3b3JsZFRvQ2FudmFzKCtmLDAsVyk7DQogIGRvdChGMS5YLEYxLlksNCwicmdiYSgxNjcsMjQzLDIwOCwwLjk1KSIpOw0KICBkb3QoRjIuWCxGMi5ZLDQsInJnYmEoMTY3LDI0MywyMDgsMC45NSkiKTsNCiAgdGV4dChGMS5YLTEwLEYxLlktMTAsIkbigoEiLCJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIix0cnVlKTsNCiAgdGV4dChGMi5YLTEwLEYyLlktMTAsIkbigoIiLCJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIix0cnVlKTsNCiAgbGluZShGMS5YLCBGMS5ZLTgsIEYxLlgsIEYxLlkrOCwgInJnYmEoMTY3LDI0MywyMDgsMC40NSkiLCAyKTsNCiAgbGluZShGMi5YLCBGMi5ZLTgsIEYyLlgsIEYyLlkrOCwgInJnYmEoMTY3LDI0MywyMDgsMC40NSkiLCAyKTsNCn0NCg0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgIFNDRU5FUw0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCmNvbnN0IFNDRU5FUyA9IHt9Ow0KDQovKiAxKSBQbGFuZSByZWZsZWN0aW9uICovDQpTQ0VORVMucGxhbmVSZWZsZWN0aW9uID0gew0KICBzdGVwczogMywNCiAgZGVmYXVsdHM6eyBpOjQwIH0sDQogIGNhcHRpb24oc2ltKXsNCiAgICByZXR1cm4gYFNldCBpbmNpZGVuY2UgYW5nbGUgaS4gRGlhZ3JhbSBzaG93cyBub3JtYWwgYW5kIHJlZmxlY3RlZCByYXkgd2l0aCBpID0gci4gKFN0ZXAgJHtzaW0uc3RlcCsxfS8ke3NpbS5zdGVwc30pYDsNCiAgfSwNCiAgZHJhdyh3LGgsZHQsc2ltKXsNCiAgICBjb25zdCBXID0ge3csaCwgY3g6dyowLjUyLCBjeTpoKjAuNTYsIHNjYWxlOiAyLjIgfTsNCiAgICBwYW5lbCgxNiwxNix3LTMyLGgtMzIsIlBsYW5lIG1pcnJvciDigJMgbGF3cyBvZiByZWZsZWN0aW9uIik7DQogICAgZHJhd0F4aXMoVyk7DQoNCiAgICBjb25zdCBtaXJyb3JYID0gVy5jeCArIDA7DQogICAgbGluZShtaXJyb3JYLCA0MCwgbWlycm9yWCwgaC00MCwgInJnYmEoMjI2LDIzMiwyNDAsMC41NSkiLCAzKTsNCiAgICB0ZXh0KG1pcnJvclgrMTAsIDU2LCAiUGxhbmUgbWlycm9yIiwgInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiLCB0cnVlKTsNCg0KICAgIGNvbnN0IGkgPSBjbGFtcChzaW0ucGFyYW1zLmksNSw4MCk7DQogICAgY29uc3QgUCA9IHtYOiBtaXJyb3JYLCBZOiBXLmN5fTsNCiAgICAvLyBub3JtYWwgaXMgaG9yaXpvbnRhbCBhdCBwb2ludCBvZiBpbmNpZGVuY2UgZm9yIHZlcnRpY2FsIG1pcnJvcjoNCiAgICBsaW5lKFAuWC0xMjAsIFAuWSwgUC5YKzEyMCwgUC5ZLCAicmdiYSgzNCwxOTcsOTQsMC4zNSkiLCAyLCBbOCw4XSk7DQogICAgdGV4dChQLlgrOCwgUC5ZLTEwLCAiTm9ybWFsIiwgInJnYmEoMTY3LDI0MywyMDgsMC45NSkiLCB0cnVlKTsNCg0KICAgIC8vIGluY2lkZW50IHJheSBmcm9tIGxlZnQgaGl0dGluZyBQIGF0IGFuZ2xlIGkgdG8gbm9ybWFsDQogICAgY29uc3QgTCA9IDI2MDsNCiAgICBjb25zdCBpbmNBbmcgPSByYWQoMTgwIC0gaSk7IC8vIGRpcmVjdGlvbiBmcm9tIFAgYmFjayB0byBsZWZ0DQogICAgY29uc3QgSTEgPSB7WDogUC5YICsgTWF0aC5jb3MoaW5jQW5nKSpMLCBZOiBQLlkgKyBNYXRoLnNpbihpbmNBbmcpKkx9Ow0KICAgIGFycm93KEkxLlgsIEkxLlksIFAuWCwgUC5ZLCAicmdiYSg1OSwxMzAsMjQ2LDAuODUpIik7DQoNCiAgICAvLyByZWZsZWN0ZWQgcmF5IHRvIGxlZnQgbWFraW5nIHNhbWUgYW5nbGUgaSB3aXRoIG5vcm1hbA0KICAgIGNvbnN0IHJlZkFuZyA9IHJhZCgxODAgKyBpKTsNCiAgICBjb25zdCBSMSA9IHtYOiBQLlggKyBNYXRoLmNvcyhyZWZBbmcpKkwsIFk6IFAuWSArIE1hdGguc2luKHJlZkFuZykqTH07DQogICAgYXJyb3coUC5YLCBQLlksIFIxLlgsIFIxLlksICJyZ2JhKDI0NSwxNTgsMTEsMC45MCkiKTsNCg0KICAgIGRvdChQLlgsUC5ZLDQsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiKTsNCg0KICAgIGlmKHNpbS5zdGVwPj0xKXsNCiAgICAgIHRleHQoUC5YLTE4MCwgUC5ZLTcwLCBgaSA9ICR7TWF0aC5yb3VuZChpKX3CsGAsICJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIiwgdHJ1ZSk7DQogICAgICB0ZXh0KFAuWC0xODAsIFAuWSs4NiwgYHIgPSAke01hdGgucm91bmQoaSl9wrBgLCAicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsIHRydWUpOw0KICAgIH0NCiAgICBpZihzaW0uc3RlcD49Mil7DQogICAgICB0ZXh0KDQwLGgtNDAsIkluY2lkZW50IHJheSwgbm9ybWFsIGFuZCByZWZsZWN0ZWQgcmF5IGxpZSBpbiB0aGUgc2FtZSBwbGFuZSAoMkQgZGlhZ3JhbSkuIiwicmdiYSgxNDgsMTYzLDE4NCwwLjg1KSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiAyKSBQbGFuZSBtaXJyb3IgaW1hZ2UgKi8NClNDRU5FUy5wbGFuZU1pcnJvckltYWdlID0gew0KICBzdGVwczogMiwNCiAgZGVmYXVsdHM6eyB1QWJzOjYwLCBoOjQwIH0sDQogIGNhcHRpb24oc2ltKXsNCiAgICByZXR1cm4gYFBsYW5lIG1pcnJvcjogaW1hZ2UgZm9ybXMgYXQgc2FtZSBkaXN0YW5jZSBiZWhpbmQgbWlycm9yIGFzIG9iamVjdCBpbiBmcm9udCAodmlydHVhbCkuIChTdGVwICR7c2ltLnN0ZXArMX0vJHtzaW0uc3RlcHN9KWA7DQogIH0sDQogIGRyYXcodyxoLGR0LHNpbSl7DQogICAgY29uc3QgVyA9IHt3LGgsIGN4OncqMC41NSwgY3k6aCowLjYwLCBzY2FsZTogTWF0aC5taW4odyxoKS8yNjAgfTsNCiAgICBwYW5lbCgxNiwxNix3LTMyLGgtMzIsIlBsYW5lIG1pcnJvciDigJMgdmlydHVhbCBpbWFnZSBjb25zdHJ1Y3Rpb24iKTsNCiAgICBkcmF3QXhpcyhXKTsNCg0KICAgIGNvbnN0IG1pcnJvclggPSBXLmN4Ow0KICAgIGxpbmUobWlycm9yWCwgNDAsIG1pcnJvclgsIGgtNDAsICJyZ2JhKDIyNiwyMzIsMjQwLDAuNTUpIiwgMyk7DQogICAgdGV4dChtaXJyb3JYKzEwLCA1NiwgIk1pcnJvciIsICJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIiwgdHJ1ZSk7DQoNCiAgICBjb25zdCB1QWJzID0gY2xhbXAoc2ltLnBhcmFtcy51QWJzLDEwLDEyMCk7DQogICAgY29uc3QgaE9iaiA9IGNsYW1wKHNpbS5wYXJhbXMuaCwxMCw3MCk7DQoNCiAgICAvLyB3b3JsZDogbWlycm9yIGF0IHg9MDsgb2JqZWN0IGF0IHg9LXVBYnM7IGltYWdlIGF0IHg9K3VBYnMNCiAgICBjb25zdCB4TyA9IC11QWJzLCB4SSA9ICt1QWJzOw0KICAgIGRyYXdPYmplY3QoVywgeE8sIGhPYmosICJPYmplY3QiKTsNCiAgICBkcmF3SW1hZ2UoVywgeEksIGhPYmosIHRydWUsICJJbWFnZSIpOw0KDQogICAgLy8gUmF5czogdHdvIHJheXMgZnJvbSBvYmplY3QgdG9wIHRvIG1pcnJvciBhbmQgcmVmbGVjdCB0byBleWU7IGJhY2sgZXh0ZW5zaW9ucyBtZWV0IGF0IGltYWdlDQogICAgY29uc3QgT3RvcCA9IHdvcmxkVG9DYW52YXMoeE8saE9iaixXKTsNCiAgICBjb25zdCBQMSA9IHdvcmxkVG9DYW52YXMoMCwgaE9iaiowLjU1LCBXKTsNCiAgICBjb25zdCBQMiA9IHdvcmxkVG9DYW52YXMoMCwgaE9iaiowLjIwLCBXKTsNCiAgICBjb25zdCBleWUgPSB7WDogdyowLjIwLCBZOiBoKjAuMjJ9Ow0KDQogICAgLy8gaW5jaWRlbnQgcmF5cw0KICAgIGFycm93KE90b3AuWCxPdG9wLlksUDEuWCxQMS5ZLCJyZ2JhKDU5LDEzMCwyNDYsMC43MCkiKTsNCiAgICBhcnJvdyhPdG9wLlgsT3RvcC5ZLFAyLlgsUDIuWSwicmdiYSg1OSwxMzAsMjQ2LDAuNzApIik7DQoNCiAgICAvLyByZWZsZWN0ZWQgcmF5cyB0byBleWUNCiAgICBhcnJvdyhQMS5YLFAxLlksZXllLlgsZXllLlksInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgIGFycm93KFAyLlgsUDIuWSxleWUuWCxleWUuWSwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgZG90KGV5ZS5YLGV5ZS5ZLDQsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiKTsNCiAgICB0ZXh0KGV5ZS5YKzEwLGV5ZS5ZLTgsIkV5ZSIsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiLHRydWUpOw0KDQogICAgaWYoc2ltLnN0ZXA+PTEpew0KICAgICAgLy8gYmFjayBleHRlbnNpb25zDQogICAgICBjb25zdCBJdG9wID0gd29ybGRUb0NhbnZhcyh4SSxoT2JqLFcpOw0KICAgICAgbGluZShQMS5YLFAxLlksSXRvcC5YLEl0b3AuWSwicmdiYSgxNDgsMTYzLDE4NCwwLjQwKSIsMixbOCw4XSk7DQogICAgICBsaW5lKFAyLlgsUDIuWSxJdG9wLlgsSXRvcC5ZLCJyZ2JhKDE0OCwxNjMsMTg0LDAuNDApIiwyLFs4LDhdKTsNCiAgICAgIHRleHQodyowLjA2LGgqMC45MCwiRGFzaGVkIGxpbmVzIGFyZSBiYWNrd2FyZCBleHRlbnNpb25zIOKHkiByYXlzIG9ubHkgYXBwZWFyIHRvIG1lZXQgKHZpcnR1YWwgaW1hZ2UpLiIsInJnYmEoMTQ4LDE2MywxODQsMC44NSkiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogMykgTWlycm9yIHRlcm1zIFAsRixDICovDQpTQ0VORVMubWlycm9yVGVybXMgPSB7DQogIHN0ZXBzOiAyLA0KICBkZWZhdWx0czp7IGtpbmQ6MCwgZkFiczozMCB9LA0KICBjYXB0aW9uKHNpbSl7DQogICAgY29uc3Qga2luZCA9IHNpbS5wYXJhbXMua2luZD09PTAgPyAiQ29uY2F2ZSIgOiAiQ29udmV4IjsNCiAgICByZXR1cm4gYCR7a2luZH0gbWlycm9yOiBQIChwb2xlKSwgRiAoZm9jdXMpLCBDIChjZW50cmUgb2YgY3VydmF0dXJlKSwgd2l0aCBSID0gMmYgbWFya2Vycy4gKFN0ZXAgJHtzaW0uc3RlcCsxfS8ke3NpbS5zdGVwc30pYDsNCiAgfSwNCiAgZHJhdyh3LGgsZHQsc2ltKXsNCiAgICBjb25zdCBraW5kID0gc2ltLnBhcmFtcy5raW5kOw0KICAgIGNvbnN0IGZBYnMgPSBjbGFtcChzaW0ucGFyYW1zLmZBYnMsMTAsODApOw0KDQogICAgLy8gc2lnbiBjb252ZW50aW9uOiBjb25jYXZlIGYgaXMgbmVnYXRpdmUgKGZvY3VzIGluIGZyb250L2xlZnQpLCBjb252ZXggZiBwb3NpdGl2ZSAoYmVoaW5kL3JpZ2h0KQ0KICAgIGNvbnN0IGYgPSAoa2luZD09PTApID8gLWZBYnMgOiArZkFiczsNCg0KICAgIGNvbnN0IFcgPSB7dyxoLCBjeDp3KjAuNTUsIGN5OmgqMC42MCwgc2NhbGU6IE1hdGgubWluKHcsaCkvMjYwIH07DQogICAgcGFuZWwoMTYsMTYsdy0zMixoLTMyLCJTcGhlcmljYWwgbWlycm9yIOKAkyBrZXkgcG9pbnRzIik7DQogICAgZHJhd0F4aXMoVyk7DQogICAgZHJhd01pcnJvcihXLCBraW5kLCBmKTsNCg0KICAgIGlmKHNpbS5zdGVwPj0xKXsNCiAgICAgIHRleHQoMzYsaC02MCxgZiA9ICR7Zi50b0ZpeGVkKDApfSBjbSAgfCAgQyBhdCAyZiA9ICR7KDIqZikudG9GaXhlZCgwKX0gY20gIHwgIFIgPSAyZmAsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOTIpIiwgdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiA0KSBDb25jYXZlIG1pcnJvciBjYXNlcyAoNikgKi8NClNDRU5FUy5jb25jYXZlQ2FzZXMgPSB7DQogIHN0ZXBzOiAzLA0KICBkZWZhdWx0czp7IGNhc2VJZDoxLCBmQWJzOjMwLCBoOjQwIH0sDQogIGNhcHRpb24oc2ltKXsNCiAgICBjb25zdCBuYW1lcz1bIk9iamVjdCBhdCDiiJ4iLCJCZXlvbmQgQyIsIkF0IEMiLCJCZXR3ZWVuIEMgJiBGIiwiQXQgRiIsIkJldHdlZW4gUCAmIEYiXTsNCiAgICByZXR1cm4gYENvbmNhdmUgbWlycm9yIGNhc2U6ICR7bmFtZXNbc2ltLnBhcmFtcy5jYXNlSWRdfS4gVXNlcyBtaXJyb3IgZm9ybXVsYSB0byBsb2NhdGUgaW1hZ2UgcG9pbnQ7IHJheXMgZHJhd24gdXNpbmcgc3RhbmRhcmQgY29uc3RydWN0aW9uLiAoU3RlcCAke3NpbS5zdGVwKzF9LyR7c2ltLnN0ZXBzfSlgOw0KICB9LA0KICBkcmF3KHcsaCxkdCxzaW0pew0KICAgIGNvbnN0IGYgPSAtY2xhbXAoc2ltLnBhcmFtcy5mQWJzLDEwLDgwKTsNCiAgICBjb25zdCBoT2JqID0gY2xhbXAoc2ltLnBhcmFtcy5oLDEwLDcwKTsNCiAgICBjb25zdCBjYXNlSWQgPSBzaW0ucGFyYW1zLmNhc2VJZDsNCg0KICAgIC8vIGNob29zZSB1IChzaWduZWQsIG9iamVjdCBsZWZ0ID0+IG5lZ2F0aXZlKQ0KICAgIGxldCB1QWJzOw0KICAgIGNvbnN0IENhYnMgPSBNYXRoLmFicygyKmYpLCBGYWJzID0gTWF0aC5hYnMoZik7DQogICAgaWYoY2FzZUlkPT09MCkgdUFicyA9IDk5OTk7ICAgICAgICAgICAgICAgICAgLy8gaW5maW5pdHkNCiAgICBpZihjYXNlSWQ9PT0xKSB1QWJzID0gMi43KkZhYnM7ICAgICAgICAgICAgICAvLyBiZXlvbmQgQw0KICAgIGlmKGNhc2VJZD09PTIpIHVBYnMgPSAyLjAqRmFiczsgICAgICAgICAgICAgIC8vIGF0IEMNCiAgICBpZihjYXNlSWQ9PT0zKSB1QWJzID0gMS41KkZhYnM7ICAgICAgICAgICAgICAvLyBiZXR3ZWVuIEMgYW5kIEYNCiAgICBpZihjYXNlSWQ9PT00KSB1QWJzID0gMS4wKkZhYnM7ICAgICAgICAgICAgICAvLyBhdCBGDQogICAgaWYoY2FzZUlkPT09NSkgdUFicyA9IDAuNjUqRmFiczsgICAgICAgICAgICAgLy8gYmV0d2VlbiBQIGFuZCBGDQoNCiAgICBjb25zdCB1ID0gLXVBYnM7DQoNCiAgICBjb25zdCBXID0ge3csaCwgY3g6dyowLjU4LCBjeTpoKjAuNjIsIHNjYWxlOiBNYXRoLm1pbih3LGgpLzI4MCB9Ow0KICAgIHBhbmVsKDE2LDE2LHctMzIsaC0zMiwiQ29uY2F2ZSBtaXJyb3Ig4oCTIHJheSBkaWFncmFtICg2IGNhc2VzKSIpOw0KICAgIGRyYXdBeGlzKFcpOw0KICAgIGRyYXdNaXJyb3IoVywgMCwgZik7DQoNCiAgICAvLyBvYmplY3QNCiAgICBkcmF3T2JqZWN0KFcsIHUsIGhPYmosICJPYmplY3QiKTsNCg0KICAgIC8vIHNvbHZlDQogICAgbGV0IHYsIG0sIGhJbWcsIGlzVmlydHVhbDsNCiAgICBjb25zdCBzb2wgPSBtaXJyb3JTb2x2ZSh1LCBmKTsNCiAgICB2ID0gc29sLnY7DQogICAgbSA9IHNvbC5tOw0KDQogICAgaWYoIWlzRmluaXRlKHYpKXsNCiAgICAgIHRleHQoMzYsIGgtNjAsICJBdCB1ID0gZiDih5IgaW1hZ2UgYXQgaW5maW5pdHkgKHJheXMgcGFyYWxsZWwpLiIsICJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIiwgdHJ1ZSk7DQogICAgICAvLyBkcmF3IHJheXMgbGVhdmluZyBtaXJyb3IgcGFyYWxsZWwNCiAgICAgIGNvbnN0IE90b3AgPSB3b3JsZFRvQ2FudmFzKHUsaE9iaixXKTsNCiAgICAgIGNvbnN0IE0xID0gd29ybGRUb0NhbnZhcygwLGhPYmosVyk7DQogICAgICBhcnJvdyhPdG9wLlgsT3RvcC5ZLE0xLlgsTTEuWSwicmdiYSg1OSwxMzAsMjQ2LDAuNzApIik7DQogICAgICBhcnJvdyhNMS5YLE0xLlksIDQwLCBNMS5ZLCAicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgICByZXR1cm47DQogICAgfQ0KDQogICAgaEltZyA9IG0qaE9iajsNCiAgICBpc1ZpcnR1YWwgPSAodj4wKTsNCg0KICAgIC8vIGRyYXcgaW1hZ2UgKGZvciBjb25jYXZlOiB2aXJ0dWFsIG9ubHkgd2hlbiBvYmplY3QgYmV0d2VlbiBQIGFuZCBGKQ0KICAgIGRyYXdJbWFnZShXLCB2LCBoSW1nLCBpc1ZpcnR1YWwsICJJbWFnZSIpOw0KDQogICAgLy8gZHJhdyBwcmluY2lwYWwgcmF5cw0KICAgIGNvbnN0IE90b3AgPSB3b3JsZFRvQ2FudmFzKHUsaE9iaixXKTsNCg0KICAgIC8vIFJheSAxOiBwYXJhbGxlbCB0byBheGlzIC0+IGFmdGVyIHJlZmxlY3Rpb24gdGhyb3VnaCBGIChjb25jYXZlKQ0KICAgIGNvbnN0IE0xID0gd29ybGRUb0NhbnZhcygwLGhPYmosVyk7DQogICAgYXJyb3coT3RvcC5YLE90b3AuWSxNMS5YLE0xLlksInJnYmEoNTksMTMwLDI0NiwwLjcwKSIpOw0KDQogICAgY29uc3QgRiA9IHdvcmxkVG9DYW52YXMoZiwwLFcpOw0KICAgIGlmKHNpbS5zdGVwPj0xKXsNCiAgICAgIC8vIHJlZmxlY3RlZCByYXkgZnJvbSBNMSB0byBGIHRoZW4gYmV5b25kDQogICAgICBhcnJvdyhNMS5YLE0xLlksRi5YLEYuWSwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgICAvLyBleHRlbmQgYSBiaXQgYmV5b25kIEYgdG8gbGVmdA0KICAgICAgYXJyb3coRi5YLEYuWSwgMzAsIEYuWSArIChGLlktTTEuWSkqMC4xNSwgInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgIH0NCg0KICAgIC8vIFJheSAyOiB0aHJvdWdoIGZvY3VzIC0+IHJlZmxlY3RzIHBhcmFsbGVsDQogICAgaWYoc2ltLnN0ZXA+PTIpew0KICAgICAgLy8gaW50ZXJzZWN0aW9uIHdpdGggbWlycm9yIHg9MCBvbiBsaW5lIGZyb20gb2JqZWN0IHRvcCB0byBmb2N1cw0KICAgICAgLy8gd29ybGQgbGluZTogZnJvbSAodSxoT2JqKSB0byAoZiwwKSwgZmluZCB5IGF0IHg9MA0KICAgICAgY29uc3QgeUF0TWlycm9yID0gaE9iaiArICgwIC0gdSkgKiAoMCAtIGhPYmopIC8gKGYgLSB1KTsNCiAgICAgIGNvbnN0IE0yID0gd29ybGRUb0NhbnZhcygwLCB5QXRNaXJyb3IsIFcpOw0KICAgICAgYXJyb3coT3RvcC5YLE90b3AuWSxNMi5YLE0yLlksInJnYmEoNTksMTMwLDI0NiwwLjcwKSIpOw0KICAgICAgYXJyb3coTTIuWCxNMi5ZLCAzMCwgTTIuWSwgInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgIH0NCg0KICAgIC8vIEZvciB2aXJ0dWFsIChjYXNlIGJldHdlZW4gUCBhbmQgRiksIHNob3cgZGFzaGVkIGJhY2t3YXJkIGV4dGVuc2lvbnMgdG8gbWVldCBiZWhpbmQgbWlycm9yDQogICAgaWYoaXNWaXJ0dWFsKXsNCiAgICAgIGNvbnN0IEl0b3AgPSB3b3JsZFRvQ2FudmFzKHYsaEltZyxXKTsNCiAgICAgIGxpbmUoTTEuWCxNMS5ZLCBJdG9wLlgsIEl0b3AuWSwgInJnYmEoMTQ4LDE2MywxODQsMC40MCkiLCAyLCBbOCw4XSk7DQogICAgICB0ZXh0KDM2LCBoLTYwLCAiVmlydHVhbCBpbWFnZTogZXh0ZW5kIHJlZmxlY3RlZCByYXlzIGJhY2t3YXJkIChkYXNoZWQpIGJlaGluZCBtaXJyb3IuIiwgInJnYmEoMTQ4LDE2MywxODQsMC45MikiLCB0cnVlKTsNCiAgICB9ZWxzZXsNCiAgICAgIHRleHQoMzYsIGgtNjAsIGB1PSR7dS50b0ZpeGVkKDEpfSBjbSwgZj0ke2YudG9GaXhlZCgxKX0gY20g4oeSIHY9JHt2LnRvRml4ZWQoMSl9IGNtLCBtPSR7bS50b0ZpeGVkKDIpfWAsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOTIpIiwgdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiA1KSBDb252ZXggbWlycm9yIGNhc2VzICovDQpTQ0VORVMuY29udmV4Q2FzZXMgPSB7DQogIHN0ZXBzOiAzLA0KICBkZWZhdWx0czp7IGNhc2VJZDoxLCBmQWJzOjMwLCB1QWJzOjgwLCBoOjQwIH0sDQogIGNhcHRpb24oc2ltKXsNCiAgICByZXR1cm4gYENvbnZleCBtaXJyb3I6IGFsd2F5cyB2aXJ0dWFsICYgZXJlY3QgYmVoaW5kIG1pcnJvcjsgaW1hZ2UgYmV0d2VlbiBQIGFuZCBGIGZvciBmaW5pdGUgb2JqZWN0LiAoU3RlcCAke3NpbS5zdGVwKzF9LyR7c2ltLnN0ZXBzfSlgOw0KICB9LA0KICBkcmF3KHcsaCxkdCxzaW0pew0KICAgIGNvbnN0IGYgPSArY2xhbXAoc2ltLnBhcmFtcy5mQWJzLDEwLDgwKTsNCiAgICBjb25zdCBjYXNlSWQgPSBzaW0ucGFyYW1zLmNhc2VJZDsNCiAgICBjb25zdCBoT2JqID0gY2xhbXAoc2ltLnBhcmFtcy5oLDEwLDcwKTsNCiAgICBjb25zdCB1QWJzID0gY2xhbXAoc2ltLnBhcmFtcy51QWJzLDIwLDIwMCk7DQoNCiAgICBjb25zdCB1ID0gKGNhc2VJZD09PTApID8gLTk5OTkgOiAtdUFiczsNCg0KICAgIGNvbnN0IFcgPSB7dyxoLCBjeDp3KjAuNTUsIGN5OmgqMC42Miwgc2NhbGU6IE1hdGgubWluKHcsaCkvMjkwIH07DQogICAgcGFuZWwoMTYsMTYsdy0zMixoLTMyLCJDb252ZXggbWlycm9yIOKAkyByYXkgZGlhZ3JhbSIpOw0KICAgIGRyYXdBeGlzKFcpOw0KICAgIGRyYXdNaXJyb3IoVywgMSwgZik7DQoNCiAgICBkcmF3T2JqZWN0KFcsIHUsIGhPYmosICJPYmplY3QiKTsNCg0KICAgIGNvbnN0IHNvbCA9IG1pcnJvclNvbHZlKHUsIGYpOw0KICAgIGNvbnN0IHYgPSBzb2wudiwgbSA9IHNvbC5tOw0KICAgIGlmKCFpc0Zpbml0ZSh2KSl7DQogICAgICB0ZXh0KDM2LGgtNjAsIk9iamVjdCBhdCBpbmZpbml0eSDihpIgaW1hZ2UgYXQgZm9jdXMgYmVoaW5kIG1pcnJvciAocG9pbnQtc2l6ZWQpLiIsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KICAgICAgY29uc3QgTSA9IHdvcmxkVG9DYW52YXMoMCwgaE9iaiowLjYsIFcpOw0KICAgICAgY29uc3QgRiA9IHdvcmxkVG9DYW52YXMoZiwwLFcpOw0KICAgICAgLy8gaW5jaWRlbnQgcGFyYWxsZWwgcmF5DQogICAgICBhcnJvdygzMCwgTS5ZLCBNLlgsIE0uWSwgInJnYmEoNTksMTMwLDI0NiwwLjcwKSIpOw0KICAgICAgLy8gcmVmbGVjdGVkIGRpdmVyZ2luZyByYXkgKHRvIGxlZnQpLCB3aXRoIGRhc2hlZCBleHRlbnNpb24gdG8gZm9jdXMgYmVoaW5kIG1pcnJvcg0KICAgICAgYXJyb3coTS5YLCBNLlksIDMwLCBNLlktNDAsICJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCiAgICAgIGxpbmUoTS5YLE0uWSxGLlgsRi5ZLCJyZ2JhKDE0OCwxNjMsMTg0LDAuNDApIiwyLFs4LDhdKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgY29uc3QgaEltZyA9IG0qaE9iajsNCiAgICBjb25zdCBpc1ZpcnR1YWwgPSB2PjA7DQogICAgZHJhd0ltYWdlKFcsIHYsIGhJbWcsIHRydWUsICJJbWFnZSIpOw0KDQogICAgLy8gUmF5IDE6IHBhcmFsbGVsIOKGkiBhcHBlYXJzIGZyb20gZm9jdXMgKGRyYXcgcmVmbGVjdGVkICsgZGFzaGVkIGV4dGVuc2lvbikNCiAgICBjb25zdCBPdG9wID0gd29ybGRUb0NhbnZhcyh1LGhPYmosVyk7DQogICAgY29uc3QgTTEgPSB3b3JsZFRvQ2FudmFzKDAsaE9iaixXKTsNCiAgICBhcnJvdyhPdG9wLlgsT3RvcC5ZLE0xLlgsTTEuWSwicmdiYSg1OSwxMzAsMjQ2LDAuNzApIik7DQogICAgaWYoc2ltLnN0ZXA+PTEpew0KICAgICAgYXJyb3coTTEuWCxNMS5ZLCAzMCwgTTEuWS01MCwgInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgICAgY29uc3QgRiA9IHdvcmxkVG9DYW52YXMoZiwwLFcpOw0KICAgICAgbGluZShNMS5YLE0xLlksRi5YLEYuWSwicmdiYSgxNDgsMTYzLDE4NCwwLjQwKSIsMixbOCw4XSk7DQogICAgfQ0KDQogICAgLy8gUmF5IDI6IGRpcmVjdGVkIHRvd2FyZHMgZm9jdXMg4oaSIHJlZmxlY3RzIHBhcmFsbGVsDQogICAgaWYoc2ltLnN0ZXA+PTIpew0KICAgICAgY29uc3QgeUF0TWlycm9yID0gaE9iaiArICgwIC0gdSkgKiAoMCAtIGhPYmopIC8gKGYgLSB1KTsgLy8gbGluZSBmcm9tIG9iamVjdCB0b3AgdG8gZm9jdXMgKGJlaGluZCkNCiAgICAgIGNvbnN0IE0yID0gd29ybGRUb0NhbnZhcygwLCB5QXRNaXJyb3IsIFcpOw0KICAgICAgYXJyb3coT3RvcC5YLE90b3AuWSxNMi5YLE0yLlksInJnYmEoNTksMTMwLDI0NiwwLjcwKSIpOw0KICAgICAgYXJyb3coTTIuWCxNMi5ZLCAzMCwgTTIuWSwgInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgICAgLy8gYmFja3dhcmQgZXh0ZW5zaW9uIG9mIHJlZmxlY3RlZCByYXkgdG8gaW1hZ2UgdG9wDQogICAgICBjb25zdCBJdG9wID0gd29ybGRUb0NhbnZhcyh2LGhJbWcsVyk7DQogICAgICBsaW5lKE0yLlgsTTIuWSxJdG9wLlgsSXRvcC5ZLCJyZ2JhKDE0OCwxNjMsMTg0LDAuNDApIiwyLFs4LDhdKTsNCiAgICB9DQoNCiAgICB0ZXh0KDM2LGgtNjAsYHU9JHt1LnRvRml4ZWQoMSl9IGNtLCBmPSske2YudG9GaXhlZCgxKX0gY20g4oeSIHY9JHt2LnRvRml4ZWQoMSl9IGNtLCBtPSR7bS50b0ZpeGVkKDIpfWAsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOTIpIiwgdHJ1ZSk7DQogIH0NCn07DQoNCi8qIDYpIFNpZ24gY29udmVudGlvbiBtaXJyb3IgKi8NClNDRU5FUy5zaWduQ29udmVudGlvbk1pcnJvciA9IHsNCiAgc3RlcHM6IDIsDQogIGRlZmF1bHRzOnsga2luZDowLCBmQWJzOjMwLCB1QWJzOjgwIH0sDQogIGNhcHRpb24oc2ltKXsNCiAgICByZXR1cm4gYE5ldyBDYXJ0ZXNpYW4gc2lnbiBjb252ZW50aW9uIChtaXJyb3JzKTogb2JqZWN0IGxlZnQg4oeSIHUgbmVnYXRpdmU7IGNvbmNhdmUgZiBuZWdhdGl2ZTsgY29udmV4IGYgcG9zaXRpdmUuIChTdGVwICR7c2ltLnN0ZXArMX0vJHtzaW0uc3RlcHN9KWA7DQogIH0sDQogIGRyYXcodyxoLGR0LHNpbSl7DQogICAgY29uc3Qga2luZCA9IHNpbS5wYXJhbXMua2luZDsNCiAgICBjb25zdCBmQWJzID0gY2xhbXAoc2ltLnBhcmFtcy5mQWJzLDEwLDgwKTsNCiAgICBjb25zdCB1QWJzID0gY2xhbXAoc2ltLnBhcmFtcy51QWJzLDE1LDIwMCk7DQoNCiAgICBjb25zdCBmID0gKGtpbmQ9PT0wKSA/IC1mQWJzIDogK2ZBYnM7DQogICAgY29uc3QgdSA9IC11QWJzOw0KDQogICAgY29uc3QgVyA9IHt3LGgsIGN4OncqMC41NSwgY3k6aCowLjYwLCBzY2FsZTogTWF0aC5taW4odyxoKS8zMDAgfTsNCiAgICBwYW5lbCgxNiwxNix3LTMyLGgtMzIsIlNpZ24gY29udmVudGlvbiDigJMgbWlycm9ycyAoTkNFUlQgc3R5bGUpIik7DQogICAgZHJhd0F4aXMoVyk7DQogICAgZHJhd01pcnJvcihXLCBraW5kLCBmKTsNCg0KICAgIC8vIHNob3cgY29vcmRpbmF0ZSBheGVzDQogICAgbGluZShXLmN4LCA0MCwgVy5jeCwgaC00MCwgInJnYmEoMTQ4LDE2MywxODQsMC4xNCkiLCAxLjUsIFs4LDhdKTsNCiAgICB0ZXh0KFcuY3grNiwgaC01MCwgInkiLCAicmdiYSgxNDgsMTYzLDE4NCwwLjc1KSIsIHRydWUpOw0KDQogICAgY29uc3Qgc29sID0gbWlycm9yU29sdmUodSxmKTsNCiAgICBjb25zdCB2ID0gc29sLnY7DQoNCiAgICBpZihpc0Zpbml0ZSh2KSl7DQogICAgICBjb25zdCBpc1ZpcnR1YWwgPSB2PjA7DQogICAgICBkcmF3T2JqZWN0KFcsdSw0MCwidSAob2JqZWN0KSIpOw0KICAgICAgZHJhd0ltYWdlKFcsdixzb2wubSo0MCxpc1ZpcnR1YWwsInYgKGltYWdlKSIpOw0KICAgIH1lbHNlew0KICAgICAgZHJhd09iamVjdChXLHUsNDAsInUgKG9iamVjdCkiKTsNCiAgICAgIHRleHQoMzYsaC02MCwidSDiiYggZiDihpIgaW1hZ2UgYXQgaW5maW5pdHkuIiwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc2ltLnN0ZXA+PTEpew0KICAgICAgdGV4dCgzNiwgaC05MCwgYHUgPSAke3UudG9GaXhlZCgxKX0gY20gIChsZWZ0ID0gbmVnYXRpdmUpYCwgInJnYmEoMTQ4LDE2MywxODQsMC45MikiLCB0cnVlKTsNCiAgICAgIHRleHQoMzYsIGgtNzAsIGBmID0gJHtmLnRvRml4ZWQoMSl9IGNtICAoJHtraW5kPT09MD8iY29uY2F2ZSI6ImNvbnZleCJ9KWAsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOTIpIiwgdHJ1ZSk7DQogICAgICBpZihpc0Zpbml0ZSh2KSkgdGV4dCgzNiwgaC01MCwgYHYgPSAke3YudG9GaXhlZCgxKX0gY20gICgke3Y+MD8iYmVoaW5kIG1pcnJvciAoKykiOiJpbiBmcm9udCAo4oiSKSJ9KWAsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOTIpIiwgdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiA3KSBNaXJyb3IgZm9ybXVsYSBjYWxjdWxhdG9yICovDQpTQ0VORVMubWlycm9yRm9ybXVsYSA9IHsNCiAgc3RlcHM6IDIsDQogIGRlZmF1bHRzOnsga2luZDowLCBmQWJzOjMwLCB1QWJzOjgwLCBoOjQwIH0sDQogIGNhcHRpb24oc2ltKXsNCiAgICByZXR1cm4gYE1pcnJvciBmb3JtdWxhOiAxL2YgPSAxL3YgKyAxL3U7IG1hZ25pZmljYXRpb24gbSA9IOKIknYvdS4gKFN0ZXAgJHtzaW0uc3RlcCsxfS8ke3NpbS5zdGVwc30pYDsNCiAgfSwNCiAgZHJhdyh3LGgsZHQsc2ltKXsNCiAgICBjb25zdCBraW5kPXNpbS5wYXJhbXMua2luZDsNCiAgICBjb25zdCBmQWJzPWNsYW1wKHNpbS5wYXJhbXMuZkFicywxMCw4MCk7DQogICAgY29uc3QgdUFicz1jbGFtcChzaW0ucGFyYW1zLnVBYnMsMTUsMjUwKTsNCiAgICBjb25zdCBoT2JqPWNsYW1wKHNpbS5wYXJhbXMuaCwxMCw3MCk7DQoNCiAgICBjb25zdCBmID0gKGtpbmQ9PT0wKSA/IC1mQWJzIDogK2ZBYnM7DQogICAgY29uc3QgdSA9IC11QWJzOw0KDQogICAgY29uc3QgVyA9IHt3LGgsIGN4OncqMC41OCwgY3k6aCowLjYyLCBzY2FsZTogTWF0aC5taW4odyxoKS8zMDAgfTsNCiAgICBwYW5lbCgxNiwxNix3LTMyLGgtMzIsIk1pcnJvciBmb3JtdWxhICsgbWFnbmlmaWNhdGlvbiAod2l0aCBkaWFncmFtKSIpOw0KICAgIGRyYXdBeGlzKFcpOw0KICAgIGRyYXdNaXJyb3IoVywga2luZCwgZik7DQogICAgZHJhd09iamVjdChXLCB1LCBoT2JqLCAiT2JqZWN0Iik7DQoNCiAgICBjb25zdCBzb2wgPSBtaXJyb3JTb2x2ZSh1LGYpOw0KICAgIGlmKCFpc0Zpbml0ZShzb2wudikpew0KICAgICAgdGV4dCgzNixoLTcwLCIxL3Yg4oaSIDAg4oeSIHYg4oaSIOKIniAob2JqZWN0IGF0IGZvY3VzKS4iLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgY29uc3QgdiA9IHNvbC52LCBtPXNvbC5tOw0KICAgIGNvbnN0IGhJbWcgPSBtKmhPYmo7DQogICAgY29uc3QgaXNWaXJ0dWFsID0gdj4wOw0KICAgIGRyYXdJbWFnZShXLCB2LCBoSW1nLCBpc1ZpcnR1YWwsICJJbWFnZSIpOw0KDQogICAgLy8gc21hbGwgZm9ybXVsYSBib3gNCiAgICBjdHguc2F2ZSgpOw0KICAgIGNvbnN0IGJ4PTI0LCBieT01MjsNCiAgICBjdHguZmlsbFN0eWxlPSJyZ2JhKDE1LDIzLDQyLDAuNjApIjsNCiAgICBycihieCxieSwgdyowLjQwLCA5MiwgMTQpOyBjdHguZmlsbCgpOw0KICAgIGN0eC5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE2KSI7IGN0eC5zdHJva2UoKTsNCiAgICBjdHguZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIjsNCiAgICBjdHguZm9udD0iNzAwIDEycHggc3lzdGVtLXVpIjsNCiAgICBjdHguZmlsbFRleHQoIkZvcm11bGFzOiIsIGJ4KzEyLCBieSsyMCk7DQogICAgY3R4LmZvbnQ9IjEycHggc3lzdGVtLXVpIjsNCiAgICBjdHguZmlsbFRleHQoYDEvZiA9IDEvdiArIDEvdWAsIGJ4KzEyLCBieSs0Mik7DQogICAgY3R4LmZpbGxUZXh0KGBtID0g4oiSdi91YCwgYngrMTIsIGJ5KzYwKTsNCiAgICBjdHguZmlsbFRleHQoYGgnID0gbcK3aGAsIGJ4KzEyLCBieSs3OCk7DQogICAgY3R4LnJlc3RvcmUoKTsNCg0KICAgIHRleHQoMzYsIGgtNzAsIGB1PSR7dS50b0ZpeGVkKDEpfSBjbSwgZj0ke2YudG9GaXhlZCgxKX0gY20g4oeSIHY9JHt2LnRvRml4ZWQoMSl9IGNtYCwgInJnYmEoMTQ4LDE2MywxODQsMC45MikiLCB0cnVlKTsNCiAgICBpZihzaW0uc3RlcD49MSl7DQogICAgICB0ZXh0KDM2LCBoLTUwLCBgbT0ke20udG9GaXhlZCgyKX0g4oeSIGgnPSR7aEltZy50b0ZpeGVkKDEpfSBjbSAoJHtoSW1nPDA/ImludmVydGVkIjoiZXJlY3QifSlgLCAicmdiYSgxNDgsMTYzLDE4NCwwLjkyKSIsIHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogOCkgR2xhc3Mgc2xhYiByZWZyYWN0aW9uIChTbmVsbCArIGxhdGVyYWwgc2hpZnQpICovDQpTQ0VORVMuZ2xhc3NTbGFiID0gew0KICBzdGVwczogMywNCiAgZGVmYXVsdHM6eyBpOjQ1LCBuMjoxLjUwLCB0aGljazoxMDAgfSwNCiAgY2FwdGlvbihzaW0pew0KICAgIHJldHVybiBgUmVjdGFuZ3VsYXIgc2xhYjogYmVuZGluZyBhdCBmaXJzdCBzdXJmYWNlIGFuZCBvcHBvc2l0ZSBiZW5kaW5nIGF0IHNlY29uZCDih5IgZW1lcmdlbnQgcmF5IOKIpSBpbmNpZGVudCAobGF0ZXJhbCBkaXNwbGFjZW1lbnQgc2hvd24pLiAoU3RlcCAke3NpbS5zdGVwKzF9LyR7c2ltLnN0ZXBzfSlgOw0KICB9LA0KICBkcmF3KHcsaCxkdCxzaW0pew0KICAgIGNvbnN0IGlEZWcgPSBjbGFtcChzaW0ucGFyYW1zLmksNSw4MCk7DQogICAgY29uc3QgbjE9MS4wMDsNCiAgICBjb25zdCBuMj1jbGFtcChzaW0ucGFyYW1zLm4yLDEuMTAsMS45MCk7DQogICAgY29uc3QgdCA9IGNsYW1wKHNpbS5wYXJhbXMudGhpY2ssNDAsMTQwKTsgLy8gcHgtaXNoIHRoaWNrbmVzcw0KDQogICAgcGFuZWwoMTYsMTYsdy0zMixoLTMyLCJSZWZyYWN0aW9uIHRocm91Z2ggcmVjdGFuZ3VsYXIgZ2xhc3Mgc2xhYiIpOw0KICAgIGNvbnN0IGN4PXcqMC41MiwgY3k9aCowLjU4Ow0KDQogICAgLy8gc2xhYiByZWN0YW5nbGUNCiAgICBjb25zdCBzbGFiVyA9IHcqMC40Niwgc2xhYkggPSB0Ow0KICAgIGNvbnN0IGxlZnQgPSBjeCAtIHNsYWJXLzIsIHRvcCA9IGN5IC0gc2xhYkgvMjsNCiAgICBjdHguc2F2ZSgpOw0KICAgIGN0eC5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjA3KSI7DQogICAgcnIobGVmdCx0b3Asc2xhYlcsc2xhYkgsMTYpOyBjdHguZmlsbCgpOw0KICAgIGN0eC5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIwKSI7DQogICAgY3R4LmxpbmVXaWR0aD0yOyBycihsZWZ0LHRvcCxzbGFiVyxzbGFiSCwxNik7IGN0eC5zdHJva2UoKTsNCiAgICBjdHgucmVzdG9yZSgpOw0KDQogICAgdGV4dChsZWZ0KzEyLCB0b3AtMTAsICJBaXIiLCAicmdiYSgxNDgsMTYzLDE4NCwwLjg1KSIsIHRydWUpOw0KICAgIHRleHQobGVmdCsxMiwgdG9wK3NsYWJIKzE4LCAiQWlyIiwgInJnYmEoMTQ4LDE2MywxODQsMC44NSkiLCB0cnVlKTsNCiAgICB0ZXh0KGxlZnQrc2xhYlctNTUsIHRvcCtzbGFiSC8yLCAiR2xhc3MiLCAicmdiYSgxNDcsMTk3LDI1MywwLjk1KSIsIHRydWUpOw0KDQogICAgLy8gQ2hvb3NlIGluY2lkZW5jZSBwb2ludCBvbiB0b3AgZmFjZSBhdCB4ID0gbGVmdCtzbGFiVyowLjQwDQogICAgY29uc3QgTyA9IHtYOiBsZWZ0K3NsYWJXKjAuNDAsIFk6IHRvcH07DQogICAgY29uc3QgTzIgPSB7WDogTy5YLCBZOiB0b3Arc2xhYkh9Ow0KDQogICAgLy8gbm9ybWFsIGxpbmVzDQogICAgbGluZShPLlgsIE8uWS04MCwgTy5YLCBPLlkrODAsICJyZ2JhKDM0LDE5Nyw5NCwwLjM1KSIsIDIsIFs4LDhdKTsNCiAgICBsaW5lKE8yLlgsIE8yLlktODAsIE8yLlgsIE8yLlkrODAsICJyZ2JhKDM0LDE5Nyw5NCwwLjM1KSIsIDIsIFs4LDhdKTsNCg0KICAgIC8vIGFuZ2xlcyB3aXRoIG5vcm1hbDogaSBpbiBhaXINCiAgICBjb25zdCBpID0gcmFkKGlEZWcpOw0KICAgIC8vIFNuZWxsOiBuMSBzaW4gaSA9IG4yIHNpbiByDQogICAgbGV0IHIgPSBNYXRoLmFzaW4oY2xhbXAoKG4xKk1hdGguc2luKGkpKS9uMiwgLTEsIDEpKTsNCg0KICAgIC8vIGluY2lkZW50IHJheSAoZnJvbSBsZWZ0LXRvcCByZWdpb24gdG8gTykNCiAgICBjb25zdCBMPTI2MDsNCiAgICAvLyBkaXJlY3Rpb24gb2YgcmF5IGFwcHJvYWNoaW5nIE86IGRvd253YXJkcywgbWFraW5nIGkgd2l0aCBub3JtYWwuDQogICAgLy8gbm9ybWFsIGlzIHZlcnRpY2FsLCBzbyBpbmNpZGVudCBkaXJlY3Rpb24gZm9ybXMgaSBmcm9tIHZlcnRpY2FsLg0KICAgIGNvbnN0IGluY0RpciA9IHtkeDogTWF0aC5zaW4oaSksIGR5OiBNYXRoLmNvcyhpKX07IC8vIGR5IHBvc2l0aXZlIGRvd24NCiAgICBjb25zdCBQMCA9IHtYOiBPLlggLSBpbmNEaXIuZHgqTCwgWTogTy5ZIC0gaW5jRGlyLmR5Kkx9Ow0KICAgIGFycm93KFAwLlgsUDAuWSxPLlgsTy5ZLCJyZ2JhKDU5LDEzMCwyNDYsMC44MCkiKTsNCg0KICAgIGlmKHNpbS5zdGVwPj0xKXsNCiAgICAgIC8vIHJlZnJhY3RlZCBpbnNpZGUgc2xhYjogYW5nbGUgciB3LnIudCBub3JtYWwgKHZlcnRpY2FsKQ0KICAgICAgY29uc3QgcmVmckRpciA9IHtkeDogTWF0aC5zaW4ociksIGR5OiBNYXRoLmNvcyhyKX07DQogICAgICBjb25zdCBpbnNpZGVFbmQgPSB7WDogTy5YICsgcmVmckRpci5keCpzbGFiSCwgWTogTy5ZICsgcmVmckRpci5keSpzbGFiSH07DQogICAgICBhcnJvdyhPLlgsTy5ZLCBpbnNpZGVFbmQuWCwgaW5zaWRlRW5kLlksICJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCg0KICAgICAgLy8gaGl0IGJvdHRvbSBhdCBPJyAoY2xvc2VzdCkNCiAgICAgIGNvbnN0IE9wcmltZSA9IHtYOiBpbnNpZGVFbmQuWCwgWTogaW5zaWRlRW5kLll9Ow0KICAgICAgZG90KE9wcmltZS5YLE9wcmltZS5ZLDMsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiKTsNCg0KICAgICAgaWYoc2ltLnN0ZXA+PTIpew0KICAgICAgICAvLyBlbWVyZ2U6IGJlbmQgYXdheSBmcm9tIG5vcm1hbCwgYW5nbGUgPSBpIGFnYWluIChwYXJhbGxlbCkNCiAgICAgICAgLy8gZW1lcmdlbnQgZGlyZWN0aW9uOiBkeCBzYW1lIGFzIGluY2lkZW50LCBkeSBwb3NpdGl2ZSAoZG93bikNCiAgICAgICAgY29uc3Qgb3V0RGlyID0ge2R4OiBNYXRoLnNpbihpKSwgZHk6IE1hdGguY29zKGkpfTsNCiAgICAgICAgY29uc3Qgb3V0RW5kID0ge1g6IE9wcmltZS5YICsgb3V0RGlyLmR4KkwsIFk6IE9wcmltZS5ZICsgb3V0RGlyLmR5Kkx9Ow0KICAgICAgICBhcnJvdyhPcHJpbWUuWCxPcHJpbWUuWSwgb3V0RW5kLlgsb3V0RW5kLlksInJnYmEoNTksMTMwLDI0NiwwLjgwKSIpOw0KDQogICAgICAgIC8vIHNob3cgaW5jaWRlbnQgcmF5IGV4dGVuc2lvbiB0byBjb21wYXJlIHBhcmFsbGVsaXNtDQogICAgICAgIC8vIGRyYXcgYSBmYWludCByZWZlcmVuY2UgbGluZSBwYXJhbGxlbCB0byBpbmNpZGVudCBwYXNzaW5nIHRocm91Z2ggTycNCiAgICAgICAgY29uc3QgcmVmU3RhcnQgPSB7WDogT3ByaW1lLlggLSBvdXREaXIuZHgqMTgwLCBZOiBPcHJpbWUuWSAtIG91dERpci5keSoxODB9Ow0KICAgICAgICBsaW5lKHJlZlN0YXJ0LlgscmVmU3RhcnQuWSwgb3V0RW5kLlgsb3V0RW5kLlksICJyZ2JhKDE0OCwxNjMsMTg0LDAuMTgpIiwgMiwgWzEwLDEwXSk7DQoNCiAgICAgICAgLy8gbGF0ZXJhbCBkaXNwbGFjZW1lbnQ6IHBlcnBlbmRpY3VsYXIgZGlzdGFuY2UgYmV0d2VlbiBpbmNpZGVudCBleHRlbnNpb24gYW5kIGVtZXJnZW50DQogICAgICAgIC8vIFVzZSBzdGFuZGFyZCBzbGFiIGZvcm11bGEgZCA9IHQgKiBzaW4oaS1yKSAvIGNvcyhyKSAoaW4gY29uc2lzdGVudCB1bml0cykNCiAgICAgICAgY29uc3QgZCA9IHNsYWJIICogTWF0aC5zaW4oaS1yKSAvIE1hdGguY29zKHIpOyAvLyBpbiBweA0KICAgICAgICB0ZXh0KDMwLCBoLTcwLCBgaT0ke2lEZWcudG9GaXhlZCgwKX3CsCwgcj0ke2RlZyhyKS50b0ZpeGVkKDEpfcKwLCBuPSR7bjIudG9GaXhlZCgyKX1gLCAicmdiYSgxNDgsMTYzLDE4NCwwLjkyKSIsIHRydWUpOw0KICAgICAgICB0ZXh0KDMwLCBoLTUwLCBgTGF0ZXJhbCBkaXNwbGFjZW1lbnQgKGFwcHJveCk6IGQg4omIICR7ZC50b0ZpeGVkKDEpfSAoZGlhZ3JhbSB1bml0cylgLCAicmdiYSgxNDgsMTYzLDE4NCwwLjkyKSIsIHRydWUpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg0KLyogOSkgU25lbGwgKyByZWZyYWN0aXZlIGluZGV4ICovDQpTQ0VORVMuc25lbGxJbmRleCA9IHsNCiAgc3RlcHM6IDIsDQogIGRlZmF1bHRzOnsgaTo0NSwgbjoxLjUyLCBjODozLjAgfSwNCiAgY2FwdGlvbihzaW0pew0KICAgIHJldHVybiBgU25lbGw6IG4gPSBzaW4gaSAvIHNpbiByIChhaXLihpJtZWRpdW0pLiBBbHNvIG4gPSBjL3Yg4oeSIHYgPSBjL24uIChTdGVwICR7c2ltLnN0ZXArMX0vJHtzaW0uc3RlcHN9KWA7DQogIH0sDQogIGRyYXcodyxoLGR0LHNpbSl7DQogICAgcGFuZWwoMTYsMTYsdy0zMixoLTMyLCJTbmVsbOKAmXMgbGF3ICsgcmVmcmFjdGl2ZSBpbmRleCIpOw0KICAgIGNvbnN0IGlEZWcgPSBjbGFtcChzaW0ucGFyYW1zLmksNSw4MCk7DQogICAgY29uc3QgbiA9IGNsYW1wKHNpbS5wYXJhbXMubiwxLjAwLDIuNDIpOw0KICAgIGNvbnN0IGMgPSBjbGFtcChzaW0ucGFyYW1zLmM4LDIuMCwzLjApICogMWU4Ow0KDQogICAgLy8gU25lbGwgZnJvbSBhaXI6IHNpbiByID0gc2luIGkgLyBuDQogICAgY29uc3QgaSA9IHJhZChpRGVnKTsNCiAgICBjb25zdCBzaW5yID0gY2xhbXAoTWF0aC5zaW4oaSkvbiwgLTEsIDEpOw0KICAgIGNvbnN0IHIgPSBNYXRoLmFzaW4oc2lucik7DQoNCiAgICBjb25zdCB2ID0gYyAvIG47IC8vIHNwZWVkIGluIG1lZGl1bQ0KDQogICAgLy8gZHJhdyBpbnRlcmZhY2UgaG9yaXpvbnRhbA0KICAgIGNvbnN0IGN4PXcqMC41MCwgY3k9aCowLjU1Ow0KICAgIGxpbmUoNDAsY3ksdy00MCxjeSwicmdiYSgyMjYsMjMyLDI0MCwwLjI1KSIsMik7DQogICAgdGV4dCg0NixjeS0xMCwiSW50ZXJmYWNlIiwgInJnYmEoMTQ4LDE2MywxODQsMC44NSkiLCB0cnVlKTsNCg0KICAgIC8vIG5vcm1hbCBhdCBjZW50cmUNCiAgICBsaW5lKGN4LGN5LTE0MCxjeCxjeSsxNDAsInJnYmEoMzQsMTk3LDk0LDAuMzUpIiwyLFs4LDhdKTsNCiAgICB0ZXh0KGN4KzgsY3ktMTIwLCJOb3JtYWwiLCJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIix0cnVlKTsNCg0KICAgIC8vIGluY2lkZW50IChhYm92ZSBpbnRlcmZhY2UpDQogICAgY29uc3QgTD0yNjA7DQogICAgY29uc3QgaW5jRGlyID0ge2R4OiBNYXRoLnNpbihpKSwgZHk6IE1hdGguY29zKGkpfTsgLy8gZG93bg0KICAgIGNvbnN0IFAwID0ge1g6IGN4IC0gaW5jRGlyLmR4KkwsIFk6IGN5IC0gaW5jRGlyLmR5Kkx9Ow0KICAgIGFycm93KFAwLlgsUDAuWSxjeCxjeSwicmdiYSg1OSwxMzAsMjQ2LDAuODApIik7DQoNCiAgICAvLyByZWZyYWN0ZWQgKGJlbG93IGludGVyZmFjZSkgYmVuZGluZyB0b3dhcmQgbm9ybWFsIGZvciBuPjENCiAgICBjb25zdCByZWZyRGlyID0ge2R4OiBNYXRoLnNpbihyKSwgZHk6IE1hdGguY29zKHIpfTsNCiAgICBjb25zdCBQMSA9IHtYOiBjeCArIHJlZnJEaXIuZHgqTCwgWTogY3kgKyByZWZyRGlyLmR5Kkx9Ow0KICAgIGFycm93KGN4LGN5LFAxLlgsUDEuWSwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQoNCiAgICBkb3QoY3gsY3ksNCwicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIpOw0KDQogICAgdGV4dCgzMCxoLTkwLGBuPSR7bi50b0ZpeGVkKDIpfTsgaT0ke2lEZWcudG9GaXhlZCgwKX3CsDsgcj0ke2RlZyhyKS50b0ZpeGVkKDEpfcKwYCwgInJnYmEoMTQ4LDE2MywxODQsMC45MikiLCB0cnVlKTsNCiAgICBpZihzaW0uc3RlcD49MSl7DQogICAgICB0ZXh0KDMwLGgtNzAsYElmIGM9JHsoYy8xZTgpLnRvRml4ZWQoMil9w5cxMF44IG0vcywgdGhlbiB2ID0gYy9uIOKJiCAkeyh2LzFlOCkudG9GaXhlZCgyKX3DlzEwXjggbS9zYCwgInJnYmEoMTQ4LDE2MywxODQsMC45MikiLCB0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qIDEwKSBMZW5zIGRpYWdyYW1zICovDQpTQ0VORVMubGVuc0RpYWdyYW1zID0gew0KICBzdGVwczogMywNCiAgZGVmYXVsdHM6eyBraW5kOjAsIGZBYnM6MzAsIHVBYnM6ODAsIGg6NDAgfSwNCiAgY2FwdGlvbihzaW0pew0KICAgIHJldHVybiBgTGVucyByYXkgZGlhZ3JhbTogcGFyYWxsZWwgcmF5ICsgb3B0aWNhbC1jZW50cmUgcmF5OyB1c2VzIHRoaW4gbGVucyBmb3JtdWxhLiAoU3RlcCAke3NpbS5zdGVwKzF9LyR7c2ltLnN0ZXBzfSlgOw0KICB9LA0KICBkcmF3KHcsaCxkdCxzaW0pew0KICAgIGNvbnN0IGtpbmQ9c2ltLnBhcmFtcy5raW5kOyAvLyAwIGNvbnZleCwgMSBjb25jYXZlDQogICAgY29uc3QgZkFicz1jbGFtcChzaW0ucGFyYW1zLmZBYnMsMTAsODApOw0KICAgIGNvbnN0IHVBYnM9Y2xhbXAoc2ltLnBhcmFtcy51QWJzLDE1LDIyMCk7DQogICAgY29uc3QgaE9iaj1jbGFtcChzaW0ucGFyYW1zLmgsMTAsNzApOw0KDQogICAgLy8gbGVucyBzaWduOiBjb252ZXggZiBwb3NpdGl2ZSwgY29uY2F2ZSBmIG5lZ2F0aXZlDQogICAgY29uc3QgZiA9IChraW5kPT09MCkgPyArZkFicyA6IC1mQWJzOw0KICAgIGNvbnN0IHUgPSAtdUFiczsNCg0KICAgIGNvbnN0IFcgPSB7dyxoLCBjeDp3KjAuNTIsIGN5OmgqMC42Miwgc2NhbGU6IE1hdGgubWluKHcsaCkvMjkwIH07DQogICAgcGFuZWwoMTYsMTYsdy0zMixoLTMyLCJUaGluIGxlbnMg4oCTIHJheSBkaWFncmFtICsgZm9ybXVsYSIpOw0KICAgIGRyYXdBeGlzKFcpOw0KICAgIGRyYXdMZW5zKFcsIGtpbmQsIGZBYnMpOw0KDQogICAgZHJhd09iamVjdChXLHUsaE9iaiwiT2JqZWN0Iik7DQoNCiAgICBjb25zdCBzb2wgPSBsZW5zU29sdmUodSxmKTsNCiAgICBpZighaXNGaW5pdGUoc29sLnYpKXsNCiAgICAgIHRleHQoMzAsaC03MCwiT2JqZWN0IGF0IGZvY3VzIOKHkiBpbWFnZSBhdCBpbmZpbml0eSAocmF5cyBwYXJhbGxlbCkuIiwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIGNvbnN0IHYgPSBzb2wudjsNCiAgICBjb25zdCBtID0gc29sLm07DQogICAgY29uc3QgaEltZyA9IG0qaE9iajsNCiAgICBjb25zdCBpc1ZpcnR1YWwgPSAodjwwKTsgLy8gZm9yIGxlbnM6IHYgbmVnYXRpdmUgbWVhbnMgaW1hZ2Ugb24gbGVmdCAodmlydHVhbCBmb3IgY29udmV4IGlmIHU8ZikNCiAgICBkcmF3SW1hZ2UoVywgdiwgaEltZywgaXNWaXJ0dWFsLCAiSW1hZ2UiKTsNCg0KICAgIC8vIFJheXMgZnJvbSBvYmplY3QgdG9wDQogICAgY29uc3QgT3RvcCA9IHdvcmxkVG9DYW52YXModSxoT2JqLFcpOw0KDQogICAgLy8gUmF5IDE6IHBhcmFsbGVsIHRvIGF4aXMgdG8gbGVucw0KICAgIGNvbnN0IEwxID0gd29ybGRUb0NhbnZhcygwLGhPYmosVyk7DQogICAgYXJyb3coT3RvcC5YLE90b3AuWSxMMS5YLEwxLlksInJnYmEoNTksMTMwLDI0NiwwLjcwKSIpOw0KDQogICAgaWYoc2ltLnN0ZXA+PTEpew0KICAgICAgLy8gYWZ0ZXIgcmVmcmFjdGlvbg0KICAgICAgaWYoa2luZD09PTApew0KICAgICAgICAvLyBjb252ZXg6IGdvZXMgdGhyb3VnaCBGMiBhdCArZkFicw0KICAgICAgICBjb25zdCBGMiA9IHdvcmxkVG9DYW52YXMoK2ZBYnMsMCxXKTsNCiAgICAgICAgYXJyb3coTDEuWCxMMS5ZLEYyLlgsRjIuWSwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgICAgIGFycm93KEYyLlgsRjIuWSwgdy0zMCwgRjIuWSArIChGMi5ZLUwxLlkpKjAuMTUsICJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCiAgICAgIH1lbHNlew0KICAgICAgICAvLyBjb25jYXZlOiBkaXZlcmdlcyBhcyBpZiBmcm9tIEYxIGF0IC1mQWJzDQogICAgICAgIGFycm93KEwxLlgsTDEuWSwgMzAsIEwxLlktNjAsICJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCiAgICAgICAgY29uc3QgRjEgPSB3b3JsZFRvQ2FudmFzKC1mQWJzLDAsVyk7DQogICAgICAgIGxpbmUoTDEuWCxMMS5ZLEYxLlgsRjEuWSwicmdiYSgxNDgsMTYzLDE4NCwwLjQwKSIsMixbOCw4XSk7DQogICAgICB9DQogICAgfQ0KDQogICAgLy8gUmF5IDI6IHRocm91Z2ggb3B0aWNhbCBjZW50cmUgKHVuZGV2aWF0ZWQpDQogICAgaWYoc2ltLnN0ZXA+PTIpew0KICAgICAgY29uc3QgTyA9IHdvcmxkVG9DYW52YXMoMCwwLFcpOw0KICAgICAgLy8gZHJhdyBzdHJhaWdodCBsaW5lIGZyb20gb2JqZWN0IHRvcCB0aHJvdWdoIG9wdGljYWwgY2VudHJlLCBleHRlbmQNCiAgICAgIGFycm93KE90b3AuWCxPdG9wLlksIE8uWCxPLlksICJyZ2JhKDU5LDEzMCwyNDYsMC43MCkiKTsNCiAgICAgIGFycm93KE8uWCxPLlksIHctMzAsIE8uWSArIChPLlktT3RvcC5ZKSooKHctMzAgLSBPLlgpLyhPLlggLSBPdG9wLlggKyAxZS02KSksICJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCg0KICAgICAgLy8gRm9yIHZpcnR1YWwgaW1hZ2VzLCBzaG93IGRhc2hlZCBiYWNrd2FyZCBleHRlbnNpb25zIHRvIG1lZXQgYXQgaW1hZ2UNCiAgICAgIGlmKGlzVmlydHVhbCl7DQogICAgICAgIGNvbnN0IEl0b3AgPSB3b3JsZFRvQ2FudmFzKHYsaEltZyxXKTsNCiAgICAgICAgLy8gZXh0ZW5kIHJlZnJhY3RlZCByYXlzIGJhY2t3YXJkDQogICAgICAgIGxpbmUoTDEuWCxMMS5ZLCBJdG9wLlgsIEl0b3AuWSwgInJnYmEoMTQ4LDE2MywxODQsMC40MCkiLCAyLCBbOCw4XSk7DQogICAgICAgIGxpbmUoTy5YLE8uWSwgSXRvcC5YLCBJdG9wLlksICJyZ2JhKDE0OCwxNjMsMTg0LDAuNDApIiwgMiwgWzgsOF0pOw0KICAgICAgICB0ZXh0KDMwLGgtNTAsIlZpcnR1YWwgaW1hZ2U6IGV4dGVuZCByZWZyYWN0ZWQgcmF5cyBiYWNrd2FyZCAoZGFzaGVkKSB0byBtZWV0IG9uIG9iamVjdCBzaWRlLiIsInJnYmEoMTQ4LDE2MywxODQsMC45MikiLHRydWUpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIHRleHQoMzAsaC05MCxgdT0ke3UudG9GaXhlZCgxKX0gY20sIGY9JHtmLnRvRml4ZWQoMSl9IGNtIOKHkiB2PSR7di50b0ZpeGVkKDEpfSBjbWAsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOTIpIiwgdHJ1ZSk7DQogICAgdGV4dCgzMCxoLTcwLGBtPXYvdSA9ICR7bS50b0ZpeGVkKDIpfSDih5IgaCc9JHtoSW1nLnRvRml4ZWQoMSl9IGNtICgke2hJbWc8MD8iaW52ZXJ0ZWQiOiJlcmVjdCJ9KWAsICJyZ2JhKDE0OCwxNjMsMTg0LDAuOTIpIiwgdHJ1ZSk7DQogIH0NCn07DQoNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogICBJTklUDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KcmVuZGVyTmF2KCk7DQpzZWxlY3RUb3BpYyhUT1BJQ1NbMF0uaWQpOw0KPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+DQo="}, {"id": "ch10", "file": "ch10.html", "title": "Class 10 Science Ch 10 \u2013 Human Eye & Colourful World", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDEwIOKAkyBIdW1hbiBFeWUgJiBDb2xvdXJmdWwgV29ybGQ8L3RpdGxlPg0KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiIC8+DQogIDxzdHlsZT4NCiAgICAqeyBib3gtc2l6aW5nOmJvcmRlci1ib3g7IH0NCiAgICBib2R5ew0KICAgICAgbWFyZ2luOjA7DQogICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sU2Vnb2UgVUksUm9ib3RvLEFyaWFsLHNhbnMtc2VyaWY7DQogICAgICBiYWNrZ3JvdW5kOg0KICAgICAgICByYWRpYWwtZ3JhZGllbnQoMTEwMHB4IDY4MHB4IGF0IDE4JSAxMCUsIHJnYmEoNTksMTMwLDI0NiwwLjE4KSwgdHJhbnNwYXJlbnQgNTUlKSwNCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KDkwMHB4IDYyMHB4IGF0IDgyJSAxNiUsIHJnYmEoMTM5LDkyLDI0NiwwLjE4KSwgdHJhbnNwYXJlbnQgNjAlKSwNCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KDkwMHB4IDYwMHB4IGF0IDU1JSAxMDAlLCByZ2JhKDI0NSwxNTgsMTEsMC4xNCksIHRyYW5zcGFyZW50IDU1JSksDQogICAgICAgIGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwNTA4MTYgMCUsICMxZTFiNGIgMTAwJSk7DQogICAgICBjb2xvcjojZjFmNWY5Ow0KICAgICAgbWluLWhlaWdodDoxMDB2aDsNCiAgICB9DQogICAgaGVhZGVyew0KICAgICAgcGFkZGluZzogMThweCA1dnc7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTIpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpOw0KICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xMCk7DQogICAgICBwb3NpdGlvbjogc3RpY2t5OyB0b3A6MDsgei1pbmRleDogNTA7DQogICAgfQ0KICAgIGhlYWRlciBoMXsNCiAgICAgIG1hcmdpbjowIDAgOHB4Ow0KICAgICAgZm9udC1zaXplOiBjbGFtcCgxLjI1cmVtLCA0dncsIDEuOXJlbSk7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjM2I4MmY2LCAjOGI1Y2Y2LCAjMjJjNTVlLCAjZjU5ZTBiKTsNCiAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOnRleHQ7DQogICAgICBiYWNrZ3JvdW5kLWNsaXA6dGV4dDsNCiAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOnRyYW5zcGFyZW50Ow0KICAgIH0NCiAgICAuY29udHJvbHN7DQogICAgICBkaXNwbGF5OmZsZXg7IGdhcDoxMnB4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGZsZXgtd3JhcDp3cmFwOw0KICAgIH0NCiAgICBpbnB1dFt0eXBlPSJzZWFyY2giXXsNCiAgICAgIHBhZGRpbmc6IDhweCAxNnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNDUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMjRweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC43NSk7DQogICAgICBjb2xvcjojZjFmNWY5Ow0KICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgbWluLXdpZHRoOiAyNjBweDsNCiAgICAgIG91dGxpbmU6bm9uZTsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl06OnBsYWNlaG9sZGVyeyBjb2xvcjojOTRhM2I4OyB9DQogICAgLnByb2dyZXNzeyBmb250LXNpemU6MC45cmVtOyBjb2xvcjojOTRhM2I4OyB9DQoNCiAgICAubGF5b3V0ew0KICAgICAgZGlzcGxheTpncmlkOw0KICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAzNjBweCAxZnI7DQogICAgICBnYXA6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxOHB4IDV2dyA2MHB4Ow0KICAgICAgbWF4LXdpZHRoOiAxODAwcHg7DQogICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICB9DQogICAgQG1lZGlhIChtYXgtd2lkdGg6IDExMDBweCl7IC5sYXlvdXR7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9IH0NCg0KICAgIG5hdnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45Mik7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjI1KTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTsNCiAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxNDBweCk7DQogICAgICBvdmVyZmxvdzphdXRvOw0KICAgIH0NCiAgICBuYXYgaDJ7DQogICAgICBmb250LXNpemU6IDAuOTVyZW07DQogICAgICBtYXJnaW46IDAgMCAxMnB4Ow0KICAgICAgY29sb3I6IzkzYzVmZDsNCiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgICBsZXR0ZXItc3BhY2luZzogMC4wNWVtOw0KICAgIH0NCiAgICAudG9waWMtbGlua3sNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBtYXJnaW46IDZweCAwOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGN1cnNvcjpwb2ludGVyOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIC4xOHMgZWFzZTsNCiAgICAgIHVzZXItc2VsZWN0Om5vbmU7DQogICAgfQ0KICAgIC50b3BpYy1saW5rOmhvdmVyew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMTIpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LDEzMCwyNDYsMC40MCk7DQogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNHB4KTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsuYWN0aXZlew0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzNiODJmNiwgIzYwYTVmYSk7DQogICAgICBjb2xvcjojMGYxNzJhOw0KICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDE4cHggcmdiYSg1OSwxMzAsMjQ2LDAuMjIpOw0KICAgIH0NCiAgICAudG9waWMtbGluayAudGFnew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogICAgICBwYWRkaW5nOiAycHggOHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBmb250LXNpemU6IDAuNzJyZW07DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuMzUpOw0KICAgICAgbWFyZ2luLWxlZnQ6IDhweDsNCiAgICB9DQoNCiAgICBtYWluew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkyKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7DQogICAgICBwYWRkaW5nOiAyMnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuMjIpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpOw0KICAgICAgYm94LXNoYWRvdzogMCAyMnB4IDcwcHggcmdiYSgwLDAsMCwwLjQ1KTsNCiAgICB9DQogICAgLmJhZGdlew0KICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7DQogICAgICBwYWRkaW5nOiA0cHggMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgZm9udC1zaXplOiAwLjc4cmVtOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNDUsMTU4LDExLDAuNTUpOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDUsMTU4LDExLDAuMTApOw0KICAgICAgY29sb3I6ICNmYmJmMjQ7DQogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgIH0NCiAgICBtYWluIGgyeyBtYXJnaW46IDZweCAwIDA7IGNvbG9yOiNlMmU4ZjA7IGZvbnQtc2l6ZTogMS40OHJlbTsgfQ0KDQogICAgLnNlY3Rpb257IG1hcmdpbi10b3A6IDIycHg7IH0NCiAgICAuc2VjdGlvbiBoM3sNCiAgICAgIGZvbnQtc2l6ZTogMS4wOHJlbTsNCiAgICAgIGNvbG9yOiNhNWI0ZmM7DQogICAgICBtYXJnaW46IDAgMCAxMHB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjOGI1Y2Y2Ow0KICAgICAgcGFkZGluZy1sZWZ0OiAxMnB4Ow0KICAgIH0NCiAgICBwLCBsaXsgY29sb3I6I2UyZThmMDsgZm9udC1zaXplOiAwLjk2cmVtOyBsaW5lLWhlaWdodDoxLjY1OyB9DQogICAgdWx7IHBhZGRpbmctbGVmdDogMjBweDsgbWFyZ2luOiAxMHB4IDAgMDsgfQ0KDQogICAgLnZpZGVvLWNvbnRhaW5lcnsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuNDApOw0KICAgICAgYmFja2dyb3VuZDogIzBmMTcyYTsNCiAgICAgIGFzcGVjdC1yYXRpbzogMTYvOTsNCiAgICAgIG1hcmdpbjogMTJweCAwOw0KICAgIH0NCiAgICBpZnJhbWV7IHdpZHRoOjEwMCU7IGhlaWdodDoxMDAlOyBib3JkZXI6MDsgfQ0KDQogICAgLmFuaW0tY29udGFpbmVyew0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxZTI5M2IgMCUsICMwZjE3MmEgMTAwJSk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEzOSw5MiwyNDYsMC40NSk7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgbWFyZ2luOiAxMnB4IDA7DQogICAgfQ0KICAgIC5hbmltLXRvb2xiYXJ7DQogICAgICBkaXNwbGF5OmZsZXg7DQogICAgICBmbGV4LXdyYXA6d3JhcDsNCiAgICAgIGdhcDoxMHB4Ow0KICAgICAgYWxpZ24taXRlbXM6Y2VudGVyOw0KICAgICAganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47DQogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgY29sb3I6I2M0YjVmZDsNCiAgICAgIGZvbnQtc2l6ZTogMC44OHJlbTsNCiAgICB9DQogICAgLmJ0bnN7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgZmxleC13cmFwOndyYXA7IGFsaWduLWl0ZW1zOmNlbnRlcjsgfQ0KICAgIGJ1dHRvbnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTM5LDkyLDI0NiwwLjE2KTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTM5LDkyLDI0NiwwLjU1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgcGFkZGluZzogNnB4IDE0cHg7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICBmb250LXNpemU6IDAuODJyZW07DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjE4czsNCiAgICB9DQogICAgYnV0dG9uOmhvdmVyeyBiYWNrZ3JvdW5kOiByZ2JhKDEzOSw5MiwyNDYsMC4yOCk7IH0NCiAgICBidXR0b246ZGlzYWJsZWR7IG9wYWNpdHk6MC41OyBjdXJzb3I6bm90LWFsbG93ZWQ7IH0NCg0KICAgIC5zbGlkZXJ7DQogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweDsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC42KTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC4yNSk7DQogICAgICBwYWRkaW5nOiA2cHggMTBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgY29sb3I6I2NiZDVlMTsNCiAgICAgIGZvbnQtc2l6ZTogMC44MnJlbTsNCiAgICB9DQogICAgaW5wdXRbdHlwZT0icmFuZ2UiXXsgd2lkdGg6IDE3MHB4OyB9DQoNCiAgICBjYW52YXN7DQogICAgICB3aWR0aDoxMDAlOw0KICAgICAgaGVpZ2h0OiA0MDBweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyMCUsIHJnYmEoMTM5LDkyLDI0NiwwLjEwKSwgIzBmMTcyYSk7DQogICAgICBkaXNwbGF5OmJsb2NrOw0KICAgIH0NCiAgICAuY2FwdGlvbnsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgzNCwxOTcsOTQsMC4wOCk7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDM0LDE5Nyw5NCwwLjIyKTsNCiAgICAgIGNvbG9yOiNkMWZhZTU7DQogICAgICBmb250LXNpemU6IDAuOTJyZW07DQogICAgICBsaW5lLWhlaWdodDogMS41NTsNCiAgICB9DQoNCiAgICAucXVpensNCiAgICAgIG1hcmdpbi10b3A6IDE4cHg7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDUsMTU4LDExLDAuMTApOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2Y1OWUwYjsNCiAgICB9DQogICAgLnF1aXotcXVlc3Rpb257IGZvbnQtd2VpZ2h0OiA3NTA7IG1hcmdpbi1ib3R0b206IDEwcHg7IH0NCiAgICAucXVpei1vcHRpb25zIGJ1dHRvbnsNCiAgICAgIGRpc3BsYXk6YmxvY2s7IHdpZHRoOjEwMCU7DQogICAgICBtYXJnaW46IDZweCAwOw0KICAgICAgcGFkZGluZzogMTBweCAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ4LDE2MywxODQsMC4zNSk7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuNzUpOw0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICAgIGN1cnNvcjpwb2ludGVyOw0KICAgICAgdHJhbnNpdGlvbjogYWxsIC4xOHM7DQogICAgICB0ZXh0LWFsaWduOmxlZnQ7DQogICAgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uOmhvdmVyew0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMTgpOw0KICAgICAgYm9yZGVyLWNvbG9yOiByZ2JhKDU5LDEzMCwyNDYsMC44MCk7DQogICAgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uLmNvcnJlY3R7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC45NSk7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoMjE3LDExOSw2LDEpOw0KICAgICAgY29sb3I6IzExMTgyNzsNCiAgICAgIGZvbnQtd2VpZ2h0OiA4NTA7DQogICAgfQ0KICAgIC5xdWl6LWV4cGxhaW57DQogICAgICBkaXNwbGF5Om5vbmU7DQogICAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgICAgcGFkZGluZzogMTBweCAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgyNDUsMTU4LDExLDAuMTIpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgIGNvbG9yOiNmZGU2OGE7DQogICAgICBmb250LXNpemU6IDAuOTJyZW07DQogICAgfQ0KICAgIGF7IGNvbG9yOiM2MGE1ZmE7IHRleHQtZGVjb3JhdGlvbjpub25lOyB9DQogICAgYTpob3ZlcnsgdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsgfQ0KICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8aGVhZGVyPg0KICA8aDE+SHVtYW4gRXllICYgVGhlIENvbG91cmZ1bCBXb3JsZCDigJMgQ2xhc3MgMTAgKENoIDEwKTwvaDE+DQogIDxkaXYgY2xhc3M9ImNvbnRyb2xzIj4NCiAgICA8aW5wdXQgdHlwZT0ic2VhcmNoIiBpZD0ic2VhcmNoSW5wdXQiIHBsYWNlaG9sZGVyPSJTZWFyY2g6IHJldGluYSwgcHVwaWwsIGFjY29tbW9kYXRpb24sIG15b3BpYSwgcHJpc20sIGRpc3BlcnNpb24sIHJhaW5ib3csIHNjYXR0ZXJpbmcuLi4iIC8+DQogICAgPHNwYW4gY2xhc3M9InByb2dyZXNzIj5Qcm9ncmVzczogPHNwYW4gaWQ9InByb2dDb3VudCI+MDwvc3Bhbj4vPHNwYW4gaWQ9InRvdGFsQ291bnQiPjA8L3NwYW4+IHRvcGljczwvc3Bhbj4NCiAgPC9kaXY+DQo8L2hlYWRlcj4NCg0KPGRpdiBjbGFzcz0ibGF5b3V0Ij4NCiAgPG5hdj4NCiAgICA8aDI+Q2hhcHRlciAxMCBUb3BpY3M8L2gyPg0KICAgIDxkaXYgaWQ9InRvcGljTGlzdCI+PC9kaXY+DQogIDwvbmF2Pg0KDQogIDxtYWluPg0KICAgIDxkaXYgaWQ9InRvcGljQ29udGVudCI+PC9kaXY+DQogIDwvbWFpbj4NCjwvZGl2Pg0KDQo8c2NyaXB0Pg0KLyogPT09PT09PT09PT09PSBWSURFTyAoU3VubGlrZSBTdHVkeSkgPT09PT09PT09PT09PSAqLw0KY29uc3QgY2gxMFZpZGVvID0gew0KICB5dFdhdGNoOiAiaHR0cHM6Ly95b3V0dS5iZS9YQVh2dE5XY29wNCIsDQogIGVtYmVkOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvWEFYdnROV2NvcDQiDQp9Ow0KDQovKiA9PT09PT09PT09PT09IFRPUElDUyAoTkNFUlQtYWxpZ25lZCkgPT09PT09PT09PT09PSAqLw0KY29uc3QgdG9waWNzID0gWw0KICB7DQogICAgaWQ6ImV5ZS1zdHJ1Y3R1cmUiLA0KICAgIHRpdGxlOiJIdW1hbiBleWU6IHBhcnRzICsgaW1hZ2UgZm9ybWF0aW9uIiwNCiAgICB0eXBlOiJIdW1hbiBFeWUiLA0KICAgIHZpZGVvVGltZToifjAwOjMz4oCTMDU6MTAiLA0KICAgIGFuaW1hdGlvblR5cGU6ImV5ZVBhcnRzIiwNCiAgICBjb3JlTm90ZXM6Ikh1bWFuIGV5ZSB3b3JrcyBsaWtlIGEgY2FtZXJhOiBjb3JuZWEgZG9lcyBtb3N0IHJlZnJhY3Rpb24sIGV5ZSBsZW5zIGZpbmUtdHVuZXMgZm9jdXMsIHJldGluYSBpcyBsaWdodC1zZW5zaXRpdmUgc2NyZWVuLCBvcHRpYyBuZXJ2ZSBzZW5kcyBzaWduYWxzIHRvIGJyYWluLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJJcmlzIGNvbnRyb2xzIHB1cGlsIHNpemU7IHB1cGlsIGNvbnRyb2xzIGFtb3VudCBvZiBsaWdodCBlbnRlcmluZy4iLA0KICAgICAgIlJldGluYSBmb3JtcyBhIHJlYWwsIGludmVydGVkIGltYWdlOyBicmFpbiBpbnRlcnByZXRzIHNpZ25hbHMuIiwNCiAgICAgICJFeWUgYmFsbCBpcyBhcHByb3hpbWF0ZWx5IHNwaGVyaWNhbCAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJMYWJlbCBkaWFncmFtOiBjb3JuZWEsIGlyaXMsIHB1cGlsLCBsZW5zLCByZXRpbmEsIG9wdGljIG5lcnZlLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiSW1hZ2UgaXMgZm9ybWVkIG9uIHRoZToiLA0KICAgICAgb3B0aW9uczpbIkNvcm5lYSIsIklyaXMiLCJQdXBpbCIsIlJldGluYSJdLA0KICAgICAgY29ycmVjdDozLA0KICAgICAgZXhwbGFpbjoiVGhlIGV5ZSBsZW5zIHN5c3RlbSBmb3JtcyBpbWFnZSBvbiB0aGUgcmV0aW5hLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDoiYWNjb21tb2RhdGlvbiIsDQogICAgdGl0bGU6IlBvd2VyIG9mIGFjY29tbW9kYXRpb24gKyBuZWFyL2ZhciBwb2ludCIsDQogICAgdHlwZToiSHVtYW4gRXllIiwNCiAgICB2aWRlb1RpbWU6In4wNToxMOKAkzA4OjMwIiwNCiAgICBhbmltYXRpb25UeXBlOiJhY2NvbW1vZGF0aW9uIiwNCiAgICBjb3JlTm90ZXM6IkFjY29tbW9kYXRpb24gaXMgdGhlIGFiaWxpdHkgb2YgZXllIGxlbnMgdG8gY2hhbmdlIGZvY2FsIGxlbmd0aCB1c2luZyBjaWxpYXJ5IG11c2NsZXMgdG8gZm9jdXMgbmVhciBhbmQgZGlzdGFudCBvYmplY3RzLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJGb3IgZGlzdGFudCBvYmplY3RzOiBjaWxpYXJ5IG11c2NsZXMgcmVsYXgg4oaSIGxlbnMgdGhpbm5lciDihpIgZm9jYWwgbGVuZ3RoIGluY3JlYXNlcy4iLA0KICAgICAgIkZvciBuZWFyIG9iamVjdHM6IGNpbGlhcnkgbXVzY2xlcyBjb250cmFjdCDihpIgbGVucyB0aGlja2VyIOKGkiBmb2NhbCBsZW5ndGggZGVjcmVhc2VzLiIsDQogICAgICAiTmVhciBwb2ludCAobGVhc3QgZGlzdGFuY2Ugb2YgZGlzdGluY3QgdmlzaW9uKSDiiYggMjUgY207IGZhciBwb2ludCBmb3Igbm9ybWFsIGV5ZSBpcyBpbmZpbml0eSAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJWZXJ5IGNvbW1vbjogZGVmaW5lIGFjY29tbW9kYXRpb24gKyBuZWFyIHBvaW50ICgyNSBjbSkgKyBmYXIgcG9pbnQgKOKInikuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJMZWFzdCBkaXN0YW5jZSBvZiBkaXN0aW5jdCB2aXNpb24gKG5vcm1hbCB5b3VuZyBhZHVsdCkgaXMgYWJvdXQ6IiwNCiAgICAgIG9wdGlvbnM6WyIyLjUgY20iLCIyNSBjbSIsIjIuNSBtIiwiMjUgbSJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiTmVhciBwb2ludCBpcyBhYm91dCAyNSBjbS4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ImRlZmVjdHMiLA0KICAgIHRpdGxlOiJEZWZlY3RzIG9mIHZpc2lvbjogbXlvcGlhLCBoeXBlcm1ldHJvcGlhLCBwcmVzYnlvcGlhLCBjYXRhcmFjdCIsDQogICAgdHlwZToiRGVmZWN0cyIsDQogICAgdmlkZW9UaW1lOiJ+MDg6MzDigJMxNjo0MCIsDQogICAgYW5pbWF0aW9uVHlwZToiZGVmZWN0c1Zpc2lvbiIsDQogICAgY29yZU5vdGVzOiJSZWZyYWN0aXZlIGRlZmVjdHMgb2NjdXIgd2hlbiBleWUgY2Fubm90IGZvY3VzIGltYWdlIG9uIHJldGluYTsgY29ycmVjdGVkIHVzaW5nIHN1aXRhYmxlIGxlbnNlcy4iLA0KICAgIHBvaW50czpbDQogICAgICAiTXlvcGlhOiBkaXN0YW50IGltYWdlIGZvcm1zIGluIGZyb250IG9mIHJldGluYTsgY29ycmVjdGVkIGJ5IGNvbmNhdmUgbGVucy4iLA0KICAgICAgIkh5cGVybWV0cm9waWE6IG5lYXIgaW1hZ2UgZm9ybXMgYmVoaW5kIHJldGluYTsgY29ycmVjdGVkIGJ5IGNvbnZleCBsZW5zLiIsDQogICAgICAiUHJlc2J5b3BpYTogcmVkdWNlZCBhY2NvbW1vZGF0aW9uIHdpdGggYWdlOyBvZnRlbiBuZWVkcyBiaWZvY2FsIGxlbnNlczsgY2F0YXJhY3QgaXMgY2xvdWR5IGxlbnMgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiRHJhdyByYXkgZGlhZ3JhbXM6IGRlZmVjdGl2ZSArIGNvcnJlY3RlZCAobXlvcGlhL2h5cGVybWV0cm9waWEpLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiTXlvcGlhIGlzIGNvcnJlY3RlZCB1c2luZzoiLA0KICAgICAgb3B0aW9uczpbIkNvbnZleCBsZW5zIiwiQ29uY2F2ZSBsZW5zIiwiUHJpc20iLCJQbGFuZSBtaXJyb3IiXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IkNvbmNhdmUgbGVucyBkaXZlcmdlcyByYXlzIHNvIGltYWdlIHNoaWZ0cyBvbnRvIHJldGluYS4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6InByaXNtLXJlZnJhY3Rpb24iLA0KICAgIHRpdGxlOiJSZWZyYWN0aW9uIHRocm91Z2ggcHJpc20gKyBhbmdsZSBvZiBkZXZpYXRpb24iLA0KICAgIHR5cGU6IlByaXNtIiwNCiAgICB2aWRlb1RpbWU6In4xNjo0MOKAkzE5OjMwIiwNCiAgICBhbmltYXRpb25UeXBlOiJwcmlzbURldmlhdGlvbiIsDQogICAgY29yZU5vdGVzOiJJbiBhIHByaXNtLCBlbWVyZ2VudCByYXkgaXMgZGV2aWF0ZWQgYmVjYXVzZSB0aGUgdHdvIHJlZnJhY3Rpbmcgc3VyZmFjZXMgYXJlIG5vdCBwYXJhbGxlbDsgYW5nbGUgYmV0d2VlbiBpbmNpZGVudCBkaXJlY3Rpb24gYW5kIGVtZXJnZW50IHJheSBpcyBhbmdsZSBvZiBkZXZpYXRpb24gKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJBdCBmaXJzdCBzdXJmYWNlIChhaXLihpJnbGFzcyk6IHJheSBiZW5kcyB0b3dhcmRzIG5vcm1hbC4iLA0KICAgICAgIkF0IHNlY29uZCBzdXJmYWNlIChnbGFzc+KGkmFpcik6IHJheSBiZW5kcyBhd2F5IGZyb20gbm9ybWFsLiIsDQogICAgICAiUmVzdWx0OiBlbWVyZ2VudCByYXkgZGV2aWF0ZXMgZnJvbSBvcmlnaW5hbCBkaXJlY3Rpb24uIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJMYWJlbCBpLCByLCBlIGFuZCBkZXZpYXRpb24gRCBpbiBkaWFncmFtLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiQW5nbGUgYmV0d2VlbiBpbmNpZGVudCBkaXJlY3Rpb24gYW5kIGVtZXJnZW50IHJheSBpbiBwcmlzbSBpcyBjYWxsZWQ6IiwNCiAgICAgIG9wdGlvbnM6WyJBbmdsZSBvZiByZWZsZWN0aW9uIiwiQW5nbGUgb2YgZGV2aWF0aW9uIiwiQ3JpdGljYWwgYW5nbGUiLCJBbmdsZSBvZiBkaXNwZXJzaW9uIl0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJJdCBpcyB0aGUgYW5nbGUgb2YgZGV2aWF0aW9uLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDoiZGlzcGVyc2lvbiIsDQogICAgdGl0bGU6IkRpc3BlcnNpb246IFZJQkdZT1Igc3BlY3RydW0gKyBOZXd0b24gcmVjb21iaW5hdGlvbiIsDQogICAgdHlwZToiUHJpc20iLA0KICAgIHZpZGVvVGltZToifjE5OjMw4oCTMjM6NDAiLA0KICAgIGFuaW1hdGlvblR5cGU6ImRpc3BlcnNpb25SZWNvbWJpbmUiLA0KICAgIGNvcmVOb3RlczoiRGlzcGVyc2lvbiBpcyBzcGxpdHRpbmcgb2Ygd2hpdGUgbGlnaHQgaW50byBpdHMgY29tcG9uZW50IGNvbG91cnMgYnkgYSBwcmlzbTsgcmVkIGRldmlhdGVzIGxlYXN0IGFuZCB2aW9sZXQgbW9zdCAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIlNwZWN0cnVtOiBWSUJHWU9SLiIsDQogICAgICAiU2Vjb25kIGludmVydGVkIHByaXNtIGNhbiByZWNvbWJpbmUgc3BlY3RydW0gaW50byB3aGl0ZSBsaWdodCAoY29uY2VwdCkuIiwNCiAgICAgICJSYWluYm93IGlzIG5hdHVyYWwgc3BlY3RydW0gZHVlIHRvIHdhdGVyIGRyb3BsZXRzIGFjdGluZyBsaWtlIHByaXNtcyAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJXcml0ZSBkZWZpbml0aW9uIG9mIGRpc3BlcnNpb24gKyB3aGljaCBjb2xvdXIgZGV2aWF0ZXMgbW9zdC9sZWFzdC4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IldoaWNoIGNvbG91ciBkZXZpYXRlcyBtb3N0IGluIHByaXNtPyIsDQogICAgICBvcHRpb25zOlsiUmVkIiwiR3JlZW4iLCJWaW9sZXQiLCJZZWxsb3ciXSwNCiAgICAgIGNvcnJlY3Q6MiwNCiAgICAgIGV4cGxhaW46IlZpb2xldCBiZW5kcyB0aGUgbW9zdDsgcmVkIGJlbmRzIHRoZSBsZWFzdC4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6InJhaW5ib3ciLA0KICAgIHRpdGxlOiJSYWluYm93IGZvcm1hdGlvbiAocmVmcmFjdGlvbiArIGRpc3BlcnNpb24gKyBpbnRlcm5hbCByZWZsZWN0aW9uKSIsDQogICAgdHlwZToiTmF0dXJhbCBwaGVub21lbmEiLA0KICAgIHZpZGVvVGltZToifjIzOjQw4oCTMjU6MzAiLA0KICAgIGFuaW1hdGlvblR5cGU6InJhaW5ib3dEcm9wIiwNCiAgICBjb3JlTm90ZXM6IlJhaW5ib3cgZm9ybXMgd2hlbiBzdW5saWdodCBlbnRlcnMgcmFpbmRyb3AsIGdldHMgZGlzcGVyc2VkLCByZWZsZWN0cyBpbnRlcm5hbGx5LCBhbmQgcmVmcmFjdHMgb3V0OyByYWluYm93IGlzIHNlZW4gb3Bwb3NpdGUgdG8gdGhlIFN1biAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIldhdGVyIGRyb3BsZXRzIGFjdCBsaWtlIHRpbnkgcHJpc21zLiIsDQogICAgICAiU3RlcHM6IHJlZnJhY3Rpb24gKyBkaXNwZXJzaW9uIOKGkiBpbnRlcm5hbCByZWZsZWN0aW9uIOKGkiByZWZyYWN0aW9uIG91dC4iLA0KICAgICAgIk9ic2VydmVyIHNlZXMgc2VwYXJhdGVkIGNvbG91cnMuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJEcmF3IHJhaW5kcm9wIHJheSBwYXRoIGZvciByYWluYm93IChvbmUgY29sb3VyIHBhdGggaXMgZW5vdWdoKS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IlJhaW5ib3cgaXMgc2VlbiBpbiBkaXJlY3Rpb246IiwNCiAgICAgIG9wdGlvbnM6WyJUb3dhcmRzIHRoZSBTdW4iLCJPcHBvc2l0ZSB0aGUgU3VuIiwiQWx3YXlzIG92ZXJoZWFkIiwiT25seSBhdCBuaWdodCJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiUmFpbmJvdyBhcHBlYXJzIG9wcG9zaXRlIHRvIHRoZSBTdW4uIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiJhdG1vc3BoZXJpYy1yZWZyYWN0aW9uIiwNCiAgICB0aXRsZToiQXRtb3NwaGVyaWMgcmVmcmFjdGlvbjogdHdpbmtsaW5nICsgYWR2YW5jZSBzdW5yaXNlL2RlbGF5ZWQgc3Vuc2V0IiwNCiAgICB0eXBlOiJOYXR1cmFsIHBoZW5vbWVuYSIsDQogICAgdmlkZW9UaW1lOiJ+MjU6MzDigJMyODo0MCIsDQogICAgYW5pbWF0aW9uVHlwZToiYXRtb3NSZWZyYWN0aW9uIiwNCiAgICBjb3JlTm90ZXM6IkF0bW9zcGhlcmUgaGFzIGxheWVycyB3aXRoIGNoYW5naW5nIHJlZnJhY3RpdmUgaW5kZXg7IHJlZnJhY3Rpb24gY2hhbmdlcyBhcHBhcmVudCBwb3NpdGlvbiBvZiBzdGFycy9TdW4gKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJUd2lua2xpbmc6IHN0YXIgaXMgcG9pbnQgc291cmNlOyBmbHVjdHVhdGluZyByZWZyYWN0aW9uIG1ha2VzIGJyaWdodG5lc3MgdmFyeS4iLA0KICAgICAgIlBsYW5ldHMgZG9u4oCZdCB0d2lua2xlIG11Y2ggYmVjYXVzZSB0aGV5IGFyZSBleHRlbmRlZCBzb3VyY2VzIChjb25jZXB0KS4iLA0KICAgICAgIlN1biB2aXNpYmxlIGFib3V0IH4yIG1pbnV0ZXMgZWFybHkgYW5kIH4yIG1pbnV0ZXMgbGF0ZSBkdWUgdG8gYXRtb3NwaGVyaWMgcmVmcmFjdGlvbiAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJFeHBsYWluIOKAnHdoeSBwbGFuZXRzIGRvIG5vdCB0d2lua2xl4oCdIGluIDLigJMzIGxpbmVzLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiU3RhcnMgdHdpbmtsZSBtYWlubHkgYmVjYXVzZToiLA0KICAgICAgb3B0aW9uczpbIlN0YXJzIG1vdmUgcmFuZG9tbHkiLCJBdG1vc3BoZXJpYyByZWZyYWN0aW9uIGNoYW5nZXMgY29udGludW91c2x5IiwiU3RhcnMgaGF2ZSBtaXJyb3JzIiwiTW9vbiByZWZsZWN0cyBsaWdodCJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiQXRtb3NwaGVyaWMgY29uZGl0aW9ucyBjaGFuZ2U7IGFwcGFyZW50IHBvc2l0aW9uL2JyaWdodG5lc3MgZmx1Y3R1YXRlcy4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6InNjYXR0ZXJpbmciLA0KICAgIHRpdGxlOiJTY2F0dGVyaW5nOiBUeW5kYWxsIGVmZmVjdCwgYmx1ZSBza3ksIHJlZCBTdW4gYXQgc3VucmlzZS9zdW5zZXQiLA0KICAgIHR5cGU6IlNjYXR0ZXJpbmciLA0KICAgIHZpZGVvVGltZToifjI4OjQw4oCTZW5kIiwNCiAgICBhbmltYXRpb25UeXBlOiJzY2F0dGVyaW5nV29ybGQiLA0KICAgIGNvcmVOb3RlczoiU2NhdHRlcmluZyBieSBzbWFsbCBwYXJ0aWNsZXMgbWFrZXMgYmVhbSBwYXRoIHZpc2libGUgKFR5bmRhbGwgZWZmZWN0KSBhbmQgZXhwbGFpbnMgYmx1ZSBza3k7IGxvbmdlciBwYXRoIGF0IHN1bnJpc2Uvc3Vuc2V0IHJlbW92ZXMgbW9yZSBibHVlIHNvIFN1biBsb29rcyByZWQgKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJWZXJ5IGZpbmUgcGFydGljbGVzIHNjYXR0ZXIgc2hvcnRlciB3YXZlbGVuZ3RocyAoYmx1ZSkgbW9yZSBzdHJvbmdseS4iLA0KICAgICAgIlJlZCBpcyBsZWFzdCBzY2F0dGVyZWQsIHNvIHVzZWQgZm9yIGRhbmdlciBzaWduYWxzIChjb25jZXB0KS4iLA0KICAgICAgIlNreSBhcHBlYXJzIGRhcmsgYXQgdmVyeSBoaWdoIGFsdGl0dWRlIGR1ZSB0byBsZXNzIHNjYXR0ZXJpbmcgKGNvbmNlcHQpLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiMy1tYXJrOiBleHBsYWluIGJsdWUgc2t5ICsgcmVkIFN1biBhdCBzdW5yaXNlL3N1bnNldCArIHJlZCBzaWduYWwgbGlnaHQuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJTa3kgYXBwZWFycyBibHVlIG1haW5seSBiZWNhdXNlOiIsDQogICAgICBvcHRpb25zOlsiQmx1ZSBsaWdodCBpcyBlbWl0dGVkIGJ5IGFpciIsIlNob3J0ZXIgd2F2ZWxlbmd0aHMgYXJlIHNjYXR0ZXJlZCBtb3JlIiwiUmVkIGxpZ2h0IGlzIHNjYXR0ZXJlZCBtb3JlIiwiU3VuIGlzIGJsdWUiXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46IlNtYWxsIHBhcnRpY2xlcyBzY2F0dGVyIHNob3J0ZXIgd2F2ZWxlbmd0aHMgKGJsdWUpIG1vcmUgc3Ryb25nbHkuIg0KICAgIH0NCiAgfQ0KXTsNCg0KLyogPT09PT09PT09PT09PSBVSSA9PT09PT09PT09PT09ICovDQpjb25zdCB0b3BpY0xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3BpY0xpc3QiKTsNCmNvbnN0IHRvcGljQ29udGVudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljQ29udGVudCIpOw0KY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoSW5wdXQiKTsNCmNvbnN0IHByb2dDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dDb3VudCIpOw0KY29uc3QgdG90YWxDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdGFsQ291bnQiKTsNCnRvdGFsQ291bnRFbC50ZXh0Q29udGVudCA9IHRvcGljcy5sZW5ndGg7DQoNCmxldCBjdXJyZW50VG9waWNJZCA9IHRvcGljc1swXS5pZDsNCmxldCBjb21wbGV0ZWRUb3BpY3MgPSBuZXcgU2V0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNoMTAtY29tcGxldGVkIikgfHwgIltdIikpOw0KDQpmdW5jdGlvbiByZW5kZXJOYXYoZmlsdGVyPSIiKXsNCiAgdG9waWNMaXN0RWwuaW5uZXJIVE1MID0gIiI7DQogIGNvbnN0IHEgPSBmaWx0ZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7DQogIGNvbnN0IGZpbHRlcmVkID0gdG9waWNzLmZpbHRlcih0ID0+DQogICAgdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC50eXBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LmNvcmVOb3Rlcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC5wb2ludHMuam9pbigiICIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkNCiAgKTsNCg0KICBmaWx0ZXJlZC5mb3JFYWNoKCh0LCBpZHgpID0+IHsNCiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgaXRlbS5jbGFzc05hbWUgPSAidG9waWMtbGluayIgKyAodC5pZCA9PT0gY3VycmVudFRvcGljSWQgPyAiIGFjdGl2ZSIgOiAiIik7DQogICAgaXRlbS5pbm5lckhUTUwgPSBgJHtpZHgrMX0uICR7dC50aXRsZX08c3BhbiBjbGFzcz0idGFnIj4ke3QudHlwZX08L3NwYW4+YDsNCiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gc2VsZWN0VG9waWModC5pZCkpOw0KICAgIHRvcGljTGlzdEVsLmFwcGVuZENoaWxkKGl0ZW0pOw0KICB9KTsNCg0KICBwcm9nQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbXBsZXRlZFRvcGljcy5zaXplOw0KfQ0KDQpmdW5jdGlvbiBzZWxlY3RUb3BpYyhpZCl7DQogIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQoeCA9PiB4LmlkID09PSBpZCk7DQogIGlmKCF0b3BpYykgcmV0dXJuOw0KICBjdXJyZW50VG9waWNJZCA9IGlkOw0KICBjb21wbGV0ZWRUb3BpY3MuYWRkKGlkKTsNCiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNoMTAtY29tcGxldGVkIiwgSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShjb21wbGV0ZWRUb3BpY3MpKSk7DQogIHJlbmRlclRvcGljKHRvcGljKTsNCiAgcmVuZGVyTmF2KHNlYXJjaElucHV0LnZhbHVlKTsNCn0NCg0KZnVuY3Rpb24gcmVuZGVyVG9waWModG9waWMpew0KICB0b3BpY0NvbnRlbnRFbC5pbm5lckhUTUwgPSBgDQogICAgPGRpdj4NCiAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj4ke3RvcGljLnR5cGV9PC9kaXY+DQogICAgICA8aDI+JHt0b3BpYy50aXRsZX08L2gyPg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfk5YgTm90ZXM8L2gzPg0KICAgICAgICA8cD4ke3RvcGljLmNvcmVOb3Rlc308L3A+DQogICAgICAgIDx1bD4ke3RvcGljLnBvaW50cy5tYXAocD0+YDxsaT4ke3B9PC9saT5gKS5qb2luKCIiKX08L3VsPg0KDQogICAgICAgIDxkaXYgY2xhc3M9InZpZGVvLWNvbnRhaW5lciI+DQogICAgICAgICAgPGlmcmFtZQ0KICAgICAgICAgICAgc3JjPSIke2NoMTBWaWRlby5lbWJlZH0iDQogICAgICAgICAgICBhbGxvdz0iYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlIg0KICAgICAgICAgICAgYWxsb3dmdWxsc2NyZWVuDQogICAgICAgICAgPjwvaWZyYW1lPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IzkzYzVmZDtmb250LXNpemU6MC45cmVtOyI+DQogICAgICAgICAgU3VubGlrZSBTdHVkeSB2aWRlbzogPGEgaHJlZj0iJHtjaDEwVmlkZW8ueXRXYXRjaH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj4ke3RvcGljLnZpZGVvVGltZX08L2E+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+OrCBBY2N1cmF0ZSBBbmltYXRpb248L2gzPg0KICAgICAgICA8ZGl2IGNsYXNzPSJhbmltLWNvbnRhaW5lciI+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYW5pbS10b29sYmFyIj4NCiAgICAgICAgICAgIDxkaXY+QW5pbWF0aW9uOiA8c3Ryb25nPiR7dG9waWMuYW5pbWF0aW9uVHlwZX08L3N0cm9uZz48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bnMiPg0KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blBsYXkiIG9uY2xpY2s9InRvZ2dsZVBsYXkoKSI+UGF1c2U8L2J1dHRvbj4NCiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIG9uY2xpY2s9InJlcGxheSgpIj5SZXBsYXk8L2J1dHRvbj4NCiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5TdGVwIiBvbmNsaWNrPSJuZXh0U3RlcCgpIj5OZXh0IHN0ZXA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyIiBpZD0ic3BlZWRXcmFwIj4NCiAgICAgICAgICAgICAgICBTcGVlZA0KICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0ic3BlZWQiIHR5cGU9InJhbmdlIiBtaW49IjAuMiIgbWF4PSIyLjUiIHN0ZXA9IjAuMSIgdmFsdWU9IjEuMCIgLz4NCiAgICAgICAgICAgICAgICA8c3BhbiBpZD0ic3BlZWRWYWwiPjEuMMOXPC9zcGFuPg0KICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgPGRpdiBpZD0icGFyYW1Sb3ciIHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7ZmxleC13cmFwOndyYXA7bWFyZ2luLWJvdHRvbToxMHB4OyI+PC9kaXY+DQoNCiAgICAgICAgICA8Y2FudmFzIGlkPSJhbmltQ2FudmFzIj48L2NhbnZhcz4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXB0aW9uIiBpZD0iYW5pbUNhcHRpb24iPjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPvCfkqEgRXhhbSBIaW50PC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5uY2VydEhpbnR9PC9wPg0KICAgICAgPC9kaXY+DQoNCiAgICAgICR7dG9waWMucXVpeiA/IGANCiAgICAgICAgPGRpdiBjbGFzcz0icXVpeiI+DQogICAgICAgICAgPGRpdiBjbGFzcz0icXVpei1xdWVzdGlvbiI+JHt0b3BpYy5xdWl6LnF1ZXN0aW9ufTwvZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9InF1aXotb3B0aW9ucyI+DQogICAgICAgICAgICAke3RvcGljLnF1aXoub3B0aW9ucy5tYXAoKG9wdCxpKT0+YDxidXR0b24gb25jbGljaz0iY2hlY2tRdWl6KCR7aX0sJHt0b3BpYy5xdWl6LmNvcnJlY3R9KSI+JHtvcHR9PC9idXR0b24+YCkuam9pbigiIil9DQogICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0icXVpei1leHBsYWluIiBpZD0icXVpekV4cGxhaW4iPiR7dG9waWMucXVpei5leHBsYWlufTwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgIGAgOiAiIn0NCiAgICA8L2Rpdj4NCiAgYDsNCg0KICBzZXR1cEFuaW1hdGlvbih0b3BpYy5hbmltYXRpb25UeXBlKTsNCn0NCg0Kd2luZG93LmNoZWNrUXVpeiA9IGZ1bmN0aW9uKHNlbGVjdGVkLCBjb3JyZWN0KXsNCiAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWl6LW9wdGlvbnMgYnV0dG9uIik7DQogIGJ1dHRvbnMuZm9yRWFjaCgoYixpKT0+ew0KICAgIGIuZGlzYWJsZWQgPSB0cnVlOw0KICAgIGlmKGkgPT09IGNvcnJlY3QpIGIuY2xhc3NMaXN0LmFkZCgiY29ycmVjdCIpOw0KICB9KTsNCiAgY29uc3QgZXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVpekV4cGxhaW4iKTsNCiAgaWYoZXgpIGV4LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KfTsNCg0Kc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBlID0+IHJlbmRlck5hdihlLnRhcmdldC52YWx1ZSkpOw0KDQovKiA9PT09PT09PT09PT09IENBTlZBUyBFTkdJTkUgPT09PT09PT09PT09PSAqLw0KbGV0IGFuaW1DYW52YXM9bnVsbCwgY3R4PW51bGwsIHJhZj1udWxsLCB0MD0wOw0KbGV0IHBsYXlpbmc9dHJ1ZTsNCmxldCBzcGVlZD0xLjA7DQoNCmNvbnN0IHN0YXRlID0geyBhbmltOiJleWVQYXJ0cyIsIHN0ZXA6MCwgc3RlcHM6MSwgcGFyYW1zOnt9IH07DQoNCmZ1bmN0aW9uIGZpdENhbnZhcyhjYW52YXMsIGN0eCl7DQogIGNvbnN0IGRwciA9IE1hdGgubWF4KDEsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpOw0KICBjb25zdCByID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOw0KICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKHIud2lkdGggKiBkcHIpOw0KICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihyLmhlaWdodCAqIGRwcik7DQogIGN0eC5zZXRUcmFuc2Zvcm0oZHByLDAsMCxkcHIsMCwwKTsNCiAgcmV0dXJuIHsgdzpyLndpZHRoLCBoOnIuaGVpZ2h0IH07DQp9DQpmdW5jdGlvbiByZXBsYXkoKXsgc3RhdGUuc3RlcCA9IDA7IHQwID0gcGVyZm9ybWFuY2Uubm93KCk7IH0NCmZ1bmN0aW9uIHRvZ2dsZVBsYXkoKXsNCiAgcGxheWluZyA9ICFwbGF5aW5nOw0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuUGxheSIpLnRleHRDb250ZW50ID0gcGxheWluZyA/ICJQYXVzZSIgOiAiUGxheSI7DQp9DQpmdW5jdGlvbiBuZXh0U3RlcCgpeyBpZihzdGF0ZS5zdGVwcyA+IDEpIHN0YXRlLnN0ZXAgPSBNYXRoLm1pbihzdGF0ZS5zdGVwcy0xLCBzdGF0ZS5zdGVwICsgMSk7IH0NCmZ1bmN0aW9uIHNldFN0ZXBCdXR0b24oKXsNCiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blN0ZXAiKTsNCiAgaWYoYnRuKSBidG4uZGlzYWJsZWQgPSAhKHN0YXRlLnN0ZXBzID4gMSk7DQp9DQpmdW5jdGlvbiBzZXRDYXB0aW9uKHR4dCl7DQogIGNvbnN0IGNhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbmltQ2FwdGlvbiIpOw0KICBpZihjYXApIGNhcC50ZXh0Q29udGVudCA9IHR4dDsNCn0NCmZ1bmN0aW9uIGNsYW1wKHYsYSxiKXsgcmV0dXJuIE1hdGgubWF4KGEsTWF0aC5taW4oYix2KSk7IH0NCmZ1bmN0aW9uIHJhZChkZWcpeyByZXR1cm4gZGVnKk1hdGguUEkvMTgwOyB9DQpmdW5jdGlvbiBkZWcocil7IHJldHVybiByKjE4MC9NYXRoLlBJOyB9DQoNCi8qIGRyYXdpbmcgaGVscGVycyAqLw0KZnVuY3Rpb24gYmcoYyx3LGgpew0KICBjb25zdCBnID0gYy5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsMCxoKTsNCiAgZy5hZGRDb2xvclN0b3AoMCwiIzBiMTIyMyIpOw0KICBnLmFkZENvbG9yU3RvcCgxLCIjMDUwODE2Iik7DQogIGMuZmlsbFN0eWxlPWc7DQogIGMuZmlsbFJlY3QoMCwwLHcsaCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDgpIjsNCiAgYy5maWxsUmVjdCgwLGgqMC43OCx3LGgqMC4yMik7DQp9DQpmdW5jdGlvbiBycihjLHgseSx3LGgscil7DQogIGMuYmVnaW5QYXRoKCk7DQogIGMubW92ZVRvKHgrcix5KTsNCiAgYy5hcmNUbyh4K3cseSx4K3cseStoLHIpOw0KICBjLmFyY1RvKHgrdyx5K2gseCx5K2gscik7DQogIGMuYXJjVG8oeCx5K2gseCx5LHIpOw0KICBjLmFyY1RvKHgseSx4K3cseSxyKTsNCiAgYy5jbG9zZVBhdGgoKTsNCn0NCmZ1bmN0aW9uIHBhbmVsKGMseCx5LHcsaCx0aXRsZSl7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA2KSI7DQogIHJyKGMseCx5LHcsaCwxNik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsNCiAgYy5saW5lV2lkdGg9MS41OyBjLnN0cm9rZSgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDcsMTk3LDI1MywwLjk1KSI7DQogIGMuZm9udD0iYm9sZCAxMnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFRleHQodGl0bGUsIHgrMTIsIHkrMTgpOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIGxpbmUoYyx4MSx5MSx4Mix5Mix3LHN0cm9rZSwgZGFzaD1udWxsKXsNCiAgYy5zYXZlKCk7DQogIGMuc3Ryb2tlU3R5bGU9c3Ryb2tlOw0KICBjLmxpbmVXaWR0aD13OyBjLmxpbmVDYXA9InJvdW5kIjsNCiAgaWYoZGFzaCkgYy5zZXRMaW5lRGFzaChkYXNoKTsNCiAgYy5iZWdpblBhdGgoKTsgYy5tb3ZlVG8oeDEseTEpOyBjLmxpbmVUbyh4Mix5Mik7IGMuc3Ryb2tlKCk7DQogIGMuc2V0TGluZURhc2goW10pOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIGFycm93KGMseDEseTEseDIseTIsY29sb3I9InJnYmEoMjI2LDIzMiwyNDAsMC4zMCkiKXsNCiAgbGluZShjLHgxLHkxLHgyLHkyLDIuNSxjb2xvcik7DQogIGNvbnN0IGFuZz1NYXRoLmF0YW4yKHkyLXkxLHgyLXgxKTsNCiAgY29uc3QgTD0xMDsNCiAgbGluZShjLHgyLHkyLHgyLU1hdGguY29zKGFuZy0wLjUpKkwseTItTWF0aC5zaW4oYW5nLTAuNSkqTCwyLjUsY29sb3IpOw0KICBsaW5lKGMseDIseTIseDItTWF0aC5jb3MoYW5nKzAuNSkqTCx5Mi1NYXRoLnNpbihhbmcrMC41KSpMLDIuNSxjb2xvcik7DQp9DQpmdW5jdGlvbiBkb3QoYyx4LHkscixmaWxsLHN0cm9rZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSIsbHc9Mil7DQogIGMuc2F2ZSgpOw0KICBjLmJlZ2luUGF0aCgpOyBjLmZpbGxTdHlsZT1maWxsOw0KICBjLmFyYyh4LHksciwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICBjLnN0cm9rZVN0eWxlPXN0cm9rZTsgYy5saW5lV2lkdGg9bHc7IGMuc3Ryb2tlKCk7DQogIGMucmVzdG9yZSgpOw0KfQ0KZnVuY3Rpb24gdGV4dChjLHgseSx0LGNvbG9yPSJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIixib2xkPXRydWUpew0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9Y29sb3I7DQogIGMuZm9udD0oYm9sZD8iYm9sZCAiOiIiKSArICIxMnB4IHN5c3RlbS11aSI7DQogIGMuZmlsbFRleHQodCx4LHkpOw0KICBjLnJlc3RvcmUoKTsNCn0NCg0KLyogPT09PT09PT09PT09PSBQQVJBTSBVSSA9PT09PT09PT09PT09ICovDQpmdW5jdGlvbiBzZXRQYXJhbXNVSShpdGVtcyl7DQogIGNvbnN0IHJvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXJhbVJvdyIpOw0KICBpZighcm93KSByZXR1cm47DQogIHJvdy5pbm5lckhUTUwgPSAiIjsNCiAgaXRlbXMuZm9yRWFjaChpdD0+ew0KICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICB3cmFwLmNsYXNzTmFtZSA9ICJzbGlkZXIiOw0KICAgIHdyYXAuaW5uZXJIVE1MID0gYCR7aXQubGFiZWx9DQogICAgICA8aW5wdXQgdHlwZT0icmFuZ2UiIG1pbj0iJHtpdC5taW59IiBtYXg9IiR7aXQubWF4fSIgc3RlcD0iJHtpdC5zdGVwfSIgdmFsdWU9IiR7aXQudmFsdWV9IiBpZD0iJHtpdC5pZH0iPg0KICAgICAgPHNwYW4gaWQ9IiR7aXQuaWR9VmFsIj4ke2l0LmZtdChpdC52YWx1ZSl9PC9zcGFuPmA7DQogICAgcm93LmFwcGVuZENoaWxkKHdyYXApOw0KICAgIGNvbnN0IGlucCA9IHdyYXAucXVlcnlTZWxlY3RvcigiaW5wdXQiKTsNCiAgICBjb25zdCB2YWwgPSB3cmFwLnF1ZXJ5U2VsZWN0b3IoInNwYW4iKTsNCiAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBlPT57DQogICAgICBjb25zdCB2ID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSk7DQogICAgICBzdGF0ZS5wYXJhbXNbaXQua2V5XSA9IHY7DQogICAgICB2YWwudGV4dENvbnRlbnQgPSBpdC5mbXQodik7DQogICAgfSk7DQogIH0pOw0KfQ0KDQovKiA9PT09PT09PT09PT09IFNDRU5FUyA9PT09PT09PT09PT09ICovDQpjb25zdCBzY2VuZXMgPSB7fTsNCg0KLyogRXllIHBhcnRzICovDQpzY2VuZXMuZXllUGFydHMgPSB7DQogIHN0ZXBzOiA0LA0KICBkZWZhdWx0cygpeyByZXR1cm4ge307IH0sDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IENvcm5lYSArIHB1cGlsIGVudHJ5IHBhdGggKGxpZ2h0IGVudGVycykuIiwNCiAgICAgICJTdGVwIDI6IElyaXMgY29udHJvbHMgcHVwaWwgc2l6ZSAobGlnaHQgYW1vdW50KS4iLA0KICAgICAgIlN0ZXAgMzogRXllIGxlbnMgZm9jdXNlcyByZWFsLCBpbnZlcnRlZCBpbWFnZSBvbiByZXRpbmEgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBPcHRpYyBuZXJ2ZSBzZW5kcyBzaWduYWxzIHRvIGJyYWluIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiSHVtYW4gZXllIChjcm9zcy1zZWN0aW9uIGRpYWdyYW0g4oCTIGNvbmNlcHQgYWNjdXJhdGUpIik7DQogICAgY29uc3QgY3g9dyowLjUyLCBjeT1oKjAuNTI7DQoNCiAgICAvLyBleWViYWxsIG91dGVyDQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjA2KSI7DQogICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGN4LGN5LCB3KjAuMjgsIGgqMC4yMCwgMCwgMCwgTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE4KSI7IGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQoNCiAgICAvLyBjb3JuZWEgYnVsZ2UNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4wOCkiOw0KICAgIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShjeC13KjAuMjgsIGN5LCB3KjAuMDYsIGgqMC4xMSwgMCwgMCwgTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgxNjcsMjQzLDIwOCwwLjM1KSI7IGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLGN4LXcqMC4zNiwgY3ktaCowLjE0LCAiQ29ybmVhIiwgInJnYmEoMTY3LDI0MywyMDgsMC45NSkiLCB0cnVlKTsNCg0KICAgIC8vIGlyaXMgcmluZyArIHB1cGlsDQogICAgY29uc3QgaXJpc1g9Y3gtdyowLjE5LCBpcmlzUj1oKjAuMDc7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoOTYsMTY1LDI1MCwwLjEwKSI7DQogICAgYy5iZWdpblBhdGgoKTsgYy5hcmMoaXJpc1gsY3ksaXJpc1IsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDk2LDE2NSwyNTAsMC4zNSkiOyBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDE1LDIzLDQyLDAuOTUpIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmFyYyhpcmlzWCxjeSxpcmlzUiowLjQwLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7IC8vIHB1cGlsDQogICAgYy5yZXN0b3JlKCk7DQoNCiAgICBpZihzLnN0ZXA+PTEpew0KICAgICAgdGV4dChjLGlyaXNYLTIyLCBjeS1pcmlzUi0xNCwgIklyaXMiLCAicmdiYSgxNDcsMTk3LDI1MywwLjk1KSIsIHRydWUpOw0KICAgICAgdGV4dChjLGlyaXNYLTIyLCBjeStpcmlzUisxOCwgIlB1cGlsIiwgInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLCB0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBleWUgbGVucyAoY29udmV4KQ0KICAgIGNvbnN0IGx4PWN4LXcqMC4wNSwgbHk9Y3k7DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjEwKSI7DQogICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGx4LGx5LCB3KjAuMDUsIGgqMC4xMCwgMCwgMCwgTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMzUpIjsgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICBpZihzLnN0ZXA+PTIpIHRleHQoYyxseC0yMCwgbHktaCowLjEzLCAiRXllIGxlbnMiLCAicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsIHRydWUpOw0KDQogICAgLy8gcmV0aW5hIGF0IGJhY2sNCiAgICBjb25zdCByeD1jeCt3KjAuMjU7DQogICAgbGluZShjLHJ4LCBjeS1oKjAuMTYsIHJ4LCBjeStoKjAuMTYsIDMsICJyZ2JhKDI1MSwxMTMsMTMzLDAuNDApIik7DQogICAgaWYocy5zdGVwPj0yKSB0ZXh0KGMscngtMTgsIGN5LWgqMC4xOCwgIlJldGluYSIsICJyZ2JhKDI1MSwxMTMsMTMzLDAuOTUpIiwgdHJ1ZSk7DQoNCiAgICAvLyBvcHRpYyBuZXJ2ZQ0KICAgIGlmKHMuc3RlcD49Myl7DQogICAgICBsaW5lKGMscngsY3ksIHJ4K3cqMC4xNCwgY3kraCowLjA2LCA2LCAicmdiYSgyMjYsMjMyLDI0MCwwLjE0KSIpOw0KICAgICAgbGluZShjLHJ4LGN5LCByeCt3KjAuMTQsIGN5K2gqMC4wNiwgMywgInJnYmEoMjI2LDIzMiwyNDAsMC4zNSkiKTsNCiAgICAgIHRleHQoYyxyeCt3KjAuMTAsIGN5K2gqMC4wMiwgIk9wdGljIG5lcnZlIiwgInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLCB0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBSYXlzOiBvYmplY3QgLT4gY29ybmVhIC0+IGxlbnMgLT4gcmV0aW5hDQogICAgY29uc3Qgb2JqWD1jeC13KjAuNDYsIG9ialk9Y3ktaCowLjEwOw0KICAgIGNvbnN0IHAxPXt4OmN4LXcqMC4yOCwgeTpjeX07DQogICAgY29uc3QgcDI9e3g6bHgsIHk6bHl9Ow0KICAgIGNvbnN0IHAzPXt4OnJ4LCB5OmN5KyhzLnN0ZXA+PTI/IGgqMC4wNDogMCl9Ow0KICAgIGFycm93KGMsb2JqWCxvYmpZLHAxLngscDEueSwicmdiYSg1OSwxMzAsMjQ2LDAuNzUpIik7DQogICAgYXJyb3coYyxwMS54LHAxLnkscDIueCxwMi55LCJyZ2JhKDU5LDEzMCwyNDYsMC43NSkiKTsNCiAgICBhcnJvdyhjLHAyLngscDIueSxwMy54LHAzLnksInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgIGRvdChjLG9ialgsb2JqWSw0LCJyZ2JhKDU5LDEzMCwyNDYsMC45MCkiKTsNCiAgICB0ZXh0KGMsb2JqWC0yMCxvYmpZLTEwLCJPYmplY3QiLCJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIix0cnVlKTsNCg0KICAgIGlmKHMuc3RlcD49Mil7DQogICAgICB0ZXh0KGMsY3gtdyowLjEwLCBjeStoKjAuMjAsICJJbWFnZSBvbiByZXRpbmE6IHJlYWwgJiBpbnZlcnRlZCAoY29uY2VwdCkuIiwgInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLCB0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qIEFjY29tbW9kYXRpb24gKi8NCnNjZW5lcy5hY2NvbW1vZGF0aW9uID0gew0KICBzdGVwczogNCwNCiAgZGVmYXVsdHMoKXsgcmV0dXJuIHtkaXN0OjIwMCwgbGlnaHQ6NjB9OyB9LCAvLyBkaXN0IGluIGNtLWxpa2UgKDI1Li40MDApDQogIGNhcHRpb24oc3RlcCwgdCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IERpc3RhbnQgb2JqZWN0IOKGkiBsZW5zIHRoaW5uZXIg4oaSIGZvY2FsIGxlbmd0aCBpbmNyZWFzZXMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBOZWFyIG9iamVjdCDihpIgbGVucyB0aGlja2VyIOKGkiBmb2NhbCBsZW5ndGggZGVjcmVhc2VzIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogTmVhciBwb2ludCDiiYggMjUgY20gKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBGYXIgcG9pbnQgZm9yIG5vcm1hbCBleWUgPSBpbmZpbml0eSAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIkFjY29tbW9kYXRpb24gKGZvY3VzIGFkanVzdG1lbnQpIOKAkyBzbGlkZXIgY29udHJvbHMiKTsNCiAgICBjb25zdCBjeD13KjAuNTIsIGN5PWgqMC41NDsNCiAgICAvLyBheGlzDQogICAgbGluZShjLHcqMC4xMCwgY3ksIHcqMC45MCwgY3ksIDIsICJyZ2JhKDE0OCwxNjMsMTg0LDAuMTgpIik7DQogICAgdGV4dChjLHcqMC4xMSwgY3ktMTAsICJQcmluY2lwYWwgYXhpcyIsICJyZ2JhKDE0OCwxNjMsMTg0LDAuNzUpIiwgdHJ1ZSk7DQoNCiAgICBjb25zdCBkaXN0ID0gY2xhbXAocy5wYXJhbXMuZGlzdCwgMjUsIDQwMCk7DQogICAgY29uc3QgaXNOZWFyID0gZGlzdCA8PSA2MDsNCg0KICAgIC8vIGV5ZSBzaW1wbGlmaWVkDQogICAgY29uc3QgaXJpc1g9Y3gtdyowLjE5LCBpcmlzUj1oKjAuMDY7DQogICAgZG90KGMsaXJpc1gsY3ksIGlyaXNSLCAicmdiYSg5NiwxNjUsMjUwLDAuMTApIiwicmdiYSg5NiwxNjUsMjUwLDAuMzApIik7DQogICAgZG90KGMsaXJpc1gsY3ksIGlyaXNSKjAuMzUsICJyZ2JhKDE1LDIzLDQyLDAuOTUpIiwicmdiYSgyMjYsMjMyLDI0MCwwLjEyKSIpOw0KICAgIGNvbnN0IHJ4PWN4K3cqMC4yNTsNCiAgICBsaW5lKGMscngsIGN5LWgqMC4xNCwgcngsIGN5K2gqMC4xNCwgMywgInJnYmEoMjUxLDExMywxMzMsMC40MCkiKTsNCiAgICB0ZXh0KGMscngtMTgsIGN5LWgqMC4xNiwgIlJldGluYSIsICJyZ2JhKDI1MSwxMTMsMTMzLDAuOTUpIiwgdHJ1ZSk7DQoNCiAgICAvLyBsZW5zIHRoaWNrbmVzcyBiYXNlZCBvbiBkaXN0YW5jZQ0KICAgIGNvbnN0IGxlbnNYPWN4LXcqMC4wNTsNCiAgICBjb25zdCBsZW5zVyA9IGlzTmVhciA/IHcqMC4wNjAgOiB3KjAuMDQwOw0KICAgIGNvbnN0IGxlbnNIID0gaCowLjEwNTsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMTApIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UobGVuc1gsY3ksbGVuc1csbGVuc0gsMCwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjM1KSI7IGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQogICAgdGV4dChjLGxlbnNYLTI2LCBjeS1sZW5zSC0xMCwgaXNOZWFyID8gIkxlbnMgdGhpY2tlciIgOiAiTGVucyB0aGlubmVyIiwgInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLCB0cnVlKTsNCg0KICAgIC8vIG9iamVjdCAmIHJheXMNCiAgICBjb25zdCBvYmpYID0gY3ggLSB3KjAuMzU7DQogICAgY29uc3Qgb2JqWSA9IGN5IC0gaCowLjE0Ow0KICAgIGNvbnN0IG9iakJhc2UgPSBjeTsNCiAgICBsaW5lKGMsb2JqWCxvYmpCYXNlLG9ialgsb2JqWSwzLCJyZ2JhKDU5LDEzMCwyNDYsMC44NSkiKTsNCiAgICBhcnJvdyhjLG9ialgsb2JqQmFzZSxvYmpYLG9ialksInJnYmEoNTksMTMwLDI0NiwwLjg1KSIpOw0KICAgIHRleHQoYyxvYmpYLTI1LG9ialktMTAsYE9iamVjdCBAICR7TWF0aC5yb3VuZChkaXN0KX0gY21gLCJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIix0cnVlKTsNCg0KICAgIC8vIGZvY3VzIGFkanVzdCBjb25jZXB0OiBjaG9vc2Ugd2hlcmUgcmF5cyBtZWV0IG9uIHJldGluYQ0KICAgIGNvbnN0IHAxPXt4OmlyaXNYLCB5OmN5fTsNCiAgICBjb25zdCBwMj17eDpsZW5zWCwgeTpjeX07DQogICAgY29uc3QgaW1nWSA9IGlzTmVhciA/IGN5K2gqMC4wNCA6IGN5LWgqMC4wMjsNCiAgICBjb25zdCBwMz17eDpyeCwgeTppbWdZfTsNCg0KICAgIGFycm93KGMsb2JqWCxvYmpZLHAxLngscDEueSwicmdiYSg1OSwxMzAsMjQ2LDAuNzApIik7DQogICAgYXJyb3coYyxwMS54LHAxLnkscDIueCxwMi55LCJyZ2JhKDU5LDEzMCwyNDYsMC43MCkiKTsNCiAgICBhcnJvdyhjLHAyLngscDIueSxwMy54LHAzLnksInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgIGRvdChjLHAzLngscDMueSw0LCJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCg0KICAgIGlmKHMuc3RlcD49Mil7DQogICAgICB0ZXh0KGMsdyowLjEyLCBoKjAuODgsICJOZWFyIHBvaW50IOKJiCAyNSBjbTsgY2xvc2VyIHRoYW4gdGhpcyDihpIgYmx1cnJlZC9zdHJhaW4gKGNvbmNlcHQpLiIsICJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIiwgdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHMuc3RlcD49Myl7DQogICAgICB0ZXh0KGMsdyowLjEyLCBoKjAuOTIsICJGYXIgcG9pbnQgZm9yIG5vcm1hbCBleWUgaXMgaW5maW5pdHkgKGNvbmNlcHQpLiIsICJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIiwgdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiBEZWZlY3RzIG9mIHZpc2lvbiAqLw0Kc2NlbmVzLmRlZmVjdHNWaXNpb24gPSB7DQogIHN0ZXBzOiA1LA0KICBkZWZhdWx0cygpeyByZXR1cm4ge21vZGU6MCwgdUFiczoyMDB9OyB9LCAvLyAwIG15b3BpYSwgMSBteW9waWEgY29ycmVjdGVkLCAyIGh5cGVyLCAzIGh5cGVyIGNvcnJlY3RlZCwgNCBwcmVzYnlvcGlhIChiaWZvY2FsKQ0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBNeW9waWE6IGRpc3RhbnQgaW1hZ2UgZm9ybXMgYmVmb3JlIHJldGluYSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IE15b3BpYSBjb3JyZWN0aW9uOiBjb25jYXZlIGxlbnMgYnJpbmdzIGltYWdlIG9udG8gcmV0aW5hIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogSHlwZXJtZXRyb3BpYTogbmVhciBpbWFnZSBmb3JtcyBiZWhpbmQgcmV0aW5hIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogSHlwZXJtZXRyb3BpYSBjb3JyZWN0aW9uOiBjb252ZXggbGVucyBicmluZ3MgaW1hZ2Ugb250byByZXRpbmEgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA1OiBQcmVzYnlvcGlhOiByZWR1Y2VkIGFjY29tbW9kYXRpb247IGJpZm9jYWwgbGVucyAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIkRlZmVjdHMgb2YgdmlzaW9uIChyYXkgZGlhZ3JhbSBzdHlsZSDigJMgY29uY2VwdCBhY2N1cmF0ZSkiKTsNCiAgICBjb25zdCBjeD13KjAuNTQsIGN5PWgqMC41NDsNCiAgICBjb25zdCByeD1jeCt3KjAuMjI7DQoNCiAgICAvLyByZXRpbmENCiAgICBsaW5lKGMscngsIGN5LWgqMC4xNiwgcngsIGN5K2gqMC4xNiwgMywgInJnYmEoMjUxLDExMywxMzMsMC40NSkiKTsNCiAgICB0ZXh0KGMscngtMTgsIGN5LWgqMC4xOCwgIlJldGluYSIsICJyZ2JhKDI1MSwxMTMsMTMzLDAuOTUpIiwgdHJ1ZSk7DQoNCiAgICAvLyBleWUgbGVucw0KICAgIGNvbnN0IGxlbnNYPWN4LXcqMC4wMzsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMTApIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UobGVuc1gsY3ksdyowLjA0LGgqMC4xMCwwLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMzUpIjsgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGV4dGVybmFsIGNvcnJlY3RpdmUgbGVucyAoaWYgYW55KQ0KICAgIGNvbnN0IG1vZGUgPSBzLnBhcmFtcy5tb2RlfDA7DQogICAgY29uc3Qgc2hvd0NvbmNhdmUgPSAobW9kZT09PTEgfHwgbW9kZT09PTQpOyAvLyBmb3IgbXlvcGlhIGNvcnJlY3Rpb24sIGFuZCBiaWZvY2FsIHRvcA0KICAgIGNvbnN0IHNob3dDb252ZXggPSAobW9kZT09PTMgfHwgbW9kZT09PTQpOyAgLy8gZm9yIGh5cGVyIGNvcnJlY3Rpb24sIGFuZCBiaWZvY2FsIGJvdHRvbQ0KDQogICAgLy8gc3BlY3RhY2xlcyBsZW5zIGF0IGxlZnQNCiAgICBjb25zdCBzcGVjWCA9IGN4IC0gdyowLjIyOw0KICAgIGlmKG1vZGU9PT0xIHx8IG1vZGU9PT0zKXsNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjI1KSI7DQogICAgICBjLmxpbmVXaWR0aD0yOw0KICAgICAgYy5iZWdpblBhdGgoKTsNCiAgICAgIC8vIHNpbXBsZSBsZW5zIGRyYXdpbmc6IGNvbmNhdmUgdnMgY29udmV4DQogICAgICBpZihtb2RlPT09MSl7DQogICAgICAgIC8vIGNvbmNhdmUNCiAgICAgICAgYy5tb3ZlVG8oc3BlY1gsIGN5LWgqMC4xMik7DQogICAgICAgIGMucXVhZHJhdGljQ3VydmVUbyhzcGVjWCt3KjAuMDIwLCBjeSwgc3BlY1gsIGN5K2gqMC4xMik7DQogICAgICAgIGMubW92ZVRvKHNwZWNYK3cqMC4wNDAsIGN5LWgqMC4xMik7DQogICAgICAgIGMucXVhZHJhdGljQ3VydmVUbyhzcGVjWCt3KjAuMDIwLCBjeSwgc3BlY1grdyowLjA0MCwgY3kraCowLjEyKTsNCiAgICAgICAgdGV4dChjLHNwZWNYLTEwLCBjeS1oKjAuMTQsICJDb25jYXZlIiwgInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiLCB0cnVlKTsNCiAgICAgIH1lbHNlew0KICAgICAgICAvLyBjb252ZXgNCiAgICAgICAgYy5tb3ZlVG8oc3BlY1gsIGN5LWgqMC4xMik7DQogICAgICAgIGMucXVhZHJhdGljQ3VydmVUbyhzcGVjWC13KjAuMDIwLCBjeSwgc3BlY1gsIGN5K2gqMC4xMik7DQogICAgICAgIGMubW92ZVRvKHNwZWNYK3cqMC4wNDAsIGN5LWgqMC4xMik7DQogICAgICAgIGMucXVhZHJhdGljQ3VydmVUbyhzcGVjWCt3KjAuMDYwLCBjeSwgc3BlY1grdyowLjA0MCwgY3kraCowLjEyKTsNCiAgICAgICAgdGV4dChjLHNwZWNYLTgsIGN5LWgqMC4xNCwgIkNvbnZleCIsICJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIiwgdHJ1ZSk7DQogICAgICB9DQogICAgICBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgfQ0KDQogICAgLy8gb2JqZWN0IHJheXMgKHRha2UgcGFyYWxsZWwgcmF5cyBhcyBkaXN0YW50OyBkaXZlcmdpbmcgYXMgbmVhcikNCiAgICBjb25zdCBpc015b3BpYSA9IChtb2RlPT09MCB8fCBtb2RlPT09MSk7DQogICAgY29uc3QgaXNIeXBlciA9IChtb2RlPT09MiB8fCBtb2RlPT09Myk7DQogICAgY29uc3QgaXNQcmVzID0gKG1vZGU9PT00KTsNCg0KICAgIC8vIHNldCAiZWZmZWN0aXZlIGZvY3VzIHBvaW50IiB3aGVyZSBleWUgdHJpZXMgdG8gZm9ybSBpbWFnZQ0KICAgIC8vIG15b3BpYTogYmVmb3JlIHJldGluYTsgaHlwZXI6IGJlaGluZCByZXRpbmE7IGNvcnJlY3RlZDogb24gcmV0aW5hDQogICAgbGV0IGZvY3VzWCA9IHJ4Ow0KICAgIGlmKG1vZGU9PT0wKSBmb2N1c1ggPSByeCAtIHcqMC4wNjsNCiAgICBpZihtb2RlPT09MikgZm9jdXNYID0gcnggKyB3KjAuMDc7DQogICAgaWYobW9kZT09PTEgfHwgbW9kZT09PTMpIGZvY3VzWCA9IHJ4Ow0KDQogICAgLy8gZHJhdyByYXlzDQogICAgY29uc3QgcmF5WTEgPSBjeSAtIGgqMC4wNzsNCiAgICBjb25zdCByYXlZMiA9IGN5ICsgaCowLjA3Ow0KDQogICAgLy8gaW5jb21pbmcgcmF5cw0KICAgIGFycm93KGMsIHcqMC4xMiwgcmF5WTEsIGxlbnNYLXcqMC4wNCwgcmF5WTEsICJyZ2JhKDU5LDEzMCwyNDYsMC44MCkiKTsNCiAgICBhcnJvdyhjLCB3KjAuMTIsIHJheVkyLCBsZW5zWC13KjAuMDQsIHJheVkyLCAicmdiYSg1OSwxMzAsMjQ2LDAuODApIik7DQoNCiAgICAvLyBhZnRlciBzcGVjdGFjbGVzIChpZiBwcmVzZW50LCBzbGlnaHRseSBkaXZlcmdlL2NvbnZlcmdlKQ0KICAgIGNvbnN0IG1pZFggPSBzcGVjWCArIHcqMC4wNTsNCiAgICBpZihtb2RlPT09MSl7IC8vIGNvbmNhdmUgZGl2ZXJnZXMgYSBiaXQgYmVmb3JlIGVudGVyaW5nIGV5ZQ0KICAgICAgbGluZShjLCBtaWRYLCByYXlZMSwgbGVuc1gtdyowLjA1LCByYXlZMS0xOCwgMi41LCAicmdiYSg1OSwxMzAsMjQ2LDAuNTUpIik7DQogICAgICBsaW5lKGMsIG1pZFgsIHJheVkyLCBsZW5zWC13KjAuMDUsIHJheVkyKzE4LCAyLjUsICJyZ2JhKDU5LDEzMCwyNDYsMC41NSkiKTsNCiAgICB9ZWxzZSBpZihtb2RlPT09Myl7IC8vIGNvbnZleCBjb252ZXJnZXMgYSBiaXQNCiAgICAgIGxpbmUoYywgbWlkWCwgcmF5WTEsIGxlbnNYLXcqMC4wNSwgcmF5WTErMTAsIDIuNSwgInJnYmEoNTksMTMwLDI0NiwwLjU1KSIpOw0KICAgICAgbGluZShjLCBtaWRYLCByYXlZMiwgbGVuc1gtdyowLjA1LCByYXlZMi0xMCwgMi41LCAicmdiYSg1OSwxMzAsMjQ2LDAuNTUpIik7DQogICAgfQ0KDQogICAgLy8gcmVmcmFjdGVkIHJheXMgYnkgZXllIGxlbnMgdG93YXJkcyBmb2N1c1gNCiAgICBhcnJvdyhjLGxlbnNYLCByYXlZMSwgZm9jdXNYLCBjeSwgInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgIGFycm93KGMsbGVuc1gsIHJheVkyLCBmb2N1c1gsIGN5LCAicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgZG90KGMsZm9jdXNYLGN5LDQsInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KDQogICAgLy8gaWYgZm9jdXMgaXMgYmVoaW5kIHJldGluYSwgc2hvdyBpbnRlcnNlY3Rpb24gYmVoaW5kIHdpdGggZGFzaGVkIGV4dGVuc2lvbg0KICAgIGlmKGZvY3VzWCA+IHJ4KXsNCiAgICAgIGxpbmUoYyxsZW5zWCwgcmF5WTEsIHJ4LCBjeSwgMiwgInJnYmEoMjQ1LDE1OCwxMSwwLjM1KSIsIFs4LDhdKTsNCiAgICAgIGxpbmUoYyxsZW5zWCwgcmF5WTIsIHJ4LCBjeSwgMiwgInJnYmEoMjQ1LDE1OCwxMSwwLjM1KSIsIFs4LDhdKTsNCiAgICAgIHRleHQoYyx3KjAuMTIsaCowLjkwLCJJZiBpbWFnZSB0ZW5kcyB0byBmb3JtIGJlaGluZCByZXRpbmEg4oaSIG5lYXIgb2JqZWN0cyBibHVyIChoeXBlcm1ldHJvcGlhKS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQogICAgaWYoZm9jdXNYIDwgcngpew0KICAgICAgdGV4dChjLHcqMC4xMixoKjAuOTAsIklmIGltYWdlIGZvcm1zIGJlZm9yZSByZXRpbmEg4oaSIGRpc3RhbnQgb2JqZWN0cyBibHVyIChteW9waWEpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCiAgICBpZihmb2N1c1ggPT09IHJ4KXsNCiAgICAgIHRleHQoYyx3KjAuMTIsaCowLjkwLCJDb3JyZWN0ZWQ6IHJheXMgZm9jdXMgb24gcmV0aW5hIOKGkiBjbGVhciBpbWFnZSAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgLy8gbGFiZWwgdG9wDQogICAgY29uc3QgbGFiZWwgPSBbIk15b3BpYSIsIk15b3BpYSAoY29ycmVjdGVkKSIsIkh5cGVybWV0cm9waWEiLCJIeXBlcm1ldHJvcGlhIChjb3JyZWN0ZWQpIiwiUHJlc2J5b3BpYSAoYmlmb2NhbCBjb25jZXB0KSJdW21vZGVdOw0KICAgIHRleHQoYyx3KjAuMTIsaCowLjIwLGxhYmVsLCJyZ2JhKDE5NiwxODEsMjUzLDAuOTUpIix0cnVlKTsNCg0KICAgIGlmKGlzUHJlcyl7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC45NCwiQmlmb2NhbCBpZGVhOiB1cHBlciBmb3IgZGlzdGFudCAob2Z0ZW4gY29uY2F2ZSBpZiBhbHNvIG15b3BpYyksIGxvd2VyIGZvciBuZWFyIChjb252ZXgpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogUHJpc20gZGV2aWF0aW9uICovDQpzY2VuZXMucHJpc21EZXZpYXRpb24gPSB7DQogIHN0ZXBzOiA0LA0KICBkZWZhdWx0cygpeyByZXR1cm4ge2k6NDV9OyB9LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBJbmNpZGVudCByYXkgZW50ZXJzIHByaXNtIChhaXLihpJnbGFzcykuIiwNCiAgICAgICJTdGVwIDI6IFJheSBiZW5kcyB0b3dhcmRzIG5vcm1hbCBhdCBmaXJzdCBmYWNlIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogQXQgc2Vjb25kIGZhY2UgKGdsYXNz4oaSYWlyKSBiZW5kcyBhd2F5IGZyb20gbm9ybWFsIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogQW5nbGUgYmV0d2VlbiBpbmNpZGVudCBkaXJlY3Rpb24gYW5kIGVtZXJnZW50IHJheSBpcyBkZXZpYXRpb24gRCAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIlByaXNtIHJlZnJhY3Rpb24gKyBkZXZpYXRpb24gKGRpYWdyYW0gc3R5bGUpIik7DQogICAgY29uc3QgY3g9dyowLjU2LCBjeT1oKjAuNTU7DQoNCiAgICAvLyBwcmlzbSB0cmlhbmdsZQ0KICAgIGNvbnN0IEE9e3g6Y3gtdyowLjEwLHk6Y3ktaCowLjE2fTsNCiAgICBjb25zdCBCPXt4OmN4LXcqMC4xNix5OmN5K2gqMC4xOH07DQogICAgY29uc3QgQz17eDpjeCt3KjAuMTgseTpjeStoKjAuMTJ9Ow0KDQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjA2KSI7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7DQogICAgYy5saW5lV2lkdGg9MjsNCiAgICBjLmJlZ2luUGF0aCgpOw0KICAgIGMubW92ZVRvKEEueCxBLnkpOyBjLmxpbmVUbyhCLngsQi55KTsgYy5saW5lVG8oQy54LEMueSk7IGMuY2xvc2VQYXRoKCk7DQogICAgYy5maWxsKCk7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQoNCiAgICAvLyBpbmNpZGVuY2UgcG9pbnQgb24gQUINCiAgICBjb25zdCBFPXt4OihBLngrQi54KS8yICsgOCwgeTooQS55K0IueSkvMiArIDh9Ow0KICAgIC8vIGV4aXQgcG9pbnQgb24gQUMNCiAgICBjb25zdCBGPXt4OihBLngrQy54KS8yICsgMTAsIHk6KEEueStDLnkpLzIgKyA4fTsNCg0KICAgIC8vIG5vcm1hbHMgKGFwcHJveCkNCiAgICBsaW5lKGMsRS54LTYwLEUueSsyMCxFLngrNjAsRS55LTIwLDIsInJnYmEoMzQsMTk3LDk0LDAuMjUpIixbOCw4XSk7DQogICAgbGluZShjLEYueC02MCxGLnktMTAsRi54KzYwLEYueSsxMCwyLCJyZ2JhKDM0LDE5Nyw5NCwwLjI1KSIsWzgsOF0pOw0KDQogICAgLy8gaW5jaWRlbnQgcmF5IGFuZ2xlIGNvbnRyb2wgKHJlbGF0aXZlKQ0KICAgIGNvbnN0IGk9cmFkKGNsYW1wKHMucGFyYW1zLmksNSw4MCkpOw0KICAgIGNvbnN0IGluY1N0YXJ0PXt4OncqMC4xMiwgeTpjeS1oKjAuMDJ9Ow0KICAgIGFycm93KGMsaW5jU3RhcnQueCxpbmNTdGFydC55LEUueCxFLnksInJnYmEoNTksMTMwLDI0NiwwLjg1KSIpOw0KDQogICAgaWYocy5zdGVwPj0xKXsNCiAgICAgIC8vIHJlZnJhY3RlZCByYXkgaW5zaWRlIHByaXNtDQogICAgICBjb25zdCBpbnNpZGVNaWQ9e3g6KEUueCtGLngpLzIsIHk6KEUueStGLnkpLzIgKyAyNH07DQogICAgICBhcnJvdyhjLEUueCxFLnksaW5zaWRlTWlkLngsaW5zaWRlTWlkLnksInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgICAgYXJyb3coYyxpbnNpZGVNaWQueCxpbnNpZGVNaWQueSxGLngsRi55LCJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCiAgICB9DQogICAgaWYocy5zdGVwPj0yKXsNCiAgICAgIC8vIGVtZXJnZW50IHJheQ0KICAgICAgY29uc3Qgb3V0RW5kPXt4OncqMC44OCwgeTpjeStoKjAuMTB9Ow0KICAgICAgYXJyb3coYyxGLngsRi55LG91dEVuZC54LG91dEVuZC55LCJyZ2JhKDU5LDEzMCwyNDYsMC44NSkiKTsNCiAgICB9DQogICAgaWYocy5zdGVwPj0zKXsNCiAgICAgIC8vIHNob3cgb3JpZ2luYWwgZGlyZWN0aW9uIGV4dGVuc2lvbiBhbmQgZGV2aWF0aW9uDQogICAgICBsaW5lKGMsRS54LEUueSx3KjAuODgsRS55LDIsInJnYmEoMTQ4LDE2MywxODQsMC4yNSkiLFsxMCwxMF0pOw0KICAgICAgdGV4dChjLHcqMC4xMixoKjAuODgsIkRhc2hlZCBsaW5lID0gc3RyYWlnaHQgKG5vIHByaXNtKSBkaXJlY3Rpb247IGFuZ2xlIGJldHdlZW4gdGhhdCBhbmQgZW1lcmdlbnQgPSBkZXZpYXRpb24gRCAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiBEaXNwZXJzaW9uICsgcmVjb21iaW5hdGlvbiAqLw0Kc2NlbmVzLmRpc3BlcnNpb25SZWNvbWJpbmUgPSB7DQogIHN0ZXBzOiA0LA0KICBkZWZhdWx0cygpeyByZXR1cm4ge3NwbGl0OjF9OyB9LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBXaGl0ZSBsaWdodCBlbnRlcnMgcHJpc20uIiwNCiAgICAgICJTdGVwIDI6IERpc3BlcnNpb24gaW50byBWSUJHWU9SIHNwZWN0cnVtIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogVmlvbGV0IGRldmlhdGVzIG1vc3QsIHJlZCBsZWFzdCAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDQ6IEludmVydGVkIHByaXNtIHJlY29tYmluZXMgc3BlY3RydW0gaW50byB3aGl0ZSAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIkRpc3BlcnNpb24gKFZJQkdZT1IpICsgcmVjb21iaW5hdGlvbiIpOw0KICAgIGNvbnN0IGN5PWgqMC41NjsNCg0KICAgIC8vIHByaXNtIDENCiAgICBjb25zdCBwMXg9dyowLjQyOw0KICAgIGNvbnN0IEE9e3g6cDF4LHk6Y3ktaCowLjE0fSxCPXt4OnAxeC13KjAuMDgseTpjeStoKjAuMTR9LEM9e3g6cDF4K3cqMC4xMix5OmN5K2gqMC4xMH07DQogICAgYy5zYXZlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjA2KSI7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7IGMubGluZVdpZHRoPTI7DQogICAgYy5iZWdpblBhdGgoKTsgYy5tb3ZlVG8oQS54LEEueSk7IGMubGluZVRvKEIueCxCLnkpOyBjLmxpbmVUbyhDLngsQy55KTsgYy5jbG9zZVBhdGgoKTsgYy5maWxsKCk7IGMuc3Ryb2tlKCk7DQogICAgYy5yZXN0b3JlKCk7DQoNCiAgICAvLyBpbmNvbWluZyB3aGl0ZSBiZWFtDQogICAgbGluZShjLHcqMC4xMCxjeSwgQS54LTEwLGN5LDQsInJnYmEoMjI2LDIzMiwyNDAsMC41NSkiKTsNCiAgICB0ZXh0KGMsdyowLjEwLGN5LTEyLCJXaGl0ZSBsaWdodCIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KDQogICAgaWYocy5zdGVwPj0xKXsNCiAgICAgIC8vIHNwZWN0cnVtDQogICAgICBjb25zdCBjb2xvcnM9Ww0KICAgICAgICB7bmFtZToiViIsIGNvbDoiIzhiNWNmNiJ9LA0KICAgICAgICB7bmFtZToiSSIsIGNvbDoiIzYzNjZmMSJ9LA0KICAgICAgICB7bmFtZToiQiIsIGNvbDoiIzNiODJmNiJ9LA0KICAgICAgICB7bmFtZToiRyIsIGNvbDoiIzIyYzU1ZSJ9LA0KICAgICAgICB7bmFtZToiWSIsIGNvbDoiI2ZhY2MxNSJ9LA0KICAgICAgICB7bmFtZToiTyIsIGNvbDoiI2ZiOTIzYyJ9LA0KICAgICAgICB7bmFtZToiUiIsIGNvbDoiI2VmNDQ0NCJ9LA0KICAgICAgXTsNCiAgICAgIGNvbnN0IHN0YXJ0WD1DLngrMTA7DQogICAgICBjb25zdCBiYXNlWT1jeTsNCiAgICAgIGZvcihsZXQgaz0wO2s8Y29sb3JzLmxlbmd0aDtrKyspew0KICAgICAgICBjb25zdCBkeT0oay0zKSoxMDsgLy8gc3ByZWFkDQogICAgICAgIGxpbmUoYyxzdGFydFgsYmFzZVksIHcqMC42OCwgYmFzZVkrZHksIDQsIGNvbG9yc1trXS5jb2wpOw0KICAgICAgfQ0KICAgICAgdGV4dChjLHcqMC42MCxjeS1oKjAuMTgsIlZJQkdZT1IiLCJyZ2JhKDE5NiwxODEsMjUzLDAuOTUpIix0cnVlKTsNCiAgICAgIGlmKHMuc3RlcD49Mil7DQogICAgICAgIHRleHQoYyx3KjAuNTgsY3kraCowLjIwLCJWaW9sZXQgZGV2aWF0ZXMgbW9zdDsgUmVkIGRldmlhdGVzIGxlYXN0IChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICBpZihzLnN0ZXA+PTMpew0KICAgICAgLy8gcHJpc20gMiBpbnZlcnRlZA0KICAgICAgY29uc3QgcDJ4PXcqMC43NDsNCiAgICAgIGNvbnN0IEEyPXt4OnAyeCx5OmN5K2gqMC4xNH0sQjI9e3g6cDJ4LXcqMC4wOCx5OmN5LWgqMC4xNH0sQzI9e3g6cDJ4K3cqMC4xMix5OmN5LWgqMC4xMH07DQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4wNikiOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjIyKSI7IGMubGluZVdpZHRoPTI7DQogICAgICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyhBMi54LEEyLnkpOyBjLmxpbmVUbyhCMi54LEIyLnkpOyBjLmxpbmVUbyhDMi54LEMyLnkpOyBjLmNsb3NlUGF0aCgpOyBjLmZpbGwoKTsgYy5zdHJva2UoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KDQogICAgICAvLyByZWNvbWJpbmVkIGJlYW0NCiAgICAgIGxpbmUoYyxwMngrdyowLjEyLGN5LCB3KjAuOTIsIGN5LCA1LCAicmdiYSgyMjYsMjMyLDI0MCwwLjY1KSIpOw0KICAgICAgdGV4dChjLHcqMC44NixjeS0xMiwiV2hpdGUiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qIFJhaW5ib3cgaW4gcmFpbmRyb3AgKi8NCnNjZW5lcy5yYWluYm93RHJvcCA9IHsNCiAgc3RlcHM6IDQsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7fTsgfSwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogU3VubGlnaHQgZW50ZXJzIHJhaW5kcm9wIGFuZCByZWZyYWN0cy4iLA0KICAgICAgIlN0ZXAgMjogRGlzcGVyc2lvbiBpbnNpZGUgZHJvcC4iLA0KICAgICAgIlN0ZXAgMzogSW50ZXJuYWwgcmVmbGVjdGlvbi4iLA0KICAgICAgIlN0ZXAgNDogTGlnaHQgcmVmcmFjdHMgb3V0OyBjb2xvdXJzIHJlYWNoIG9ic2VydmVyIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiUmFpbmJvdyBmb3JtYXRpb24gKHJhaW5kcm9wIGFzIHByaXNtIOKAkyBjb25jZXB0KSIpOw0KICAgIGNvbnN0IGN4PXcqMC41NSwgY3k9aCowLjU1Ow0KICAgIC8vIGRyb3BsZXQNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMTApIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmFyYyhjeCxjeSwgaCowLjEzLCAwLCBNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE0NywxOTcsMjUzLDAuMzUpIjsgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIHN1bg0KICAgIGRvdChjLHcqMC4xNixoKjAuMjgsMTgsInJnYmEoMjUwLDIwNCwyMSwwLjI4KSIsInJnYmEoMjUwLDIwNCwyMSwwLjI1KSIpOw0KICAgIHRleHQoYyx3KjAuMTMsaCowLjI1LCJTdW4iLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCg0KICAgIC8vIGluY2lkZW50IHJheQ0KICAgIGFycm93KGMsdyowLjIwLGgqMC4zMiwgY3gtaCowLjEzLCBjeS1oKjAuMDIsICJyZ2JhKDIyNiwyMzIsMjQwLDAuNjUpIik7DQogICAgaWYocy5zdGVwPj0xKXsNCiAgICAgIGFycm93KGMsY3gtaCowLjEzLCBjeS1oKjAuMDIsIGN4LCBjeStoKjAuMDMsICJyZ2JhKDIyNiwyMzIsMjQwLDAuNjUpIik7DQogICAgfQ0KICAgIGlmKHMuc3RlcD49Mil7DQogICAgICAvLyBzcGxpdCBpbnRvIHR3byByZXByZXNlbnRhdGl2ZSBjb2xvdXJzDQogICAgICBhcnJvdyhjLGN4LCBjeStoKjAuMDMsIGN4K2gqMC4wOCwgY3kraCowLjAyLCAiI2VmNDQ0NCIpOyAvLyByZWQNCiAgICAgIGFycm93KGMsY3gsIGN5K2gqMC4wMywgY3graCowLjA2LCBjeStoKjAuMDYsICIjOGI1Y2Y2Iik7IC8vIHZpb2xldA0KICAgICAgdGV4dChjLGN4LTMwLGN5K2gqMC4xNywiRGlzcGVyc2lvbiIsInJnYmEoMTk2LDE4MSwyNTMsMC45NSkiLHRydWUpOw0KICAgIH0NCiAgICBpZihzLnN0ZXA+PTMpew0KICAgICAgLy8gaW50ZXJuYWwgcmVmbGVjdGlvbiBhcmNzDQogICAgICBjb25zdCBwUj17eDpjeCtoKjAuMDgseTpjeStoKjAuMDJ9Ow0KICAgICAgY29uc3QgcFY9e3g6Y3graCowLjA2LHk6Y3kraCowLjA2fTsNCiAgICAgIGFycm93KGMscFIueCxwUi55LCBjeCtoKjAuMDIsIGN5LWgqMC4wNiwgIiNlZjQ0NDQiKTsNCiAgICAgIGFycm93KGMscFYueCxwVi55LCBjeCtoKjAuMDAsIGN5LWgqMC4wMiwgIiM4YjVjZjYiKTsNCiAgICAgIHRleHQoYyxjeCtoKjAuMDgsY3ktaCowLjExLCJJbnRlcm5hbCByZWZsZWN0aW9uIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHMuc3RlcD49Myl7DQogICAgICAvLyBvdXQgcmF5cyB0byBvYnNlcnZlciAob3Bwb3NpdGUgU3VuKQ0KICAgICAgYXJyb3coYyxjeCtoKjAuMDIsIGN5LWgqMC4wNiwgdyowLjg1LCBoKjAuMzUsICIjZWY0NDQ0Iik7DQogICAgICBhcnJvdyhjLGN4K2gqMC4wMCwgY3ktaCowLjAyLCB3KjAuODUsIGgqMC40MCwgIiM4YjVjZjYiKTsNCiAgICAgIGRvdChjLHcqMC44OCxoKjAuMzgsNSwicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIpOw0KICAgICAgdGV4dChjLHcqMC44NCxoKjAuMzMsIk9ic2VydmVyIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC44OCwiUmFpbmJvdyBpcyBzZWVuIG9wcG9zaXRlIHRvIHRoZSBTdW4gKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogQXRtb3NwaGVyaWMgcmVmcmFjdGlvbiAqLw0Kc2NlbmVzLmF0bW9zUmVmcmFjdGlvbiA9IHsNCiAgc3RlcHM6IDQsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7bW9kZTowfTsgfSwgLy8gMCB0d2lua2xlLCAxIHBsYW5ldHMsIDIgc3VucmlzZSwgMyBzdW5zZXQNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogU3RhcmxpZ2h0IGJlbmRzIGluIGF0bW9zcGhlcmUg4oaSIGFwcGFyZW50IHBvc2l0aW9uIHNoaWZ0cyAodHdpbmtsaW5nIGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBQbGFuZXRzIGFyZSBleHRlbmRlZCBzb3VyY2VzIOKGkiB0d2lua2xpbmcgYXZlcmFnZXMgb3V0IChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogU3VuIGFwcGVhcnMgfjIgbWludXRlcyBlYXJseSAoYWR2YW5jZSBzdW5yaXNlIGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBTdW4gYXBwZWFycyB+MiBtaW51dGVzIGxhdGUgKGRlbGF5ZWQgc3Vuc2V0IGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIHBhbmVsKGMsdyowLjA2LGgqMC4xNCx3KjAuODgsaCowLjcwLCJBdG1vc3BoZXJpYyByZWZyYWN0aW9uICh0d2lua2xpbmcgKyBzdW5yaXNlL3N1bnNldCkiKTsNCiAgICBjb25zdCBob3Jpem9uWT1oKjAuNjY7DQogICAgbGluZShjLHcqMC4xMCxob3Jpem9uWSx3KjAuOTAsaG9yaXpvblksMywicmdiYSgxNDgsMTYzLDE4NCwwLjIwKSIpOw0KICAgIHRleHQoYyx3KjAuMTEsaG9yaXpvblktMTAsIkhvcml6b24iLCJyZ2JhKDE0OCwxNjMsMTg0LDAuODUpIix0cnVlKTsNCg0KICAgIC8vIGF0bW9zcGhlcmUgbGF5ZXJzDQogICAgZm9yKGxldCBrPTA7azw2O2srKyl7DQogICAgICBjb25zdCB5PWhvcml6b25ZIC0gayoyODsNCiAgICAgIGxpbmUoYyx3KjAuMTAseSx3KjAuOTAseSwxLCJyZ2JhKDE0OCwxNjMsMTg0LDAuMDgpIik7DQogICAgfQ0KICAgIHRleHQoYyx3KjAuMTEsaCowLjIyLCJBdG1vc3BoZXJlIGxheWVycyAocmVmcmFjdGl2ZSBpbmRleCBjaGFuZ2VzKSIsInJnYmEoMTQ4LDE2MywxODQsMC44NSkiLHRydWUpOw0KDQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQogICAgaWYoc3RlcDw9MSl7DQogICAgICAvLyBzdGFyIC8gcGxhbmV0IGluIHNreQ0KICAgICAgY29uc3QgaXNQbGFuZXQgPSAoc3RlcD09PTEpOw0KICAgICAgY29uc3Qgc3JjWD13KjAuNzgsIHNyY1k9aCowLjI2Ow0KICAgICAgaWYoaXNQbGFuZXQpew0KICAgICAgICBkb3QoYyxzcmNYLHNyY1ksMTAsInJnYmEoMjQ1LDE1OCwxMSwwLjE4KSIsInJnYmEoMjQ1LDE1OCwxMSwwLjI1KSIpOw0KICAgICAgICB0ZXh0KGMsc3JjWC0yMixzcmNZLTE2LCJQbGFuZXQiLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCiAgICAgIH1lbHNlew0KICAgICAgICBkb3QoYyxzcmNYLHNyY1ksNCwicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIsInJnYmEoMjI2LDIzMiwyNDAsMC4xOCkiKTsNCiAgICAgICAgdGV4dChjLHNyY1gtMTgsc3JjWS0xNiwiU3RhciIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgICAgfQ0KDQogICAgICAvLyBjdXJ2ZWQgcmF5IHBhdGgNCiAgICAgIGNvbnN0IG9ic1g9dyowLjIwLCBvYnNZPWhvcml6b25ZKzMwOw0KICAgICAgZG90KGMsb2JzWCxvYnNZLDUsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiKTsNCiAgICAgIHRleHQoYyxvYnNYLTE4LG9ic1krMTgsIk9ic2VydmVyIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQoNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuNzApIjsNCiAgICAgIGMubGluZVdpZHRoPTM7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgYy5tb3ZlVG8oc3JjWCxzcmNZKTsNCiAgICAgIGMucXVhZHJhdGljQ3VydmVUbyh3KjAuNTUsaCowLjQyLCB3KjAuMzYsaCowLjU2KTsNCiAgICAgIGMucXVhZHJhdGljQ3VydmVUbyh3KjAuMjgsaCowLjYyLCBvYnNYLG9ic1kpOw0KICAgICAgYy5zdHJva2UoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KDQogICAgICAvLyBhcHBhcmVudCBwb3NpdGlvbiAoc2xpZ2h0bHkgaGlnaGVyKQ0KICAgICAgY29uc3QgYXBwWD1zcmNYLTQwLCBhcHBZPXNyY1ktMTg7DQogICAgICBsaW5lKGMsb2JzWCxvYnNZLCBhcHBYLGFwcFksIDIsICJyZ2JhKDE0OCwxNjMsMTg0LDAuMjUpIiwgWzEwLDEwXSk7DQogICAgICBkb3QoYyxhcHBYLGFwcFksNCwicmdiYSgzNCwxOTcsOTQsMC43NSkiLCJyZ2JhKDM0LDE5Nyw5NCwwLjE4KSIpOw0KICAgICAgdGV4dChjLGFwcFgtMzAsYXBwWS0xMCwiQXBwYXJlbnQiLCJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIix0cnVlKTsNCg0KICAgICAgaWYoIWlzUGxhbmV0KXsNCiAgICAgICAgLy8gdHdpbmtsaW5nIGZsaWNrZXINCiAgICAgICAgY29uc3QgZmxpY2s9MC40NSswLjU1Kk1hdGguc2luKHQqNC4wKTsNCiAgICAgICAgZG90KGMsc3JjWCxzcmNZLDQsYHJnYmEoMjI2LDIzMiwyNDAsJHswLjM1KzAuNTUqZmxpY2t9KWAsInJnYmEoMjI2LDIzMiwyNDAsMC4xMikiKTsNCiAgICAgICAgdGV4dChjLHcqMC4xMixoKjAuODgsIlR3aW5rbGluZzogYnJpZ2h0bmVzcy9wb3NpdGlvbiBmbHVjdHVhdGVzIGR1ZSB0byBjaGFuZ2luZyBhdG1vc3BoZXJlIChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRleHQoYyx3KjAuMTIsaCowLjg4LCJQbGFuZXRzOiBtYW55IHBvaW50IHNvdXJjZXMg4oaSIHZhcmlhdGlvbnMgYXZlcmFnZSBvdXQgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAvLyBzdW5yaXNlL3N1bnNldCBkaWFncmFtDQogICAgICBjb25zdCBlYXJ0aFg9dyowLjI1LCBlYXJ0aFk9aG9yaXpvblkrOTA7DQogICAgICBkb3QoYyxlYXJ0aFgsZWFydGhZLDU0LCJyZ2JhKDU5LDEzMCwyNDYsMC4xMCkiLCJyZ2JhKDU5LDEzMCwyNDYsMC4yMCkiKTsNCiAgICAgIHRleHQoYyxlYXJ0aFgtMTYsZWFydGhZKzQsIkVhcnRoIiwicmdiYSgxNDcsMTk3LDI1MywwLjk1KSIsdHJ1ZSk7DQoNCiAgICAgIC8vIGFjdHVhbCBzdW4gcG9zaXRpb24gYmVsb3cvYXQgaG9yaXpvbg0KICAgICAgY29uc3Qgc3VuWD13KjAuNzg7DQogICAgICBjb25zdCBzdW5ZID0gKHN0ZXA9PT0yKSA/IGhvcml6b25ZKzMwIDogaG9yaXpvblktMTA7IC8vIGFjdHVhbCBiZWxvdyBmb3Igc3VucmlzZSwgYmVsb3cgZm9yIHN1bnNldCB0b28gYnV0IGlsbHVzdHJhdGlvbg0KICAgICAgZG90KGMsc3VuWCxzdW5ZLDE4LCJyZ2JhKDI1MCwyMDQsMjEsMC4yMikiLCJyZ2JhKDI1MCwyMDQsMjEsMC4yMikiKTsNCiAgICAgIHRleHQoYyxzdW5YLTEyLHN1blktMjIsIlN1biIsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KDQogICAgICAvLyByZWZyYWN0ZWQgcGF0aCBiZW5kaW5nIHRvd2FyZCBub3JtYWwgKGN1cnZpbmcgZG93biB0byBvYnNlcnZlcikNCiAgICAgIGNvbnN0IG9ic1g9dyowLjIyLCBvYnNZPWhvcml6b25ZKzI1Ow0KICAgICAgZG90KGMsb2JzWCxvYnNZLDUsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiKTsNCiAgICAgIHRleHQoYyxvYnNYLTE4LG9ic1krMTgsIk9ic2VydmVyIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQoNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuNzUpIjsNCiAgICAgIGMubGluZVdpZHRoPTM7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgYy5tb3ZlVG8oc3VuWCxzdW5ZKTsNCiAgICAgIGMucXVhZHJhdGljQ3VydmVUbyh3KjAuNTgsaG9yaXpvblktNDAsIHcqMC40MCxob3Jpem9uWS0xMCk7DQogICAgICBjLnF1YWRyYXRpY0N1cnZlVG8odyowLjMwLGhvcml6b25ZKzYsIG9ic1gsb2JzWSk7DQogICAgICBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQoNCiAgICAgIC8vIGFwcGFyZW50IHN1biBhYm92ZSBob3Jpem9uDQogICAgICBjb25zdCBhcHBZPWhvcml6b25ZLTMwOw0KICAgICAgZG90KGMsc3VuWC02MCxhcHBZLDEwLCJyZ2JhKDM0LDE5Nyw5NCwwLjE4KSIsInJnYmEoMzQsMTk3LDk0LDAuMjApIik7DQogICAgICB0ZXh0KGMsc3VuWC05OCxhcHBZLTE0LCJBcHBhcmVudCBTdW4iLCJyZ2JhKDE2NywyNDMsMjA4LDAuOTUpIix0cnVlKTsNCg0KICAgICAgaWYoc3RlcD09PTIpew0KICAgICAgICB0ZXh0KGMsdyowLjEyLGgqMC44OCwiQWR2YW5jZSBzdW5yaXNlOiBTdW4gc2VlbiB+MiBtaW51dGVzIGJlZm9yZSBhY3R1YWwgc3VucmlzZSAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGV4dChjLHcqMC4xMixoKjAuODgsIkRlbGF5ZWQgc3Vuc2V0OiBTdW4gc2VlbiB+MiBtaW51dGVzIGFmdGVyIGFjdHVhbCBzdW5zZXQgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg0KLyogU2NhdHRlcmluZyB3b3JsZCAqLw0Kc2NlbmVzLnNjYXR0ZXJpbmdXb3JsZCA9IHsNCiAgc3RlcHM6IDUsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7bW9kZTowfTsgfSwgLy8gMCB0eW5kYWxsLCAxIGJsdWUgc2t5LCAyIHJlZCBzdW5yaXNlLCAzIGRhbmdlciBsaWdodCwgNCBkYXJrIHNreSBhdCBhbHRpdHVkZQ0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBUeW5kYWxsIGVmZmVjdDogYmVhbSB2aXNpYmxlIGluIHNtb2tlL21pc3QgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBCbHVlIHNreTogc2hvcnRlciB3YXZlbGVuZ3RocyBzY2F0dGVyZWQgbW9yZSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDM6IFJlZCBTdW4gYXQgc3VucmlzZS9zdW5zZXQ6IGxvbmdlciBwYXRoIHJlbW92ZXMgbW9yZSBibHVlIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogUmVkIHNpZ25hbDogcmVkIHNjYXR0ZXJlZCBsZWFzdCwgc2VlbiBmYXJ0aGVyIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNTogSGlnaCBhbHRpdHVkZTogbGVzcyBzY2F0dGVyaW5nIOKGkiBkYXJrZXIgc2t5IChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiU2NhdHRlcmluZyBvZiBsaWdodCAoVHluZGFsbCArIHNreSBjb2xvdXIgKyByZWQgc3VuKSIpOw0KICAgIGNvbnN0IHN0ZXA9cy5zdGVwOw0KDQogICAgaWYoc3RlcD09PTApew0KICAgICAgLy8gYmVhbSBpbiBzbW9reSByb29tDQogICAgICBycihjLHcqMC4xNCxoKjAuMjYsdyowLjcyLGgqMC40NiwxNik7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjA0KSI7IGMuZmlsbCgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjEyKSI7IGMuc3Ryb2tlKCk7DQoNCiAgICAgIC8vIHNtb2tlIHBhcnRpY2xlcw0KICAgICAgZm9yKGxldCBpPTA7aTwxODA7aSsrKXsNCiAgICAgICAgY29uc3QgeD13KjAuMTYgKyBNYXRoLnJhbmRvbSgpKncqMC42ODsNCiAgICAgICAgY29uc3QgeT1oKjAuMjggKyBNYXRoLnJhbmRvbSgpKmgqMC40MjsNCiAgICAgICAgZG90KGMseCx5LDEuMiwicmdiYSgxNDgsMTYzLDE4NCwwLjI1KSIsInJnYmEoMCwwLDAsMCkiLDApOw0KICAgICAgfQ0KICAgICAgLy8gYmVhbQ0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLmdsb2JhbEFscGhhPTAuOTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDI1MCwyMDQsMjEsMC4yMCkiOw0KICAgICAgYy5iZWdpblBhdGgoKTsNCiAgICAgIGMubW92ZVRvKHcqMC4xNixoKjAuNDIpOw0KICAgICAgYy5saW5lVG8odyowLjcwLGgqMC4zNCk7DQogICAgICBjLmxpbmVUbyh3KjAuNzAsaCowLjUyKTsNCiAgICAgIGMuY2xvc2VQYXRoKCk7DQogICAgICBjLmZpbGwoKTsNCiAgICAgIGMucmVzdG9yZSgpOw0KICAgICAgdGV4dChjLHcqMC4xNixoKjAuMjQsIkJlYW0gcGF0aCB2aXNpYmxlIGR1ZSB0byBzY2F0dGVyaW5nIChUeW5kYWxsIGVmZmVjdCBjb25jZXB0KS4iLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPT09MSl7DQogICAgICAvLyBibHVlIHNreQ0KICAgICAgZG90KGMsdyowLjE4LGgqMC4yOCwyMCwicmdiYSgyNTAsMjA0LDIxLDAuMjIpIiwicmdiYSgyNTAsMjA0LDIxLDAuMjApIik7DQogICAgICB0ZXh0KGMsdyowLjE1LGgqMC4yNCwiU3VuIiwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQoNCiAgICAgIC8vIGF0bW9zcGhlcmUgcmVnaW9uDQogICAgICBycihjLHcqMC4xNCxoKjAuMjgsdyowLjcyLGgqMC40MCwxNik7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMDYpIjsgYy5maWxsKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4xNCkiOyBjLnN0cm9rZSgpOw0KDQogICAgICAvLyBzY2F0dGVyaW5nIGFycm93cyAoYmx1ZSkNCiAgICAgIGZvcihsZXQgaz0wO2s8MTA7aysrKXsNCiAgICAgICAgYXJyb3coYyx3KjAuMzAsaCowLjQ0LCB3KjAuNDUrTWF0aC5yYW5kb20oKSp3KjAuMzUsIGgqMC4zNitNYXRoLnJhbmRvbSgpKmgqMC4zMCwgInJnYmEoNTksMTMwLDI0NiwwLjQ1KSIpOw0KICAgICAgfQ0KICAgICAgYXJyb3coYyx3KjAuMTgsaCowLjI4LHcqMC4zMCxoKjAuNDQsInJnYmEoMjI2LDIzMiwyNDAsMC40NSkiKTsNCiAgICAgIHRleHQoYyx3KjAuMTYsaCowLjg4LCJGaW5lIHBhcnRpY2xlcyBzY2F0dGVyIGJsdWUgKHNob3J0ZXIgd2F2ZWxlbmd0aCkgbW9yZSBzdHJvbmdseSAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD09PTIpew0KICAgICAgLy8gcmVkIHN1biBhdCBob3Jpem9uDQogICAgICBjb25zdCBob3Jpem9uWT1oKjAuNjU7DQogICAgICBsaW5lKGMsdyowLjEyLGhvcml6b25ZLHcqMC44OCxob3Jpem9uWSwzLCJyZ2JhKDE0OCwxNjMsMTg0LDAuMTgpIik7DQogICAgICBkb3QoYyx3KjAuMTgsaG9yaXpvblktNiwxNiwicmdiYSgyMzksNjgsNjgsMC4yMikiLCJyZ2JhKDIzOSw2OCw2OCwwLjI1KSIpOw0KICAgICAgdGV4dChjLHcqMC4xMyxob3Jpem9uWS0yNiwiU3VuIChyZWQpIiwicmdiYSgyNTEsMTEzLDEzMywwLjk1KSIsdHJ1ZSk7DQoNCiAgICAgIC8vIGxvbmcgcGF0aCB0aHJvdWdoIGF0bW9zcGhlcmUgd2l0aCBibHVlIHNjYXR0ZXJlZCBhd2F5DQogICAgICBjLnNhdmUoKTsgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjMwKSI7IGMubGluZVdpZHRoPTM7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgYy5tb3ZlVG8odyowLjE4LGhvcml6b25ZLTYpOw0KICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHcqMC40NSxoKjAuNDYsdyowLjc4LGgqMC40MCk7DQogICAgICBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgICBmb3IobGV0IGs9MDtrPDEwO2srKyl7DQogICAgICAgIGFycm93KGMsdyowLjQ2LGgqMC41MiwgdyowLjUyK01hdGgucmFuZG9tKCkqdyowLjM1LCBoKjAuMzQrTWF0aC5yYW5kb20oKSpoKjAuMzAsICJyZ2JhKDU5LDEzMCwyNDYsMC4zNSkiKTsNCiAgICAgIH0NCiAgICAgIGFycm93KGMsdyowLjYyLGgqMC40NCx3KjAuODUsaCowLjQ2LCJyZ2JhKDIzOSw2OCw2OCwwLjU1KSIpOw0KICAgICAgdGV4dChjLHcqMC4xNixoKjAuODgsIkF0IHN1bnJpc2Uvc3Vuc2V0LCBsaWdodCB0cmF2ZWxzIGxvbmdlciBwYXRoOyBibHVlIHNjYXR0ZXJlZCBtb3JlLCByZWQgcmVhY2hlcyBleWUgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA9PT0zKXsNCiAgICAgIC8vIGRhbmdlciBsaWdodA0KICAgICAgcnIoYyx3KjAuMTgsaCowLjMyLHcqMC42NCxoKjAuMzQsMTYpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC41NSkiOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4xNCkiOyBjLnN0cm9rZSgpOw0KICAgICAgZG90KGMsdyowLjI4LGgqMC40OSwxNCwicmdiYSgyMzksNjgsNjgsMC4yMikiLCJyZ2JhKDIzOSw2OCw2OCwwLjI1KSIpOw0KICAgICAgdGV4dChjLHcqMC4yMixoKjAuNDAsIlJFRCBTSUdOQUwiLCJyZ2JhKDI1MSwxMTMsMTMzLDAuOTUpIix0cnVlKTsNCiAgICAgIGFycm93KGMsdyowLjMwLGgqMC40OSx3KjAuNzgsaCowLjQ5LCJyZ2JhKDIzOSw2OCw2OCwwLjU1KSIpOw0KICAgICAgZm9yKGxldCBrPTA7azw3O2srKyl7DQogICAgICAgIGFycm93KGMsdyowLjQ0LGgqMC40OSwgdyowLjUyK01hdGgucmFuZG9tKCkqdyowLjIwLCBoKjAuMzYrTWF0aC5yYW5kb20oKSpoKjAuMjgsICJyZ2JhKDU5LDEzMCwyNDYsMC4yNSkiKTsNCiAgICAgIH0NCiAgICAgIHRleHQoYyx3KjAuMTYsaCowLjg4LCJSZWQgaXMgbGVhc3Qgc2NhdHRlcmVkIGJ5IGZvZy9zbW9rZSwgc28gdXNlZCBmb3IgZGFuZ2VyIHNpZ25hbHMgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA9PT00KXsNCiAgICAgIC8vIGhpZ2ggYWx0aXR1ZGUgKGRhcmsgc2t5KQ0KICAgICAgcnIoYyx3KjAuMTQsaCowLjI2LHcqMC43MixoKjAuNDYsMTYpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMiw2LDIzLDAuNTUpIjsgYy5maWxsKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMDgpIjsgYy5zdHJva2UoKTsNCiAgICAgIGZvcihsZXQgaT0wO2k8NDA7aSsrKXsNCiAgICAgICAgZG90KGMsdyowLjE4K01hdGgucmFuZG9tKCkqdyowLjY0LCBoKjAuMzArTWF0aC5yYW5kb20oKSpoKjAuMzgsIDEuNSwicmdiYSgyMjYsMjMyLDI0MCwwLjM1KSIsInJnYmEoMCwwLDAsMCkiLDApOw0KICAgICAgfQ0KICAgICAgdGV4dChjLHcqMC4xNixoKjAuODgsIkF0IHZlcnkgaGlnaCBhbHRpdHVkZSwgc2NhdHRlcmluZyBpcyBsZXNzIOKGkiBza3kgbG9va3MgZGFya2VyIChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qID09PT09PT09PT09PT0gU0VUVVAgQU5JTUFUSU9OID09PT09PT09PT09PT0gKi8NCmZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHR5cGUpew0KICBzdGF0ZS5hbmltID0gdHlwZTsNCiAgc3RhdGUuc3RlcCA9IDA7DQoNCiAgYW5pbUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbmltQ2FudmFzIik7DQogIGN0eCA9IGFuaW1DYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCiAgZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQoNCiAgY29uc3Qgc3BlZWRTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlZWQiKTsNCiAgY29uc3Qgc3BlZWRWYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlZWRWYWwiKTsNCiAgc3BlZWRTbGlkZXIub25pbnB1dCA9ICgpID0+IHsNCiAgICBzcGVlZCA9IHBhcnNlRmxvYXQoc3BlZWRTbGlkZXIudmFsdWUpOw0KICAgIHNwZWVkVmFsLnRleHRDb250ZW50ID0gc3BlZWQudG9GaXhlZCgxKSsiw5ciOw0KICB9Ow0KICBzcGVlZCA9IHBhcnNlRmxvYXQoc3BlZWRTbGlkZXIudmFsdWUpOw0KICBzcGVlZFZhbC50ZXh0Q29udGVudCA9IHNwZWVkLnRvRml4ZWQoMSkrIsOXIjsNCg0KICBjb25zdCBzYyA9IHNjZW5lc1tzdGF0ZS5hbmltXSB8fCBzY2VuZXMuZXllUGFydHM7DQogIHN0YXRlLnN0ZXBzID0gc2Muc3RlcHMgfHwgMTsNCiAgc3RhdGUucGFyYW1zID0gc2MuZGVmYXVsdHMgPyBzYy5kZWZhdWx0cygpIDoge307DQogIHNldFN0ZXBCdXR0b24oKTsNCg0KICAvLyBwYXJhbXMgVUkgcGVyIGFuaW1hdGlvbg0KICBpZih0eXBlPT09ImFjY29tbW9kYXRpb24iKXsNCiAgICBzZXRQYXJhbXNVSShbDQogICAgICB7aWQ6ImRpc3QiLCBrZXk6ImRpc3QiLCBsYWJlbDoiT2JqZWN0IGRpc3RhbmNlIiwgbWluOjI1LCBtYXg6NDAwLCBzdGVwOjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5kaXN0LCBmbXQ6dj0+YCR7TWF0aC5yb3VuZCh2KX0gY21gfQ0KICAgIF0pOw0KICB9IGVsc2UgaWYodHlwZT09PSJkZWZlY3RzVmlzaW9uIil7DQogICAgc2V0UGFyYW1zVUkoWw0KICAgICAge2lkOiJtb2RlIiwga2V5OiJtb2RlIiwgbGFiZWw6Ik1vZGUgKDAuLjQpIiwgbWluOjAsIG1heDo0LCBzdGVwOjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5tb2RlLCBmbXQ6dj0+ew0KICAgICAgICBjb25zdCBtPVsiTXlvcGlhIiwiTXlvcGlhIGNvcnJlY3RlZCIsIkh5cGVybWV0cm9waWEiLCJIeXBlciBjb3JyZWN0ZWQiLCJQcmVzYnlvcGlhIl07DQogICAgICAgIHJldHVybiBtW3BhcnNlSW50KHYpXSA/PyB2Ow0KICAgICAgfX0NCiAgICBdKTsNCiAgfSBlbHNlIGlmKHR5cGU9PT0icHJpc21EZXZpYXRpb24iKXsNCiAgICBzZXRQYXJhbXNVSShbDQogICAgICB7aWQ6ImkiLCBrZXk6ImkiLCBsYWJlbDoiSW5jaWRlbmNlIGFuZ2xlIiwgbWluOjUsIG1heDo4MCwgc3RlcDoxLCB2YWx1ZTpzdGF0ZS5wYXJhbXMuaSwgZm10OnY9PmAke01hdGgucm91bmQodil9wrBgfQ0KICAgIF0pOw0KICB9IGVsc2Ugew0KICAgIHNldFBhcmFtc1VJKFtdKTsNCiAgfQ0KDQogIGlmKHJhZikgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTsNCiAgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsNCiAgY29uc3QgbG9vcCA9IChub3cpID0+IHsNCiAgICBjb25zdCBkdCA9ICgobm93IC0gdDApIC8gMTAwMCkgKiBzcGVlZDsNCiAgICBjb25zdCB7dyxofSA9IGZpdENhbnZhcyhhbmltQ2FudmFzLCBjdHgpOw0KICAgIGNvbnN0IHNjID0gc2NlbmVzW3N0YXRlLmFuaW1dIHx8IHNjZW5lcy5leWVQYXJ0czsNCiAgICBzdGF0ZS5zdGVwcyA9IHNjLnN0ZXBzIHx8IDE7DQogICAgc2V0U3RlcEJ1dHRvbigpOw0KDQogICAgc2MuZHJhdyhjdHgsIHcsIGgsIGR0LCBzdGF0ZSwgcGxheWluZyk7DQogICAgaWYoc2MuY2FwdGlvbikgc2V0Q2FwdGlvbihzYy5jYXB0aW9uKHN0YXRlLnN0ZXAsIGR0KSk7DQogICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOw0KICB9Ow0KICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQp9DQoNCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiBzZXR1cEFuaW1hdGlvbihzdGF0ZS5hbmltKSk7DQoNCi8qID09PT09PT09PT09PT0gSU5JVCA9PT09PT09PT09PT09ICovDQpmdW5jdGlvbiBpbml0KCl7DQogIHJlbmRlck5hdigpOw0KICBzZWxlY3RUb3BpYyh0b3BpY3NbMF0uaWQpOw0KfQ0KaW5pdCgpOw0KPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+DQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sIGxhbmc9ImVuIj4NCjxoZWFkPg0KICA8bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz4NCiAgPHRpdGxlPkNsYXNzIDEwIFNjaWVuY2UgQ2ggMTAg4oCTIEh1bWFuIEV5ZSAmIENvbG91cmZ1bCBXb3JsZDwvdGl0bGU+DQogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIgLz4NCiAgPHN0eWxlPg0KICAgICp7IGJveC1zaXppbmc6Ym9yZGVyLWJveDsgfQ0KICAgIGJvZHl7DQogICAgICBtYXJnaW46MDsNCiAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxTZWdvZSBVSSxSb2JvdG8sQXJpYWwsc2Fucy1zZXJpZjsNCiAgICAgIGJhY2tncm91bmQ6DQogICAgICAgIHJhZGlhbC1ncmFkaWVudCgxMTAwcHggNjgwcHggYXQgMTglIDEwJSwgcmdiYSg1OSwxMzAsMjQ2LDAuMTgpLCB0cmFuc3BhcmVudCA1NSUpLA0KICAgICAgICByYWRpYWwtZ3JhZGllbnQoOTAwcHggNjIwcHggYXQgODIlIDE2JSwgcmdiYSgxMzksOTIsMjQ2LDAuMTgpLCB0cmFuc3BhcmVudCA2MCUpLA0KICAgICAgICByYWRpYWwtZ3JhZGllbnQoOTAwcHggNjAwcHggYXQgNTUlIDEwMCUsIHJnYmEoMjQ1LDE1OCwxMSwwLjE0KSwgdHJhbnNwYXJlbnQgNTUlKSwNCiAgICAgICAgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzA1MDgxNiAwJSwgIzFlMWI0YiAxMDAlKTsNCiAgICAgIGNvbG9yOiNmMWY1Zjk7DQogICAgICBtaW4taGVpZ2h0OjEwMHZoOw0KICAgIH0NCiAgICBoZWFkZXJ7DQogICAgICBwYWRkaW5nOiAxOHB4IDV2dzsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45Mik7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7DQogICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjEwKTsNCiAgICAgIHBvc2l0aW9uOiBzdGlja3k7IHRvcDowOyB6LWluZGV4OiA1MDsNCiAgICB9DQogICAgaGVhZGVyIGgxew0KICAgICAgbWFyZ2luOjAgMCA4cHg7DQogICAgICBmb250LXNpemU6IGNsYW1wKDEuMjVyZW0sIDR2dywgMS45cmVtKTsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzYjgyZjYsICM4YjVjZjYsICMyMmM1NWUsICNmNTllMGIpOw0KICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6dGV4dDsNCiAgICAgIGJhY2tncm91bmQtY2xpcDp0ZXh0Ow0KICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6dHJhbnNwYXJlbnQ7DQogICAgfQ0KICAgIC5jb250cm9sc3sNCiAgICAgIGRpc3BsYXk6ZmxleDsgZ2FwOjEycHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZmxleC13cmFwOndyYXA7DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InNlYXJjaCJdew0KICAgICAgcGFkZGluZzogOHB4IDE2cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC40NSk7DQogICAgICBib3JkZXItcmFkaXVzOiAyNHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjc1KTsNCiAgICAgIGNvbG9yOiNmMWY1Zjk7DQogICAgICBmb250LXNpemU6IDAuOTVyZW07DQogICAgICBtaW4td2lkdGg6IDI2MHB4Ow0KICAgICAgb3V0bGluZTpub25lOw0KICAgIH0NCiAgICBpbnB1dFt0eXBlPSJzZWFyY2giXTo6cGxhY2Vob2xkZXJ7IGNvbG9yOiM5NGEzYjg7IH0NCiAgICAucHJvZ3Jlc3N7IGZvbnQtc2l6ZTowLjlyZW07IGNvbG9yOiM5NGEzYjg7IH0NCg0KICAgIC5sYXlvdXR7DQogICAgICBkaXNwbGF5OmdyaWQ7DQogICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDM2MHB4IDFmcjsNCiAgICAgIGdhcDogMThweDsNCiAgICAgIHBhZGRpbmc6IDE4cHggNXZ3IDYwcHg7DQogICAgICBtYXgtd2lkdGg6IDE4MDBweDsNCiAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgIH0NCiAgICBAbWVkaWEgKG1heC13aWR0aDogMTEwMHB4KXsgLmxheW91dHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7IH0gfQ0KDQogICAgbmF2ew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkyKTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7DQogICAgICBwYWRkaW5nOiAxNHB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuMjUpOw0KICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEycHgpOw0KICAgICAgbWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDE0MHB4KTsNCiAgICAgIG92ZXJmbG93OmF1dG87DQogICAgfQ0KICAgIG5hdiBoMnsNCiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgIG1hcmdpbjogMCAwIDEycHg7DQogICAgICBjb2xvcjojOTNjNWZkOw0KICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjA1ZW07DQogICAgfQ0KICAgIC50b3BpYy1saW5rew0KICAgICAgZGlzcGxheTpibG9jazsNCiAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjE4cyBlYXNlOw0KICAgICAgdXNlci1zZWxlY3Q6bm9uZTsNCiAgICB9DQogICAgLnRvcGljLWxpbms6aG92ZXJ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4xMik7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjQwKTsNCiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg0cHgpOw0KICAgIH0NCiAgICAudG9waWMtbGluay5hY3RpdmV7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjM2I4MmY2LCAjNjBhNWZhKTsNCiAgICAgIGNvbG9yOiMwZjE3MmE7DQogICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgICAgYm94LXNoYWRvdzogMCA2cHggMThweCByZ2JhKDU5LDEzMCwyNDYsMC4yMik7DQogICAgfQ0KICAgIC50b3BpYy1saW5rIC50YWd7DQogICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsNCiAgICAgIHBhZGRpbmc6IDJweCA4cHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43MnJlbTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4zNSk7DQogICAgICBtYXJnaW4tbGVmdDogOHB4Ow0KICAgIH0NCg0KICAgIG1haW57DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTIpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsNCiAgICAgIHBhZGRpbmc6IDIycHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4yMik7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7DQogICAgICBib3gtc2hhZG93OiAwIDIycHggNzBweCByZ2JhKDAsMCwwLDAuNDUpOw0KICAgIH0NCiAgICAuYmFkZ2V7DQogICAgICBkaXNwbGF5OmlubGluZS1ibG9jazsNCiAgICAgIHBhZGRpbmc6IDRweCAxMnB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBmb250LXNpemU6IDAuNzhyZW07DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI0NSwxNTgsMTEsMC41NSk7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMCk7DQogICAgICBjb2xvcjogI2ZiYmYyNDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgfQ0KICAgIG1haW4gaDJ7IG1hcmdpbjogNnB4IDAgMDsgY29sb3I6I2UyZThmMDsgZm9udC1zaXplOiAxLjQ4cmVtOyB9DQoNCiAgICAuc2VjdGlvbnsgbWFyZ2luLXRvcDogMjJweDsgfQ0KICAgIC5zZWN0aW9uIGgzew0KICAgICAgZm9udC1zaXplOiAxLjA4cmVtOw0KICAgICAgY29sb3I6I2E1YjRmYzsNCiAgICAgIG1hcmdpbjogMCAwIDEwcHg7DQogICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkICM4YjVjZjY7DQogICAgICBwYWRkaW5nLWxlZnQ6IDEycHg7DQogICAgfQ0KICAgIHAsIGxpeyBjb2xvcjojZTJlOGYwOyBmb250LXNpemU6IDAuOTZyZW07IGxpbmUtaGVpZ2h0OjEuNjU7IH0NCiAgICB1bHsgcGFkZGluZy1sZWZ0OiAyMHB4OyBtYXJnaW46IDEwcHggMCAwOyB9DQoNCiAgICAudmlkZW8tY29udGFpbmVyew0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC40MCk7DQogICAgICBiYWNrZ3JvdW5kOiAjMGYxNzJhOw0KICAgICAgYXNwZWN0LXJhdGlvOiAxNi85Ow0KICAgICAgbWFyZ2luOiAxMnB4IDA7DQogICAgfQ0KICAgIGlmcmFtZXsgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IGJvcmRlcjowOyB9DQoNCiAgICAuYW5pbS1jb250YWluZXJ7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFlMjkzYiAwJSwgIzBmMTcyYSAxMDAlKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTM5LDkyLDI0NiwwLjQ1KTsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBtYXJnaW46IDEycHggMDsNCiAgICB9DQogICAgLmFuaW0tdG9vbGJhcnsNCiAgICAgIGRpc3BsYXk6ZmxleDsNCiAgICAgIGZsZXgtd3JhcDp3cmFwOw0KICAgICAgZ2FwOjEwcHg7DQogICAgICBhbGlnbi1pdGVtczpjZW50ZXI7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgICBjb2xvcjojYzRiNWZkOw0KICAgICAgZm9udC1zaXplOiAwLjg4cmVtOw0KICAgIH0NCiAgICAuYnRuc3sgZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBmbGV4LXdyYXA6d3JhcDsgYWxpZ24taXRlbXM6Y2VudGVyOyB9DQogICAgYnV0dG9uew0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxMzksOTIsMjQ2LDAuMTYpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMzksOTIsMjQ2LDAuNTUpOw0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBwYWRkaW5nOiA2cHggMTRweDsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIGZvbnQtc2l6ZTogMC44MnJlbTsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMThzOw0KICAgIH0NCiAgICBidXR0b246aG92ZXJ7IGJhY2tncm91bmQ6IHJnYmEoMTM5LDkyLDI0NiwwLjI4KTsgfQ0KICAgIGJ1dHRvbjpkaXNhYmxlZHsgb3BhY2l0eTowLjU7IGN1cnNvcjpub3QtYWxsb3dlZDsgfQ0KDQogICAgLnNsaWRlcnsNCiAgICAgIGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBnYXA6OHB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjYpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwwLjI1KTsNCiAgICAgIHBhZGRpbmc6IDZweCAxMHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBjb2xvcjojY2JkNWUxOw0KICAgICAgZm9udC1zaXplOiAwLjgycmVtOw0KICAgIH0NCiAgICBpbnB1dFt0eXBlPSJyYW5nZSJdeyB3aWR0aDogMTcwcHg7IH0NCg0KICAgIGNhbnZhc3sNCiAgICAgIHdpZHRoOjEwMCU7DQogICAgICBoZWlnaHQ6IDQwMHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMzAlIDIwJSwgcmdiYSgxMzksOTIsMjQ2LDAuMTApLCAjMGYxNzJhKTsNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogICAgfQ0KICAgIC5jYXB0aW9uew0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDM0LDE5Nyw5NCwwLjA4KTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzQsMTk3LDk0LDAuMjIpOw0KICAgICAgY29sb3I6I2QxZmFlNTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU1Ow0KICAgIH0NCg0KICAgIC5xdWl6ew0KICAgICAgbWFyZ2luLXRvcDogMThweDsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMCk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZjU5ZTBiOw0KICAgIH0NCiAgICAucXVpei1xdWVzdGlvbnsgZm9udC13ZWlnaHQ6IDc1MDsgbWFyZ2luLWJvdHRvbTogMTBweDsgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uew0KICAgICAgZGlzcGxheTpibG9jazsgd2lkdGg6MTAwJTsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwwLjM1KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC43NSk7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjE4czsNCiAgICAgIHRleHQtYWxpZ246bGVmdDsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b246aG92ZXJ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4xOCk7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjgwKTsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b24uY29ycmVjdHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjk1KTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMTcsMTE5LDYsMSk7DQogICAgICBjb2xvcjojMTExODI3Ow0KICAgICAgZm9udC13ZWlnaHQ6IDg1MDsNCiAgICB9DQogICAgLnF1aXotZXhwbGFpbnsNCiAgICAgIGRpc3BsYXk6bm9uZTsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMik7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgY29sb3I6I2ZkZTY4YTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICB9DQogICAgYXsgY29sb3I6IzYwYTVmYTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IH0NCiAgICBhOmhvdmVyeyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyB9DQogIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCjxoZWFkZXI+DQogIDxoMT5IdW1hbiBFeWUgJiBUaGUgQ29sb3VyZnVsIFdvcmxkIOKAkyBDbGFzcyAxMCAoQ2ggMTApPC9oMT4NCiAgPGRpdiBjbGFzcz0iY29udHJvbHMiPg0KICAgIDxpbnB1dCB0eXBlPSJzZWFyY2giIGlkPSJzZWFyY2hJbnB1dCIgcGxhY2Vob2xkZXI9IlNlYXJjaDogcmV0aW5hLCBwdXBpbCwgYWNjb21tb2RhdGlvbiwgbXlvcGlhLCBwcmlzbSwgZGlzcGVyc2lvbiwgcmFpbmJvdywgc2NhdHRlcmluZy4uLiIgLz4NCiAgICA8c3BhbiBjbGFzcz0icHJvZ3Jlc3MiPlByb2dyZXNzOiA8c3BhbiBpZD0icHJvZ0NvdW50Ij4wPC9zcGFuPi88c3BhbiBpZD0idG90YWxDb3VudCI+MDwvc3Bhbj4gdG9waWNzPC9zcGFuPg0KICA8L2Rpdj4NCjwvaGVhZGVyPg0KDQo8ZGl2IGNsYXNzPSJsYXlvdXQiPg0KICA8bmF2Pg0KICAgIDxoMj5DaGFwdGVyIDEwIFRvcGljczwvaDI+DQogICAgPGRpdiBpZD0idG9waWNMaXN0Ij48L2Rpdj4NCiAgPC9uYXY+DQoNCiAgPG1haW4+DQogICAgPGRpdiBpZD0idG9waWNDb250ZW50Ij48L2Rpdj4NCiAgPC9tYWluPg0KPC9kaXY+DQoNCjxzY3JpcHQ+DQovKiA9PT09PT09PT09PT09IFZJREVPIChTdW5saWtlIFN0dWR5KSA9PT09PT09PT09PT09ICovDQpjb25zdCBjaDEwVmlkZW8gPSB7DQogIHl0V2F0Y2g6ICJodHRwczovL3lvdXR1LmJlL1hBWHZ0Tldjb3A0IiwNCiAgZW1iZWQ6ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9YQVh2dE5XY29wNCINCn07DQoNCi8qID09PT09PT09PT09PT0gVE9QSUNTIChOQ0VSVC1hbGlnbmVkKSA9PT09PT09PT09PT09ICovDQpjb25zdCB0b3BpY3MgPSBbDQogIHsNCiAgICBpZDoiZXllLXN0cnVjdHVyZSIsDQogICAgdGl0bGU6Ikh1bWFuIGV5ZTogcGFydHMgKyBpbWFnZSBmb3JtYXRpb24iLA0KICAgIHR5cGU6Ikh1bWFuIEV5ZSIsDQogICAgdmlkZW9UaW1lOiJ+MDA6MzPigJMwNToxMCIsDQogICAgYW5pbWF0aW9uVHlwZToiZXllUGFydHMiLA0KICAgIGNvcmVOb3RlczoiSHVtYW4gZXllIHdvcmtzIGxpa2UgYSBjYW1lcmE6IGNvcm5lYSBkb2VzIG1vc3QgcmVmcmFjdGlvbiwgZXllIGxlbnMgZmluZS10dW5lcyBmb2N1cywgcmV0aW5hIGlzIGxpZ2h0LXNlbnNpdGl2ZSBzY3JlZW4sIG9wdGljIG5lcnZlIHNlbmRzIHNpZ25hbHMgdG8gYnJhaW4uIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIklyaXMgY29udHJvbHMgcHVwaWwgc2l6ZTsgcHVwaWwgY29udHJvbHMgYW1vdW50IG9mIGxpZ2h0IGVudGVyaW5nLiIsDQogICAgICAiUmV0aW5hIGZvcm1zIGEgcmVhbCwgaW52ZXJ0ZWQgaW1hZ2U7IGJyYWluIGludGVycHJldHMgc2lnbmFscy4iLA0KICAgICAgIkV5ZSBiYWxsIGlzIGFwcHJveGltYXRlbHkgc3BoZXJpY2FsIChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkxhYmVsIGRpYWdyYW06IGNvcm5lYSwgaXJpcywgcHVwaWwsIGxlbnMsIHJldGluYSwgb3B0aWMgbmVydmUuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJJbWFnZSBpcyBmb3JtZWQgb24gdGhlOiIsDQogICAgICBvcHRpb25zOlsiQ29ybmVhIiwiSXJpcyIsIlB1cGlsIiwiUmV0aW5hIl0sDQogICAgICBjb3JyZWN0OjMsDQogICAgICBleHBsYWluOiJUaGUgZXllIGxlbnMgc3lzdGVtIGZvcm1zIGltYWdlIG9uIHRoZSByZXRpbmEuIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiJhY2NvbW1vZGF0aW9uIiwNCiAgICB0aXRsZToiUG93ZXIgb2YgYWNjb21tb2RhdGlvbiArIG5lYXIvZmFyIHBvaW50IiwNCiAgICB0eXBlOiJIdW1hbiBFeWUiLA0KICAgIHZpZGVvVGltZToifjA1OjEw4oCTMDg6MzAiLA0KICAgIGFuaW1hdGlvblR5cGU6ImFjY29tbW9kYXRpb24iLA0KICAgIGNvcmVOb3RlczoiQWNjb21tb2RhdGlvbiBpcyB0aGUgYWJpbGl0eSBvZiBleWUgbGVucyB0byBjaGFuZ2UgZm9jYWwgbGVuZ3RoIHVzaW5nIGNpbGlhcnkgbXVzY2xlcyB0byBmb2N1cyBuZWFyIGFuZCBkaXN0YW50IG9iamVjdHMuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIkZvciBkaXN0YW50IG9iamVjdHM6IGNpbGlhcnkgbXVzY2xlcyByZWxheCDihpIgbGVucyB0aGlubmVyIOKGkiBmb2NhbCBsZW5ndGggaW5jcmVhc2VzLiIsDQogICAgICAiRm9yIG5lYXIgb2JqZWN0czogY2lsaWFyeSBtdXNjbGVzIGNvbnRyYWN0IOKGkiBsZW5zIHRoaWNrZXIg4oaSIGZvY2FsIGxlbmd0aCBkZWNyZWFzZXMuIiwNCiAgICAgICJOZWFyIHBvaW50IChsZWFzdCBkaXN0YW5jZSBvZiBkaXN0aW5jdCB2aXNpb24pIOKJiCAyNSBjbTsgZmFyIHBvaW50IGZvciBub3JtYWwgZXllIGlzIGluZmluaXR5IChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IlZlcnkgY29tbW9uOiBkZWZpbmUgYWNjb21tb2RhdGlvbiArIG5lYXIgcG9pbnQgKDI1IGNtKSArIGZhciBwb2ludCAo4oieKS4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IkxlYXN0IGRpc3RhbmNlIG9mIGRpc3RpbmN0IHZpc2lvbiAobm9ybWFsIHlvdW5nIGFkdWx0KSBpcyBhYm91dDoiLA0KICAgICAgb3B0aW9uczpbIjIuNSBjbSIsIjI1IGNtIiwiMi41IG0iLCIyNSBtIl0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJOZWFyIHBvaW50IGlzIGFib3V0IDI1IGNtLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDoiZGVmZWN0cyIsDQogICAgdGl0bGU6IkRlZmVjdHMgb2YgdmlzaW9uOiBteW9waWEsIGh5cGVybWV0cm9waWEsIHByZXNieW9waWEsIGNhdGFyYWN0IiwNCiAgICB0eXBlOiJEZWZlY3RzIiwNCiAgICB2aWRlb1RpbWU6In4wODozMOKAkzE2OjQwIiwNCiAgICBhbmltYXRpb25UeXBlOiJkZWZlY3RzVmlzaW9uIiwNCiAgICBjb3JlTm90ZXM6IlJlZnJhY3RpdmUgZGVmZWN0cyBvY2N1ciB3aGVuIGV5ZSBjYW5ub3QgZm9jdXMgaW1hZ2Ugb24gcmV0aW5hOyBjb3JyZWN0ZWQgdXNpbmcgc3VpdGFibGUgbGVuc2VzLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJNeW9waWE6IGRpc3RhbnQgaW1hZ2UgZm9ybXMgaW4gZnJvbnQgb2YgcmV0aW5hOyBjb3JyZWN0ZWQgYnkgY29uY2F2ZSBsZW5zLiIsDQogICAgICAiSHlwZXJtZXRyb3BpYTogbmVhciBpbWFnZSBmb3JtcyBiZWhpbmQgcmV0aW5hOyBjb3JyZWN0ZWQgYnkgY29udmV4IGxlbnMuIiwNCiAgICAgICJQcmVzYnlvcGlhOiByZWR1Y2VkIGFjY29tbW9kYXRpb24gd2l0aCBhZ2U7IG9mdGVuIG5lZWRzIGJpZm9jYWwgbGVuc2VzOyBjYXRhcmFjdCBpcyBjbG91ZHkgbGVucyAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJEcmF3IHJheSBkaWFncmFtczogZGVmZWN0aXZlICsgY29ycmVjdGVkIChteW9waWEvaHlwZXJtZXRyb3BpYSkuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJNeW9waWEgaXMgY29ycmVjdGVkIHVzaW5nOiIsDQogICAgICBvcHRpb25zOlsiQ29udmV4IGxlbnMiLCJDb25jYXZlIGxlbnMiLCJQcmlzbSIsIlBsYW5lIG1pcnJvciJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiQ29uY2F2ZSBsZW5zIGRpdmVyZ2VzIHJheXMgc28gaW1hZ2Ugc2hpZnRzIG9udG8gcmV0aW5hLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDoicHJpc20tcmVmcmFjdGlvbiIsDQogICAgdGl0bGU6IlJlZnJhY3Rpb24gdGhyb3VnaCBwcmlzbSArIGFuZ2xlIG9mIGRldmlhdGlvbiIsDQogICAgdHlwZToiUHJpc20iLA0KICAgIHZpZGVvVGltZToifjE2OjQw4oCTMTk6MzAiLA0KICAgIGFuaW1hdGlvblR5cGU6InByaXNtRGV2aWF0aW9uIiwNCiAgICBjb3JlTm90ZXM6IkluIGEgcHJpc20sIGVtZXJnZW50IHJheSBpcyBkZXZpYXRlZCBiZWNhdXNlIHRoZSB0d28gcmVmcmFjdGluZyBzdXJmYWNlcyBhcmUgbm90IHBhcmFsbGVsOyBhbmdsZSBiZXR3ZWVuIGluY2lkZW50IGRpcmVjdGlvbiBhbmQgZW1lcmdlbnQgcmF5IGlzIGFuZ2xlIG9mIGRldmlhdGlvbiAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIkF0IGZpcnN0IHN1cmZhY2UgKGFpcuKGkmdsYXNzKTogcmF5IGJlbmRzIHRvd2FyZHMgbm9ybWFsLiIsDQogICAgICAiQXQgc2Vjb25kIHN1cmZhY2UgKGdsYXNz4oaSYWlyKTogcmF5IGJlbmRzIGF3YXkgZnJvbSBub3JtYWwuIiwNCiAgICAgICJSZXN1bHQ6IGVtZXJnZW50IHJheSBkZXZpYXRlcyBmcm9tIG9yaWdpbmFsIGRpcmVjdGlvbi4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkxhYmVsIGksIHIsIGUgYW5kIGRldmlhdGlvbiBEIGluIGRpYWdyYW0uIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJBbmdsZSBiZXR3ZWVuIGluY2lkZW50IGRpcmVjdGlvbiBhbmQgZW1lcmdlbnQgcmF5IGluIHByaXNtIGlzIGNhbGxlZDoiLA0KICAgICAgb3B0aW9uczpbIkFuZ2xlIG9mIHJlZmxlY3Rpb24iLCJBbmdsZSBvZiBkZXZpYXRpb24iLCJDcml0aWNhbCBhbmdsZSIsIkFuZ2xlIG9mIGRpc3BlcnNpb24iXSwNCiAgICAgIGNvcnJlY3Q6MSwNCiAgICAgIGV4cGxhaW46Ikl0IGlzIHRoZSBhbmdsZSBvZiBkZXZpYXRpb24uIg0KICAgIH0NCiAgfSwNCiAgew0KICAgIGlkOiJkaXNwZXJzaW9uIiwNCiAgICB0aXRsZToiRGlzcGVyc2lvbjogVklCR1lPUiBzcGVjdHJ1bSArIE5ld3RvbiByZWNvbWJpbmF0aW9uIiwNCiAgICB0eXBlOiJQcmlzbSIsDQogICAgdmlkZW9UaW1lOiJ+MTk6MzDigJMyMzo0MCIsDQogICAgYW5pbWF0aW9uVHlwZToiZGlzcGVyc2lvblJlY29tYmluZSIsDQogICAgY29yZU5vdGVzOiJEaXNwZXJzaW9uIGlzIHNwbGl0dGluZyBvZiB3aGl0ZSBsaWdodCBpbnRvIGl0cyBjb21wb25lbnQgY29sb3VycyBieSBhIHByaXNtOyByZWQgZGV2aWF0ZXMgbGVhc3QgYW5kIHZpb2xldCBtb3N0IChjb25jZXB0KS4iLA0KICAgIHBvaW50czpbDQogICAgICAiU3BlY3RydW06IFZJQkdZT1IuIiwNCiAgICAgICJTZWNvbmQgaW52ZXJ0ZWQgcHJpc20gY2FuIHJlY29tYmluZSBzcGVjdHJ1bSBpbnRvIHdoaXRlIGxpZ2h0IChjb25jZXB0KS4iLA0KICAgICAgIlJhaW5ib3cgaXMgbmF0dXJhbCBzcGVjdHJ1bSBkdWUgdG8gd2F0ZXIgZHJvcGxldHMgYWN0aW5nIGxpa2UgcHJpc21zIChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IldyaXRlIGRlZmluaXRpb24gb2YgZGlzcGVyc2lvbiArIHdoaWNoIGNvbG91ciBkZXZpYXRlcyBtb3N0L2xlYXN0LiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiV2hpY2ggY29sb3VyIGRldmlhdGVzIG1vc3QgaW4gcHJpc20/IiwNCiAgICAgIG9wdGlvbnM6WyJSZWQiLCJHcmVlbiIsIlZpb2xldCIsIlllbGxvdyJdLA0KICAgICAgY29ycmVjdDoyLA0KICAgICAgZXhwbGFpbjoiVmlvbGV0IGJlbmRzIHRoZSBtb3N0OyByZWQgYmVuZHMgdGhlIGxlYXN0LiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDoicmFpbmJvdyIsDQogICAgdGl0bGU6IlJhaW5ib3cgZm9ybWF0aW9uIChyZWZyYWN0aW9uICsgZGlzcGVyc2lvbiArIGludGVybmFsIHJlZmxlY3Rpb24pIiwNCiAgICB0eXBlOiJOYXR1cmFsIHBoZW5vbWVuYSIsDQogICAgdmlkZW9UaW1lOiJ+MjM6NDDigJMyNTozMCIsDQogICAgYW5pbWF0aW9uVHlwZToicmFpbmJvd0Ryb3AiLA0KICAgIGNvcmVOb3RlczoiUmFpbmJvdyBmb3JtcyB3aGVuIHN1bmxpZ2h0IGVudGVycyByYWluZHJvcCwgZ2V0cyBkaXNwZXJzZWQsIHJlZmxlY3RzIGludGVybmFsbHksIGFuZCByZWZyYWN0cyBvdXQ7IHJhaW5ib3cgaXMgc2VlbiBvcHBvc2l0ZSB0byB0aGUgU3VuIChjb25jZXB0KS4iLA0KICAgIHBvaW50czpbDQogICAgICAiV2F0ZXIgZHJvcGxldHMgYWN0IGxpa2UgdGlueSBwcmlzbXMuIiwNCiAgICAgICJTdGVwczogcmVmcmFjdGlvbiArIGRpc3BlcnNpb24g4oaSIGludGVybmFsIHJlZmxlY3Rpb24g4oaSIHJlZnJhY3Rpb24gb3V0LiIsDQogICAgICAiT2JzZXJ2ZXIgc2VlcyBzZXBhcmF0ZWQgY29sb3Vycy4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkRyYXcgcmFpbmRyb3AgcmF5IHBhdGggZm9yIHJhaW5ib3cgKG9uZSBjb2xvdXIgcGF0aCBpcyBlbm91Z2gpLiIsDQogICAgcXVpejp7DQogICAgICBxdWVzdGlvbjoiUmFpbmJvdyBpcyBzZWVuIGluIGRpcmVjdGlvbjoiLA0KICAgICAgb3B0aW9uczpbIlRvd2FyZHMgdGhlIFN1biIsIk9wcG9zaXRlIHRoZSBTdW4iLCJBbHdheXMgb3ZlcmhlYWQiLCJPbmx5IGF0IG5pZ2h0Il0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJSYWluYm93IGFwcGVhcnMgb3Bwb3NpdGUgdG8gdGhlIFN1bi4iDQogICAgfQ0KICB9LA0KICB7DQogICAgaWQ6ImF0bW9zcGhlcmljLXJlZnJhY3Rpb24iLA0KICAgIHRpdGxlOiJBdG1vc3BoZXJpYyByZWZyYWN0aW9uOiB0d2lua2xpbmcgKyBhZHZhbmNlIHN1bnJpc2UvZGVsYXllZCBzdW5zZXQiLA0KICAgIHR5cGU6Ik5hdHVyYWwgcGhlbm9tZW5hIiwNCiAgICB2aWRlb1RpbWU6In4yNTozMOKAkzI4OjQwIiwNCiAgICBhbmltYXRpb25UeXBlOiJhdG1vc1JlZnJhY3Rpb24iLA0KICAgIGNvcmVOb3RlczoiQXRtb3NwaGVyZSBoYXMgbGF5ZXJzIHdpdGggY2hhbmdpbmcgcmVmcmFjdGl2ZSBpbmRleDsgcmVmcmFjdGlvbiBjaGFuZ2VzIGFwcGFyZW50IHBvc2l0aW9uIG9mIHN0YXJzL1N1biAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIlR3aW5rbGluZzogc3RhciBpcyBwb2ludCBzb3VyY2U7IGZsdWN0dWF0aW5nIHJlZnJhY3Rpb24gbWFrZXMgYnJpZ2h0bmVzcyB2YXJ5LiIsDQogICAgICAiUGxhbmV0cyBkb27igJl0IHR3aW5rbGUgbXVjaCBiZWNhdXNlIHRoZXkgYXJlIGV4dGVuZGVkIHNvdXJjZXMgKGNvbmNlcHQpLiIsDQogICAgICAiU3VuIHZpc2libGUgYWJvdXQgfjIgbWludXRlcyBlYXJseSBhbmQgfjIgbWludXRlcyBsYXRlIGR1ZSB0byBhdG1vc3BoZXJpYyByZWZyYWN0aW9uIChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IkV4cGxhaW4g4oCcd2h5IHBsYW5ldHMgZG8gbm90IHR3aW5rbGXigJ0gaW4gMuKAkzMgbGluZXMuIiwNCiAgICBxdWl6OnsNCiAgICAgIHF1ZXN0aW9uOiJTdGFycyB0d2lua2xlIG1haW5seSBiZWNhdXNlOiIsDQogICAgICBvcHRpb25zOlsiU3RhcnMgbW92ZSByYW5kb21seSIsIkF0bW9zcGhlcmljIHJlZnJhY3Rpb24gY2hhbmdlcyBjb250aW51b3VzbHkiLCJTdGFycyBoYXZlIG1pcnJvcnMiLCJNb29uIHJlZmxlY3RzIGxpZ2h0Il0sDQogICAgICBjb3JyZWN0OjEsDQogICAgICBleHBsYWluOiJBdG1vc3BoZXJpYyBjb25kaXRpb25zIGNoYW5nZTsgYXBwYXJlbnQgcG9zaXRpb24vYnJpZ2h0bmVzcyBmbHVjdHVhdGVzLiINCiAgICB9DQogIH0sDQogIHsNCiAgICBpZDoic2NhdHRlcmluZyIsDQogICAgdGl0bGU6IlNjYXR0ZXJpbmc6IFR5bmRhbGwgZWZmZWN0LCBibHVlIHNreSwgcmVkIFN1biBhdCBzdW5yaXNlL3N1bnNldCIsDQogICAgdHlwZToiU2NhdHRlcmluZyIsDQogICAgdmlkZW9UaW1lOiJ+Mjg6NDDigJNlbmQiLA0KICAgIGFuaW1hdGlvblR5cGU6InNjYXR0ZXJpbmdXb3JsZCIsDQogICAgY29yZU5vdGVzOiJTY2F0dGVyaW5nIGJ5IHNtYWxsIHBhcnRpY2xlcyBtYWtlcyBiZWFtIHBhdGggdmlzaWJsZSAoVHluZGFsbCBlZmZlY3QpIGFuZCBleHBsYWlucyBibHVlIHNreTsgbG9uZ2VyIHBhdGggYXQgc3VucmlzZS9zdW5zZXQgcmVtb3ZlcyBtb3JlIGJsdWUgc28gU3VuIGxvb2tzIHJlZCAoY29uY2VwdCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIlZlcnkgZmluZSBwYXJ0aWNsZXMgc2NhdHRlciBzaG9ydGVyIHdhdmVsZW5ndGhzIChibHVlKSBtb3JlIHN0cm9uZ2x5LiIsDQogICAgICAiUmVkIGlzIGxlYXN0IHNjYXR0ZXJlZCwgc28gdXNlZCBmb3IgZGFuZ2VyIHNpZ25hbHMgKGNvbmNlcHQpLiIsDQogICAgICAiU2t5IGFwcGVhcnMgZGFyayBhdCB2ZXJ5IGhpZ2ggYWx0aXR1ZGUgZHVlIHRvIGxlc3Mgc2NhdHRlcmluZyAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiIzLW1hcms6IGV4cGxhaW4gYmx1ZSBza3kgKyByZWQgU3VuIGF0IHN1bnJpc2Uvc3Vuc2V0ICsgcmVkIHNpZ25hbCBsaWdodC4iLA0KICAgIHF1aXo6ew0KICAgICAgcXVlc3Rpb246IlNreSBhcHBlYXJzIGJsdWUgbWFpbmx5IGJlY2F1c2U6IiwNCiAgICAgIG9wdGlvbnM6WyJCbHVlIGxpZ2h0IGlzIGVtaXR0ZWQgYnkgYWlyIiwiU2hvcnRlciB3YXZlbGVuZ3RocyBhcmUgc2NhdHRlcmVkIG1vcmUiLCJSZWQgbGlnaHQgaXMgc2NhdHRlcmVkIG1vcmUiLCJTdW4gaXMgYmx1ZSJdLA0KICAgICAgY29ycmVjdDoxLA0KICAgICAgZXhwbGFpbjoiU21hbGwgcGFydGljbGVzIHNjYXR0ZXIgc2hvcnRlciB3YXZlbGVuZ3RocyAoYmx1ZSkgbW9yZSBzdHJvbmdseS4iDQogICAgfQ0KICB9DQpdOw0KDQovKiA9PT09PT09PT09PT09IFVJID09PT09PT09PT09PT0gKi8NCmNvbnN0IHRvcGljTGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljTGlzdCIpOw0KY29uc3QgdG9waWNDb250ZW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9waWNDb250ZW50Iik7DQpjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpOw0KY29uc3QgcHJvZ0NvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ0NvdW50Iik7DQpjb25zdCB0b3RhbENvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG90YWxDb3VudCIpOw0KdG90YWxDb3VudEVsLnRleHRDb250ZW50ID0gdG9waWNzLmxlbmd0aDsNCg0KbGV0IGN1cnJlbnRUb3BpY0lkID0gdG9waWNzWzBdLmlkOw0KbGV0IGNvbXBsZXRlZFRvcGljcyA9IG5ldyBTZXQoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY2gxMC1jb21wbGV0ZWQiKSB8fCAiW10iKSk7DQoNCmZ1bmN0aW9uIHJlbmRlck5hdihmaWx0ZXI9IiIpew0KICB0b3BpY0xpc3RFbC5pbm5lckhUTUwgPSAiIjsNCiAgY29uc3QgcSA9IGZpbHRlci50cmltKCkudG9Mb3dlckNhc2UoKTsNCiAgY29uc3QgZmlsdGVyZWQgPSB0b3BpY3MuZmlsdGVyKHQgPT4NCiAgICB0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LnR5cGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSB8fA0KICAgIHQuY29yZU5vdGVzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LnBvaW50cy5qb2luKCIgIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKQ0KICApOw0KDQogIGZpbHRlcmVkLmZvckVhY2goKHQsIGlkeCkgPT4gew0KICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICBpdGVtLmNsYXNzTmFtZSA9ICJ0b3BpYy1saW5rIiArICh0LmlkID09PSBjdXJyZW50VG9waWNJZCA/ICIgYWN0aXZlIiA6ICIiKTsNCiAgICBpdGVtLmlubmVySFRNTCA9IGAke2lkeCsxfS4gJHt0LnRpdGxlfTxzcGFuIGNsYXNzPSJ0YWciPiR7dC50eXBlfTwvc3Bhbj5gOw0KICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBzZWxlY3RUb3BpYyh0LmlkKSk7DQogICAgdG9waWNMaXN0RWwuYXBwZW5kQ2hpbGQoaXRlbSk7DQogIH0pOw0KDQogIHByb2dDb3VudEVsLnRleHRDb250ZW50ID0gY29tcGxldGVkVG9waWNzLnNpemU7DQp9DQoNCmZ1bmN0aW9uIHNlbGVjdFRvcGljKGlkKXsNCiAgY29uc3QgdG9waWMgPSB0b3BpY3MuZmluZCh4ID0+IHguaWQgPT09IGlkKTsNCiAgaWYoIXRvcGljKSByZXR1cm47DQogIGN1cnJlbnRUb3BpY0lkID0gaWQ7DQogIGNvbXBsZXRlZFRvcGljcy5hZGQoaWQpOw0KICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2gxMC1jb21wbGV0ZWQiLCBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGNvbXBsZXRlZFRvcGljcykpKTsNCiAgcmVuZGVyVG9waWModG9waWMpOw0KICByZW5kZXJOYXYoc2VhcmNoSW5wdXQudmFsdWUpOw0KfQ0KDQpmdW5jdGlvbiByZW5kZXJUb3BpYyh0b3BpYyl7DQogIHRvcGljQ29udGVudEVsLmlubmVySFRNTCA9IGANCiAgICA8ZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0iYmFkZ2UiPiR7dG9waWMudHlwZX08L2Rpdj4NCiAgICAgIDxoMj4ke3RvcGljLnRpdGxlfTwvaDI+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+TliBOb3RlczwvaDM+DQogICAgICAgIDxwPiR7dG9waWMuY29yZU5vdGVzfTwvcD4NCiAgICAgICAgPHVsPiR7dG9waWMucG9pbnRzLm1hcChwPT5gPGxpPiR7cH08L2xpPmApLmpvaW4oIiIpfTwvdWw+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0idmlkZW8tY29udGFpbmVyIj4NCiAgICAgICAgICA8aWZyYW1lDQogICAgICAgICAgICBzcmM9IiR7Y2gxMFZpZGVvLmVtYmVkfSINCiAgICAgICAgICAgIGFsbG93PSJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmUiDQogICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW4NCiAgICAgICAgICA+PC9pZnJhbWU+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjojOTNjNWZkO2ZvbnQtc2l6ZTowLjlyZW07Ij4NCiAgICAgICAgICBTdW5saWtlIFN0dWR5IHZpZGVvOiA8YSBocmVmPSIke2NoMTBWaWRlby55dFdhdGNofSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiPiR7dG9waWMudmlkZW9UaW1lfTwvYT4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz7wn46sIEFjY3VyYXRlIEFuaW1hdGlvbjwvaDM+DQogICAgICAgIDxkaXYgY2xhc3M9ImFuaW0tY29udGFpbmVyIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJhbmltLXRvb2xiYXIiPg0KICAgICAgICAgICAgPGRpdj5BbmltYXRpb246IDxzdHJvbmc+JHt0b3BpYy5hbmltYXRpb25UeXBlfTwvc3Ryb25nPjwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRucyI+DQogICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuUGxheSIgb25jbGljaz0idG9nZ2xlUGxheSgpIj5QYXVzZTwvYnV0dG9uPg0KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0icmVwbGF5KCkiPlJlcGxheTwvYnV0dG9uPg0KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blN0ZXAiIG9uY2xpY2s9Im5leHRTdGVwKCkiPk5leHQgc3RlcDwvYnV0dG9uPg0KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXIiIGlkPSJzcGVlZFdyYXAiPg0KICAgICAgICAgICAgICAgIFNwZWVkDQogICAgICAgICAgICAgICAgPGlucHV0IGlkPSJzcGVlZCIgdHlwZT0icmFuZ2UiIG1pbj0iMC4yIiBtYXg9IjIuNSIgc3RlcD0iMC4xIiB2YWx1ZT0iMS4wIiAvPg0KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzcGVlZFZhbCI+MS4ww5c8L3NwYW4+DQogICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICA8ZGl2IGlkPSJwYXJhbVJvdyIgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTBweDtmbGV4LXdyYXA6d3JhcDttYXJnaW4tYm90dG9tOjEwcHg7Ij48L2Rpdj4NCg0KICAgICAgICAgIDxjYW52YXMgaWQ9ImFuaW1DYW52YXMiPjwvY2FudmFzPg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcHRpb24iIGlkPSJhbmltQ2FwdGlvbiI+PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPg0KICAgICAgICA8aDM+8J+SoSBFeGFtIEhpbnQ8L2gzPg0KICAgICAgICA8cD4ke3RvcGljLm5jZXJ0SGludH08L3A+DQogICAgICA8L2Rpdj4NCg0KICAgICAgJHt0b3BpYy5xdWl6ID8gYA0KICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6Ij4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6LXF1ZXN0aW9uIj4ke3RvcGljLnF1aXoucXVlc3Rpb259PC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0icXVpei1vcHRpb25zIj4NCiAgICAgICAgICAgICR7dG9waWMucXVpei5vcHRpb25zLm1hcCgob3B0LGkpPT5gPGJ1dHRvbiBvbmNsaWNrPSJjaGVja1F1aXooJHtpfSwke3RvcGljLnF1aXouY29ycmVjdH0pIj4ke29wdH08L2J1dHRvbj5gKS5qb2luKCIiKX0NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6LWV4cGxhaW4iIGlkPSJxdWl6RXhwbGFpbiI+JHt0b3BpYy5xdWl6LmV4cGxhaW59PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgYCA6ICIifQ0KICAgIDwvZGl2Pg0KICBgOw0KDQogIHNldHVwQW5pbWF0aW9uKHRvcGljLmFuaW1hdGlvblR5cGUpOw0KfQ0KDQp3aW5kb3cuY2hlY2tRdWl6ID0gZnVuY3Rpb24oc2VsZWN0ZWQsIGNvcnJlY3Qpew0KICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1aXotb3B0aW9ucyBidXR0b24iKTsNCiAgYnV0dG9ucy5mb3JFYWNoKChiLGkpPT57DQogICAgYi5kaXNhYmxlZCA9IHRydWU7DQogICAgaWYoaSA9PT0gY29ycmVjdCkgYi5jbGFzc0xpc3QuYWRkKCJjb3JyZWN0Iik7DQogIH0pOw0KICBjb25zdCBleCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6RXhwbGFpbiIpOw0KICBpZihleCkgZXguc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQp9Ow0KDQpzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGUgPT4gcmVuZGVyTmF2KGUudGFyZ2V0LnZhbHVlKSk7DQoNCi8qID09PT09PT09PT09PT0gQ0FOVkFTIEVOR0lORSA9PT09PT09PT09PT09ICovDQpsZXQgYW5pbUNhbnZhcz1udWxsLCBjdHg9bnVsbCwgcmFmPW51bGwsIHQwPTA7DQpsZXQgcGxheWluZz10cnVlOw0KbGV0IHNwZWVkPTEuMDsNCg0KY29uc3Qgc3RhdGUgPSB7IGFuaW06ImV5ZVBhcnRzIiwgc3RlcDowLCBzdGVwczoxLCBwYXJhbXM6e30gfTsNCg0KZnVuY3Rpb24gZml0Q2FudmFzKGNhbnZhcywgY3R4KXsNCiAgY29uc3QgZHByID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7DQogIGNvbnN0IHIgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Ioci53aWR0aCAqIGRwcik7DQogIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHIuaGVpZ2h0ICogZHByKTsNCiAgY3R4LnNldFRyYW5zZm9ybShkcHIsMCwwLGRwciwwLDApOw0KICByZXR1cm4geyB3OnIud2lkdGgsIGg6ci5oZWlnaHQgfTsNCn0NCmZ1bmN0aW9uIHJlcGxheSgpeyBzdGF0ZS5zdGVwID0gMDsgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsgfQ0KZnVuY3Rpb24gdG9nZ2xlUGxheSgpew0KICBwbGF5aW5nID0gIXBsYXlpbmc7DQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5QbGF5IikudGV4dENvbnRlbnQgPSBwbGF5aW5nID8gIlBhdXNlIiA6ICJQbGF5IjsNCn0NCmZ1bmN0aW9uIG5leHRTdGVwKCl7IGlmKHN0YXRlLnN0ZXBzID4gMSkgc3RhdGUuc3RlcCA9IE1hdGgubWluKHN0YXRlLnN0ZXBzLTEsIHN0YXRlLnN0ZXAgKyAxKTsgfQ0KZnVuY3Rpb24gc2V0U3RlcEJ1dHRvbigpew0KICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuU3RlcCIpOw0KICBpZihidG4pIGJ0bi5kaXNhYmxlZCA9ICEoc3RhdGUuc3RlcHMgPiAxKTsNCn0NCmZ1bmN0aW9uIHNldENhcHRpb24odHh0KXsNCiAgY29uc3QgY2FwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuaW1DYXB0aW9uIik7DQogIGlmKGNhcCkgY2FwLnRleHRDb250ZW50ID0gdHh0Ow0KfQ0KZnVuY3Rpb24gY2xhbXAodixhLGIpeyByZXR1cm4gTWF0aC5tYXgoYSxNYXRoLm1pbihiLHYpKTsgfQ0KZnVuY3Rpb24gcmFkKGRlZyl7IHJldHVybiBkZWcqTWF0aC5QSS8xODA7IH0NCmZ1bmN0aW9uIGRlZyhyKXsgcmV0dXJuIHIqMTgwL01hdGguUEk7IH0NCg0KLyogZHJhd2luZyBoZWxwZXJzICovDQpmdW5jdGlvbiBiZyhjLHcsaCl7DQogIGNvbnN0IGcgPSBjLmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwwLGgpOw0KICBnLmFkZENvbG9yU3RvcCgwLCIjMGIxMjIzIik7DQogIGcuYWRkQ29sb3JTdG9wKDEsIiMwNTA4MTYiKTsNCiAgYy5maWxsU3R5bGU9ZzsNCiAgYy5maWxsUmVjdCgwLDAsdyxoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wOCkiOw0KICBjLmZpbGxSZWN0KDAsaCowLjc4LHcsaCowLjIyKTsNCn0NCmZ1bmN0aW9uIHJyKGMseCx5LHcsaCxyKXsNCiAgYy5iZWdpblBhdGgoKTsNCiAgYy5tb3ZlVG8oeCtyLHkpOw0KICBjLmFyY1RvKHgrdyx5LHgrdyx5K2gscik7DQogIGMuYXJjVG8oeCt3LHkraCx4LHkraCxyKTsNCiAgYy5hcmNUbyh4LHkraCx4LHkscik7DQogIGMuYXJjVG8oeCx5LHgrdyx5LHIpOw0KICBjLmNsb3NlUGF0aCgpOw0KfQ0KZnVuY3Rpb24gcGFuZWwoYyx4LHksdyxoLHRpdGxlKXsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0OCwxNjMsMTg0LDAuMDYpIjsNCiAgcnIoYyx4LHksdyxoLDE2KTsgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4xOCkiOw0KICBjLmxpbmVXaWR0aD0xLjU7IGMuc3Ryb2tlKCk7DQogIGMuZmlsbFN0eWxlPSJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIjsNCiAgYy5mb250PSJib2xkIDEycHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCh0aXRsZSwgeCsxMiwgeSsxOCk7DQogIGMucmVzdG9yZSgpOw0KfQ0KZnVuY3Rpb24gbGluZShjLHgxLHkxLHgyLHkyLHcsc3Ryb2tlLCBkYXNoPW51bGwpew0KICBjLnNhdmUoKTsNCiAgYy5zdHJva2VTdHlsZT1zdHJva2U7DQogIGMubGluZVdpZHRoPXc7IGMubGluZUNhcD0icm91bmQiOw0KICBpZihkYXNoKSBjLnNldExpbmVEYXNoKGRhc2gpOw0KICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyh4MSx5MSk7IGMubGluZVRvKHgyLHkyKTsgYy5zdHJva2UoKTsNCiAgYy5zZXRMaW5lRGFzaChbXSk7DQogIGMucmVzdG9yZSgpOw0KfQ0KZnVuY3Rpb24gYXJyb3coYyx4MSx5MSx4Mix5Mixjb2xvcj0icmdiYSgyMjYsMjMyLDI0MCwwLjMwKSIpew0KICBsaW5lKGMseDEseTEseDIseTIsMi41LGNvbG9yKTsNCiAgY29uc3QgYW5nPU1hdGguYXRhbjIoeTIteTEseDIteDEpOw0KICBjb25zdCBMPTEwOw0KICBsaW5lKGMseDIseTIseDItTWF0aC5jb3MoYW5nLTAuNSkqTCx5Mi1NYXRoLnNpbihhbmctMC41KSpMLDIuNSxjb2xvcik7DQogIGxpbmUoYyx4Mix5Mix4Mi1NYXRoLmNvcyhhbmcrMC41KSpMLHkyLU1hdGguc2luKGFuZyswLjUpKkwsMi41LGNvbG9yKTsNCn0NCmZ1bmN0aW9uIGRvdChjLHgseSxyLGZpbGwsc3Ryb2tlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIixsdz0yKXsNCiAgYy5zYXZlKCk7DQogIGMuYmVnaW5QYXRoKCk7IGMuZmlsbFN0eWxlPWZpbGw7DQogIGMuYXJjKHgseSxyLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogIGMuc3Ryb2tlU3R5bGU9c3Ryb2tlOyBjLmxpbmVXaWR0aD1sdzsgYy5zdHJva2UoKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiB0ZXh0KGMseCx5LHQsY29sb3I9InJnYmEoMjI2LDIzMiwyNDAsMC45MikiLGJvbGQ9dHJ1ZSl7DQogIGMuc2F2ZSgpOw0KICBjLmZpbGxTdHlsZT1jb2xvcjsNCiAgYy5mb250PShib2xkPyJib2xkICI6IiIpICsgIjEycHggc3lzdGVtLXVpIjsNCiAgYy5maWxsVGV4dCh0LHgseSk7DQogIGMucmVzdG9yZSgpOw0KfQ0KDQovKiA9PT09PT09PT09PT09IFBBUkFNIFVJID09PT09PT09PT09PT0gKi8NCmZ1bmN0aW9uIHNldFBhcmFtc1VJKGl0ZW1zKXsNCiAgY29uc3Qgcm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhcmFtUm93Iik7DQogIGlmKCFyb3cpIHJldHVybjsNCiAgcm93LmlubmVySFRNTCA9ICIiOw0KICBpdGVtcy5mb3JFYWNoKGl0PT57DQogICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgIHdyYXAuY2xhc3NOYW1lID0gInNsaWRlciI7DQogICAgd3JhcC5pbm5lckhUTUwgPSBgJHtpdC5sYWJlbH0NCiAgICAgIDxpbnB1dCB0eXBlPSJyYW5nZSIgbWluPSIke2l0Lm1pbn0iIG1heD0iJHtpdC5tYXh9IiBzdGVwPSIke2l0LnN0ZXB9IiB2YWx1ZT0iJHtpdC52YWx1ZX0iIGlkPSIke2l0LmlkfSI+DQogICAgICA8c3BhbiBpZD0iJHtpdC5pZH1WYWwiPiR7aXQuZm10KGl0LnZhbHVlKX08L3NwYW4+YDsNCiAgICByb3cuYXBwZW5kQ2hpbGQod3JhcCk7DQogICAgY29uc3QgaW5wID0gd3JhcC5xdWVyeVNlbGVjdG9yKCJpbnB1dCIpOw0KICAgIGNvbnN0IHZhbCA9IHdyYXAucXVlcnlTZWxlY3Rvcigic3BhbiIpOw0KICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGU9PnsNCiAgICAgIGNvbnN0IHYgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKTsNCiAgICAgIHN0YXRlLnBhcmFtc1tpdC5rZXldID0gdjsNCiAgICAgIHZhbC50ZXh0Q29udGVudCA9IGl0LmZtdCh2KTsNCiAgICB9KTsNCiAgfSk7DQp9DQoNCi8qID09PT09PT09PT09PT0gU0NFTkVTID09PT09PT09PT09PT0gKi8NCmNvbnN0IHNjZW5lcyA9IHt9Ow0KDQovKiBFeWUgcGFydHMgKi8NCnNjZW5lcy5leWVQYXJ0cyA9IHsNCiAgc3RlcHM6IDQsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7fTsgfSwNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogQ29ybmVhICsgcHVwaWwgZW50cnkgcGF0aCAobGlnaHQgZW50ZXJzKS4iLA0KICAgICAgIlN0ZXAgMjogSXJpcyBjb250cm9scyBwdXBpbCBzaXplIChsaWdodCBhbW91bnQpLiIsDQogICAgICAiU3RlcCAzOiBFeWUgbGVucyBmb2N1c2VzIHJlYWwsIGludmVydGVkIGltYWdlIG9uIHJldGluYSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDQ6IE9wdGljIG5lcnZlIHNlbmRzIHNpZ25hbHMgdG8gYnJhaW4gKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIHBhbmVsKGMsdyowLjA2LGgqMC4xNCx3KjAuODgsaCowLjcwLCJIdW1hbiBleWUgKGNyb3NzLXNlY3Rpb24gZGlhZ3JhbSDigJMgY29uY2VwdCBhY2N1cmF0ZSkiKTsNCiAgICBjb25zdCBjeD13KjAuNTIsIGN5PWgqMC41MjsNCg0KICAgIC8vIGV5ZWJhbGwgb3V0ZXINCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMDYpIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UoY3gsY3ksIHcqMC4yOCwgaCowLjIwLCAwLCAwLCBNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTgpIjsgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGNvcm5lYSBidWxnZQ0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjA4KSI7DQogICAgYy5iZWdpblBhdGgoKTsgYy5lbGxpcHNlKGN4LXcqMC4yOCwgY3ksIHcqMC4wNiwgaCowLjExLCAwLCAwLCBNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDE2NywyNDMsMjA4LDAuMzUpIjsgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICB0ZXh0KGMsY3gtdyowLjM2LCBjeS1oKjAuMTQsICJDb3JuZWEiLCAicmdiYSgxNjcsMjQzLDIwOCwwLjk1KSIsIHRydWUpOw0KDQogICAgLy8gaXJpcyByaW5nICsgcHVwaWwNCiAgICBjb25zdCBpcmlzWD1jeC13KjAuMTksIGlyaXNSPWgqMC4wNzsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg5NiwxNjUsMjUwLDAuMTApIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmFyYyhpcmlzWCxjeSxpcmlzUiwwLE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoOTYsMTY1LDI1MCwwLjM1KSI7IGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMTUsMjMsNDIsMC45NSkiOw0KICAgIGMuYmVnaW5QYXRoKCk7IGMuYXJjKGlyaXNYLGN5LGlyaXNSKjAuNDAsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsgLy8gcHVwaWwNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIGlmKHMuc3RlcD49MSl7DQogICAgICB0ZXh0KGMsaXJpc1gtMjIsIGN5LWlyaXNSLTE0LCAiSXJpcyIsICJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIiwgdHJ1ZSk7DQogICAgICB0ZXh0KGMsaXJpc1gtMjIsIGN5K2lyaXNSKzE4LCAiUHVwaWwiLCAicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsIHRydWUpOw0KICAgIH0NCg0KICAgIC8vIGV5ZSBsZW5zIChjb252ZXgpDQogICAgY29uc3QgbHg9Y3gtdyowLjA1LCBseT1jeTsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMTApIjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLmVsbGlwc2UobHgsbHksIHcqMC4wNSwgaCowLjEwLCAwLCAwLCBNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4zNSkiOyBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KICAgIGlmKHMuc3RlcD49MikgdGV4dChjLGx4LTIwLCBseS1oKjAuMTMsICJFeWUgbGVucyIsICJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIiwgdHJ1ZSk7DQoNCiAgICAvLyByZXRpbmEgYXQgYmFjaw0KICAgIGNvbnN0IHJ4PWN4K3cqMC4yNTsNCiAgICBsaW5lKGMscngsIGN5LWgqMC4xNiwgcngsIGN5K2gqMC4xNiwgMywgInJnYmEoMjUxLDExMywxMzMsMC40MCkiKTsNCiAgICBpZihzLnN0ZXA+PTIpIHRleHQoYyxyeC0xOCwgY3ktaCowLjE4LCAiUmV0aW5hIiwgInJnYmEoMjUxLDExMywxMzMsMC45NSkiLCB0cnVlKTsNCg0KICAgIC8vIG9wdGljIG5lcnZlDQogICAgaWYocy5zdGVwPj0zKXsNCiAgICAgIGxpbmUoYyxyeCxjeSwgcngrdyowLjE0LCBjeStoKjAuMDYsIDYsICJyZ2JhKDIyNiwyMzIsMjQwLDAuMTQpIik7DQogICAgICBsaW5lKGMscngsY3ksIHJ4K3cqMC4xNCwgY3kraCowLjA2LCAzLCAicmdiYSgyMjYsMjMyLDI0MCwwLjM1KSIpOw0KICAgICAgdGV4dChjLHJ4K3cqMC4xMCwgY3kraCowLjAyLCAiT3B0aWMgbmVydmUiLCAicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsIHRydWUpOw0KICAgIH0NCg0KICAgIC8vIFJheXM6IG9iamVjdCAtPiBjb3JuZWEgLT4gbGVucyAtPiByZXRpbmENCiAgICBjb25zdCBvYmpYPWN4LXcqMC40Niwgb2JqWT1jeS1oKjAuMTA7DQogICAgY29uc3QgcDE9e3g6Y3gtdyowLjI4LCB5OmN5fTsNCiAgICBjb25zdCBwMj17eDpseCwgeTpseX07DQogICAgY29uc3QgcDM9e3g6cngsIHk6Y3krKHMuc3RlcD49Mj8gaCowLjA0OiAwKX07DQogICAgYXJyb3coYyxvYmpYLG9ialkscDEueCxwMS55LCJyZ2JhKDU5LDEzMCwyNDYsMC43NSkiKTsNCiAgICBhcnJvdyhjLHAxLngscDEueSxwMi54LHAyLnksInJnYmEoNTksMTMwLDI0NiwwLjc1KSIpOw0KICAgIGFycm93KGMscDIueCxwMi55LHAzLngscDMueSwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgZG90KGMsb2JqWCxvYmpZLDQsInJnYmEoNTksMTMwLDI0NiwwLjkwKSIpOw0KICAgIHRleHQoYyxvYmpYLTIwLG9ialktMTAsIk9iamVjdCIsInJnYmEoMTQ3LDE5NywyNTMsMC45NSkiLHRydWUpOw0KDQogICAgaWYocy5zdGVwPj0yKXsNCiAgICAgIHRleHQoYyxjeC13KjAuMTAsIGN5K2gqMC4yMCwgIkltYWdlIG9uIHJldGluYTogcmVhbCAmIGludmVydGVkIChjb25jZXB0KS4iLCAicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsIHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogQWNjb21tb2RhdGlvbiAqLw0Kc2NlbmVzLmFjY29tbW9kYXRpb24gPSB7DQogIHN0ZXBzOiA0LA0KICBkZWZhdWx0cygpeyByZXR1cm4ge2Rpc3Q6MjAwLCBsaWdodDo2MH07IH0sIC8vIGRpc3QgaW4gY20tbGlrZSAoMjUuLjQwMCkNCiAgY2FwdGlvbihzdGVwLCB0KXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogRGlzdGFudCBvYmplY3Qg4oaSIGxlbnMgdGhpbm5lciDihpIgZm9jYWwgbGVuZ3RoIGluY3JlYXNlcyAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IE5lYXIgb2JqZWN0IOKGkiBsZW5zIHRoaWNrZXIg4oaSIGZvY2FsIGxlbmd0aCBkZWNyZWFzZXMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBOZWFyIHBvaW50IOKJiCAyNSBjbSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDQ6IEZhciBwb2ludCBmb3Igbm9ybWFsIGV5ZSA9IGluZmluaXR5IChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiQWNjb21tb2RhdGlvbiAoZm9jdXMgYWRqdXN0bWVudCkg4oCTIHNsaWRlciBjb250cm9scyIpOw0KICAgIGNvbnN0IGN4PXcqMC41MiwgY3k9aCowLjU0Ow0KICAgIC8vIGF4aXMNCiAgICBsaW5lKGMsdyowLjEwLCBjeSwgdyowLjkwLCBjeSwgMiwgInJnYmEoMTQ4LDE2MywxODQsMC4xOCkiKTsNCiAgICB0ZXh0KGMsdyowLjExLCBjeS0xMCwgIlByaW5jaXBhbCBheGlzIiwgInJnYmEoMTQ4LDE2MywxODQsMC43NSkiLCB0cnVlKTsNCg0KICAgIGNvbnN0IGRpc3QgPSBjbGFtcChzLnBhcmFtcy5kaXN0LCAyNSwgNDAwKTsNCiAgICBjb25zdCBpc05lYXIgPSBkaXN0IDw9IDYwOw0KDQogICAgLy8gZXllIHNpbXBsaWZpZWQNCiAgICBjb25zdCBpcmlzWD1jeC13KjAuMTksIGlyaXNSPWgqMC4wNjsNCiAgICBkb3QoYyxpcmlzWCxjeSwgaXJpc1IsICJyZ2JhKDk2LDE2NSwyNTAsMC4xMCkiLCJyZ2JhKDk2LDE2NSwyNTAsMC4zMCkiKTsNCiAgICBkb3QoYyxpcmlzWCxjeSwgaXJpc1IqMC4zNSwgInJnYmEoMTUsMjMsNDIsMC45NSkiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMTIpIik7DQogICAgY29uc3Qgcng9Y3grdyowLjI1Ow0KICAgIGxpbmUoYyxyeCwgY3ktaCowLjE0LCByeCwgY3kraCowLjE0LCAzLCAicmdiYSgyNTEsMTEzLDEzMywwLjQwKSIpOw0KICAgIHRleHQoYyxyeC0xOCwgY3ktaCowLjE2LCAiUmV0aW5hIiwgInJnYmEoMjUxLDExMywxMzMsMC45NSkiLCB0cnVlKTsNCg0KICAgIC8vIGxlbnMgdGhpY2tuZXNzIGJhc2VkIG9uIGRpc3RhbmNlDQogICAgY29uc3QgbGVuc1g9Y3gtdyowLjA1Ow0KICAgIGNvbnN0IGxlbnNXID0gaXNOZWFyID8gdyowLjA2MCA6IHcqMC4wNDA7DQogICAgY29uc3QgbGVuc0ggPSBoKjAuMTA1Ow0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4xMCkiOw0KICAgIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShsZW5zWCxjeSxsZW5zVyxsZW5zSCwwLDAsTWF0aC5QSSoyKTsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMzUpIjsgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICB0ZXh0KGMsbGVuc1gtMjYsIGN5LWxlbnNILTEwLCBpc05lYXIgPyAiTGVucyB0aGlja2VyIiA6ICJMZW5zIHRoaW5uZXIiLCAicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsIHRydWUpOw0KDQogICAgLy8gb2JqZWN0ICYgcmF5cw0KICAgIGNvbnN0IG9ialggPSBjeCAtIHcqMC4zNTsNCiAgICBjb25zdCBvYmpZID0gY3kgLSBoKjAuMTQ7DQogICAgY29uc3Qgb2JqQmFzZSA9IGN5Ow0KICAgIGxpbmUoYyxvYmpYLG9iakJhc2Usb2JqWCxvYmpZLDMsInJnYmEoNTksMTMwLDI0NiwwLjg1KSIpOw0KICAgIGFycm93KGMsb2JqWCxvYmpCYXNlLG9ialgsb2JqWSwicmdiYSg1OSwxMzAsMjQ2LDAuODUpIik7DQogICAgdGV4dChjLG9ialgtMjUsb2JqWS0xMCxgT2JqZWN0IEAgJHtNYXRoLnJvdW5kKGRpc3QpfSBjbWAsInJnYmEoMTQ3LDE5NywyNTMsMC45NSkiLHRydWUpOw0KDQogICAgLy8gZm9jdXMgYWRqdXN0IGNvbmNlcHQ6IGNob29zZSB3aGVyZSByYXlzIG1lZXQgb24gcmV0aW5hDQogICAgY29uc3QgcDE9e3g6aXJpc1gsIHk6Y3l9Ow0KICAgIGNvbnN0IHAyPXt4OmxlbnNYLCB5OmN5fTsNCiAgICBjb25zdCBpbWdZID0gaXNOZWFyID8gY3kraCowLjA0IDogY3ktaCowLjAyOw0KICAgIGNvbnN0IHAzPXt4OnJ4LCB5OmltZ1l9Ow0KDQogICAgYXJyb3coYyxvYmpYLG9ialkscDEueCxwMS55LCJyZ2JhKDU5LDEzMCwyNDYsMC43MCkiKTsNCiAgICBhcnJvdyhjLHAxLngscDEueSxwMi54LHAyLnksInJnYmEoNTksMTMwLDI0NiwwLjcwKSIpOw0KICAgIGFycm93KGMscDIueCxwMi55LHAzLngscDMueSwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgZG90KGMscDMueCxwMy55LDQsInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KDQogICAgaWYocy5zdGVwPj0yKXsNCiAgICAgIHRleHQoYyx3KjAuMTIsIGgqMC44OCwgIk5lYXIgcG9pbnQg4omIIDI1IGNtOyBjbG9zZXIgdGhhbiB0aGlzIOKGkiBibHVycmVkL3N0cmFpbiAoY29uY2VwdCkuIiwgInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLCB0cnVlKTsNCiAgICB9DQogICAgaWYocy5zdGVwPj0zKXsNCiAgICAgIHRleHQoYyx3KjAuMTIsIGgqMC45MiwgIkZhciBwb2ludCBmb3Igbm9ybWFsIGV5ZSBpcyBpbmZpbml0eSAoY29uY2VwdCkuIiwgInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLCB0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qIERlZmVjdHMgb2YgdmlzaW9uICovDQpzY2VuZXMuZGVmZWN0c1Zpc2lvbiA9IHsNCiAgc3RlcHM6IDUsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7bW9kZTowLCB1QWJzOjIwMH07IH0sIC8vIDAgbXlvcGlhLCAxIG15b3BpYSBjb3JyZWN0ZWQsIDIgaHlwZXIsIDMgaHlwZXIgY29ycmVjdGVkLCA0IHByZXNieW9waWEgKGJpZm9jYWwpDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IE15b3BpYTogZGlzdGFudCBpbWFnZSBmb3JtcyBiZWZvcmUgcmV0aW5hIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMjogTXlvcGlhIGNvcnJlY3Rpb246IGNvbmNhdmUgbGVucyBicmluZ3MgaW1hZ2Ugb250byByZXRpbmEgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBIeXBlcm1ldHJvcGlhOiBuZWFyIGltYWdlIGZvcm1zIGJlaGluZCByZXRpbmEgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBIeXBlcm1ldHJvcGlhIGNvcnJlY3Rpb246IGNvbnZleCBsZW5zIGJyaW5ncyBpbWFnZSBvbnRvIHJldGluYSAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDU6IFByZXNieW9waWE6IHJlZHVjZWQgYWNjb21tb2RhdGlvbjsgYmlmb2NhbCBsZW5zIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiRGVmZWN0cyBvZiB2aXNpb24gKHJheSBkaWFncmFtIHN0eWxlIOKAkyBjb25jZXB0IGFjY3VyYXRlKSIpOw0KICAgIGNvbnN0IGN4PXcqMC41NCwgY3k9aCowLjU0Ow0KICAgIGNvbnN0IHJ4PWN4K3cqMC4yMjsNCg0KICAgIC8vIHJldGluYQ0KICAgIGxpbmUoYyxyeCwgY3ktaCowLjE2LCByeCwgY3kraCowLjE2LCAzLCAicmdiYSgyNTEsMTEzLDEzMywwLjQ1KSIpOw0KICAgIHRleHQoYyxyeC0xOCwgY3ktaCowLjE4LCAiUmV0aW5hIiwgInJnYmEoMjUxLDExMywxMzMsMC45NSkiLCB0cnVlKTsNCg0KICAgIC8vIGV5ZSBsZW5zDQogICAgY29uc3QgbGVuc1g9Y3gtdyowLjAzOw0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4xMCkiOw0KICAgIGMuYmVnaW5QYXRoKCk7IGMuZWxsaXBzZShsZW5zWCxjeSx3KjAuMDQsaCowLjEwLDAsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4zNSkiOyBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KDQogICAgLy8gZXh0ZXJuYWwgY29ycmVjdGl2ZSBsZW5zIChpZiBhbnkpDQogICAgY29uc3QgbW9kZSA9IHMucGFyYW1zLm1vZGV8MDsNCiAgICBjb25zdCBzaG93Q29uY2F2ZSA9IChtb2RlPT09MSB8fCBtb2RlPT09NCk7IC8vIGZvciBteW9waWEgY29ycmVjdGlvbiwgYW5kIGJpZm9jYWwgdG9wDQogICAgY29uc3Qgc2hvd0NvbnZleCA9IChtb2RlPT09MyB8fCBtb2RlPT09NCk7ICAvLyBmb3IgaHlwZXIgY29ycmVjdGlvbiwgYW5kIGJpZm9jYWwgYm90dG9tDQoNCiAgICAvLyBzcGVjdGFjbGVzIGxlbnMgYXQgbGVmdA0KICAgIGNvbnN0IHNwZWNYID0gY3ggLSB3KjAuMjI7DQogICAgaWYobW9kZT09PTEgfHwgbW9kZT09PTMpew0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIjsNCiAgICAgIGMubGluZVdpZHRoPTI7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgLy8gc2ltcGxlIGxlbnMgZHJhd2luZzogY29uY2F2ZSB2cyBjb252ZXgNCiAgICAgIGlmKG1vZGU9PT0xKXsNCiAgICAgICAgLy8gY29uY2F2ZQ0KICAgICAgICBjLm1vdmVUbyhzcGVjWCwgY3ktaCowLjEyKTsNCiAgICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHNwZWNYK3cqMC4wMjAsIGN5LCBzcGVjWCwgY3kraCowLjEyKTsNCiAgICAgICAgYy5tb3ZlVG8oc3BlY1grdyowLjA0MCwgY3ktaCowLjEyKTsNCiAgICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHNwZWNYK3cqMC4wMjAsIGN5LCBzcGVjWCt3KjAuMDQwLCBjeStoKjAuMTIpOw0KICAgICAgICB0ZXh0KGMsc3BlY1gtMTAsIGN5LWgqMC4xNCwgIkNvbmNhdmUiLCAicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIsIHRydWUpOw0KICAgICAgfWVsc2V7DQogICAgICAgIC8vIGNvbnZleA0KICAgICAgICBjLm1vdmVUbyhzcGVjWCwgY3ktaCowLjEyKTsNCiAgICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHNwZWNYLXcqMC4wMjAsIGN5LCBzcGVjWCwgY3kraCowLjEyKTsNCiAgICAgICAgYy5tb3ZlVG8oc3BlY1grdyowLjA0MCwgY3ktaCowLjEyKTsNCiAgICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHNwZWNYK3cqMC4wNjAsIGN5LCBzcGVjWCt3KjAuMDQwLCBjeStoKjAuMTIpOw0KICAgICAgICB0ZXh0KGMsc3BlY1gtOCwgY3ktaCowLjE0LCAiQ29udmV4IiwgInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiLCB0cnVlKTsNCiAgICAgIH0NCiAgICAgIGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICB9DQoNCiAgICAvLyBvYmplY3QgcmF5cyAodGFrZSBwYXJhbGxlbCByYXlzIGFzIGRpc3RhbnQ7IGRpdmVyZ2luZyBhcyBuZWFyKQ0KICAgIGNvbnN0IGlzTXlvcGlhID0gKG1vZGU9PT0wIHx8IG1vZGU9PT0xKTsNCiAgICBjb25zdCBpc0h5cGVyID0gKG1vZGU9PT0yIHx8IG1vZGU9PT0zKTsNCiAgICBjb25zdCBpc1ByZXMgPSAobW9kZT09PTQpOw0KDQogICAgLy8gc2V0ICJlZmZlY3RpdmUgZm9jdXMgcG9pbnQiIHdoZXJlIGV5ZSB0cmllcyB0byBmb3JtIGltYWdlDQogICAgLy8gbXlvcGlhOiBiZWZvcmUgcmV0aW5hOyBoeXBlcjogYmVoaW5kIHJldGluYTsgY29ycmVjdGVkOiBvbiByZXRpbmENCiAgICBsZXQgZm9jdXNYID0gcng7DQogICAgaWYobW9kZT09PTApIGZvY3VzWCA9IHJ4IC0gdyowLjA2Ow0KICAgIGlmKG1vZGU9PT0yKSBmb2N1c1ggPSByeCArIHcqMC4wNzsNCiAgICBpZihtb2RlPT09MSB8fCBtb2RlPT09MykgZm9jdXNYID0gcng7DQoNCiAgICAvLyBkcmF3IHJheXMNCiAgICBjb25zdCByYXlZMSA9IGN5IC0gaCowLjA3Ow0KICAgIGNvbnN0IHJheVkyID0gY3kgKyBoKjAuMDc7DQoNCiAgICAvLyBpbmNvbWluZyByYXlzDQogICAgYXJyb3coYywgdyowLjEyLCByYXlZMSwgbGVuc1gtdyowLjA0LCByYXlZMSwgInJnYmEoNTksMTMwLDI0NiwwLjgwKSIpOw0KICAgIGFycm93KGMsIHcqMC4xMiwgcmF5WTIsIGxlbnNYLXcqMC4wNCwgcmF5WTIsICJyZ2JhKDU5LDEzMCwyNDYsMC44MCkiKTsNCg0KICAgIC8vIGFmdGVyIHNwZWN0YWNsZXMgKGlmIHByZXNlbnQsIHNsaWdodGx5IGRpdmVyZ2UvY29udmVyZ2UpDQogICAgY29uc3QgbWlkWCA9IHNwZWNYICsgdyowLjA1Ow0KICAgIGlmKG1vZGU9PT0xKXsgLy8gY29uY2F2ZSBkaXZlcmdlcyBhIGJpdCBiZWZvcmUgZW50ZXJpbmcgZXllDQogICAgICBsaW5lKGMsIG1pZFgsIHJheVkxLCBsZW5zWC13KjAuMDUsIHJheVkxLTE4LCAyLjUsICJyZ2JhKDU5LDEzMCwyNDYsMC41NSkiKTsNCiAgICAgIGxpbmUoYywgbWlkWCwgcmF5WTIsIGxlbnNYLXcqMC4wNSwgcmF5WTIrMTgsIDIuNSwgInJnYmEoNTksMTMwLDI0NiwwLjU1KSIpOw0KICAgIH1lbHNlIGlmKG1vZGU9PT0zKXsgLy8gY29udmV4IGNvbnZlcmdlcyBhIGJpdA0KICAgICAgbGluZShjLCBtaWRYLCByYXlZMSwgbGVuc1gtdyowLjA1LCByYXlZMSsxMCwgMi41LCAicmdiYSg1OSwxMzAsMjQ2LDAuNTUpIik7DQogICAgICBsaW5lKGMsIG1pZFgsIHJheVkyLCBsZW5zWC13KjAuMDUsIHJheVkyLTEwLCAyLjUsICJyZ2JhKDU5LDEzMCwyNDYsMC41NSkiKTsNCiAgICB9DQoNCiAgICAvLyByZWZyYWN0ZWQgcmF5cyBieSBleWUgbGVucyB0b3dhcmRzIGZvY3VzWA0KICAgIGFycm93KGMsbGVuc1gsIHJheVkxLCBmb2N1c1gsIGN5LCAicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgYXJyb3coYyxsZW5zWCwgcmF5WTIsIGZvY3VzWCwgY3ksICJyZ2JhKDI0NSwxNTgsMTEsMC44NSkiKTsNCiAgICBkb3QoYyxmb2N1c1gsY3ksNCwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQoNCiAgICAvLyBpZiBmb2N1cyBpcyBiZWhpbmQgcmV0aW5hLCBzaG93IGludGVyc2VjdGlvbiBiZWhpbmQgd2l0aCBkYXNoZWQgZXh0ZW5zaW9uDQogICAgaWYoZm9jdXNYID4gcngpew0KICAgICAgbGluZShjLGxlbnNYLCByYXlZMSwgcngsIGN5LCAyLCAicmdiYSgyNDUsMTU4LDExLDAuMzUpIiwgWzgsOF0pOw0KICAgICAgbGluZShjLGxlbnNYLCByYXlZMiwgcngsIGN5LCAyLCAicmdiYSgyNDUsMTU4LDExLDAuMzUpIiwgWzgsOF0pOw0KICAgICAgdGV4dChjLHcqMC4xMixoKjAuOTAsIklmIGltYWdlIHRlbmRzIHRvIGZvcm0gYmVoaW5kIHJldGluYSDihpIgbmVhciBvYmplY3RzIGJsdXIgKGh5cGVybWV0cm9waWEpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCiAgICBpZihmb2N1c1ggPCByeCl7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC45MCwiSWYgaW1hZ2UgZm9ybXMgYmVmb3JlIHJldGluYSDihpIgZGlzdGFudCBvYmplY3RzIGJsdXIgKG15b3BpYSkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKGZvY3VzWCA9PT0gcngpew0KICAgICAgdGV4dChjLHcqMC4xMixoKjAuOTAsIkNvcnJlY3RlZDogcmF5cyBmb2N1cyBvbiByZXRpbmEg4oaSIGNsZWFyIGltYWdlIChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBsYWJlbCB0b3ANCiAgICBjb25zdCBsYWJlbCA9IFsiTXlvcGlhIiwiTXlvcGlhIChjb3JyZWN0ZWQpIiwiSHlwZXJtZXRyb3BpYSIsIkh5cGVybWV0cm9waWEgKGNvcnJlY3RlZCkiLCJQcmVzYnlvcGlhIChiaWZvY2FsIGNvbmNlcHQpIl1bbW9kZV07DQogICAgdGV4dChjLHcqMC4xMixoKjAuMjAsbGFiZWwsInJnYmEoMTk2LDE4MSwyNTMsMC45NSkiLHRydWUpOw0KDQogICAgaWYoaXNQcmVzKXsNCiAgICAgIHRleHQoYyx3KjAuMTIsaCowLjk0LCJCaWZvY2FsIGlkZWE6IHVwcGVyIGZvciBkaXN0YW50IChvZnRlbiBjb25jYXZlIGlmIGFsc28gbXlvcGljKSwgbG93ZXIgZm9yIG5lYXIgKGNvbnZleCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiBQcmlzbSBkZXZpYXRpb24gKi8NCnNjZW5lcy5wcmlzbURldmlhdGlvbiA9IHsNCiAgc3RlcHM6IDQsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7aTo0NX07IH0sDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IEluY2lkZW50IHJheSBlbnRlcnMgcHJpc20gKGFpcuKGkmdsYXNzKS4iLA0KICAgICAgIlN0ZXAgMjogUmF5IGJlbmRzIHRvd2FyZHMgbm9ybWFsIGF0IGZpcnN0IGZhY2UgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBBdCBzZWNvbmQgZmFjZSAoZ2xhc3PihpJhaXIpIGJlbmRzIGF3YXkgZnJvbSBub3JtYWwgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBBbmdsZSBiZXR3ZWVuIGluY2lkZW50IGRpcmVjdGlvbiBhbmQgZW1lcmdlbnQgcmF5IGlzIGRldmlhdGlvbiBEIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiUHJpc20gcmVmcmFjdGlvbiArIGRldmlhdGlvbiAoZGlhZ3JhbSBzdHlsZSkiKTsNCiAgICBjb25zdCBjeD13KjAuNTYsIGN5PWgqMC41NTsNCg0KICAgIC8vIHByaXNtIHRyaWFuZ2xlDQogICAgY29uc3QgQT17eDpjeC13KjAuMTAseTpjeS1oKjAuMTZ9Ow0KICAgIGNvbnN0IEI9e3g6Y3gtdyowLjE2LHk6Y3kraCowLjE4fTsNCiAgICBjb25zdCBDPXt4OmN4K3cqMC4xOCx5OmN5K2gqMC4xMn07DQoNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMDYpIjsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIjsNCiAgICBjLmxpbmVXaWR0aD0yOw0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgYy5tb3ZlVG8oQS54LEEueSk7IGMubGluZVRvKEIueCxCLnkpOyBjLmxpbmVUbyhDLngsQy55KTsgYy5jbG9zZVBhdGgoKTsNCiAgICBjLmZpbGwoKTsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGluY2lkZW5jZSBwb2ludCBvbiBBQg0KICAgIGNvbnN0IEU9e3g6KEEueCtCLngpLzIgKyA4LCB5OihBLnkrQi55KS8yICsgOH07DQogICAgLy8gZXhpdCBwb2ludCBvbiBBQw0KICAgIGNvbnN0IEY9e3g6KEEueCtDLngpLzIgKyAxMCwgeTooQS55K0MueSkvMiArIDh9Ow0KDQogICAgLy8gbm9ybWFscyAoYXBwcm94KQ0KICAgIGxpbmUoYyxFLngtNjAsRS55KzIwLEUueCs2MCxFLnktMjAsMiwicmdiYSgzNCwxOTcsOTQsMC4yNSkiLFs4LDhdKTsNCiAgICBsaW5lKGMsRi54LTYwLEYueS0xMCxGLngrNjAsRi55KzEwLDIsInJnYmEoMzQsMTk3LDk0LDAuMjUpIixbOCw4XSk7DQoNCiAgICAvLyBpbmNpZGVudCByYXkgYW5nbGUgY29udHJvbCAocmVsYXRpdmUpDQogICAgY29uc3QgaT1yYWQoY2xhbXAocy5wYXJhbXMuaSw1LDgwKSk7DQogICAgY29uc3QgaW5jU3RhcnQ9e3g6dyowLjEyLCB5OmN5LWgqMC4wMn07DQogICAgYXJyb3coYyxpbmNTdGFydC54LGluY1N0YXJ0LnksRS54LEUueSwicmdiYSg1OSwxMzAsMjQ2LDAuODUpIik7DQoNCiAgICBpZihzLnN0ZXA+PTEpew0KICAgICAgLy8gcmVmcmFjdGVkIHJheSBpbnNpZGUgcHJpc20NCiAgICAgIGNvbnN0IGluc2lkZU1pZD17eDooRS54K0YueCkvMiwgeTooRS55K0YueSkvMiArIDI0fTsNCiAgICAgIGFycm93KGMsRS54LEUueSxpbnNpZGVNaWQueCxpbnNpZGVNaWQueSwicmdiYSgyNDUsMTU4LDExLDAuODUpIik7DQogICAgICBhcnJvdyhjLGluc2lkZU1pZC54LGluc2lkZU1pZC55LEYueCxGLnksInJnYmEoMjQ1LDE1OCwxMSwwLjg1KSIpOw0KICAgIH0NCiAgICBpZihzLnN0ZXA+PTIpew0KICAgICAgLy8gZW1lcmdlbnQgcmF5DQogICAgICBjb25zdCBvdXRFbmQ9e3g6dyowLjg4LCB5OmN5K2gqMC4xMH07DQogICAgICBhcnJvdyhjLEYueCxGLnksb3V0RW5kLngsb3V0RW5kLnksInJnYmEoNTksMTMwLDI0NiwwLjg1KSIpOw0KICAgIH0NCiAgICBpZihzLnN0ZXA+PTMpew0KICAgICAgLy8gc2hvdyBvcmlnaW5hbCBkaXJlY3Rpb24gZXh0ZW5zaW9uIGFuZCBkZXZpYXRpb24NCiAgICAgIGxpbmUoYyxFLngsRS55LHcqMC44OCxFLnksMiwicmdiYSgxNDgsMTYzLDE4NCwwLjI1KSIsWzEwLDEwXSk7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC44OCwiRGFzaGVkIGxpbmUgPSBzdHJhaWdodCAobm8gcHJpc20pIGRpcmVjdGlvbjsgYW5nbGUgYmV0d2VlbiB0aGF0IGFuZCBlbWVyZ2VudCA9IGRldmlhdGlvbiBEIChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qIERpc3BlcnNpb24gKyByZWNvbWJpbmF0aW9uICovDQpzY2VuZXMuZGlzcGVyc2lvblJlY29tYmluZSA9IHsNCiAgc3RlcHM6IDQsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7c3BsaXQ6MX07IH0sDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFdoaXRlIGxpZ2h0IGVudGVycyBwcmlzbS4iLA0KICAgICAgIlN0ZXAgMjogRGlzcGVyc2lvbiBpbnRvIFZJQkdZT1Igc3BlY3RydW0gKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBWaW9sZXQgZGV2aWF0ZXMgbW9zdCwgcmVkIGxlYXN0IChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogSW52ZXJ0ZWQgcHJpc20gcmVjb21iaW5lcyBzcGVjdHJ1bSBpbnRvIHdoaXRlIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiRGlzcGVyc2lvbiAoVklCR1lPUikgKyByZWNvbWJpbmF0aW9uIik7DQogICAgY29uc3QgY3k9aCowLjU2Ow0KDQogICAgLy8gcHJpc20gMQ0KICAgIGNvbnN0IHAxeD13KjAuNDI7DQogICAgY29uc3QgQT17eDpwMXgseTpjeS1oKjAuMTR9LEI9e3g6cDF4LXcqMC4wOCx5OmN5K2gqMC4xNH0sQz17eDpwMXgrdyowLjEyLHk6Y3kraCowLjEwfTsNCiAgICBjLnNhdmUoKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMDYpIjsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIjsgYy5saW5lV2lkdGg9MjsNCiAgICBjLmJlZ2luUGF0aCgpOyBjLm1vdmVUbyhBLngsQS55KTsgYy5saW5lVG8oQi54LEIueSk7IGMubGluZVRvKEMueCxDLnkpOyBjLmNsb3NlUGF0aCgpOyBjLmZpbGwoKTsgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCg0KICAgIC8vIGluY29taW5nIHdoaXRlIGJlYW0NCiAgICBsaW5lKGMsdyowLjEwLGN5LCBBLngtMTAsY3ksNCwicmdiYSgyMjYsMjMyLDI0MCwwLjU1KSIpOw0KICAgIHRleHQoYyx3KjAuMTAsY3ktMTIsIldoaXRlIGxpZ2h0IiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQoNCiAgICBpZihzLnN0ZXA+PTEpew0KICAgICAgLy8gc3BlY3RydW0NCiAgICAgIGNvbnN0IGNvbG9ycz1bDQogICAgICAgIHtuYW1lOiJWIiwgY29sOiIjOGI1Y2Y2In0sDQogICAgICAgIHtuYW1lOiJJIiwgY29sOiIjNjM2NmYxIn0sDQogICAgICAgIHtuYW1lOiJCIiwgY29sOiIjM2I4MmY2In0sDQogICAgICAgIHtuYW1lOiJHIiwgY29sOiIjMjJjNTVlIn0sDQogICAgICAgIHtuYW1lOiJZIiwgY29sOiIjZmFjYzE1In0sDQogICAgICAgIHtuYW1lOiJPIiwgY29sOiIjZmI5MjNjIn0sDQogICAgICAgIHtuYW1lOiJSIiwgY29sOiIjZWY0NDQ0In0sDQogICAgICBdOw0KICAgICAgY29uc3Qgc3RhcnRYPUMueCsxMDsNCiAgICAgIGNvbnN0IGJhc2VZPWN5Ow0KICAgICAgZm9yKGxldCBrPTA7azxjb2xvcnMubGVuZ3RoO2srKyl7DQogICAgICAgIGNvbnN0IGR5PShrLTMpKjEwOyAvLyBzcHJlYWQNCiAgICAgICAgbGluZShjLHN0YXJ0WCxiYXNlWSwgdyowLjY4LCBiYXNlWStkeSwgNCwgY29sb3JzW2tdLmNvbCk7DQogICAgICB9DQogICAgICB0ZXh0KGMsdyowLjYwLGN5LWgqMC4xOCwiVklCR1lPUiIsInJnYmEoMTk2LDE4MSwyNTMsMC45NSkiLHRydWUpOw0KICAgICAgaWYocy5zdGVwPj0yKXsNCiAgICAgICAgdGV4dChjLHcqMC41OCxjeStoKjAuMjAsIlZpb2xldCBkZXZpYXRlcyBtb3N0OyBSZWQgZGV2aWF0ZXMgbGVhc3QgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGlmKHMuc3RlcD49Myl7DQogICAgICAvLyBwcmlzbSAyIGludmVydGVkDQogICAgICBjb25zdCBwMng9dyowLjc0Ow0KICAgICAgY29uc3QgQTI9e3g6cDJ4LHk6Y3kraCowLjE0fSxCMj17eDpwMngtdyowLjA4LHk6Y3ktaCowLjE0fSxDMj17eDpwMngrdyowLjEyLHk6Y3ktaCowLjEwfTsNCiAgICAgIGMuc2F2ZSgpOw0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjA2KSI7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMjIpIjsgYy5saW5lV2lkdGg9MjsNCiAgICAgIGMuYmVnaW5QYXRoKCk7IGMubW92ZVRvKEEyLngsQTIueSk7IGMubGluZVRvKEIyLngsQjIueSk7IGMubGluZVRvKEMyLngsQzIueSk7IGMuY2xvc2VQYXRoKCk7IGMuZmlsbCgpOyBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQoNCiAgICAgIC8vIHJlY29tYmluZWQgYmVhbQ0KICAgICAgbGluZShjLHAyeCt3KjAuMTIsY3ksIHcqMC45MiwgY3ksIDUsICJyZ2JhKDIyNiwyMzIsMjQwLDAuNjUpIik7DQogICAgICB0ZXh0KGMsdyowLjg2LGN5LTEyLCJXaGl0ZSIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogUmFpbmJvdyBpbiByYWluZHJvcCAqLw0Kc2NlbmVzLnJhaW5ib3dEcm9wID0gew0KICBzdGVwczogNCwNCiAgZGVmYXVsdHMoKXsgcmV0dXJuIHt9OyB9LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBTdW5saWdodCBlbnRlcnMgcmFpbmRyb3AgYW5kIHJlZnJhY3RzLiIsDQogICAgICAiU3RlcCAyOiBEaXNwZXJzaW9uIGluc2lkZSBkcm9wLiIsDQogICAgICAiU3RlcCAzOiBJbnRlcm5hbCByZWZsZWN0aW9uLiIsDQogICAgICAiU3RlcCA0OiBMaWdodCByZWZyYWN0cyBvdXQ7IGNvbG91cnMgcmVhY2ggb2JzZXJ2ZXIgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIHBhbmVsKGMsdyowLjA2LGgqMC4xNCx3KjAuODgsaCowLjcwLCJSYWluYm93IGZvcm1hdGlvbiAocmFpbmRyb3AgYXMgcHJpc20g4oCTIGNvbmNlcHQpIik7DQogICAgY29uc3QgY3g9dyowLjU1LCBjeT1oKjAuNTU7DQogICAgLy8gZHJvcGxldA0KICAgIGMuc2F2ZSgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4xMCkiOw0KICAgIGMuYmVnaW5QYXRoKCk7IGMuYXJjKGN4LGN5LCBoKjAuMTMsIDAsIE1hdGguUEkqMik7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMTQ3LDE5NywyNTMsMC4zNSkiOyBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICAgIGMucmVzdG9yZSgpOw0KDQogICAgLy8gc3VuDQogICAgZG90KGMsdyowLjE2LGgqMC4yOCwxOCwicmdiYSgyNTAsMjA0LDIxLDAuMjgpIiwicmdiYSgyNTAsMjA0LDIxLDAuMjUpIik7DQogICAgdGV4dChjLHcqMC4xMyxoKjAuMjUsIlN1biIsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KDQogICAgLy8gaW5jaWRlbnQgcmF5DQogICAgYXJyb3coYyx3KjAuMjAsaCowLjMyLCBjeC1oKjAuMTMsIGN5LWgqMC4wMiwgInJnYmEoMjI2LDIzMiwyNDAsMC42NSkiKTsNCiAgICBpZihzLnN0ZXA+PTEpew0KICAgICAgYXJyb3coYyxjeC1oKjAuMTMsIGN5LWgqMC4wMiwgY3gsIGN5K2gqMC4wMywgInJnYmEoMjI2LDIzMiwyNDAsMC42NSkiKTsNCiAgICB9DQogICAgaWYocy5zdGVwPj0yKXsNCiAgICAgIC8vIHNwbGl0IGludG8gdHdvIHJlcHJlc2VudGF0aXZlIGNvbG91cnMNCiAgICAgIGFycm93KGMsY3gsIGN5K2gqMC4wMywgY3graCowLjA4LCBjeStoKjAuMDIsICIjZWY0NDQ0Iik7IC8vIHJlZA0KICAgICAgYXJyb3coYyxjeCwgY3kraCowLjAzLCBjeCtoKjAuMDYsIGN5K2gqMC4wNiwgIiM4YjVjZjYiKTsgLy8gdmlvbGV0DQogICAgICB0ZXh0KGMsY3gtMzAsY3kraCowLjE3LCJEaXNwZXJzaW9uIiwicmdiYSgxOTYsMTgxLDI1MywwLjk1KSIsdHJ1ZSk7DQogICAgfQ0KICAgIGlmKHMuc3RlcD49Myl7DQogICAgICAvLyBpbnRlcm5hbCByZWZsZWN0aW9uIGFyY3MNCiAgICAgIGNvbnN0IHBSPXt4OmN4K2gqMC4wOCx5OmN5K2gqMC4wMn07DQogICAgICBjb25zdCBwVj17eDpjeCtoKjAuMDYseTpjeStoKjAuMDZ9Ow0KICAgICAgYXJyb3coYyxwUi54LHBSLnksIGN4K2gqMC4wMiwgY3ktaCowLjA2LCAiI2VmNDQ0NCIpOw0KICAgICAgYXJyb3coYyxwVi54LHBWLnksIGN4K2gqMC4wMCwgY3ktaCowLjAyLCAiIzhiNWNmNiIpOw0KICAgICAgdGV4dChjLGN4K2gqMC4wOCxjeS1oKjAuMTEsIkludGVybmFsIHJlZmxlY3Rpb24iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQogICAgaWYocy5zdGVwPj0zKXsNCiAgICAgIC8vIG91dCByYXlzIHRvIG9ic2VydmVyIChvcHBvc2l0ZSBTdW4pDQogICAgICBhcnJvdyhjLGN4K2gqMC4wMiwgY3ktaCowLjA2LCB3KjAuODUsIGgqMC4zNSwgIiNlZjQ0NDQiKTsNCiAgICAgIGFycm93KGMsY3graCowLjAwLCBjeS1oKjAuMDIsIHcqMC44NSwgaCowLjQwLCAiIzhiNWNmNiIpOw0KICAgICAgZG90KGMsdyowLjg4LGgqMC4zOCw1LCJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIik7DQogICAgICB0ZXh0KGMsdyowLjg0LGgqMC4zMywiT2JzZXJ2ZXIiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICAgIHRleHQoYyx3KjAuMTIsaCowLjg4LCJSYWluYm93IGlzIHNlZW4gb3Bwb3NpdGUgdG8gdGhlIFN1biAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KICB9DQp9Ow0KDQovKiBBdG1vc3BoZXJpYyByZWZyYWN0aW9uICovDQpzY2VuZXMuYXRtb3NSZWZyYWN0aW9uID0gew0KICBzdGVwczogNCwNCiAgZGVmYXVsdHMoKXsgcmV0dXJuIHttb2RlOjB9OyB9LCAvLyAwIHR3aW5rbGUsIDEgcGxhbmV0cywgMiBzdW5yaXNlLCAzIHN1bnNldA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBTdGFybGlnaHQgYmVuZHMgaW4gYXRtb3NwaGVyZSDihpIgYXBwYXJlbnQgcG9zaXRpb24gc2hpZnRzICh0d2lua2xpbmcgY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IFBsYW5ldHMgYXJlIGV4dGVuZGVkIHNvdXJjZXMg4oaSIHR3aW5rbGluZyBhdmVyYWdlcyBvdXQgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBTdW4gYXBwZWFycyB+MiBtaW51dGVzIGVhcmx5IChhZHZhbmNlIHN1bnJpc2UgY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDQ6IFN1biBhcHBlYXJzIH4yIG1pbnV0ZXMgbGF0ZSAoZGVsYXllZCBzdW5zZXQgY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIkF0bW9zcGhlcmljIHJlZnJhY3Rpb24gKHR3aW5rbGluZyArIHN1bnJpc2Uvc3Vuc2V0KSIpOw0KICAgIGNvbnN0IGhvcml6b25ZPWgqMC42NjsNCiAgICBsaW5lKGMsdyowLjEwLGhvcml6b25ZLHcqMC45MCxob3Jpem9uWSwzLCJyZ2JhKDE0OCwxNjMsMTg0LDAuMjApIik7DQogICAgdGV4dChjLHcqMC4xMSxob3Jpem9uWS0xMCwiSG9yaXpvbiIsInJnYmEoMTQ4LDE2MywxODQsMC44NSkiLHRydWUpOw0KDQogICAgLy8gYXRtb3NwaGVyZSBsYXllcnMNCiAgICBmb3IobGV0IGs9MDtrPDY7aysrKXsNCiAgICAgIGNvbnN0IHk9aG9yaXpvblkgLSBrKjI4Ow0KICAgICAgbGluZShjLHcqMC4xMCx5LHcqMC45MCx5LDEsInJnYmEoMTQ4LDE2MywxODQsMC4wOCkiKTsNCiAgICB9DQogICAgdGV4dChjLHcqMC4xMSxoKjAuMjIsIkF0bW9zcGhlcmUgbGF5ZXJzIChyZWZyYWN0aXZlIGluZGV4IGNoYW5nZXMpIiwicmdiYSgxNDgsMTYzLDE4NCwwLjg1KSIsdHJ1ZSk7DQoNCiAgICBjb25zdCBzdGVwPXMuc3RlcDsNCiAgICBpZihzdGVwPD0xKXsNCiAgICAgIC8vIHN0YXIgLyBwbGFuZXQgaW4gc2t5DQogICAgICBjb25zdCBpc1BsYW5ldCA9IChzdGVwPT09MSk7DQogICAgICBjb25zdCBzcmNYPXcqMC43OCwgc3JjWT1oKjAuMjY7DQogICAgICBpZihpc1BsYW5ldCl7DQogICAgICAgIGRvdChjLHNyY1gsc3JjWSwxMCwicmdiYSgyNDUsMTU4LDExLDAuMTgpIiwicmdiYSgyNDUsMTU4LDExLDAuMjUpIik7DQogICAgICAgIHRleHQoYyxzcmNYLTIyLHNyY1ktMTYsIlBsYW5ldCIsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KICAgICAgfWVsc2V7DQogICAgICAgIGRvdChjLHNyY1gsc3JjWSw0LCJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIiwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIpOw0KICAgICAgICB0ZXh0KGMsc3JjWC0xOCxzcmNZLTE2LCJTdGFyIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgICB9DQoNCiAgICAgIC8vIGN1cnZlZCByYXkgcGF0aA0KICAgICAgY29uc3Qgb2JzWD13KjAuMjAsIG9ic1k9aG9yaXpvblkrMzA7DQogICAgICBkb3QoYyxvYnNYLG9ic1ksNSwicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIpOw0KICAgICAgdGV4dChjLG9ic1gtMTgsb2JzWSsxOCwiT2JzZXJ2ZXIiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCg0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC43MCkiOw0KICAgICAgYy5saW5lV2lkdGg9MzsNCiAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICBjLm1vdmVUbyhzcmNYLHNyY1kpOw0KICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHcqMC41NSxoKjAuNDIsIHcqMC4zNixoKjAuNTYpOw0KICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHcqMC4yOCxoKjAuNjIsIG9ic1gsb2JzWSk7DQogICAgICBjLnN0cm9rZSgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQoNCiAgICAgIC8vIGFwcGFyZW50IHBvc2l0aW9uIChzbGlnaHRseSBoaWdoZXIpDQogICAgICBjb25zdCBhcHBYPXNyY1gtNDAsIGFwcFk9c3JjWS0xODsNCiAgICAgIGxpbmUoYyxvYnNYLG9ic1ksIGFwcFgsYXBwWSwgMiwgInJnYmEoMTQ4LDE2MywxODQsMC4yNSkiLCBbMTAsMTBdKTsNCiAgICAgIGRvdChjLGFwcFgsYXBwWSw0LCJyZ2JhKDM0LDE5Nyw5NCwwLjc1KSIsInJnYmEoMzQsMTk3LDk0LDAuMTgpIik7DQogICAgICB0ZXh0KGMsYXBwWC0zMCxhcHBZLTEwLCJBcHBhcmVudCIsInJnYmEoMTY3LDI0MywyMDgsMC45NSkiLHRydWUpOw0KDQogICAgICBpZighaXNQbGFuZXQpew0KICAgICAgICAvLyB0d2lua2xpbmcgZmxpY2tlcg0KICAgICAgICBjb25zdCBmbGljaz0wLjQ1KzAuNTUqTWF0aC5zaW4odCo0LjApOw0KICAgICAgICBkb3QoYyxzcmNYLHNyY1ksNCxgcmdiYSgyMjYsMjMyLDI0MCwkezAuMzUrMC41NSpmbGlja30pYCwicmdiYSgyMjYsMjMyLDI0MCwwLjEyKSIpOw0KICAgICAgICB0ZXh0KGMsdyowLjEyLGgqMC44OCwiVHdpbmtsaW5nOiBicmlnaHRuZXNzL3Bvc2l0aW9uIGZsdWN0dWF0ZXMgZHVlIHRvIGNoYW5naW5nIGF0bW9zcGhlcmUgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGV4dChjLHcqMC4xMixoKjAuODgsIlBsYW5ldHM6IG1hbnkgcG9pbnQgc291cmNlcyDihpIgdmFyaWF0aW9ucyBhdmVyYWdlIG91dCAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIC8vIHN1bnJpc2Uvc3Vuc2V0IGRpYWdyYW0NCiAgICAgIGNvbnN0IGVhcnRoWD13KjAuMjUsIGVhcnRoWT1ob3Jpem9uWSs5MDsNCiAgICAgIGRvdChjLGVhcnRoWCxlYXJ0aFksNTQsInJnYmEoNTksMTMwLDI0NiwwLjEwKSIsInJnYmEoNTksMTMwLDI0NiwwLjIwKSIpOw0KICAgICAgdGV4dChjLGVhcnRoWC0xNixlYXJ0aFkrNCwiRWFydGgiLCJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIix0cnVlKTsNCg0KICAgICAgLy8gYWN0dWFsIHN1biBwb3NpdGlvbiBiZWxvdy9hdCBob3Jpem9uDQogICAgICBjb25zdCBzdW5YPXcqMC43ODsNCiAgICAgIGNvbnN0IHN1blkgPSAoc3RlcD09PTIpID8gaG9yaXpvblkrMzAgOiBob3Jpem9uWS0xMDsgLy8gYWN0dWFsIGJlbG93IGZvciBzdW5yaXNlLCBiZWxvdyBmb3Igc3Vuc2V0IHRvbyBidXQgaWxsdXN0cmF0aW9uDQogICAgICBkb3QoYyxzdW5YLHN1blksMTgsInJnYmEoMjUwLDIwNCwyMSwwLjIyKSIsInJnYmEoMjUwLDIwNCwyMSwwLjIyKSIpOw0KICAgICAgdGV4dChjLHN1blgtMTIsc3VuWS0yMiwiU3VuIiwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQoNCiAgICAgIC8vIHJlZnJhY3RlZCBwYXRoIGJlbmRpbmcgdG93YXJkIG5vcm1hbCAoY3VydmluZyBkb3duIHRvIG9ic2VydmVyKQ0KICAgICAgY29uc3Qgb2JzWD13KjAuMjIsIG9ic1k9aG9yaXpvblkrMjU7DQogICAgICBkb3QoYyxvYnNYLG9ic1ksNSwicmdiYSgyMjYsMjMyLDI0MCwwLjg1KSIpOw0KICAgICAgdGV4dChjLG9ic1gtMTgsb2JzWSsxOCwiT2JzZXJ2ZXIiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCg0KICAgICAgYy5zYXZlKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC43NSkiOw0KICAgICAgYy5saW5lV2lkdGg9MzsNCiAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICBjLm1vdmVUbyhzdW5YLHN1blkpOw0KICAgICAgYy5xdWFkcmF0aWNDdXJ2ZVRvKHcqMC41OCxob3Jpem9uWS00MCwgdyowLjQwLGhvcml6b25ZLTEwKTsNCiAgICAgIGMucXVhZHJhdGljQ3VydmVUbyh3KjAuMzAsaG9yaXpvblkrNiwgb2JzWCxvYnNZKTsNCiAgICAgIGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCg0KICAgICAgLy8gYXBwYXJlbnQgc3VuIGFib3ZlIGhvcml6b24NCiAgICAgIGNvbnN0IGFwcFk9aG9yaXpvblktMzA7DQogICAgICBkb3QoYyxzdW5YLTYwLGFwcFksMTAsInJnYmEoMzQsMTk3LDk0LDAuMTgpIiwicmdiYSgzNCwxOTcsOTQsMC4yMCkiKTsNCiAgICAgIHRleHQoYyxzdW5YLTk4LGFwcFktMTQsIkFwcGFyZW50IFN1biIsInJnYmEoMTY3LDI0MywyMDgsMC45NSkiLHRydWUpOw0KDQogICAgICBpZihzdGVwPT09Mil7DQogICAgICAgIHRleHQoYyx3KjAuMTIsaCowLjg4LCJBZHZhbmNlIHN1bnJpc2U6IFN1biBzZWVuIH4yIG1pbnV0ZXMgYmVmb3JlIGFjdHVhbCBzdW5yaXNlIChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICAgIH1lbHNlew0KICAgICAgICB0ZXh0KGMsdyowLjEyLGgqMC44OCwiRGVsYXllZCBzdW5zZXQ6IFN1biBzZWVuIH4yIG1pbnV0ZXMgYWZ0ZXIgYWN0dWFsIHN1bnNldCAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgICB9DQogICAgfQ0KICB9DQp9Ow0KDQovKiBTY2F0dGVyaW5nIHdvcmxkICovDQpzY2VuZXMuc2NhdHRlcmluZ1dvcmxkID0gew0KICBzdGVwczogNSwNCiAgZGVmYXVsdHMoKXsgcmV0dXJuIHttb2RlOjB9OyB9LCAvLyAwIHR5bmRhbGwsIDEgYmx1ZSBza3ksIDIgcmVkIHN1bnJpc2UsIDMgZGFuZ2VyIGxpZ2h0LCA0IGRhcmsgc2t5IGF0IGFsdGl0dWRlDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IFR5bmRhbGwgZWZmZWN0OiBiZWFtIHZpc2libGUgaW4gc21va2UvbWlzdCAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IEJsdWUgc2t5OiBzaG9ydGVyIHdhdmVsZW5ndGhzIHNjYXR0ZXJlZCBtb3JlIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogUmVkIFN1biBhdCBzdW5yaXNlL3N1bnNldDogbG9uZ2VyIHBhdGggcmVtb3ZlcyBtb3JlIGJsdWUgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiBSZWQgc2lnbmFsOiByZWQgc2NhdHRlcmVkIGxlYXN0LCBzZWVuIGZhcnRoZXIgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA1OiBIaWdoIGFsdGl0dWRlOiBsZXNzIHNjYXR0ZXJpbmcg4oaSIGRhcmtlciBza3kgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIHBhbmVsKGMsdyowLjA2LGgqMC4xNCx3KjAuODgsaCowLjcwLCJTY2F0dGVyaW5nIG9mIGxpZ2h0IChUeW5kYWxsICsgc2t5IGNvbG91ciArIHJlZCBzdW4pIik7DQogICAgY29uc3Qgc3RlcD1zLnN0ZXA7DQoNCiAgICBpZihzdGVwPT09MCl7DQogICAgICAvLyBiZWFtIGluIHNtb2t5IHJvb20NCiAgICAgIHJyKGMsdyowLjE0LGgqMC4yNix3KjAuNzIsaCowLjQ2LDE2KTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMDQpIjsgYy5maWxsKCk7DQogICAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTIpIjsgYy5zdHJva2UoKTsNCg0KICAgICAgLy8gc21va2UgcGFydGljbGVzDQogICAgICBmb3IobGV0IGk9MDtpPDE4MDtpKyspew0KICAgICAgICBjb25zdCB4PXcqMC4xNiArIE1hdGgucmFuZG9tKCkqdyowLjY4Ow0KICAgICAgICBjb25zdCB5PWgqMC4yOCArIE1hdGgucmFuZG9tKCkqaCowLjQyOw0KICAgICAgICBkb3QoYyx4LHksMS4yLCJyZ2JhKDE0OCwxNjMsMTg0LDAuMjUpIiwicmdiYSgwLDAsMCwwKSIsMCk7DQogICAgICB9DQogICAgICAvLyBiZWFtDQogICAgICBjLnNhdmUoKTsNCiAgICAgIGMuZ2xvYmFsQWxwaGE9MC45Ow0KICAgICAgYy5maWxsU3R5bGU9InJnYmEoMjUwLDIwNCwyMSwwLjIwKSI7DQogICAgICBjLmJlZ2luUGF0aCgpOw0KICAgICAgYy5tb3ZlVG8odyowLjE2LGgqMC40Mik7DQogICAgICBjLmxpbmVUbyh3KjAuNzAsaCowLjM0KTsNCiAgICAgIGMubGluZVRvKHcqMC43MCxoKjAuNTIpOw0KICAgICAgYy5jbG9zZVBhdGgoKTsNCiAgICAgIGMuZmlsbCgpOw0KICAgICAgYy5yZXN0b3JlKCk7DQogICAgICB0ZXh0KGMsdyowLjE2LGgqMC4yNCwiQmVhbSBwYXRoIHZpc2libGUgZHVlIHRvIHNjYXR0ZXJpbmcgKFR5bmRhbGwgZWZmZWN0IGNvbmNlcHQpLiIsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHN0ZXA9PT0xKXsNCiAgICAgIC8vIGJsdWUgc2t5DQogICAgICBkb3QoYyx3KjAuMTgsaCowLjI4LDIwLCJyZ2JhKDI1MCwyMDQsMjEsMC4yMikiLCJyZ2JhKDI1MCwyMDQsMjEsMC4yMCkiKTsNCiAgICAgIHRleHQoYyx3KjAuMTUsaCowLjI0LCJTdW4iLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCg0KICAgICAgLy8gYXRtb3NwaGVyZSByZWdpb24NCiAgICAgIHJyKGMsdyowLjE0LGgqMC4yOCx3KjAuNzIsaCowLjQwLDE2KTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4wNikiOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjE0KSI7IGMuc3Ryb2tlKCk7DQoNCiAgICAgIC8vIHNjYXR0ZXJpbmcgYXJyb3dzIChibHVlKQ0KICAgICAgZm9yKGxldCBrPTA7azwxMDtrKyspew0KICAgICAgICBhcnJvdyhjLHcqMC4zMCxoKjAuNDQsIHcqMC40NStNYXRoLnJhbmRvbSgpKncqMC4zNSwgaCowLjM2K01hdGgucmFuZG9tKCkqaCowLjMwLCAicmdiYSg1OSwxMzAsMjQ2LDAuNDUpIik7DQogICAgICB9DQogICAgICBhcnJvdyhjLHcqMC4xOCxoKjAuMjgsdyowLjMwLGgqMC40NCwicmdiYSgyMjYsMjMyLDI0MCwwLjQ1KSIpOw0KICAgICAgdGV4dChjLHcqMC4xNixoKjAuODgsIkZpbmUgcGFydGljbGVzIHNjYXR0ZXIgYmx1ZSAoc2hvcnRlciB3YXZlbGVuZ3RoKSBtb3JlIHN0cm9uZ2x5IChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQoNCiAgICBpZihzdGVwPT09Mil7DQogICAgICAvLyByZWQgc3VuIGF0IGhvcml6b24NCiAgICAgIGNvbnN0IGhvcml6b25ZPWgqMC42NTsNCiAgICAgIGxpbmUoYyx3KjAuMTIsaG9yaXpvblksdyowLjg4LGhvcml6b25ZLDMsInJnYmEoMTQ4LDE2MywxODQsMC4xOCkiKTsNCiAgICAgIGRvdChjLHcqMC4xOCxob3Jpem9uWS02LDE2LCJyZ2JhKDIzOSw2OCw2OCwwLjIyKSIsInJnYmEoMjM5LDY4LDY4LDAuMjUpIik7DQogICAgICB0ZXh0KGMsdyowLjEzLGhvcml6b25ZLTI2LCJTdW4gKHJlZCkiLCJyZ2JhKDI1MSwxMTMsMTMzLDAuOTUpIix0cnVlKTsNCg0KICAgICAgLy8gbG9uZyBwYXRoIHRocm91Z2ggYXRtb3NwaGVyZSB3aXRoIGJsdWUgc2NhdHRlcmVkIGF3YXkNCiAgICAgIGMuc2F2ZSgpOyBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzApIjsgYy5saW5lV2lkdGg9MzsNCiAgICAgIGMuYmVnaW5QYXRoKCk7DQogICAgICBjLm1vdmVUbyh3KjAuMTgsaG9yaXpvblktNik7DQogICAgICBjLnF1YWRyYXRpY0N1cnZlVG8odyowLjQ1LGgqMC40Nix3KjAuNzgsaCowLjQwKTsNCiAgICAgIGMuc3Ryb2tlKCk7DQogICAgICBjLnJlc3RvcmUoKTsNCiAgICAgIGZvcihsZXQgaz0wO2s8MTA7aysrKXsNCiAgICAgICAgYXJyb3coYyx3KjAuNDYsaCowLjUyLCB3KjAuNTIrTWF0aC5yYW5kb20oKSp3KjAuMzUsIGgqMC4zNCtNYXRoLnJhbmRvbSgpKmgqMC4zMCwgInJnYmEoNTksMTMwLDI0NiwwLjM1KSIpOw0KICAgICAgfQ0KICAgICAgYXJyb3coYyx3KjAuNjIsaCowLjQ0LHcqMC44NSxoKjAuNDYsInJnYmEoMjM5LDY4LDY4LDAuNTUpIik7DQogICAgICB0ZXh0KGMsdyowLjE2LGgqMC44OCwiQXQgc3VucmlzZS9zdW5zZXQsIGxpZ2h0IHRyYXZlbHMgbG9uZ2VyIHBhdGg7IGJsdWUgc2NhdHRlcmVkIG1vcmUsIHJlZCByZWFjaGVzIGV5ZSAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD09PTMpew0KICAgICAgLy8gZGFuZ2VyIGxpZ2h0DQogICAgICBycihjLHcqMC4xOCxoKjAuMzIsdyowLjY0LGgqMC4zNCwxNik7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgxNSwyMyw0MiwwLjU1KSI7IGMuZmlsbCgpOw0KICAgICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE0KSI7IGMuc3Ryb2tlKCk7DQogICAgICBkb3QoYyx3KjAuMjgsaCowLjQ5LDE0LCJyZ2JhKDIzOSw2OCw2OCwwLjIyKSIsInJnYmEoMjM5LDY4LDY4LDAuMjUpIik7DQogICAgICB0ZXh0KGMsdyowLjIyLGgqMC40MCwiUkVEIFNJR05BTCIsInJnYmEoMjUxLDExMywxMzMsMC45NSkiLHRydWUpOw0KICAgICAgYXJyb3coYyx3KjAuMzAsaCowLjQ5LHcqMC43OCxoKjAuNDksInJnYmEoMjM5LDY4LDY4LDAuNTUpIik7DQogICAgICBmb3IobGV0IGs9MDtrPDc7aysrKXsNCiAgICAgICAgYXJyb3coYyx3KjAuNDQsaCowLjQ5LCB3KjAuNTIrTWF0aC5yYW5kb20oKSp3KjAuMjAsIGgqMC4zNitNYXRoLnJhbmRvbSgpKmgqMC4yOCwgInJnYmEoNTksMTMwLDI0NiwwLjI1KSIpOw0KICAgICAgfQ0KICAgICAgdGV4dChjLHcqMC4xNixoKjAuODgsIlJlZCBpcyBsZWFzdCBzY2F0dGVyZWQgYnkgZm9nL3Ntb2tlLCBzbyB1c2VkIGZvciBkYW5nZXIgc2lnbmFscyAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYoc3RlcD09PTQpew0KICAgICAgLy8gaGlnaCBhbHRpdHVkZSAoZGFyayBza3kpDQogICAgICBycihjLHcqMC4xNCxoKjAuMjYsdyowLjcyLGgqMC40NiwxNik7DQogICAgICBjLmZpbGxTdHlsZT0icmdiYSgyLDYsMjMsMC41NSkiOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4wOCkiOyBjLnN0cm9rZSgpOw0KICAgICAgZm9yKGxldCBpPTA7aTw0MDtpKyspew0KICAgICAgICBkb3QoYyx3KjAuMTgrTWF0aC5yYW5kb20oKSp3KjAuNjQsIGgqMC4zMCtNYXRoLnJhbmRvbSgpKmgqMC4zOCwgMS41LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMzUpIiwicmdiYSgwLDAsMCwwKSIsMCk7DQogICAgICB9DQogICAgICB0ZXh0KGMsdyowLjE2LGgqMC44OCwiQXQgdmVyeSBoaWdoIGFsdGl0dWRlLCBzY2F0dGVyaW5nIGlzIGxlc3Mg4oaSIHNreSBsb29rcyBkYXJrZXIgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogPT09PT09PT09PT09PSBTRVRVUCBBTklNQVRJT04gPT09PT09PT09PT09PSAqLw0KZnVuY3Rpb24gc2V0dXBBbmltYXRpb24odHlwZSl7DQogIHN0YXRlLmFuaW0gPSB0eXBlOw0KICBzdGF0ZS5zdGVwID0gMDsNCg0KICBhbmltQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuaW1DYW52YXMiKTsNCiAgY3R4ID0gYW5pbUNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOw0KICBmaXRDYW52YXMoYW5pbUNhbnZhcywgY3R4KTsNCg0KICBjb25zdCBzcGVlZFNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVlZCIpOw0KICBjb25zdCBzcGVlZFZhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVlZFZhbCIpOw0KICBzcGVlZFNsaWRlci5vbmlucHV0ID0gKCkgPT4gew0KICAgIHNwZWVkID0gcGFyc2VGbG9hdChzcGVlZFNsaWRlci52YWx1ZSk7DQogICAgc3BlZWRWYWwudGV4dENvbnRlbnQgPSBzcGVlZC50b0ZpeGVkKDEpKyLDlyI7DQogIH07DQogIHNwZWVkID0gcGFyc2VGbG9hdChzcGVlZFNsaWRlci52YWx1ZSk7DQogIHNwZWVkVmFsLnRleHRDb250ZW50ID0gc3BlZWQudG9GaXhlZCgxKSsiw5ciOw0KDQogIGNvbnN0IHNjID0gc2NlbmVzW3N0YXRlLmFuaW1dIHx8IHNjZW5lcy5leWVQYXJ0czsNCiAgc3RhdGUuc3RlcHMgPSBzYy5zdGVwcyB8fCAxOw0KICBzdGF0ZS5wYXJhbXMgPSBzYy5kZWZhdWx0cyA/IHNjLmRlZmF1bHRzKCkgOiB7fTsNCiAgc2V0U3RlcEJ1dHRvbigpOw0KDQogIC8vIHBhcmFtcyBVSSBwZXIgYW5pbWF0aW9uDQogIGlmKHR5cGU9PT0iYWNjb21tb2RhdGlvbiIpew0KICAgIHNldFBhcmFtc1VJKFsNCiAgICAgIHtpZDoiZGlzdCIsIGtleToiZGlzdCIsIGxhYmVsOiJPYmplY3QgZGlzdGFuY2UiLCBtaW46MjUsIG1heDo0MDAsIHN0ZXA6MSwgdmFsdWU6c3RhdGUucGFyYW1zLmRpc3QsIGZtdDp2PT5gJHtNYXRoLnJvdW5kKHYpfSBjbWB9DQogICAgXSk7DQogIH0gZWxzZSBpZih0eXBlPT09ImRlZmVjdHNWaXNpb24iKXsNCiAgICBzZXRQYXJhbXNVSShbDQogICAgICB7aWQ6Im1vZGUiLCBrZXk6Im1vZGUiLCBsYWJlbDoiTW9kZSAoMC4uNCkiLCBtaW46MCwgbWF4OjQsIHN0ZXA6MSwgdmFsdWU6c3RhdGUucGFyYW1zLm1vZGUsIGZtdDp2PT57DQogICAgICAgIGNvbnN0IG09WyJNeW9waWEiLCJNeW9waWEgY29ycmVjdGVkIiwiSHlwZXJtZXRyb3BpYSIsIkh5cGVyIGNvcnJlY3RlZCIsIlByZXNieW9waWEiXTsNCiAgICAgICAgcmV0dXJuIG1bcGFyc2VJbnQodildID8/IHY7DQogICAgICB9fQ0KICAgIF0pOw0KICB9IGVsc2UgaWYodHlwZT09PSJwcmlzbURldmlhdGlvbiIpew0KICAgIHNldFBhcmFtc1VJKFsNCiAgICAgIHtpZDoiaSIsIGtleToiaSIsIGxhYmVsOiJJbmNpZGVuY2UgYW5nbGUiLCBtaW46NSwgbWF4OjgwLCBzdGVwOjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5pLCBmbXQ6dj0+YCR7TWF0aC5yb3VuZCh2KX3CsGB9DQogICAgXSk7DQogIH0gZWxzZSB7DQogICAgc2V0UGFyYW1zVUkoW10pOw0KICB9DQoNCiAgaWYocmFmKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpOw0KICB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICBjb25zdCBsb29wID0gKG5vdykgPT4gew0KICAgIGNvbnN0IGR0ID0gKChub3cgLSB0MCkgLyAxMDAwKSAqIHNwZWVkOw0KICAgIGNvbnN0IHt3LGh9ID0gZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQogICAgY29uc3Qgc2MgPSBzY2VuZXNbc3RhdGUuYW5pbV0gfHwgc2NlbmVzLmV5ZVBhcnRzOw0KICAgIHN0YXRlLnN0ZXBzID0gc2Muc3RlcHMgfHwgMTsNCiAgICBzZXRTdGVwQnV0dG9uKCk7DQoNCiAgICBzYy5kcmF3KGN0eCwgdywgaCwgZHQsIHN0YXRlLCBwbGF5aW5nKTsNCiAgICBpZihzYy5jYXB0aW9uKSBzZXRDYXB0aW9uKHNjLmNhcHRpb24oc3RhdGUuc3RlcCwgZHQpKTsNCiAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7DQogIH07DQogIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsNCn0NCg0Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsICgpID0+IHNldHVwQW5pbWF0aW9uKHN0YXRlLmFuaW0pKTsNCg0KLyogPT09PT09PT09PT09PSBJTklUID09PT09PT09PT09PT0gKi8NCmZ1bmN0aW9uIGluaXQoKXsNCiAgcmVuZGVyTmF2KCk7DQogIHNlbGVjdFRvcGljKHRvcGljc1swXS5pZCk7DQp9DQppbml0KCk7DQo8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCg=="}, {"id": "c11", "file": "c11.html", "title": "Class 10 Science Ch 11 \u2013 Electricity (Interactive)", "b64": "PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+DQogIDx0aXRsZT5DbGFzcyAxMCBTY2llbmNlIENoIDExIOKAkyBFbGVjdHJpY2l0eSAoSW50ZXJhY3RpdmUpPC90aXRsZT4NCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIiAvPg0KICA8c3R5bGU+DQogICAgKnsgYm94LXNpemluZzpib3JkZXItYm94OyB9DQogICAgYm9keXsNCiAgICAgIG1hcmdpbjowOw0KICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwtYXBwbGUtc3lzdGVtLFNlZ29lIFVJLFJvYm90byxBcmlhbCxzYW5zLXNlcmlmOw0KICAgICAgYmFja2dyb3VuZDoNCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KDEwMDBweCA2NDBweCBhdCAxNSUgOCUsIHJnYmEoMzQsMTk3LDk0LDAuMTYpLCB0cmFuc3BhcmVudCA1NSUpLA0KICAgICAgICByYWRpYWwtZ3JhZGllbnQoMTAwMHB4IDY0MHB4IGF0IDg1JSA4JSwgcmdiYSg1OSwxMzAsMjQ2LDAuMTgpLCB0cmFuc3BhcmVudCA1NSUpLA0KICAgICAgICByYWRpYWwtZ3JhZGllbnQoMTAwMHB4IDY0MHB4IGF0IDU1JSAxMDAlLCByZ2JhKDI0NSwxNTgsMTEsMC4xNCksIHRyYW5zcGFyZW50IDU1JSksDQogICAgICAgIGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwNTA4MTYgMCUsICMwZjE3MmEgNjAlLCAjMWUxYjRiIDEwMCUpOw0KICAgICAgY29sb3I6I2YxZjVmOTsNCiAgICAgIG1pbi1oZWlnaHQ6MTAwdmg7DQogICAgfQ0KICAgIGhlYWRlcnsNCiAgICAgIHBhZGRpbmc6IDE4cHggNXZ3Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSgxNSwyMyw0MiwwLjkyKTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMTApOw0KICAgICAgcG9zaXRpb246IHN0aWNreTsgdG9wOjA7IHotaW5kZXg6IDUwOw0KICAgIH0NCiAgICBoZWFkZXIgaDF7DQogICAgICBtYXJnaW46MCAwIDhweDsNCiAgICAgIGZvbnQtc2l6ZTogY2xhbXAoMS4yNXJlbSwgNHZ3LCAxLjlyZW0pOw0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzIyYzU1ZSwgIzNiODJmNiwgI2Y1OWUwYik7DQogICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDp0ZXh0Ow0KICAgICAgYmFja2dyb3VuZC1jbGlwOnRleHQ7DQogICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjp0cmFuc3BhcmVudDsNCiAgICB9DQogICAgLmNvbnRyb2xzeyBkaXNwbGF5OmZsZXg7IGdhcDoxMnB4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGZsZXgtd3JhcDp3cmFwOyB9DQogICAgaW5wdXRbdHlwZT0ic2VhcmNoIl17DQogICAgICBwYWRkaW5nOiA4cHggMTZweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjQ1KTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuNzUpOw0KICAgICAgY29sb3I6I2YxZjVmOTsNCiAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTsNCiAgICAgIG1pbi13aWR0aDogMjYwcHg7DQogICAgICBvdXRsaW5lOm5vbmU7DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InNlYXJjaCJdOjpwbGFjZWhvbGRlcnsgY29sb3I6Izk0YTNiODsgfQ0KICAgIC5wcm9ncmVzc3sgZm9udC1zaXplOjAuOXJlbTsgY29sb3I6Izk0YTNiODsgfQ0KDQogICAgLmxheW91dHsNCiAgICAgIGRpc3BsYXk6Z3JpZDsNCiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMzgwcHggMWZyOw0KICAgICAgZ2FwOiAxOHB4Ow0KICAgICAgcGFkZGluZzogMThweCA1dncgNjBweDsNCiAgICAgIG1heC13aWR0aDogMTgwMHB4Ow0KICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgfQ0KICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMTAwcHgpeyAubGF5b3V0eyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsgfSB9DQoNCiAgICBuYXZ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuOTIpOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC4yMik7DQogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7DQogICAgICBtYXgtaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTQwcHgpOw0KICAgICAgb3ZlcmZsb3c6YXV0bzsNCiAgICB9DQogICAgbmF2IGgyew0KICAgICAgZm9udC1zaXplOiAwLjk1cmVtOw0KICAgICAgbWFyZ2luOiAwIDAgMTJweDsNCiAgICAgIGNvbG9yOiM5M2M1ZmQ7DQogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDVlbTsNCiAgICB9DQogICAgLnRvcGljLWxpbmt7DQogICAgICBkaXNwbGF5OmJsb2NrOw0KICAgICAgcGFkZGluZzogMTBweCAxMnB4Ow0KICAgICAgbWFyZ2luOiA2cHggMDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgICAgY29sb3I6I2UyZThmMDsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMThzIGVhc2U7DQogICAgICB1c2VyLXNlbGVjdDpub25lOw0KICAgIH0NCiAgICAudG9waWMtbGluazpob3ZlcnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoNTksMTMwLDI0NiwwLjEyKTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSg1OSwxMzAsMjQ2LDAuNDApOw0KICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDRweCk7DQogICAgfQ0KICAgIC50b3BpYy1saW5rLmFjdGl2ZXsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzYjgyZjYsICM2MGE1ZmEpOw0KICAgICAgY29sb3I6IzBmMTcyYTsNCiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoNTksMTMwLDI0NiwwLjIyKTsNCiAgICB9DQogICAgLnRvcGljLWxpbmsgLnRhZ3sNCiAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogMnB4IDhweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4Ow0KICAgICAgZm9udC1zaXplOiAwLjcycmVtOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjM1KTsNCiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7DQogICAgfQ0KDQogICAgbWFpbnsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC45Mik7DQogICAgICBib3JkZXItcmFkaXVzOiAyMHB4Ow0KICAgICAgcGFkZGluZzogMjJweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoNTksMTMwLDI0NiwwLjE4KTsNCiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsNCiAgICAgIGJveC1zaGFkb3c6IDAgMjJweCA3MHB4IHJnYmEoMCwwLDAsMC40NSk7DQogICAgfQ0KICAgIC5iYWRnZXsNCiAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOw0KICAgICAgcGFkZGluZzogNHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGZvbnQtc2l6ZTogMC43OHJlbTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzQsMTk3LDk0LDAuNTUpOw0KICAgICAgYmFja2dyb3VuZDogcmdiYSgzNCwxOTcsOTQsMC4xMCk7DQogICAgICBjb2xvcjogIzg2ZWZhYzsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgfQ0KICAgIG1haW4gaDJ7IG1hcmdpbjogNnB4IDAgMDsgY29sb3I6I2UyZThmMDsgZm9udC1zaXplOiAxLjQ4cmVtOyB9DQoNCiAgICAuc2VjdGlvbnsgbWFyZ2luLXRvcDogMjJweDsgfQ0KICAgIC5zZWN0aW9uIGgzew0KICAgICAgZm9udC1zaXplOiAxLjA4cmVtOw0KICAgICAgY29sb3I6I2E1YjRmYzsNCiAgICAgIG1hcmdpbjogMCAwIDEwcHg7DQogICAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkICMyMmM1NWU7DQogICAgICBwYWRkaW5nLWxlZnQ6IDEycHg7DQogICAgfQ0KICAgIHAsIGxpeyBjb2xvcjojZTJlOGYwOyBmb250LXNpemU6IDAuOTZyZW07IGxpbmUtaGVpZ2h0OjEuNjU7IH0NCiAgICB1bHsgcGFkZGluZy1sZWZ0OiAyMHB4OyBtYXJnaW46IDEwcHggMCAwOyB9DQoNCiAgICAudmlkZW8tY29udGFpbmVyew0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU5LDEzMCwyNDYsMC40MCk7DQogICAgICBiYWNrZ3JvdW5kOiAjMGYxNzJhOw0KICAgICAgYXNwZWN0LXJhdGlvOiAxNi85Ow0KICAgICAgbWFyZ2luOiAxMnB4IDA7DQogICAgfQ0KICAgIGlmcmFtZXsgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IGJvcmRlcjowOyB9DQoNCiAgICAuYW5pbS1jb250YWluZXJ7DQogICAgICBib3JkZXItcmFkaXVzOiAxNnB4Ow0KICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFlMjkzYiAwJSwgIzBmMTcyYSAxMDAlKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzQsMTk3LDk0LDAuMzUpOw0KICAgICAgcGFkZGluZzogMTRweDsNCiAgICAgIG1hcmdpbjogMTJweCAwOw0KICAgIH0NCiAgICAuYW5pbS10b29sYmFyew0KICAgICAgZGlzcGxheTpmbGV4Ow0KICAgICAgZmxleC13cmFwOndyYXA7DQogICAgICBnYXA6MTBweDsNCiAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjsNCiAgICAgIGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICAgIGNvbG9yOiM4NmVmYWM7DQogICAgICBmb250LXNpemU6IDAuODhyZW07DQogICAgfQ0KICAgIC5idG5zeyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGZsZXgtd3JhcDp3cmFwOyBhbGlnbi1pdGVtczpjZW50ZXI7IH0NCiAgICBidXR0b257DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDM0LDE5Nyw5NCwwLjEyKTsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzQsMTk3LDk0LDAuNDApOw0KICAgICAgYm9yZGVyLXJhZGl1czogOTk5cHg7DQogICAgICBwYWRkaW5nOiA2cHggMTRweDsNCiAgICAgIGNvbG9yOiNlMmU4ZjA7DQogICAgICBjdXJzb3I6cG9pbnRlcjsNCiAgICAgIGZvbnQtc2l6ZTogMC44MnJlbTsNCiAgICAgIHRyYW5zaXRpb246IGFsbCAuMThzOw0KICAgIH0NCiAgICBidXR0b246aG92ZXJ7IGJhY2tncm91bmQ6IHJnYmEoMzQsMTk3LDk0LDAuMjIpOyB9DQogICAgYnV0dG9uOmRpc2FibGVkeyBvcGFjaXR5OjAuNTsgY3Vyc29yOm5vdC1hbGxvd2VkOyB9DQoNCiAgICAuc2xpZGVyew0KICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDE1LDIzLDQyLDAuNik7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDE0OCwxNjMsMTg0LDAuMjUpOw0KICAgICAgcGFkZGluZzogNnB4IDEwcHg7DQogICAgICBib3JkZXItcmFkaXVzOiA5OTlweDsNCiAgICAgIGNvbG9yOiNjYmQ1ZTE7DQogICAgICBmb250LXNpemU6IDAuODJyZW07DQogICAgfQ0KICAgIGlucHV0W3R5cGU9InJhbmdlIl17IHdpZHRoOiAxNzBweDsgfQ0KDQogICAgY2FudmFzew0KICAgICAgd2lkdGg6MTAwJTsNCiAgICAgIGhlaWdodDogNDIwcHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjAlLCByZ2JhKDM0LDE5Nyw5NCwwLjEwKSwgIzBmMTcyYSk7DQogICAgICBkaXNwbGF5OmJsb2NrOw0KICAgIH0NCiAgICAuY2FwdGlvbnsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYmFja2dyb3VuZDogcmdiYSg1OSwxMzAsMjQ2LDAuMDgpOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1OSwxMzAsMjQ2LDAuMjIpOw0KICAgICAgY29sb3I6I2RiZWFmZTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU1Ow0KICAgIH0NCg0KICAgIC5xdWl6ew0KICAgICAgbWFyZ2luLXRvcDogMThweDsNCiAgICAgIHBhZGRpbmc6IDE0cHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMCk7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZjU5ZTBiOw0KICAgIH0NCiAgICAucXVpei1xdWVzdGlvbnsgZm9udC13ZWlnaHQ6IDc1MDsgbWFyZ2luLWJvdHRvbTogMTBweDsgfQ0KICAgIC5xdWl6LW9wdGlvbnMgYnV0dG9uew0KICAgICAgZGlzcGxheTpibG9jazsgd2lkdGg6MTAwJTsNCiAgICAgIG1hcmdpbjogNnB4IDA7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwwLjM1KTsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTUsMjMsNDIsMC43NSk7DQogICAgICBjb2xvcjojZTJlOGYwOw0KICAgICAgY3Vyc29yOnBvaW50ZXI7DQogICAgICB0cmFuc2l0aW9uOiBhbGwgLjE4czsNCiAgICAgIHRleHQtYWxpZ246bGVmdDsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b246aG92ZXJ7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDU5LDEzMCwyNDYsMC4xOCk7DQogICAgICBib3JkZXItY29sb3I6IHJnYmEoNTksMTMwLDI0NiwwLjgwKTsNCiAgICB9DQogICAgLnF1aXotb3B0aW9ucyBidXR0b24uY29ycmVjdHsNCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LDE1OCwxMSwwLjk1KTsNCiAgICAgIGJvcmRlci1jb2xvcjogcmdiYSgyMTcsMTE5LDYsMSk7DQogICAgICBjb2xvcjojMTExODI3Ow0KICAgICAgZm9udC13ZWlnaHQ6IDg1MDsNCiAgICB9DQogICAgLnF1aXotZXhwbGFpbnsNCiAgICAgIGRpc3BsYXk6bm9uZTsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBwYWRkaW5nOiAxMHB4IDEycHg7DQogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsMC4xMik7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgY29sb3I6I2ZkZTY4YTsNCiAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsNCiAgICB9DQogICAgYXsgY29sb3I6IzYwYTVmYTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IH0NCiAgICBhOmhvdmVyeyB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyB9DQogICAgY29kZS5reyBwYWRkaW5nOjJweCA2cHg7IGJvcmRlci1yYWRpdXM6OHB4OyBiYWNrZ3JvdW5kOnJnYmEoMTQ4LDE2MywxODQsMC4xMik7IGJvcmRlcjoxcHggc29saWQgcmdiYSgxNDgsMTYzLDE4NCwwLjE4KTsgfQ0KICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8aGVhZGVyPg0KICA8aDE+RWxlY3RyaWNpdHkg4oCTIENsYXNzIDEwIChDaCAxMSBJbnRlcmFjdGl2ZSk8L2gxPg0KICA8ZGl2IGNsYXNzPSJjb250cm9scyI+DQogICAgPGlucHV0IHR5cGU9InNlYXJjaCIgaWQ9InNlYXJjaElucHV0IiBwbGFjZWhvbGRlcj0iU2VhcmNoOiBjdXJyZW50LCB2b2x0bWV0ZXIsIFY9SVIsIHJlc2lzdGl2aXR5LCBzZXJpZXMsIHBhcmFsbGVsLCBKb3VsZSwgcG93ZXIsIGtXaC4uLiIgLz4NCiAgICA8c3BhbiBjbGFzcz0icHJvZ3Jlc3MiPlByb2dyZXNzOiA8c3BhbiBpZD0icHJvZ0NvdW50Ij4wPC9zcGFuPi88c3BhbiBpZD0idG90YWxDb3VudCI+MDwvc3Bhbj4gdG9waWNzPC9zcGFuPg0KICA8L2Rpdj4NCjwvaGVhZGVyPg0KDQo8ZGl2IGNsYXNzPSJsYXlvdXQiPg0KICA8bmF2Pg0KICAgIDxoMj5DaGFwdGVyIDExIFRvcGljczwvaDI+DQogICAgPGRpdiBpZD0idG9waWNMaXN0Ij48L2Rpdj4NCiAgPC9uYXY+DQoNCiAgPG1haW4+DQogICAgPGRpdiBpZD0idG9waWNDb250ZW50Ij48L2Rpdj4NCiAgPC9tYWluPg0KPC9kaXY+DQoNCjxzY3JpcHQ+DQovKiA9PT09PT0gVklERU8gKFN1bmxpa2UgU3R1ZHkpID09PT09PSAqLw0KY29uc3QgY2gxMVZpZGVvID0gew0KICB5dFdhdGNoOiAiaHR0cHM6Ly95b3V0dS5iZS9OT1I5RDdQa3JjYyIsDQogIGVtYmVkOiAgICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9OT1I5RDdQa3JjYyINCn07DQoNCi8qID09PT09PSBUT1BJQ1MgKE5DRVJULWFsaWduZWQpID09PT09PSAqLw0KY29uc3QgdG9waWNzID0gWw0KICB7DQogICAgaWQ6ImN1cnJlbnQtY2lyY3VpdCIsDQogICAgdGl0bGU6IkVsZWN0cmljIGN1cnJlbnQgJiBlbGVjdHJpYyBjaXJjdWl0IiwNCiAgICB0eXBlOiJCYXNpY3MiLA0KICAgIHZpZGVvVGltZToiSW50cm8gc2VjdGlvbiIsDQogICAgYW5pbWF0aW9uVHlwZToiY2lyY3VpdEJhc2ljcyIsDQogICAgY29yZU5vdGVzOiJFbGVjdHJpYyBjdXJyZW50IGlzIHRoZSByYXRlIG9mIGZsb3cgb2YgY2hhcmdlLiBBIGNsb3NlZCBjb25kdWN0aW5nIHBhdGggaXMgcmVxdWlyZWQgZm9yIGN1cnJlbnQgdG8gZmxvdyAob3BlbiBzd2l0Y2gg4oaSIG5vIGN1cnJlbnQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJGb3JtdWxhOiBJID0gUS90IChjdXJyZW50ID0gY2hhcmdlIHBlciB0aW1lKS4iLA0KICAgICAgIkFtbWV0ZXIgaXMgY29ubmVjdGVkIGluIHNlcmllcyB0byBtZWFzdXJlIGN1cnJlbnQuIiwNCiAgICAgICJDb252ZW50aW9uYWwgY3VycmVudCBkaXJlY3Rpb24gaXMgb3Bwb3NpdGUgdG8gZWxlY3Ryb24gZmxvdyAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJCZSBhYmxlIHRvIGRlZmluZSBjdXJyZW50IGFuZCBlbGVjdHJpYyBjaXJjdWl0ICsgYW1tZXRlciBzZXJpZXMgY29ubmVjdGlvbi4iLA0KICAgIHF1aXo6eyBxdWVzdGlvbjoiQW1tZXRlciBpcyBjb25uZWN0ZWQgaW46Iiwgb3B0aW9uczpbIlBhcmFsbGVsIiwiU2VyaWVzIiwiRWl0aGVyIiwiTm90IGNvbm5lY3RlZCJdLCBjb3JyZWN0OjEsDQogICAgICAgICAgIGV4cGxhaW46IkFtbWV0ZXIgbWVhc3VyZXMgY3VycmVudCB0aHJvdWdoIHRoZSBzYW1lIHBhdGgsIHNvIGl0IGlzIGNvbm5lY3RlZCBpbiBzZXJpZXMuIiB9DQogIH0sDQogIHsNCiAgICBpZDoicG90ZW50aWFsLWRpZmZlcmVuY2UiLA0KICAgIHRpdGxlOiJQb3RlbnRpYWwgZGlmZmVyZW5jZSAmIHZvbHRtZXRlciIsDQogICAgdHlwZToiQmFzaWNzIiwNCiAgICB2aWRlb1RpbWU6IkVhcmx5IiwNCiAgICBhbmltYXRpb25UeXBlOiJwb3RlbnRpYWxEaWZmZXJlbmNlIiwNCiAgICBjb3JlTm90ZXM6IlBvdGVudGlhbCBkaWZmZXJlbmNlIGlzIHdvcmsgZG9uZSBwZXIgdW5pdCBjaGFyZ2UgdG8gbW92ZSBjaGFyZ2UgYmV0d2VlbiB0d28gcG9pbnRzIGluIGEgY2lyY3VpdC4iLA0KICAgIHBvaW50czpbDQogICAgICAiRm9ybXVsYTogViA9IFcvUS4iLA0KICAgICAgIlZvbHRtZXRlciBpcyBjb25uZWN0ZWQgaW4gcGFyYWxsZWwgYWNyb3NzIHRoZSBjb21wb25lbnQuIiwNCiAgICAgICJCYXR0ZXJ5L2NlbGwgbWFpbnRhaW5zIHBvdGVudGlhbCBkaWZmZXJlbmNlLiINCiAgICBdLA0KICAgIG5jZXJ0SGludDoiUmVtZW1iZXI6IFZvbHRtZXRlciBpbiBwYXJhbGxlbDsgQW1tZXRlciBpbiBzZXJpZXMuIiwNCiAgICBxdWl6OnsgcXVlc3Rpb246IlZvbHRtZXRlciBpcyBjb25uZWN0ZWQ6Iiwgb3B0aW9uczpbIkluIHNlcmllcyIsIkluIHBhcmFsbGVsIiwiQWNyb3NzIHRoZSBjZWxsIG9ubHkiLCJOb3QgdXNlZCJdLCBjb3JyZWN0OjEsDQogICAgICAgICAgIGV4cGxhaW46IlZvbHRtZXRlciBtZWFzdXJlcyBwb3RlbnRpYWwgZGlmZmVyZW5jZSBhY3Jvc3MgdHdvIHBvaW50cywgc28gaXQgaXMgY29ubmVjdGVkIGluIHBhcmFsbGVsLiIgfQ0KICB9LA0KICB7DQogICAgaWQ6Im9obXMtbGF3IiwNCiAgICB0aXRsZToiT2ht4oCZcyBsYXcgKyBW4oCTSSBncmFwaCIsDQogICAgdHlwZToiT2htIiwNCiAgICB2aWRlb1RpbWU6Ik1pZCIsDQogICAgYW5pbWF0aW9uVHlwZToib2htc0xhd0dyYXBoIiwNCiAgICBjb3JlTm90ZXM6Ik9obeKAmXMgbGF3OiBmb3IgYSBjb25kdWN0b3IgYXQgY29uc3RhbnQgdGVtcGVyYXR1cmUsIHBvdGVudGlhbCBkaWZmZXJlbmNlIGlzIHByb3BvcnRpb25hbCB0byBjdXJyZW50IChWIOKInSBJKSwgc28gViA9IElSLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJSZXNpc3RhbmNlIFIgPSBWL0kgKHVuaXQ6IG9obSwgzqkpLiIsDQogICAgICAiVuKAk0kgZ3JhcGggaXMgYSBzdHJhaWdodCBsaW5lIHRocm91Z2ggb3JpZ2luIGZvciBhbiBvaG1pYyBjb25kdWN0b3IgKGNvbmNlcHQpLiIsDQogICAgICAiUmhlb3N0YXQgaXMgdXNlZCB0byB2YXJ5IGN1cnJlbnQgYnkgY2hhbmdpbmcgcmVzaXN0YW5jZSAoY29uY2VwdCkuIg0KICAgIF0sDQogICAgbmNlcnRIaW50OiJOdW1lcmljYWxzOiB1c2UgVj1JUiBhbmQgcmVhZCBzbG9wZSBvZiBW4oCTSSBncmFwaC4iLA0KICAgIHF1aXo6eyBxdWVzdGlvbjoiSWYgViBkb3VibGVzIChSIGNvbnN0YW50KSwgY3VycmVudDoiLCBvcHRpb25zOlsiSGFsdmVzIiwiRG91YmxlcyIsIkJlY29tZXMgemVybyIsIlJhbmRvbSJdLCBjb3JyZWN0OjEsDQogICAgICAgICAgIGV4cGxhaW46IkkgPSBWL1IsIHNvIGRvdWJsaW5nIFYgZG91YmxlcyBJLiIgfQ0KICB9LA0KICB7DQogICAgaWQ6InJlc2lzdGFuY2UtcmVzaXN0aXZpdHkiLA0KICAgIHRpdGxlOiJSZXNpc3RhbmNlIGZhY3RvcnMgJiByZXNpc3Rpdml0eSIsDQogICAgdHlwZToiTWF0ZXJpYWwiLA0KICAgIHZpZGVvVGltZToiTWlkIiwNCiAgICBhbmltYXRpb25UeXBlOiJyZXNpc3Rpdml0eSIsDQogICAgY29yZU5vdGVzOiJSZXNpc3RhbmNlIGRlcGVuZHMgb24gbGVuZ3RoLCBhcmVhLCBhbmQgbWF0ZXJpYWw7IHJlc2lzdGl2aXR5IGlzIGEgbWF0ZXJpYWwgcHJvcGVydHkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIkZvciBhIHVuaWZvcm0gd2lyZTogUiA9IM+BIGwgLyBBLiIsDQogICAgICAiTG9uZ2VyIHdpcmUg4oaSIG1vcmUgcmVzaXN0YW5jZTsgdGhpY2tlciB3aXJlIChsYXJnZXIgQSkg4oaSIGxlc3MgcmVzaXN0YW5jZS4iLA0KICAgICAgIkFsbG95cyBhcmUgdXNlZCBpbiBoZWF0aW5nIGRldmljZXMgYmVjYXVzZSB0aGV5IGhhdmUgaGlnaGVyIHJlc2lzdGl2aXR5IGFuZCBkb27igJl0IG94aWRpc2UgZWFzaWx5IChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IlZlcnkgY29tbW9uIDMtbWFyazogd3JpdGUgZmFjdG9ycyArIGZvcm11bGEgUj3PgWwvQS4iLA0KICAgIHF1aXo6eyBxdWVzdGlvbjoiSWYgbGVuZ3RoIGRvdWJsZXMgKEEsIM+BIHNhbWUpLCBSIGJlY29tZXM6Iiwgb3B0aW9uczpbIkhhbGYiLCJEb3VibGUiLCI0IHRpbWVzIiwiU2FtZSJdLCBjb3JyZWN0OjEsDQogICAgICAgICAgIGV4cGxhaW46IlIg4oidIGwsIHNvIGl0IGRvdWJsZXMuIiB9DQogIH0sDQogIHsNCiAgICBpZDoic2VyaWVzLXBhcmFsbGVsIiwNCiAgICB0aXRsZToiU2VyaWVzICYgcGFyYWxsZWwgcmVzaXN0b3JzIiwNCiAgICB0eXBlOiJDb21iaW5hdGlvbiIsDQogICAgdmlkZW9UaW1lOiJNaWQtbGF0ZSIsDQogICAgYW5pbWF0aW9uVHlwZToic2VyaWVzUGFyYWxsZWwiLA0KICAgIGNvcmVOb3RlczoiRXF1aXZhbGVudCByZXNpc3RhbmNlIHJ1bGVzOiBpbiBzZXJpZXMgcmVzaXN0YW5jZXMgYWRkOyBpbiBwYXJhbGxlbCByZWNpcHJvY2FscyBhZGQuIEN1cnJlbnQgaXMgc2FtZSBpbiBzZXJpZXM7IHZvbHRhZ2UgaXMgc2FtZSBhY3Jvc3MgcGFyYWxsZWwgYnJhbmNoZXMgKGNvbmNlcHQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJTZXJpZXM6IFJzID0gUjEgKyBSMiArIFIzIC4uLiIsDQogICAgICAiUGFyYWxsZWw6IDEvUnAgPSAxL1IxICsgMS9SMiArIDEvUjMgLi4uIiwNCiAgICAgICJQYXJhbGxlbCBpcyB1c2VkIGluIGhvbWVzIHNvIGRldmljZXMgZ2V0IHNhbWUgdm9sdGFnZSBhbmQgb25lIGZhaWx1cmUgZG9lc27igJl0IHN0b3Agb3RoZXJzIChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IlByYWN0aWNlIGJvdGggdHlwZXMgKyBtaXhlZCBjaXJjdWl0cy4iLA0KICAgIHF1aXo6eyBxdWVzdGlvbjoiSW4gYSBwYXJhbGxlbCBjb21iaW5hdGlvbiwgdGhlIHBvdGVudGlhbCBkaWZmZXJlbmNlIGFjcm9zcyBlYWNoIHJlc2lzdG9yIGlzOiIsIG9wdGlvbnM6WyJEaWZmZXJlbnQiLCJaZXJvIiwiU2FtZSIsIkFsd2F5cyBkb3VibGUiXSwgY29ycmVjdDoyLA0KICAgICAgICAgICBleHBsYWluOiJBbGwgYnJhbmNoZXMgY29ubmVjdCB0byB0aGUgc2FtZSB0d28gcG9pbnRzLCBzbyB2b2x0YWdlIGlzIHNhbWUuIiB9DQogIH0sDQogIHsNCiAgICBpZDoiaGVhdGluZy1lZmZlY3QiLA0KICAgIHRpdGxlOiJIZWF0aW5nIGVmZmVjdCAoSm91bGXigJlzIGxhdykgKyBmdXNlIiwNCiAgICB0eXBlOiJIZWF0aW5nIiwNCiAgICB2aWRlb1RpbWU6IkxhdGUiLA0KICAgIGFuaW1hdGlvblR5cGU6ImpvdWxlSGVhdGluZyIsDQogICAgY29yZU5vdGVzOiJFbGVjdHJpY2FsIGVuZXJneSBjYW4gY29udmVydCB0byBoZWF0IGluIHJlc2lzdG9ycy4gSm91bGXigJlzIGxhdyBnaXZlcyBoZWF0IHByb2R1Y2VkOiBIID0gScKyUnQgKGFsc28gSD1WSXQpLiIsDQogICAgcG9pbnRzOlsNCiAgICAgICJIZWF0IGluY3JlYXNlcyB3aXRoIGN1cnJlbnQgc3F1YXJlZCAodmVyeSBpbXBvcnRhbnQpLiIsDQogICAgICAiSGVhdGluZyBlbGVtZW50IGdsb3dzOyBjb25uZWN0aW5nIGNvcmQgZ2VuZXJhbGx5IGRvZXMgbm90IGJlY2F1c2UgaXQgaGFzIGxvd2VyIHJlc2lzdGFuY2UgKGNvbmNlcHQpLiIsDQogICAgICAiRnVzZSBpcyBhIHNhZmV0eSBkZXZpY2UgaW4gc2VyaWVzIHRoYXQgbWVsdHMgd2hlbiBjdXJyZW50IGV4Y2VlZHMgcmF0aW5nIChjb25jZXB0KS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6IlJlbWVtYmVyOiBIIOKInSBJwrIsIHNvIHNtYWxsIGluY3JlYXNlIGluIEkgY2F1c2VzIGJpZyBoZWF0aW5nLiIsDQogICAgcXVpejp7IHF1ZXN0aW9uOiJKb3VsZeKAmXMgbGF3IGlzOiIsIG9wdGlvbnM6WyJIID0gVi9SIiwiSCA9IEnCslJ0IiwiUCA9IFbCslIiLCJJID0gUi9WIl0sIGNvcnJlY3Q6MSwNCiAgICAgICAgICAgZXhwbGFpbjoiSm91bGUgaGVhdGluZzogSCA9IEnCslJ0LiIgfQ0KICB9LA0KICB7DQogICAgaWQ6ImVsZWN0cmljLXBvd2VyIiwNCiAgICB0aXRsZToiRWxlY3RyaWMgcG93ZXIgJiBlbmVyZ3kgKGtXaCkiLA0KICAgIHR5cGU6IlBvd2VyIiwNCiAgICB2aWRlb1RpbWU6IkVuZCIsDQogICAgYW5pbWF0aW9uVHlwZToicG93ZXJFbmVyZ3kiLA0KICAgIGNvcmVOb3RlczoiUG93ZXIgY29uc3VtZWQ6IFAgPSBWSSA9IEnCslIgPSBWwrIvUi4gRWxlY3RyaWNhbCBlbmVyZ3kgaXMgUMOXdDsgY29tbWVyY2lhbCB1bml0IGlzIGtpbG93YXR0LWhvdXIgKGtXaCkuIiwNCiAgICBwb2ludHM6Ww0KICAgICAgIjEga1doID0gMy42IMOXIDEw4oG2IEogKGNvbmNlcHQpLiIsDQogICAgICAiSGlnaGVyIHBvd2VyIGRldmljZXMgY29uc3VtZSBlbmVyZ3kgZmFzdGVyLiIsDQogICAgICAiRWxlY3RyaWNpdHkgYmlsbCBpcyBiYXNlZCBvbiBlbmVyZ3kgdXNlZCAoa1doKS4iDQogICAgXSwNCiAgICBuY2VydEhpbnQ6Ik51bWVyaWNhbHM6IGNhbGN1bGF0ZSBQLCB0aGVuIGVuZXJneSA9IFDDl3Q7IGNvbnZlcnQgdG8ga1doLiIsDQogICAgcXVpejp7IHF1ZXN0aW9uOiJJZiBWIGlzIGZpeGVkLCBQIGluIHRlcm1zIG9mIFIgaXM6Iiwgb3B0aW9uczpbIlAgPSBWwrIvUiIsIlAgPSBWUiIsIlAgPSBWL1LCsiIsIlAgPSBSL1YiXSwgY29ycmVjdDowLA0KICAgICAgICAgICBleHBsYWluOiJGcm9tIFA9VkkgYW5kIEk9Vi9SIOKHkiBQID0gVsKyL1IuIiB9DQogIH0NCl07DQoNCi8qID09PT09PSBOQVYvUFJPR1JFU1MgPT09PT09ICovDQpjb25zdCB0b3BpY0xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3BpY0xpc3QiKTsNCmNvbnN0IHRvcGljQ29udGVudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvcGljQ29udGVudCIpOw0KY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoSW5wdXQiKTsNCmNvbnN0IHByb2dDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dDb3VudCIpOw0KY29uc3QgdG90YWxDb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdGFsQ291bnQiKTsNCnRvdGFsQ291bnRFbC50ZXh0Q29udGVudCA9IHRvcGljcy5sZW5ndGg7DQoNCmxldCBjdXJyZW50VG9waWNJZCA9IHRvcGljc1swXS5pZDsNCmxldCBjb21wbGV0ZWRUb3BpY3MgPSBuZXcgU2V0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNoMTEtY29tcGxldGVkIikgfHwgIltdIikpOw0KDQpmdW5jdGlvbiByZW5kZXJOYXYoZmlsdGVyPSIiKXsNCiAgdG9waWNMaXN0RWwuaW5uZXJIVE1MID0gIiI7DQogIGNvbnN0IHEgPSBmaWx0ZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7DQogIGNvbnN0IGZpbHRlcmVkID0gdG9waWNzLmZpbHRlcih0ID0+DQogICAgdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC50eXBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwNCiAgICB0LmNvcmVOb3Rlcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpIHx8DQogICAgdC5wb2ludHMuam9pbigiICIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkNCiAgKTsNCg0KICBmaWx0ZXJlZC5mb3JFYWNoKCh0LCBpZHgpID0+IHsNCiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgaXRlbS5jbGFzc05hbWUgPSAidG9waWMtbGluayIgKyAodC5pZCA9PT0gY3VycmVudFRvcGljSWQgPyAiIGFjdGl2ZSIgOiAiIik7DQogICAgaXRlbS5pbm5lckhUTUwgPSBgJHtpZHgrMX0uICR7dC50aXRsZX08c3BhbiBjbGFzcz0idGFnIj4ke3QudHlwZX08L3NwYW4+YDsNCiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gc2VsZWN0VG9waWModC5pZCkpOw0KICAgIHRvcGljTGlzdEVsLmFwcGVuZENoaWxkKGl0ZW0pOw0KICB9KTsNCg0KICBwcm9nQ291bnRFbC50ZXh0Q29udGVudCA9IGNvbXBsZXRlZFRvcGljcy5zaXplOw0KfQ0KDQpmdW5jdGlvbiBzZWxlY3RUb3BpYyhpZCl7DQogIGNvbnN0IHRvcGljID0gdG9waWNzLmZpbmQoeCA9PiB4LmlkID09PSBpZCk7DQogIGlmKCF0b3BpYykgcmV0dXJuOw0KICBjdXJyZW50VG9waWNJZCA9IGlkOw0KICBjb21wbGV0ZWRUb3BpY3MuYWRkKGlkKTsNCiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNoMTEtY29tcGxldGVkIiwgSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShjb21wbGV0ZWRUb3BpY3MpKSk7DQogIHJlbmRlclRvcGljKHRvcGljKTsNCiAgcmVuZGVyTmF2KHNlYXJjaElucHV0LnZhbHVlKTsNCn0NCg0KZnVuY3Rpb24gcmVuZGVyVG9waWModG9waWMpew0KICB0b3BpY0NvbnRlbnRFbC5pbm5lckhUTUwgPSBgDQogICAgPGRpdj4NCiAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj4ke3RvcGljLnR5cGV9PC9kaXY+DQogICAgICA8aDI+JHt0b3BpYy50aXRsZX08L2gyPg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPk5vdGVzPC9oMz4NCiAgICAgICAgPHA+JHt0b3BpYy5jb3JlTm90ZXN9PC9wPg0KICAgICAgICA8dWw+JHt0b3BpYy5wb2ludHMubWFwKHA9PmA8bGk+JHtwfTwvbGk+YCkuam9pbigiIil9PC91bD4NCg0KICAgICAgICA8ZGl2IGNsYXNzPSJ2aWRlby1jb250YWluZXIiPg0KICAgICAgICAgIDxpZnJhbWUNCiAgICAgICAgICAgIHNyYz0iJHtjaDExVmlkZW8uZW1iZWR9Ig0KICAgICAgICAgICAgYWxsb3c9ImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZSINCiAgICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbg0KICAgICAgICAgID48L2lmcmFtZT4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiM5M2M1ZmQ7Zm9udC1zaXplOjAuOXJlbTsiPg0KICAgICAgICAgIFZpZGVvIGxpbms6IDxhIGhyZWY9IiR7Y2gxMVZpZGVvLnl0V2F0Y2h9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciI+JHt0b3BpYy52aWRlb1RpbWV9PC9hPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJzZWN0aW9uIj4NCiAgICAgICAgPGgzPkFjY3VyYXRlIGFuaW1hdGlvbiAoaW50ZXJhY3RpdmUpPC9oMz4NCiAgICAgICAgPGRpdiBjbGFzcz0iYW5pbS1jb250YWluZXIiPg0KICAgICAgICAgIDxkaXYgY2xhc3M9ImFuaW0tdG9vbGJhciI+DQogICAgICAgICAgICA8ZGl2PkFuaW1hdGlvbjogPHN0cm9uZz4ke3RvcGljLmFuaW1hdGlvblR5cGV9PC9zdHJvbmc+PC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJidG5zIj4NCiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5QbGF5IiBvbmNsaWNrPSJ0b2dnbGVQbGF5KCkiPlBhdXNlPC9idXR0b24+DQogICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJyZXBsYXkoKSI+UmVwbGF5PC9idXR0b24+DQogICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuU3RlcCIgb25jbGljaz0ibmV4dFN0ZXAoKSI+TmV4dCBzdGVwPC9idXR0b24+DQogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsaWRlciI+DQogICAgICAgICAgICAgICAgU3BlZWQNCiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9InNwZWVkIiB0eXBlPSJyYW5nZSIgbWluPSIwLjIiIG1heD0iMi41IiBzdGVwPSIwLjEiIHZhbHVlPSIxLjAiIC8+DQogICAgICAgICAgICAgICAgPHNwYW4gaWQ9InNwZWVkVmFsIj4xLjDDlzwvc3Bhbj4NCiAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgIDxkaXYgaWQ9InBhcmFtUm93IiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDoxMHB4O2ZsZXgtd3JhcDp3cmFwO21hcmdpbi1ib3R0b206MTBweDsiPjwvZGl2Pg0KDQogICAgICAgICAgPGNhbnZhcyBpZD0iYW5pbUNhbnZhcyI+PC9jYW52YXM+DQogICAgICAgICAgPGRpdiBjbGFzcz0iY2FwdGlvbiIgaWQ9ImFuaW1DYXB0aW9uIj48L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+DQogICAgICAgIDxoMz5FeGFtIGhpbnQ8L2gzPg0KICAgICAgICA8cD4ke3RvcGljLm5jZXJ0SGludH08L3A+DQogICAgICA8L2Rpdj4NCg0KICAgICAgJHt0b3BpYy5xdWl6ID8gYA0KICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6Ij4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6LXF1ZXN0aW9uIj4ke3RvcGljLnF1aXoucXVlc3Rpb259PC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0icXVpei1vcHRpb25zIj4NCiAgICAgICAgICAgICR7dG9waWMucXVpei5vcHRpb25zLm1hcCgob3B0LGkpPT5gPGJ1dHRvbiBvbmNsaWNrPSJjaGVja1F1aXooJHtpfSwke3RvcGljLnF1aXouY29ycmVjdH0pIj4ke29wdH08L2J1dHRvbj5gKS5qb2luKCIiKX0NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWl6LWV4cGxhaW4iIGlkPSJxdWl6RXhwbGFpbiI+JHt0b3BpYy5xdWl6LmV4cGxhaW59PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgYCA6ICIifQ0KICAgIDwvZGl2Pg0KICBgOw0KDQogIHNldHVwQW5pbWF0aW9uKHRvcGljLmFuaW1hdGlvblR5cGUpOw0KfQ0KDQp3aW5kb3cuY2hlY2tRdWl6ID0gZnVuY3Rpb24oc2VsZWN0ZWQsIGNvcnJlY3Qpew0KICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1aXotb3B0aW9ucyBidXR0b24iKTsNCiAgYnV0dG9ucy5mb3JFYWNoKChiLGkpPT57DQogICAgYi5kaXNhYmxlZCA9IHRydWU7DQogICAgaWYoaSA9PT0gY29ycmVjdCkgYi5jbGFzc0xpc3QuYWRkKCJjb3JyZWN0Iik7DQogIH0pOw0KICBjb25zdCBleCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWl6RXhwbGFpbiIpOw0KICBpZihleCkgZXguc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQp9Ow0KDQpzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGUgPT4gcmVuZGVyTmF2KGUudGFyZ2V0LnZhbHVlKSk7DQoNCi8qID09PT09PSBDQU5WQVMgRU5HSU5FID09PT09PSAqLw0KbGV0IGFuaW1DYW52YXM9bnVsbCwgY3R4PW51bGwsIHJhZj1udWxsLCB0MD0wOw0KbGV0IHBsYXlpbmc9dHJ1ZTsNCmxldCBzcGVlZD0xLjA7DQoNCmNvbnN0IHN0YXRlID0geyBhbmltOiJjaXJjdWl0QmFzaWNzIiwgc3RlcDowLCBzdGVwczoxLCBwYXJhbXM6e30gfTsNCg0KZnVuY3Rpb24gZml0Q2FudmFzKGNhbnZhcywgY3R4KXsNCiAgY29uc3QgZHByID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7DQogIGNvbnN0IHIgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Ioci53aWR0aCAqIGRwcik7DQogIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHIuaGVpZ2h0ICogZHByKTsNCiAgY3R4LnNldFRyYW5zZm9ybShkcHIsMCwwLGRwciwwLDApOw0KICByZXR1cm4geyB3OnIud2lkdGgsIGg6ci5oZWlnaHQgfTsNCn0NCmZ1bmN0aW9uIHJlcGxheSgpeyBzdGF0ZS5zdGVwID0gMDsgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsgfQ0KZnVuY3Rpb24gdG9nZ2xlUGxheSgpew0KICBwbGF5aW5nID0gIXBsYXlpbmc7DQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5QbGF5IikudGV4dENvbnRlbnQgPSBwbGF5aW5nID8gIlBhdXNlIiA6ICJQbGF5IjsNCn0NCmZ1bmN0aW9uIG5leHRTdGVwKCl7IGlmKHN0YXRlLnN0ZXBzID4gMSkgc3RhdGUuc3RlcCA9IE1hdGgubWluKHN0YXRlLnN0ZXBzLTEsIHN0YXRlLnN0ZXAgKyAxKTsgfQ0KZnVuY3Rpb24gc2V0U3RlcEJ1dHRvbigpew0KICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuU3RlcCIpOw0KICBpZihidG4pIGJ0bi5kaXNhYmxlZCA9ICEoc3RhdGUuc3RlcHMgPiAxKTsNCn0NCmZ1bmN0aW9uIHNldENhcHRpb24odHh0KXsNCiAgY29uc3QgY2FwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFuaW1DYXB0aW9uIik7DQogIGlmKGNhcCkgY2FwLnRleHRDb250ZW50ID0gdHh0Ow0KfQ0KZnVuY3Rpb24gY2xhbXAodixhLGIpeyByZXR1cm4gTWF0aC5tYXgoYSxNYXRoLm1pbihiLHYpKTsgfQ0KDQovKiBkcmF3aW5nIGhlbHBlcnMgKi8NCmZ1bmN0aW9uIGJnKGMsdyxoKXsNCiAgY29uc3QgZyA9IGMuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwwLDAsaCk7DQogIGcuYWRkQ29sb3JTdG9wKDAsIiMwYjEyMjMiKTsNCiAgZy5hZGRDb2xvclN0b3AoMSwiIzA1MDgxNiIpOw0KICBjLmZpbGxTdHlsZT1nOw0KICBjLmZpbGxSZWN0KDAsMCx3LGgpOw0KICBjLmZpbGxTdHlsZT0icmdiYSgxNDgsMTYzLDE4NCwwLjA4KSI7DQogIGMuZmlsbFJlY3QoMCxoKjAuNzgsdyxoKjAuMjIpOw0KfQ0KZnVuY3Rpb24gcnIoYyx4LHksdyxoLHIpew0KICBjLmJlZ2luUGF0aCgpOw0KICBjLm1vdmVUbyh4K3IseSk7DQogIGMuYXJjVG8oeCt3LHkseCt3LHkraCxyKTsNCiAgYy5hcmNUbyh4K3cseStoLHgseStoLHIpOw0KICBjLmFyY1RvKHgseStoLHgseSxyKTsNCiAgYy5hcmNUbyh4LHkseCt3LHkscik7DQogIGMuY2xvc2VQYXRoKCk7DQp9DQpmdW5jdGlvbiBwYW5lbChjLHgseSx3LGgsdGl0bGUpew0KICBjLnNhdmUoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMTQ4LDE2MywxODQsMC4wNikiOw0KICBycihjLHgseSx3LGgsMTYpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjE4KSI7DQogIGMubGluZVdpZHRoPTEuNTsgYy5zdHJva2UoKTsNCiAgYy5maWxsU3R5bGU9InJnYmEoMTM0LDIzOSwxNzIsMC45NSkiOw0KICBjLmZvbnQ9ImJvbGQgMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KHRpdGxlLCB4KzEyLCB5KzE4KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBsaW5lKGMseDEseTEseDIseTIsdyxzdHJva2UsIGRhc2g9bnVsbCl7DQogIGMuc2F2ZSgpOw0KICBjLnN0cm9rZVN0eWxlPXN0cm9rZTsNCiAgYy5saW5lV2lkdGg9dzsgYy5saW5lQ2FwPSJyb3VuZCI7DQogIGlmKGRhc2gpIGMuc2V0TGluZURhc2goZGFzaCk7DQogIGMuYmVnaW5QYXRoKCk7IGMubW92ZVRvKHgxLHkxKTsgYy5saW5lVG8oeDIseTIpOyBjLnN0cm9rZSgpOw0KICBjLnNldExpbmVEYXNoKFtdKTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBhcnJvdyhjLHgxLHkxLHgyLHkyLGNvbG9yPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMzApIil7DQogIGxpbmUoYyx4MSx5MSx4Mix5MiwyLjUsY29sb3IpOw0KICBjb25zdCBhbmc9TWF0aC5hdGFuMih5Mi15MSx4Mi14MSk7DQogIGNvbnN0IEw9MTA7DQogIGxpbmUoYyx4Mix5Mix4Mi1NYXRoLmNvcyhhbmctMC41KSpMLHkyLU1hdGguc2luKGFuZy0wLjUpKkwsMi41LGNvbG9yKTsNCiAgbGluZShjLHgyLHkyLHgyLU1hdGguY29zKGFuZyswLjUpKkwseTItTWF0aC5zaW4oYW5nKzAuNSkqTCwyLjUsY29sb3IpOw0KfQ0KZnVuY3Rpb24gZG90KGMseCx5LHIsZmlsbCxzdHJva2U9InJnYmEoMjI2LDIzMiwyNDAsMC4yMikiLGx3PTIpew0KICBjLnNhdmUoKTsNCiAgYy5iZWdpblBhdGgoKTsgYy5maWxsU3R5bGU9ZmlsbDsNCiAgYy5hcmMoeCx5LHIsMCxNYXRoLlBJKjIpOyBjLmZpbGwoKTsNCiAgYy5zdHJva2VTdHlsZT1zdHJva2U7IGMubGluZVdpZHRoPWx3OyBjLnN0cm9rZSgpOw0KICBjLnJlc3RvcmUoKTsNCn0NCmZ1bmN0aW9uIHRleHQoYyx4LHksdCxjb2xvcj0icmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsYm9sZD10cnVlKXsNCiAgYy5zYXZlKCk7DQogIGMuZmlsbFN0eWxlPWNvbG9yOw0KICBjLmZvbnQ9KGJvbGQ/ImJvbGQgIjoiIikgKyAiMTJweCBzeXN0ZW0tdWkiOw0KICBjLmZpbGxUZXh0KHQseCx5KTsNCiAgYy5yZXN0b3JlKCk7DQp9DQpmdW5jdGlvbiBmbXQobiwgZD0yKXsgcmV0dXJuIChNYXRoLnJvdW5kKG4qMTAqKmQpLzEwKipkKS50b0ZpeGVkKGQpOyB9DQoNCi8qID09PT09PSBQQVJBTSBVSSA9PT09PT0gKi8NCmZ1bmN0aW9uIHNldFBhcmFtc1VJKGl0ZW1zKXsNCiAgY29uc3Qgcm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhcmFtUm93Iik7DQogIGlmKCFyb3cpIHJldHVybjsNCiAgcm93LmlubmVySFRNTCA9ICIiOw0KICBpdGVtcy5mb3JFYWNoKGl0PT57DQogICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgIHdyYXAuY2xhc3NOYW1lID0gInNsaWRlciI7DQogICAgd3JhcC5pbm5lckhUTUwgPSBgJHtpdC5sYWJlbH0NCiAgICAgIDxpbnB1dCB0eXBlPSJyYW5nZSIgbWluPSIke2l0Lm1pbn0iIG1heD0iJHtpdC5tYXh9IiBzdGVwPSIke2l0LnN0ZXB9IiB2YWx1ZT0iJHtpdC52YWx1ZX0iIGlkPSIke2l0LmlkfSI+DQogICAgICA8c3BhbiBpZD0iJHtpdC5pZH1WYWwiPiR7aXQuZm10KGl0LnZhbHVlKX08L3NwYW4+YDsNCiAgICByb3cuYXBwZW5kQ2hpbGQod3JhcCk7DQogICAgY29uc3QgaW5wID0gd3JhcC5xdWVyeVNlbGVjdG9yKCJpbnB1dCIpOw0KICAgIGNvbnN0IHZhbCA9IHdyYXAucXVlcnlTZWxlY3Rvcigic3BhbiIpOw0KICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGU9PnsNCiAgICAgIGNvbnN0IHYgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKTsNCiAgICAgIHN0YXRlLnBhcmFtc1tpdC5rZXldID0gdjsNCiAgICAgIHZhbC50ZXh0Q29udGVudCA9IGl0LmZtdCh2KTsNCiAgICB9KTsNCiAgfSk7DQp9DQoNCi8qID09PT09PSBTQ0VORVMgPT09PT09ICovDQpjb25zdCBzY2VuZXMgPSB7fTsNCg0KLyogQ2lyY3VpdCBiYXNpY3MgKGNsb3NlZC9vcGVuICsgY3VycmVudCBhcnJvdykgKi8NCnNjZW5lcy5jaXJjdWl0QmFzaWNzID0gew0KICBzdGVwczogMywNCiAgZGVmYXVsdHMoKXsgcmV0dXJuIHtjbG9zZWQ6MX07IH0sDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IEEgY29tcGxldGUgKGNsb3NlZCkgY2lyY3VpdCBhbGxvd3MgY3VycmVudCB0byBmbG93IChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMjogT3BlbiBzd2l0Y2ggYnJlYWtzIGNpcmN1aXQg4oaSIGN1cnJlbnQgc3RvcHMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBBbW1ldGVyIGlzIGNvbm5lY3RlZCBpbiBzZXJpZXM7IGNvbnZlbnRpb25hbCBjdXJyZW50IHNob3duIGJ5IGFycm93cyAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIkVsZWN0cmljIGNpcmN1aXQ6IGNlbGwgKyBzd2l0Y2ggKyBidWxiICsgYW1tZXRlciAoY29uY2VwdCBkaWFncmFtKSIpOw0KICAgIGNvbnN0IGN4PXcqMC41MCwgY3k9aCowLjUyOw0KDQogICAgLy8gY2lyY3VpdCByZWN0YW5nbGUNCiAgICBjb25zdCB4MT13KjAuMjAsIHgyPXcqMC44MCwgeTE9aCowLjMwLCB5Mj1oKjAuNzI7DQogICAgbGluZShjLHgxLHkxLHgyLHkxLDQsInJnYmEoMjI2LDIzMiwyNDAsMC4yMCkiKTsNCiAgICBsaW5lKGMseDIseTEseDIseTIsNCwicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgIGxpbmUoYyx4Mix5Mix4MSx5Miw0LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7DQogICAgbGluZShjLHgxLHkyLHgxLHkxLDQsInJnYmEoMjI2LDIzMiwyNDAsMC4yMCkiKTsNCg0KICAgIC8vIGNlbGwgKGxlZnQgc2lkZSkNCiAgICBjb25zdCBjZWxsWD14MSwgY2VsbFk9Y3k7DQogICAgbGluZShjLGNlbGxYLTEwLGNlbGxZLTI2LGNlbGxYKzEwLGNlbGxZLTI2LDQsInJnYmEoNTksMTMwLDI0NiwwLjYwKSIpOw0KICAgIGxpbmUoYyxjZWxsWC0xNixjZWxsWSsyNixjZWxsWCsxNixjZWxsWSsyNiw0LCJyZ2JhKDU5LDEzMCwyNDYsMC42MCkiKTsNCiAgICB0ZXh0KGMsY2VsbFgtOCxjZWxsWS0zNiwiKyIsInJnYmEoMTQ3LDE5NywyNTMsMC45NSkiLHRydWUpOw0KICAgIHRleHQoYyxjZWxsWC04LGNlbGxZKzQ0LCLigJMiLCJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIix0cnVlKTsNCiAgICB0ZXh0KGMsY2VsbFgtMjIsY2VsbFktNTIsIkNlbGwiLCJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIix0cnVlKTsNCg0KICAgIC8vIGJ1bGIgKHRvcCkNCiAgICBjb25zdCBidWxiWD1jeCwgYnVsYlk9eTE7DQogICAgZG90KGMsYnVsYlgsYnVsYlksMTgsInJnYmEoMjQ1LDE1OCwxMSwwLjEyKSIsInJnYmEoMjQ1LDE1OCwxMSwwLjMwKSIpOw0KICAgIGxpbmUoYyxidWxiWC0xMCxidWxiWS0xMCxidWxiWCsxMCxidWxiWSsxMCwyLCJyZ2JhKDI0NSwxNTgsMTEsMC4zNSkiKTsNCiAgICBsaW5lKGMsYnVsYlgrMTAsYnVsYlktMTAsYnVsYlgtMTAsYnVsYlkrMTAsMiwicmdiYSgyNDUsMTU4LDExLDAuMzUpIik7DQogICAgdGV4dChjLGJ1bGJYLTE2LGJ1bGJZLTI4LCJCdWxiIiwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQoNCiAgICAvLyBhbW1ldGVyIChyaWdodCBzaWRlKQ0KICAgIGNvbnN0IGFtWD14MiwgYW1ZPWN5Ow0KICAgIGRvdChjLGFtWCxhbVksMTgsInJnYmEoMzQsMTk3LDk0LDAuMTApIiwicmdiYSgzNCwxOTcsOTQsMC4zNSkiKTsNCiAgICB0ZXh0KGMsYW1YLTUsYW1ZKzUsIkEiLCJyZ2JhKDEzNCwyMzksMTcyLDAuOTUpIix0cnVlKTsNCiAgICB0ZXh0KGMsYW1YLTI4LGFtWS0yOCwiQW1tZXRlciIsInJnYmEoMTM0LDIzOSwxNzIsMC45NSkiLHRydWUpOw0KDQogICAgLy8gc3dpdGNoIChib3R0b20pIG9wZW4vY2xvc2VkDQogICAgY29uc3Qgc3dYPWN4LCBzd1k9eTI7DQogICAgY29uc3QgY2xvc2VkID0gKHMuc3RlcD49MSkgPyAwIDogMTsgLy8gc3RlcDAgY2xvc2VkLCBzdGVwMSBvcGVuDQogICAgLy8gY29udGFjdCBwb2ludHMNCiAgICBkb3QoYyxzd1gtMzQsc3dZLDUsInJnYmEoMjI2LDIzMiwyNDAsMC4yOCkiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMTUpIiwxKTsNCiAgICBkb3QoYyxzd1grMzQsc3dZLDUsInJnYmEoMjI2LDIzMiwyNDAsMC4yOCkiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMTUpIiwxKTsNCiAgICBpZihjbG9zZWQpew0KICAgICAgbGluZShjLHN3WC0zMCxzd1ksc3dYKzMwLHN3WSw0LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIik7DQogICAgICB0ZXh0KGMsc3dYLTI4LHN3WSsyNiwiU3dpdGNoIChjbG9zZWQpIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkwKSIsdHJ1ZSk7DQogICAgfWVsc2V7DQogICAgICBsaW5lKGMsc3dYLTMwLHN3WSxzd1grMTgsc3dZLTE4LDQsInJnYmEoMjI2LDIzMiwyNDAsMC4yNSkiKTsNCiAgICAgIHRleHQoYyxzd1gtMjQsc3dZKzI2LCJTd2l0Y2ggKG9wZW4pIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkwKSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgLy8gY3VycmVudCBhcnJvd3MgaWYgY2xvc2VkDQogICAgY29uc3QgY2FuRmxvdyA9IGNsb3NlZDsNCiAgICBpZihjYW5GbG93KXsNCiAgICAgIGFycm93KGMsIHgxKzQwLHkyLCB4Mi00MCx5MiwgInJnYmEoMzQsMTk3LDk0LDAuNTUpIik7DQogICAgICBhcnJvdyhjLCB4Mix5Mi00MCwgeDIseTErNDAsICJyZ2JhKDM0LDE5Nyw5NCwwLjU1KSIpOw0KICAgICAgYXJyb3coYywgeDItNDAseTEsIHgxKzQwLHkxLCAicmdiYSgzNCwxOTcsOTQsMC41NSkiKTsNCiAgICAgIGFycm93KGMsIHgxLHkxKzQwLCB4MSx5Mi00MCwgInJnYmEoMzQsMTk3LDk0LDAuNTUpIik7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC44OCwiQ2xvc2VkIGNpcmN1aXQg4oaSIGN1cnJlbnQgZmxvd3MgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0gZWxzZSB7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC44OCwiT3BlbiBjaXJjdWl0IOKGkiBjdXJyZW50IGlzIHplcm8gKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKHMuc3RlcD49Mil7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC45MiwiQW1tZXRlciBpbiBzZXJpZXM7IHZvbHRtZXRlciB3b3VsZCBiZSBwbGFjZWQgaW4gcGFyYWxsZWwgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICAgIH0NCiAgfQ0KfTsNCg0KLyogUG90ZW50aWFsIGRpZmZlcmVuY2UgZGVtbyAoYmF0dGVyeSBsaWZ0cyBjaGFyZ2U7IHZvbHRtZXRlciBhY3Jvc3MgcmVzaXN0b3IpICovDQpzY2VuZXMucG90ZW50aWFsRGlmZmVyZW5jZSA9IHsNCiAgc3RlcHM6IDMsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7Vjo2LCBROjJ9OyB9LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBQb3RlbnRpYWwgZGlmZmVyZW5jZSBpcyB3b3JrIGRvbmUgcGVyIHVuaXQgY2hhcmdlIChWID0gVy9RKS4iLA0KICAgICAgIlN0ZXAgMjogVm9sdG1ldGVyIG1lYXN1cmVzIHBvdGVudGlhbCBkaWZmZXJlbmNlIGFjcm9zcyBhIGNvbXBvbmVudCAocGFyYWxsZWwpLiIsDQogICAgICAiU3RlcCAzOiBJZiBRIGluY3JlYXNlcyBhdCBmaXhlZCBWLCB3b3JrIFcgPSBWUSBpbmNyZWFzZXMgKGNvbmNlcHQpLiINCiAgICBdW3N0ZXBdIHx8ICIiOw0KICB9LA0KICBkcmF3KGMsdyxoLHQscyl7DQogICAgYmcoYyx3LGgpOw0KICAgIHBhbmVsKGMsdyowLjA2LGgqMC4xNCx3KjAuODgsaCowLjcwLCJQb3RlbnRpYWwgZGlmZmVyZW5jZSArIHZvbHRtZXRlciAoY29uY2VwdCkiKTsNCiAgICBjb25zdCBWPWNsYW1wKHMucGFyYW1zLlYsIDEsIDEyKTsNCiAgICBjb25zdCBRPWNsYW1wKHMucGFyYW1zLlEsIDAuNSwgNSk7DQogICAgY29uc3QgV2RvbmUgPSBWKlE7DQoNCiAgICAvLyBzaW1wbGUgY2lyY3VpdDogYmF0dGVyeSAtIHJlc2lzdG9yIHdpdGggdm9sdG1ldGVyIGFjcm9zcw0KICAgIGNvbnN0IHgxPXcqMC4yMiwgeDI9dyowLjc4LCB5MT1oKjAuMzQsIHkyPWgqMC43MiwgY3k9aCowLjUzOw0KICAgIGxpbmUoYyx4MSx5MSx4Mix5MSw0LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7DQogICAgbGluZShjLHgyLHkxLHgyLHkyLDQsInJnYmEoMjI2LDIzMiwyNDAsMC4yMCkiKTsNCiAgICBsaW5lKGMseDIseTIseDEseTIsNCwicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgIGxpbmUoYyx4MSx5Mix4MSx5MSw0LCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7DQoNCiAgICAvLyBiYXR0ZXJ5IGxlZnQNCiAgICBjb25zdCBieD14MSwgYnk9Y3k7DQogICAgbGluZShjLGJ4LTEwLGJ5LTI2LGJ4KzEwLGJ5LTI2LDQsInJnYmEoNTksMTMwLDI0NiwwLjYwKSIpOw0KICAgIGxpbmUoYyxieC0xNixieSsyNixieCsxNixieSsyNiw0LCJyZ2JhKDU5LDEzMCwyNDYsMC42MCkiKTsNCiAgICB0ZXh0KGMsYngtMjIsYnktNTIsYEJhdHRlcnkgJHtmbXQoViwwKX0gVmAsInJnYmEoMTQ3LDE5NywyNTMsMC45NSkiLHRydWUpOw0KDQogICAgLy8gcmVzaXN0b3IgdG9wDQogICAgY29uc3Qgcng9KHgxK3gyKS8yLCByeT15MTsNCiAgICBycihjLHJ4LTcwLHJ5LTE4LDE0MCwzNiwxMCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjEwKSI7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjMyKSI7IGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgdGV4dChjLHJ4LTIyLHJ5KzUsIlJlc2lzdG9yIiwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQoNCiAgICAvLyB2b2x0bWV0ZXIgYWNyb3NzIHJlc2lzdG9yIChwYXJhbGxlbCkNCiAgICBjb25zdCB2bXg9cngrMTUwLCB2bXk9cnkrNzA7DQogICAgZG90KGMsdm14LHZteSwxOCwicmdiYSgzNCwxOTcsOTQsMC4xMCkiLCJyZ2JhKDM0LDE5Nyw5NCwwLjM1KSIpOw0KICAgIHRleHQoYyx2bXgtNSx2bXkrNSwiViIsInJnYmEoMTM0LDIzOSwxNzIsMC45NSkiLHRydWUpOw0KICAgIGxpbmUoYyxyeC03MCxyeSwgcngtNzAscnkrNzAsMiwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIpOw0KICAgIGxpbmUoYyxyeCs3MCxyeSwgcngrNzAscnkrNzAsMiwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIpOw0KICAgIGxpbmUoYyxyeC03MCxyeSs3MCwgdm14LTE4LCB2bXksMiwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIpOw0KICAgIGxpbmUoYyxyeCs3MCxyeSs3MCwgdm14KzE4LCB2bXksMiwicmdiYSgyMjYsMjMyLDI0MCwwLjE4KSIpOw0KICAgIHRleHQoYyx2bXgtNDAsdm15KzM0LCJWb2x0bWV0ZXIgKHBhcmFsbGVsKSIsInJnYmEoMTM0LDIzOSwxNzIsMC45NSkiLHRydWUpOw0KDQogICAgLy8gaW5mbyBwYW5lbA0KICAgIHJyKGMsdyowLjE0LGgqMC44MCx3KjAuNzIsaCowLjEyLDE0KTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMDgpIjsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSg1OSwxMzAsMjQ2LDAuMTgpIjsgYy5zdHJva2UoKTsNCiAgICB0ZXh0KGMsdyowLjE2LGgqMC44NCxgVXNpbmcgViA9IFcvUTogIFY9JHtmbXQoViwwKX0gViwgUT0ke2ZtdChRLDEpfSBDICDih5IgIFc9JHtmbXQoV2RvbmUsMSl9IEogKGNvbmNlcHQpLmAsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICB9DQp9Ow0KDQovKiBPaG3igJlzIGxhdzogc2xpZGVyIFIgJiBWOyBzaG93IEk7IHBsb3QgVuKAk0kgbGluZSBhbmQgb3BlcmF0aW5nIHBvaW50ICovDQpzY2VuZXMub2htc0xhd0dyYXBoID0gew0KICBzdGVwczogNCwNCiAgZGVmYXVsdHMoKXsgcmV0dXJuIHtSOjUsIFY6Nn07IH0sDQogIGNhcHRpb24oc3RlcCl7DQogICAgcmV0dXJuIFsNCiAgICAgICJTdGVwIDE6IE9obeKAmXMgbGF3OiBWID0gSVIgKGF0IGNvbnN0YW50IHRlbXBlcmF0dXJlKS4iLA0KICAgICAgIlN0ZXAgMjogVuKAk0kgZ3JhcGggaXMgYSBzdHJhaWdodCBsaW5lOyBzbG9wZSBnaXZlcyByZXNpc3RhbmNlIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogQ2hhbmdpbmcgUiBjaGFuZ2VzIHNsb3BlOyBmb3IgZml4ZWQgViwgSSA9IFYvUi4iLA0KICAgICAgIlN0ZXAgNDogT3BlcmF0aW5nIHBvaW50IHNob3duIG9uIHRoZSBncmFwaC4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiT2ht4oCZcyBsYXc6IFYgPSBJUiArIFbigJNJIGdyYXBoIik7DQogICAgY29uc3QgUj1jbGFtcChzLnBhcmFtcy5SLCAxLCAyMCk7DQogICAgY29uc3QgVj1jbGFtcChzLnBhcmFtcy5WLCAwLCAxMik7DQogICAgY29uc3QgSSA9IFYgLyBSOw0KDQogICAgLy8gbGVmdDogbWluaSBjaXJjdWl0DQogICAgY29uc3QgY3g9dyowLjI1LCBjeT1oKjAuNTI7DQogICAgcnIoYyxjeC0xMjAsY3ktMTIwLDI0MCwyNDAsMTgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMDMpIjsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjEyKSI7IGMuc3Ryb2tlKCk7DQogICAgdGV4dChjLGN4LTkyLGN5LTkwLCJDaXJjdWl0IChjb25jZXB0KSIsInJnYmEoMjI2LDIzMiwyNDAsMC44NSkiLHRydWUpOw0KDQogICAgLy8gYmF0dGVyeSArIHJlc2lzdG9yDQogICAgZG90KGMsY3gtNjAsY3ksMTgsInJnYmEoNTksMTMwLDI0NiwwLjEwKSIsInJnYmEoNTksMTMwLDI0NiwwLjM1KSIpOw0KICAgIHRleHQoYyxjeC04NCxjeS0yOCxgJHtmbXQoViwwKX0gViBzb3VyY2VgLCJyZ2JhKDE0NywxOTcsMjUzLDAuOTUpIix0cnVlKTsNCiAgICBycihjLGN4KzIwLGN5LTE2LDkwLDMyLDEwKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMTApIjsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuMzIpIjsgYy5saW5lV2lkdGg9MjsgYy5zdHJva2UoKTsNCiAgICB0ZXh0KGMsY3grMzIsY3krNixgUj0ke2ZtdChSLDEpfSDOqWAsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KDQogICAgYXJyb3coYyxjeC00MCxjeSxjeCsyMCxjeSwicmdiYSgzNCwxOTcsOTQsMC41NSkiKTsNCiAgICB0ZXh0KGMsY3gtMjYsY3krNDQsYEkgPSBWL1IgPSAke2ZtdChJLDIpfSBBYCwicmdiYSgxMzQsMjM5LDE3MiwwLjk1KSIsdHJ1ZSk7DQoNCiAgICAvLyByaWdodDogZ3JhcGggYXhlcw0KICAgIGNvbnN0IGd4PXcqMC41MiwgZ3k9aCowLjMwLCBndz13KjAuNDAsIGdoPWgqMC41MDsNCiAgICBycihjLGd4LGd5LGd3LGdoLDE2KTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgyMjYsMjMyLDI0MCwwLjAzKSI7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4xMikiOyBjLnN0cm9rZSgpOw0KICAgIHRleHQoYyxneCsxMixneSsyMCwiVuKAk0kgZ3JhcGgiLCJyZ2JhKDIyNiwyMzIsMjQwLDAuODUpIix0cnVlKTsNCg0KICAgIC8vIGF4ZXMNCiAgICBjb25zdCBheDB4PWd4KzUwLCBheDB5PWd5K2doLTQwOw0KICAgIGNvbnN0IGF4WD1neCtndy0zMCwgYXhZPWd5KzMwOw0KICAgIGxpbmUoYyxheDB4LGF4MHksYXhYLGF4MHksMiwicmdiYSgxNDgsMTYzLDE4NCwwLjI1KSIpOw0KICAgIGxpbmUoYyxheDB4LGF4MHksYXgweCxheFksMiwicmdiYSgxNDgsMTYzLDE4NCwwLjI1KSIpOw0KICAgIHRleHQoYyxheFgtMTgsYXgweSsxOCwiSSIsInJnYmEoMTQ4LDE2MywxODQsMC44NSkiLHRydWUpOw0KICAgIHRleHQoYyxheDB4LTE4LGF4WSsxMiwiViIsInJnYmEoMTQ4LDE2MywxODQsMC44NSkiLHRydWUpOw0KDQogICAgLy8gc2NhbGU6IEkgbWF4IDNBOyBWIG1heCAxMlYNCiAgICBjb25zdCBJbWF4PTMsIFZtYXg9MTI7DQogICAgZnVuY3Rpb24gbWFwSShpaSl7IHJldHVybiBheDB4ICsgKGlpL0ltYXgpKihheFgtYXgweCk7IH0NCiAgICBmdW5jdGlvbiBtYXBWKHZ2KXsgcmV0dXJuIGF4MHkgLSAodnYvVm1heCkqKGF4MHktYXhZKTsgfQ0KDQogICAgLy8gbGluZSBWPVIqSSA9PiBWIHZzIEkgc2xvcGUgUg0KICAgIC8vIGRyYXcgbGluZSBmcm9tICgwLDApIHRvIChJZW5kLCBWZW5kKSB3aXRoaW4gbGltaXRzDQogICAgY29uc3QgSWVuZCA9IE1hdGgubWluKEltYXgsIFZtYXgvUik7DQogICAgY29uc3QgVmVuZCA9IFIqSWVuZDsNCiAgICBsaW5lKGMsbWFwSSgwKSxtYXBWKDApLCBtYXBJKEllbmQpLCBtYXBWKFZlbmQpLCAzLCAicmdiYSg1OSwxMzAsMjQ2LDAuNjUpIik7DQoNCiAgICAvLyBvcGVyYXRpbmcgcG9pbnQNCiAgICBkb3QoYyxtYXBJKEkpLCBtYXBWKFYpLCA1LCAicmdiYSgyNDUsMTU4LDExLDAuODUpIiwgInJnYmEoMjQ1LDE1OCwxMSwwLjI1KSIsMik7DQogICAgdGV4dChjLG1hcEkoSSkrOCwgbWFwVihWKS04LCBgKCR7Zm10KEksMil9IEEsICR7Zm10KFYsMCl9IFYpYCwgInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLCB0cnVlKTsNCg0KICAgIC8vIHNsb3BlIGxhYmVsDQogICAgdGV4dChjLGd4KzE0LGd5K2doLTEyLCJTdHJhaWdodCBsaW5lIHRocm91Z2ggb3JpZ2luIChvaG1pYyBjb25kdWN0b3IgY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjgyKSIsdHJ1ZSk7DQogIH0NCn07DQoNCi8qIFJlc2lzdGl2aXR5IChSPc+BbC9BKSB2aXN1YWwgd2l0aCBzbGlkZXJzICovDQpzY2VuZXMucmVzaXN0aXZpdHkgPSB7DQogIHN0ZXBzOiAzLA0KICBkZWZhdWx0cygpeyByZXR1cm4ge3JobzoxLjYsIGw6MS4wLCBBOjEuMH07IH0sIC8vIHNjYWxlZCB1bml0cw0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBSID0gz4EgbCAvIEEgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBJbmNyZWFzaW5nIGxlbmd0aCBpbmNyZWFzZXMgcmVzaXN0YW5jZTsgaW5jcmVhc2luZyBhcmVhIGRlY3JlYXNlcyByZXNpc3RhbmNlLiIsDQogICAgICAiU3RlcCAzOiBSZXNpc3Rpdml0eSDPgSBkZXBlbmRzIG9uIG1hdGVyaWFsIChjb25jZXB0KS4iDQogICAgXVtzdGVwXSB8fCAiIjsNCiAgfSwNCiAgZHJhdyhjLHcsaCx0LHMpew0KICAgIGJnKGMsdyxoKTsNCiAgICBwYW5lbChjLHcqMC4wNixoKjAuMTQsdyowLjg4LGgqMC43MCwiUmVzaXN0YW5jZSBmYWN0b3JzOiBSID0gz4EgbCAvIEEgKHNjYWxlZCBkZW1vKSIpOw0KICAgIGNvbnN0IHJobz1jbGFtcChzLnBhcmFtcy5yaG8sIDAuNSwgNi4wKTsNCiAgICBjb25zdCBsPWNsYW1wKHMucGFyYW1zLmwsIDAuMiwgMi41KTsNCiAgICBjb25zdCBBPWNsYW1wKHMucGFyYW1zLkEsIDAuMiwgMi41KTsNCiAgICBjb25zdCBSID0gcmhvKmwvQTsNCg0KICAgIC8vIHdpcmUNCiAgICBjb25zdCB3eD13KjAuMTgsIHd5PWgqMC41MjsNCiAgICBjb25zdCB3bGVuID0gdyowLjU1ICogKGwvMi41KTsNCiAgICBjb25zdCB0aGljayA9IDEwICsgMTgqKEEvMi41KTsNCiAgICBycihjLHd4LHd5LXRoaWNrLzIsd2xlbix0aGljayw5OTkpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4xMikiOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4zMikiOyBjLmxpbmVXaWR0aD0yOyBjLnN0cm9rZSgpOw0KICAgIHRleHQoYyx3eCwgd3ktMjYsIGBXaXJlIGxlbmd0aCBsPSR7Zm10KGwsMil9IChzY2FsZWQpLCBhcmVhIEE9JHtmbXQoQSwyKX0gKHNjYWxlZClgLCAicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsIHRydWUpOw0KDQogICAgLy8gcmVzdWx0IGNhcmQNCiAgICBycihjLHcqMC4xOCxoKjAuNzIsdyowLjY0LGgqMC4xNCwxNCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMzQsMTk3LDk0LDAuMDgpIjsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4xOCkiOyBjLnN0cm9rZSgpOw0KICAgIHRleHQoYyx3KjAuMjAsaCowLjc4LGDPgT0ke2ZtdChyaG8sMil9IChzY2FsZWQpLCBzbyBSPc+BbC9BID0gJHtmbXQoUiwyKX0gzqkgKHNjYWxlZCBvdXRwdXQpLmAsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KDQogICAgLy8gaGludHMNCiAgICBpZihzLnN0ZXA+PTEpIHRleHQoYyx3KjAuMjAsaCowLjkwLCJJbmNyZWFzZSBsIOKGkiBSIGluY3JlYXNlczsgSW5jcmVhc2UgQSDihpIgUiBkZWNyZWFzZXMgKGNvbmNlcHQpLiIsInJnYmEoMjI2LDIzMiwyNDAsMC45MikiLHRydWUpOw0KICB9DQp9Ow0KDQovKiBTZXJpZXMvcGFyYWxsZWwgY2FsY3VsYXRvciB2aXN1YWwgKi8NCnNjZW5lcy5zZXJpZXNQYXJhbGxlbCA9IHsNCiAgc3RlcHM6IDQsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7bW9kZTowLCBSMTo0LCBSMjo2LCBSMzoxMiwgVjoxMn07IH0sIC8vIG1vZGUgMCBzZXJpZXMsIDEgcGFyYWxsZWwsIDIgbWl4ZWQgKFIxIHNlcmllcyB3aXRoIHBhcmFsbGVsIFIyfHxSMyksIDMgcGFyYWxsZWwgd2l0aCBicmFuY2ggY3VycmVudHMNCiAgY2FwdGlvbihzdGVwKXsNCiAgICByZXR1cm4gWw0KICAgICAgIlN0ZXAgMTogU2VyaWVzOiBScyA9IFIxICsgUjIgKyBSMyAoY29uY2VwdCkuIiwNCiAgICAgICJTdGVwIDI6IFBhcmFsbGVsOiAxL1JwID0gMS9SMSArIDEvUjIgKyAxL1IzIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgMzogTWl4ZWQ6IFIgPSBSMSArIChSMnx8UjMpIChjb25jZXB0KS4iLA0KICAgICAgIlN0ZXAgNDogSW4gcGFyYWxsZWwsIHZvbHRhZ2Ugc2FtZSBhY3Jvc3MgYnJhbmNoZXM7IGN1cnJlbnRzIGFkZCAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIlJlc2lzdG9yIGNvbWJpbmF0aW9ucyAoaW50ZXJhY3RpdmUgbnVtZXJpY2FscykiKTsNCiAgICBjb25zdCBtb2RlID0gcy5wYXJhbXMubW9kZXwwOw0KICAgIGNvbnN0IFIxPWNsYW1wKHMucGFyYW1zLlIxLDEsMzApLCBSMj1jbGFtcChzLnBhcmFtcy5SMiwxLDMwKSwgUjM9Y2xhbXAocy5wYXJhbXMuUjMsMSwzMCk7DQogICAgY29uc3QgVj1jbGFtcChzLnBhcmFtcy5WLDEsMjQpOw0KDQogICAgZnVuY3Rpb24gcGFyYWxsZWwoYSxiKXsgcmV0dXJuIDEvKDEvYSsxL2IpOyB9DQogICAgbGV0IFJlcT0wLCBJdD0wOw0KDQogICAgaWYobW9kZT09PTApeyBSZXEgPSBSMStSMitSMzsgSXQgPSBWL1JlcTsgfQ0KICAgIGlmKG1vZGU9PT0xKXsgUmVxID0gMS8oMS9SMSsxL1IyKzEvUjMpOyBJdCA9IFYvUmVxOyB9DQogICAgaWYobW9kZT09PTIpeyBSZXEgPSBSMSArIHBhcmFsbGVsKFIyLFIzKTsgSXQgPSBWL1JlcTsgfQ0KICAgIGlmKG1vZGU9PT0zKXsgUmVxID0gMS8oMS9SMSsxL1IyKzEvUjMpOyBJdCA9IFYvUmVxOyB9DQoNCiAgICAvLyBkcmF3IHNpbXBsaWZpZWQ6IHNob3cgbW9kZQ0KICAgIHRleHQoYyx3KjAuMTIsaCowLjIyLCBbIlNlcmllcyIsIlBhcmFsbGVsIiwiTWl4ZWQ6IFIxICsgKFIyfHxSMykiLCJQYXJhbGxlbCAoc2hvdyBicmFuY2ggY3VycmVudHMpIl1bbW9kZV0sICJyZ2JhKDE5NiwxODEsMjUzLDAuOTUpIiwgdHJ1ZSk7DQoNCiAgICAvLyBjaXJjdWl0IGZyYW1lDQogICAgY29uc3QgeDE9dyowLjE2LCB4Mj13KjAuODQsIHkxPWgqMC4zMiwgeTI9aCowLjcyLCBjeT0oeTEreTIpLzI7DQogICAgcnIoYyx4MSx5MSx4Mi14MSx5Mi15MSwxNik7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4wMykiOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMTIpIjsgYy5zdHJva2UoKTsNCg0KICAgIC8vIGJhdHRlcnkNCiAgICBkb3QoYyx4MSszMCxjeSwxNiwicmdiYSg1OSwxMzAsMjQ2LDAuMTApIiwicmdiYSg1OSwxMzAsMjQ2LDAuMzUpIik7DQogICAgdGV4dChjLHgxKzEwLGN5LTI4LGAke2ZtdChWLDApfSBWYCwicmdiYSgxNDcsMTk3LDI1MywwLjk1KSIsdHJ1ZSk7DQoNCiAgICAvLyByZXNpc3RvcnMNCiAgICBmdW5jdGlvbiBkcmF3UmVzKHgseSxsYWJlbCl7DQogICAgICBycihjLHgtNDUseS0xNCw5MCwyOCw5KTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4xMCkiOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjQ1LDE1OCwxMSwwLjI4KSI7IGMubGluZVdpZHRoPTI7IGMuc3Ryb2tlKCk7DQogICAgICB0ZXh0KGMseC0zMCx5KzUsbGFiZWwsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KICAgIH0NCg0KICAgIGlmKG1vZGU9PT0wKXsNCiAgICAgIC8vIHNlcmllcyByb3cNCiAgICAgIGxpbmUoYyx4MSs2MCxjeSx4Mi02MCxjeSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7DQogICAgICBkcmF3UmVzKHgxKzIxMCxjeSxgUjE9JHtmbXQoUjEsMCl9zqlgKTsNCiAgICAgIGRyYXdSZXMoeDErMzkwLGN5LGBSMj0ke2ZtdChSMiwwKX3OqWApOw0KICAgICAgZHJhd1Jlcyh4MSs1NzAsY3ksYFIzPSR7Zm10KFIzLDApfc6pYCk7DQogICAgICBhcnJvdyhjLHgxKzYwLGN5LTMwLHgyLTYwLGN5LTMwLCJyZ2JhKDM0LDE5Nyw5NCwwLjU1KSIpOw0KICAgICAgdGV4dChjLHgxKzY0LGN5LTQ0LGBTYW1lIGN1cnJlbnQgaW4gc2VyaWVzOiBJPSR7Zm10KEl0LDIpfSBBYCwicmdiYSgxMzQsMjM5LDE3MiwwLjk1KSIsdHJ1ZSk7DQogICAgfQ0KDQogICAgaWYobW9kZT09PTEgfHwgbW9kZT09PTMpew0KICAgICAgLy8gcGFyYWxsZWwgYnJhbmNoZXMNCiAgICAgIGNvbnN0IG1pZHg9KHgxK3gyKS8yOw0KICAgICAgbGluZShjLHgxKzcwLGN5LG1pZHgtODAsY3ksMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgICAgbGluZShjLG1pZHgrODAsY3kseDItNzAsY3ksMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgICAgLy8gcmFpbHMNCiAgICAgIGxpbmUoYyxtaWR4LTgwLHkxKzMwLG1pZHgtODAseTItMzAsMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgICAgbGluZShjLG1pZHgrODAseTErMzAsbWlkeCs4MCx5Mi0zMCwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7DQoNCiAgICAgIC8vIGJyYW5jaGVzDQogICAgICBjb25zdCBiMT15MSs3MCwgYjI9Y3ksIGIzPXkyLTcwOw0KICAgICAgbGluZShjLG1pZHgtODAsYjEsbWlkeCs4MCxiMSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7IGRyYXdSZXMobWlkeCxiMSxgUjE9JHtmbXQoUjEsMCl9zqlgKTsNCiAgICAgIGxpbmUoYyxtaWR4LTgwLGIyLG1pZHgrODAsYjIsMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOyBkcmF3UmVzKG1pZHgsYjIsYFIyPSR7Zm10KFIyLDApfc6pYCk7DQogICAgICBsaW5lKGMsbWlkeC04MCxiMyxtaWR4KzgwLGIzLDMsInJnYmEoMjI2LDIzMiwyNDAsMC4yMCkiKTsgZHJhd1JlcyhtaWR4LGIzLGBSMz0ke2ZtdChSMywwKX3OqWApOw0KDQogICAgICBpZihtb2RlPT09Myl7DQogICAgICAgIGNvbnN0IEkxPVYvUjEsIEkyPVYvUjIsIEkzPVYvUjM7DQogICAgICAgIHRleHQoYyx4MSs2NCx5MisyMCxgUGFyYWxsZWw6IHNhbWUgViBhY3Jvc3MgZWFjaCBicmFuY2g7IEkxPSR7Zm10KEkxLDIpfUEsIEkyPSR7Zm10KEkyLDIpfUEsIEkzPSR7Zm10KEkzLDIpfUE7IHRvdGFsIEk9JHtmbXQoSTErSTIrSTMsMil9QSAoY29uY2VwdCkuYCwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0ZXh0KGMseDErNjQseTIrMjAsYEVxdWl2YWxlbnQgUnA9JHtmbXQoUmVxLDIpfSDOqTsgdG90YWwgST0ke2ZtdChJdCwyKX0gQS5gLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICBpZihtb2RlPT09Mil7DQogICAgICAvLyBtaXhlZA0KICAgICAgY29uc3QgbWlkeD0oeDEreDIpLzI7DQogICAgICBsaW5lKGMseDErNzAsY3ksbWlkeC0xNTAsY3ksMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgICAgZHJhd1JlcyhtaWR4LTkwLGN5LGBSMT0ke2ZtdChSMSwwKX3OqWApOw0KDQogICAgICAvLyB0aGVuIHBhcmFsbGVsIGJveA0KICAgICAgY29uc3QgcHgxPW1pZHgtMTAsIHB4Mj14Mi05MDsNCiAgICAgIGxpbmUoYyxtaWR4LTQ1LGN5LHB4MSxjeSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7DQogICAgICAvLyByYWlscw0KICAgICAgbGluZShjLHB4MSx5MSs2MCxweDEseTItNjAsMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgICAgbGluZShjLHB4Mix5MSs2MCxweDIseTItNjAsMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgICAgLy8gdHdvIGJyYW5jaGVzIFIyIGFuZCBSMw0KICAgICAgY29uc3QgYjE9eTErMTAwLCBiMj15Mi0xMDA7DQogICAgICBsaW5lKGMscHgxLGIxLHB4MixiMSwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7IGRyYXdSZXMoKHB4MStweDIpLzIsYjEsYFIyPSR7Zm10KFIyLDApfc6pYCk7DQogICAgICBsaW5lKGMscHgxLGIyLHB4MixiMiwzLCJyZ2JhKDIyNiwyMzIsMjQwLDAuMjApIik7IGRyYXdSZXMoKHB4MStweDIpLzIsYjIsYFIzPSR7Zm10KFIzLDApfc6pYCk7DQoNCiAgICAgIGxpbmUoYyxweDIsY3kseDItNzAsY3ksMywicmdiYSgyMjYsMjMyLDI0MCwwLjIwKSIpOw0KICAgICAgdGV4dChjLHgxKzY0LHkyKzIwLGBSZXEgPSBSMSArIChSMnx8UjMpID0gJHtmbXQoUmVxLDIpfSDOqTsgdG90YWwgST0ke2ZtdChJdCwyKX0gQS5gLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBib3R0b20gc3VtbWFyeQ0KICAgIHJyKGMsdyowLjEyLGgqMC44MCx3KjAuNzYsaCowLjEyLDE0KTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgzNCwxOTcsOTQsMC4wOCkiOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDM0LDE5Nyw5NCwwLjE4KSI7IGMuc3Ryb2tlKCk7DQogICAgdGV4dChjLHcqMC4xNCxoKjAuODYsYEdpdmVuOiBSMT0ke2ZtdChSMSwwKX3OqSwgUjI9JHtmbXQoUjIsMCl9zqksIFIzPSR7Zm10KFIzLDApfc6pLCBWPSR7Zm10KFYsMCl9ViAg4oeSICBSZXE9JHtmbXQoUmVxLDIpfc6pLCBJPSR7Zm10KEl0LDIpfUFgLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgfQ0KfTsNCg0KLyogSm91bGUgaGVhdGluZyAqLw0Kc2NlbmVzLmpvdWxlSGVhdGluZyA9IHsNCiAgc3RlcHM6IDQsDQogIGRlZmF1bHRzKCl7IHJldHVybiB7UjoxMCwgSToyLjAsIHQ6MzB9OyB9LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBIZWF0aW5nIGVmZmVjdDogZWxlY3RyaWNhbCBlbmVyZ3kgY2FuIGNvbnZlcnQgdG8gaGVhdCBpbiByZXNpc3RvcnMgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAyOiBKb3VsZeKAmXMgbGF3OiBIID0gScKyUnQuIiwNCiAgICAgICJTdGVwIDM6IEJlY2F1c2Ugb2YgScKyLCBoZWF0aW5nIHJpc2VzIGZhc3Qgd2l0aCBjdXJyZW50LiIsDQogICAgICAiU3RlcCA0OiBGdXNlIG1lbHRzIHdoZW4gY3VycmVudCBpcyB0b28gaGlnaCAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIkpvdWxlIGhlYXRpbmc6IEggPSBJwrIgUiB0IChpbnRlcmFjdGl2ZSkiKTsNCiAgICBjb25zdCBSPWNsYW1wKHMucGFyYW1zLlIsMSw1MCk7DQogICAgY29uc3QgST1jbGFtcChzLnBhcmFtcy5JLDAsMTApOw0KICAgIGNvbnN0IHR0PWNsYW1wKHMucGFyYW1zLnQsMSwzMDApOw0KICAgIGNvbnN0IEg9SSpJKlIqdHQ7DQoNCiAgICAvLyByZXNpc3RvciBjb2lsDQogICAgY29uc3QgY3g9dyowLjUwLCBjeT1oKjAuNDg7DQogICAgYy5zYXZlKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyNDUsMTU4LDExLDAuNTUpIjsNCiAgICBjLmxpbmVXaWR0aD02Ow0KICAgIGMuYmVnaW5QYXRoKCk7DQogICAgY29uc3QgbG9vcHM9MTAsIGFtcD0xODsNCiAgICBmb3IobGV0IGs9MDtrPD1sb29wcztrKyspew0KICAgICAgY29uc3QgeCA9IGN4IC0gMjIwICsgayooNDQwL2xvb3BzKTsNCiAgICAgIGNvbnN0IHkgPSBjeSArIE1hdGguc2luKGsqMS4yICsgdCoyLjApKmFtcCooSS8xMCk7DQogICAgICBpZihrPT09MCkgYy5tb3ZlVG8oeCx5KTsNCiAgICAgIGVsc2UgYy5saW5lVG8oeCx5KTsNCiAgICB9DQogICAgYy5zdHJva2UoKTsNCiAgICBjLnJlc3RvcmUoKTsNCiAgICB0ZXh0KGMsdyowLjIyLGgqMC4yNCxgUj0ke2ZtdChSLDApfSDOqSwgST0ke2ZtdChJLDIpfSBBLCB0PSR7Zm10KHR0LDApfSBzYCwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQoNCiAgICAvLyBoZWF0IGJhcg0KICAgIGNvbnN0IGJhclc9dyowLjYwLCBiYXJYPXcqMC4yMCwgYmFyWT1oKjAuNzI7DQogICAgcnIoYyxiYXJYLGJhclksYmFyVywxOCw5OTkpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDIyNiwyMzIsMjQwLDAuMDYpIjsgYy5maWxsKCk7DQogICAgY29uc3QgZnJhYz1jbGFtcChILygxMCoxMCo1MCozMDApLDAsMSk7DQogICAgcnIoYyxiYXJYLGJhclksYmFyVypmcmFjLDE4LDk5OSk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoMjM5LDY4LDY4LDAuMzUpIjsgYy5maWxsKCk7DQogICAgYy5zdHJva2VTdHlsZT0icmdiYSgyMzksNjgsNjgsMC4yMCkiOyBjLnN0cm9rZSgpOw0KICAgIHRleHQoYyxiYXJYLGJhclkrNDIsYEhlYXQgSCA9IEnCslJ0ID0gJHtmbXQoSCwxKX0gSiAoaWYgdW5pdHMgYXJlIFNJKS5gLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCg0KICAgIC8vIGZ1c2UgY29uY2VwdA0KICAgIGlmKHMuc3RlcD49Myl7DQogICAgICBjb25zdCBmeD13KjAuODAsIGZ5PWgqMC40MDsNCiAgICAgIHJyKGMsZngtNjAsZnktMTgsMTIwLDM2LDEyKTsNCiAgICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDU5LDEzMCwyNDYsMC4wNikiOyBjLmZpbGwoKTsNCiAgICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjIwKSI7IGMuc3Ryb2tlKCk7DQogICAgICB0ZXh0KGMsZngtMzYsZnkrNSwiRnVzZSIsInJnYmEoMTQ3LDE5NywyNTMsMC45NSkiLHRydWUpOw0KICAgICAgY29uc3QgbWVsdCA9IEk+NiA/IDE6MDsNCiAgICAgIGxpbmUoYyxmeC00MCxmeSxmeCs0MCxmeSw0LCBtZWx0ID8gInJnYmEoMjM5LDY4LDY4LDAuNzUpIiA6ICJyZ2JhKDIyNiwyMzIsMjQwLDAuMjUpIik7DQogICAgICBpZihtZWx0KXsNCiAgICAgICAgbGluZShjLGZ4LTQsZnktMTAsZngrNCxmeSsxMCw0LCJyZ2JhKDIzOSw2OCw2OCwwLjc1KSIpOw0KICAgICAgICB0ZXh0KGMsZngtODAsZnkrNDAsIkhpZ2ggY3VycmVudCDihpIgZnVzZSBtZWx0cyAoY29uY2VwdCkuIiwicmdiYSgyMjYsMjMyLDI0MCwwLjkyKSIsdHJ1ZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0ZXh0KGMsZngtODYsZnkrNDAsIkZ1c2UgaW50YWN0IChjb25jZXB0KS4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICAgIH0NCiAgICB9DQogIH0NCn07DQoNCi8qIFBvd2VyICsgZW5lcmd5ICsga1doICovDQpzY2VuZXMucG93ZXJFbmVyZ3kgPSB7DQogIHN0ZXBzOiA0LA0KICBkZWZhdWx0cygpeyByZXR1cm4ge1Y6MjIwLCBJOjIuMCwgdEhyczoxLjB9OyB9LA0KICBjYXB0aW9uKHN0ZXApew0KICAgIHJldHVybiBbDQogICAgICAiU3RlcCAxOiBFbGVjdHJpYyBwb3dlcjogUCA9IFZJLiIsDQogICAgICAiU3RlcCAyOiBBbHNvIFAgPSBJwrJSIGFuZCBQID0gVsKyL1IgKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCAzOiBFbmVyZ3kgRSA9IFDDl3Q7IGNvbW1lcmNpYWwgdW5pdCBpcyBrV2ggKGNvbmNlcHQpLiIsDQogICAgICAiU3RlcCA0OiAxIGtXaCA9IDMuNsOXMTDigbYgSiAoY29uY2VwdCkuIg0KICAgIF1bc3RlcF0gfHwgIiI7DQogIH0sDQogIGRyYXcoYyx3LGgsdCxzKXsNCiAgICBiZyhjLHcsaCk7DQogICAgcGFuZWwoYyx3KjAuMDYsaCowLjE0LHcqMC44OCxoKjAuNzAsIkVsZWN0cmljIHBvd2VyICYgZW5lcmd5IChpbnRlcmFjdGl2ZSkiKTsNCiAgICBjb25zdCBWPWNsYW1wKHMucGFyYW1zLlYsIDEsIDI0MCk7DQogICAgY29uc3QgST1jbGFtcChzLnBhcmFtcy5JLCAwLCAyMCk7DQogICAgY29uc3QgdEhycz1jbGFtcChzLnBhcmFtcy50SHJzLCAwLjEsIDEwKTsNCiAgICBjb25zdCBQID0gVipJOyAvLyBXDQogICAgY29uc3QgRV9XaCA9IFAqdEhyczsgLy8gV2gNCiAgICBjb25zdCBFX2tXaCA9IEVfV2gvMTAwMDsNCg0KICAgIC8vIGRldmljZSBjYXJkDQogICAgY29uc3QgY3g9dyowLjMwLCBjeT1oKjAuNDg7DQogICAgcnIoYyxjeC0xNDAsY3ktMTIwLDI4MCwyNDAsMTgpOw0KICAgIGMuZmlsbFN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4wNikiOyBjLmZpbGwoKTsNCiAgICBjLnN0cm9rZVN0eWxlPSJyZ2JhKDI0NSwxNTgsMTEsMC4xOCkiOyBjLnN0cm9rZSgpOw0KICAgIHRleHQoYyxjeC0xMTAsY3ktODAsYEdpdmVuOiBWPSR7Zm10KFYsMCl9IFYsIEk9JHtmbXQoSSwyKX0gQWAsInJnYmEoMjUzLDIzMCwxMzgsMC45NSkiLHRydWUpOw0KICAgIHRleHQoYyxjeC0xMTAsY3ktNTAsYFBvd2VyIFAgPSBWSSA9ICR7Zm10KFAsMSl9IFdgLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCiAgICB0ZXh0KGMsY3gtMTEwLGN5LTIwLGBUaW1lIHQgPSAke2ZtdCh0SHJzLDIpfSBoYCwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQogICAgdGV4dChjLGN4LTExMCxjeSsxMCxgRW5lcmd5ID0gUMOXdCA9ICR7Zm10KEVfV2gsMSl9IFdoYCwicmdiYSgyNTMsMjMwLDEzOCwwLjk1KSIsdHJ1ZSk7DQogICAgdGV4dChjLGN4LTExMCxjeSs0MCxgPSAke2ZtdChFX2tXaCwzKX0ga1doICh1bml0cylgLCJyZ2JhKDI1MywyMzAsMTM4LDAuOTUpIix0cnVlKTsNCg0KICAgIC8vIGJpbGwgbWV0ZXINCiAgICBjb25zdCBteD13KjAuNzIsIG15PWgqMC40NjsNCiAgICBycihjLG14LTE4MCxteS0xMjAsMzYwLDI0MCwxOCk7DQogICAgYy5maWxsU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjA2KSI7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoNTksMTMwLDI0NiwwLjE4KSI7IGMuc3Ryb2tlKCk7DQogICAgdGV4dChjLG14LTE1MCxteS04MCwiRWxlY3RyaWNpdHkgYmlsbCB1c2VzIGtXaCAodW5pdHMpIiwicmdiYSgxNDcsMTk3LDI1MywwLjk1KSIsdHJ1ZSk7DQogICAgcnIoYyxteC0xNTAsbXktNDAsMzAwLDgwLDEyKTsNCiAgICBjLmZpbGxTdHlsZT0icmdiYSgxNSwyMyw0MiwwLjU1KSI7IGMuZmlsbCgpOw0KICAgIGMuc3Ryb2tlU3R5bGU9InJnYmEoMjI2LDIzMiwyNDAsMC4xMikiOyBjLnN0cm9rZSgpOw0KICAgIHRleHQoYyxteC0xMjAsbXkrOCxgRW5lcmd5IHVzZWQ6ICR7Zm10KEVfa1doLDMpfSBrV2hgLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCg0KICAgIGlmKHMuc3RlcD49Myl7DQogICAgICB0ZXh0KGMsdyowLjEyLGgqMC45MCwiQ29uY2VwdDogMSBrV2ggPSAzLjYgw5cgMTDigbYgSi4iLCJyZ2JhKDIyNiwyMzIsMjQwLDAuOTIpIix0cnVlKTsNCiAgICB9DQogIH0NCn07DQoNCi8qID09PT09PSBTRVRVUCBBTklNQVRJT04gPT09PT09ICovDQpmdW5jdGlvbiBzZXR1cEFuaW1hdGlvbih0eXBlKXsNCiAgc3RhdGUuYW5pbSA9IHR5cGU7DQogIHN0YXRlLnN0ZXAgPSAwOw0KDQogIGFuaW1DYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5pbUNhbnZhcyIpOw0KICBjdHggPSBhbmltQ2FudmFzLmdldENvbnRleHQoIjJkIik7DQogIGZpdENhbnZhcyhhbmltQ2FudmFzLCBjdHgpOw0KDQogIGNvbnN0IHNwZWVkU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWVkIik7DQogIGNvbnN0IHNwZWVkVmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWVkVmFsIik7DQogIHNwZWVkU2xpZGVyLm9uaW5wdXQgPSAoKSA9PiB7DQogICAgc3BlZWQgPSBwYXJzZUZsb2F0KHNwZWVkU2xpZGVyLnZhbHVlKTsNCiAgICBzcGVlZFZhbC50ZXh0Q29udGVudCA9IHNwZWVkLnRvRml4ZWQoMSkrIsOXIjsNCiAgfTsNCiAgc3BlZWQgPSBwYXJzZUZsb2F0KHNwZWVkU2xpZGVyLnZhbHVlKTsNCiAgc3BlZWRWYWwudGV4dENvbnRlbnQgPSBzcGVlZC50b0ZpeGVkKDEpKyLDlyI7DQoNCiAgY29uc3Qgc2MgPSBzY2VuZXNbc3RhdGUuYW5pbV0gfHwgc2NlbmVzLmNpcmN1aXRCYXNpY3M7DQogIHN0YXRlLnN0ZXBzID0gc2Muc3RlcHMgfHwgMTsNCiAgc3RhdGUucGFyYW1zID0gc2MuZGVmYXVsdHMgPyBzYy5kZWZhdWx0cygpIDoge307DQogIHNldFN0ZXBCdXR0b24oKTsNCg0KICAvLyBwZXItc2NlbmUgc2xpZGVycw0KICBpZih0eXBlPT09InBvdGVudGlhbERpZmZlcmVuY2UiKXsNCiAgICBzZXRQYXJhbXNVSShbDQogICAgICB7aWQ6IlYiLCBrZXk6IlYiLCBsYWJlbDoiViIsIG1pbjoxLCBtYXg6MTIsIHN0ZXA6MSwgdmFsdWU6c3RhdGUucGFyYW1zLlYsIGZtdDp2PT5gJHtNYXRoLnJvdW5kKHYpfSBWYH0sDQogICAgICB7aWQ6IlEiLCBrZXk6IlEiLCBsYWJlbDoiUSIsIG1pbjowLjUsIG1heDo1LCBzdGVwOjAuMSwgdmFsdWU6c3RhdGUucGFyYW1zLlEsIGZtdDp2PT5gJHtmbXQodiwxKX0gQ2B9DQogICAgXSk7DQogIH0gZWxzZSBpZih0eXBlPT09Im9obXNMYXdHcmFwaCIpew0KICAgIHNldFBhcmFtc1VJKFsNCiAgICAgIHtpZDoiUiIsIGtleToiUiIsIGxhYmVsOiJSIiwgbWluOjEsIG1heDoyMCwgc3RlcDowLjUsIHZhbHVlOnN0YXRlLnBhcmFtcy5SLCBmbXQ6dj0+YCR7Zm10KHYsMSl9IM6pYH0sDQogICAgICB7aWQ6IlYiLCBrZXk6IlYiLCBsYWJlbDoiViIsIG1pbjowLCBtYXg6MTIsIHN0ZXA6MSwgdmFsdWU6c3RhdGUucGFyYW1zLlYsIGZtdDp2PT5gJHtNYXRoLnJvdW5kKHYpfSBWYH0NCiAgICBdKTsNCiAgfSBlbHNlIGlmKHR5cGU9PT0icmVzaXN0aXZpdHkiKXsNCiAgICBzZXRQYXJhbXNVSShbDQogICAgICB7aWQ6InJobyIsIGtleToicmhvIiwgbGFiZWw6Is+BIiwgbWluOjAuNSwgbWF4OjYuMCwgc3RlcDowLjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5yaG8sIGZtdDp2PT5mbXQodiwyKX0sDQogICAgICB7aWQ6ImwiLCBrZXk6ImwiLCBsYWJlbDoibCIsIG1pbjowLjIsIG1heDoyLjUsIHN0ZXA6MC4xLCB2YWx1ZTpzdGF0ZS5wYXJhbXMubCwgZm10OnY9PmZtdCh2LDIpfSwNCiAgICAgIHtpZDoiQSIsIGtleToiQSIsIGxhYmVsOiJBIiwgbWluOjAuMiwgbWF4OjIuNSwgc3RlcDowLjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5BLCBmbXQ6dj0+Zm10KHYsMil9DQogICAgXSk7DQogIH0gZWxzZSBpZih0eXBlPT09InNlcmllc1BhcmFsbGVsIil7DQogICAgc2V0UGFyYW1zVUkoWw0KICAgICAge2lkOiJtb2RlIiwga2V5OiJtb2RlIiwgbGFiZWw6Ik1vZGUiLCBtaW46MCwgbWF4OjMsIHN0ZXA6MSwgdmFsdWU6c3RhdGUucGFyYW1zLm1vZGUsIGZtdDp2PT57DQogICAgICAgIGNvbnN0IG09WyJTZXJpZXMiLCJQYXJhbGxlbCIsIk1peGVkIiwiUGFyYWxsZWwgKyBjdXJyZW50cyJdOw0KICAgICAgICByZXR1cm4gbVtwYXJzZUludCh2KV0gPz8gdjsNCiAgICAgIH19LA0KICAgICAge2lkOiJSMSIsIGtleToiUjEiLCBsYWJlbDoiUjEiLCBtaW46MSwgbWF4OjMwLCBzdGVwOjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5SMSwgZm10OnY9PmAke01hdGgucm91bmQodil9IM6pYH0sDQogICAgICB7aWQ6IlIyIiwga2V5OiJSMiIsIGxhYmVsOiJSMiIsIG1pbjoxLCBtYXg6MzAsIHN0ZXA6MSwgdmFsdWU6c3RhdGUucGFyYW1zLlIyLCBmbXQ6dj0+YCR7TWF0aC5yb3VuZCh2KX0gzqlgfSwNCiAgICAgIHtpZDoiUjMiLCBrZXk6IlIzIiwgbGFiZWw6IlIzIiwgbWluOjEsIG1heDozMCwgc3RlcDoxLCB2YWx1ZTpzdGF0ZS5wYXJhbXMuUjMsIGZtdDp2PT5gJHtNYXRoLnJvdW5kKHYpfSDOqWB9LA0KICAgICAge2lkOiJWIiwga2V5OiJWIiwgbGFiZWw6IlYiLCBtaW46MSwgbWF4OjI0LCBzdGVwOjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5WLCBmbXQ6dj0+YCR7TWF0aC5yb3VuZCh2KX0gVmB9DQogICAgXSk7DQogIH0gZWxzZSBpZih0eXBlPT09ImpvdWxlSGVhdGluZyIpew0KICAgIHNldFBhcmFtc1VJKFsNCiAgICAgIHtpZDoiUiIsIGtleToiUiIsIGxhYmVsOiJSIiwgbWluOjEsIG1heDo1MCwgc3RlcDoxLCB2YWx1ZTpzdGF0ZS5wYXJhbXMuUiwgZm10OnY9PmAke01hdGgucm91bmQodil9IM6pYH0sDQogICAgICB7aWQ6IkkiLCBrZXk6IkkiLCBsYWJlbDoiSSIsIG1pbjowLCBtYXg6MTAsIHN0ZXA6MC4xLCB2YWx1ZTpzdGF0ZS5wYXJhbXMuSSwgZm10OnY9PmAke2ZtdCh2LDEpfSBBYH0sDQogICAgICB7aWQ6InQiLCBrZXk6InQiLCBsYWJlbDoidCIsIG1pbjoxLCBtYXg6MzAwLCBzdGVwOjEsIHZhbHVlOnN0YXRlLnBhcmFtcy50LCBmbXQ6dj0+YCR7TWF0aC5yb3VuZCh2KX0gc2B9DQogICAgXSk7DQogIH0gZWxzZSBpZih0eXBlPT09InBvd2VyRW5lcmd5Iil7DQogICAgc2V0UGFyYW1zVUkoWw0KICAgICAge2lkOiJWIiwga2V5OiJWIiwgbGFiZWw6IlYiLCBtaW46MSwgbWF4OjI0MCwgc3RlcDoxLCB2YWx1ZTpzdGF0ZS5wYXJhbXMuViwgZm10OnY9PmAke01hdGgucm91bmQodil9IFZgfSwNCiAgICAgIHtpZDoiSSIsIGtleToiSSIsIGxhYmVsOiJJIiwgbWluOjAsIG1heDoyMCwgc3RlcDowLjEsIHZhbHVlOnN0YXRlLnBhcmFtcy5JLCBmbXQ6dj0+YCR7Zm10KHYsMSl9IEFgfSwNCiAgICAgIHtpZDoidEhycyIsIGtleToidEhycyIsIGxhYmVsOiJ0IiwgbWluOjAuMSwgbWF4OjEwLCBzdGVwOjAuMSwgdmFsdWU6c3RhdGUucGFyYW1zLnRIcnMsIGZtdDp2PT5gJHtmbXQodiwxKX0gaGB9DQogICAgXSk7DQogIH0gZWxzZSB7DQogICAgc2V0UGFyYW1zVUkoW10pOw0KICB9DQoNCiAgaWYocmFmKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpOw0KICB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICBjb25zdCBsb29wID0gKG5vdykgPT4gew0KICAgIGNvbnN0IGR0ID0gKChub3cgLSB0MCkgLyAxMDAwKSAqIHNwZWVkOw0KICAgIGNvbnN0IHt3LGh9ID0gZml0Q2FudmFzKGFuaW1DYW52YXMsIGN0eCk7DQogICAgY29uc3Qgc2MgPSBzY2VuZXNbc3RhdGUuYW5pbV0gfHwgc2NlbmVzLmNpcmN1aXRCYXNpY3M7DQogICAgc3RhdGUuc3RlcHMgPSBzYy5zdGVwcyB8fCAxOw0KICAgIHNldFN0ZXBCdXR0b24oKTsNCg0KICAgIHNjLmRyYXcoY3R4LCB3LCBoLCBkdCwgc3RhdGUsIHBsYXlpbmcpOw0KICAgIGlmKHNjLmNhcHRpb24pIHNldENhcHRpb24oc2MuY2FwdGlvbihzdGF0ZS5zdGVwLCBkdCkpOw0KICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTsNCiAgfTsNCiAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOw0KfQ0KDQp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gc2V0dXBBbmltYXRpb24oc3RhdGUuYW5pbSkpOw0KDQovKiA9PT09PT0gSU5JVCA9PT09PT0gKi8NCmZ1bmN0aW9uIGluaXQoKXsNCiAgcmVuZGVyTmF2KCk7DQogIHNlbGVjdFRvcGljKHRvcGljc1swXS5pZCk7DQp9DQppbml0KCk7DQo8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCg=="}];

    function b64ToUtf8Html(b64) {
      // decode base64 -> UTF-8 string
      const bin = atob(b64);
      const bytes = new Uint8Array(bin.length);
      for (let i = 0; i < bin.length; i++) bytes[i] = bin.charCodeAt(i);
      return new TextDecoder('utf-8').decode(bytes);
    }

    const navList = document.getElementById('navList');
    const navSearch = document.getElementById('navSearch');
    const view = document.getElementById('view');
    const nowTitle = document.getElementById('nowTitle');

    const btnHome = document.getElementById('btnHome');
    const btnNotes = document.getElementById('btnNotes');
    const btnOpenPdf = document.getElementById('btnOpenPdf');

    let current = 'home';

    function renderNav(filter='') {
      const q = filter.trim().toLowerCase();
      navList.innerHTML = '';

      const homeBtn = document.createElement('div');
      homeBtn.className = 'nav-item ' + (current === 'home' ? 'active' : '');
      homeBtn.textContent = 'Home';
      homeBtn.onclick = () => showHome();
      navList.appendChild(homeBtn);

      const notesBtn = document.createElement('div');
      notesBtn.className = 'nav-item ' + (current === 'notes' ? 'active' : '');
      notesBtn.textContent = 'Notes';
      notesBtn.onclick = () => showNotes();
      navList.appendChild(notesBtn);

      const hr = document.createElement('div');
      hr.style.height = '1px';
      hr.style.background = 'rgba(226,232,240,0.12)';
      hr.style.margin = '10px 0';
      navList.appendChild(hr);

      CHAPTERS
        .filter(c => !q || c.title.toLowerCase().includes(q) || c.file.toLowerCase().includes(q))
        .forEach((c, idx) => {
          const item = document.createElement('div');
          item.className = 'nav-item ' + (current === c.id ? 'active' : '');
          item.innerHTML = `${idx+1}. ${c.title} <span class="tag">${c.file}</span>`;
          item.onclick = () => showChapter(c.id);
          navList.appendChild(item);
        });
    }

    function showHome() {
      current = 'home';
      nowTitle.textContent = 'Home';
      view.innerHTML = `
        <div class="home">
          <h2>Welcome</h2>
          <p>This is a single organised dashboard for all your chapter webpages, plus a separate personal <strong>Notes</strong> area.</p>
          <p class="muted">Use the left menu to open any chapter. Each chapter runs inside an isolated iframe so animations and IDs don’t conflict.</p>

          <div class="grid">
            <div class="card">
              <h3>How to use</h3>
              <ul style="margin:0; padding-left:18px; line-height:1.55;">
                <li>Pick a chapter from the left sidebar.</li>
                <li>Use the built-in search inside each chapter for topics.</li>
                <li>Write last-minute revision points in the Notes page (auto-saves).</li>
              </ul>
            </div>
            <div class="card">
              <h3>Separate Notes section</h3>
              <p class="muted" style="margin:0;">Notes page is for your own points (formulas, tricky definitions, mistakes). It saves in your browser using localStorage.</p>
            </div>
            <div class="card">
              <h3>Activity Booklet</h3>
              <p class="muted" style="margin:0;">Open the attached PDF in a new tab using the button above.</p>
            </div>
          </div>
        </div>
      `;
      renderNav(navSearch.value);
    }

    function showNotes() {
      current = 'notes';
      nowTitle.textContent = 'Notes';
      const key = 'science10-notes-jainamkarnawat';
      const saved = localStorage.getItem(key) || '';

      view.innerHTML = `
        <div class="home">
          <h2>Personal Notes</h2>
          <p class="muted">Write your own revision notes here. This does not change the chapter pages, and it auto-saves.</p>
          <textarea id="notesBox" placeholder="Write your notes here...

Example:
• Definitions (2 lines)
• Important formulas
• Common mistakes
• 3-mark answers outline">${saved.replace(/</g,'&lt;')}</textarea>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;">
            <button class="btn alt" type="button" id="saveNotes">Save</button>
            <button class="btn" type="button" id="clearNotes">Clear</button>
          </div>
          <div class="muted" style="margin-top:10px; font-size:.86rem;">
            Saved locally in this browser: <code>${key}</code>
          </div>
        </div>
      `;

      const notesBox = document.getElementById('notesBox');
      const saveBtn = document.getElementById('saveNotes');
      const clearBtn = document.getElementById('clearNotes');

      const save = () => localStorage.setItem(key, notesBox.value);
      saveBtn.onclick = save;
      clearBtn.onclick = () => { if(confirm('Clear notes?')) { notesBox.value = ''; save(); } };

      // autosave
      let t;
      notesBox.addEventListener('input', () => { clearTimeout(t); t = setTimeout(save, 300); });
      renderNav(navSearch.value);
    }

    function showChapter(chId) {
      const ch = CHAPTERS.find(c => c.id === chId);
      if (!ch) return;
      current = chId;
      nowTitle.textContent = ch.title;

      const html = b64ToUtf8Html(ch.b64);
      view.innerHTML = `
        <div class="frame-wrap">
          <iframe id="chFrame" sandbox="allow-scripts allow-same-origin allow-forms allow-popups" referrerpolicy="no-referrer"></iframe>
        </div>
      `;
      const frame = document.getElementById('chFrame');
      frame.srcdoc = html;

      renderNav(navSearch.value);
    }

    // top buttons
    btnHome.onclick = showHome;
    btnNotes.onclick = showNotes;
    btnOpenPdf.onclick = () => window.open('Activity-Booklet-Science-10th-2023.pdf', '_blank');

    navSearch.addEventListener('input', (e) => renderNav(e.target.value));

    // init
    showHome();
  </script>
</body>
</html>
